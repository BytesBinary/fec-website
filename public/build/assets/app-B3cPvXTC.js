import{c as KX,$ as Go,g as Cte,j as Ete,a as JX}from"./jquery-CqDs7TUd.js";function hQ(l,r){return function(){return l.apply(r,arguments)}}const{toString:Tte}=Object.prototype,{getPrototypeOf:QX}=Object,_$=(l=>r=>{const d=Tte.call(r);return l[d]||(l[d]=d.slice(8,-1).toLowerCase())})(Object.create(null)),dm=l=>(l=l.toLowerCase(),r=>_$(r)===l),k$=l=>r=>typeof r===l,{isArray:fx}=Array,$O=k$("undefined");function _te(l){return l!==null&&!$O(l)&&l.constructor!==null&&!$O(l.constructor)&&pd(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const pQ=dm("ArrayBuffer");function kte(l){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(l):r=l&&l.buffer&&pQ(l.buffer),r}const Ate=k$("string"),pd=k$("function"),gQ=k$("number"),A$=l=>l!==null&&typeof l=="object",Ote=l=>l===!0||l===!1,r$=l=>{if(_$(l)!=="object")return!1;const r=QX(l);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Dte=dm("Date"),Mte=dm("File"),Pte=dm("Blob"),Nte=dm("FileList"),Lte=l=>A$(l)&&pd(l.pipe),Ite=l=>{let r;return l&&(typeof FormData=="function"&&l instanceof FormData||pd(l.append)&&((r=_$(l))==="formdata"||r==="object"&&pd(l.toString)&&l.toString()==="[object FormData]"))},Rte=dm("URLSearchParams"),[Bte,$te,Fte,Hte]=["ReadableStream","Request","Response","Headers"].map(dm),zte=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function VO(l,r,{allOwnKeys:d=!1}={}){if(l===null||typeof l>"u")return;let m,v;if(typeof l!="object"&&(l=[l]),fx(l))for(m=0,v=l.length;m<v;m++)r.call(null,l[m],m,l);else{const y=d?Object.getOwnPropertyNames(l):Object.keys(l),S=y.length;let T;for(m=0;m<S;m++)T=y[m],r.call(null,l[T],T,l)}}function vQ(l,r){r=r.toLowerCase();const d=Object.keys(l);let m=d.length,v;for(;m-- >0;)if(v=d[m],r===v.toLowerCase())return v;return null}const X0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bQ=l=>!$O(l)&&l!==X0;function NX(){const{caseless:l}=bQ(this)&&this||{},r={},d=(m,v)=>{const y=l&&vQ(r,v)||v;r$(r[y])&&r$(m)?r[y]=NX(r[y],m):r$(m)?r[y]=NX({},m):fx(m)?r[y]=m.slice():r[y]=m};for(let m=0,v=arguments.length;m<v;m++)arguments[m]&&VO(arguments[m],d);return r}const Vte=(l,r,d,{allOwnKeys:m}={})=>(VO(r,(v,y)=>{d&&pd(v)?l[y]=hQ(v,d):l[y]=v},{allOwnKeys:m}),l),Ute=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),Wte=(l,r,d,m)=>{l.prototype=Object.create(r.prototype,m),l.prototype.constructor=l,Object.defineProperty(l,"super",{value:r.prototype}),d&&Object.assign(l.prototype,d)},jte=(l,r,d,m)=>{let v,y,S;const T={};if(r=r||{},l==null)return r;do{for(v=Object.getOwnPropertyNames(l),y=v.length;y-- >0;)S=v[y],(!m||m(S,l,r))&&!T[S]&&(r[S]=l[S],T[S]=!0);l=d!==!1&&QX(l)}while(l&&(!d||d(l,r))&&l!==Object.prototype);return r},Zte=(l,r,d)=>{l=String(l),(d===void 0||d>l.length)&&(d=l.length),d-=r.length;const m=l.indexOf(r,d);return m!==-1&&m===d},qte=l=>{if(!l)return null;if(fx(l))return l;let r=l.length;if(!gQ(r))return null;const d=new Array(r);for(;r-- >0;)d[r]=l[r];return d},Gte=(l=>r=>l&&r instanceof l)(typeof Uint8Array<"u"&&QX(Uint8Array)),Xte=(l,r)=>{const m=(l&&l[Symbol.iterator]).call(l);let v;for(;(v=m.next())&&!v.done;){const y=v.value;r.call(l,y[0],y[1])}},Yte=(l,r)=>{let d;const m=[];for(;(d=l.exec(r))!==null;)m.push(d);return m},Kte=dm("HTMLFormElement"),Jte=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(d,m,v){return m.toUpperCase()+v}),CJ=(({hasOwnProperty:l})=>(r,d)=>l.call(r,d))(Object.prototype),Qte=dm("RegExp"),yQ=(l,r)=>{const d=Object.getOwnPropertyDescriptors(l),m={};VO(d,(v,y)=>{let S;(S=r(v,y,l))!==!1&&(m[y]=S||v)}),Object.defineProperties(l,m)},ene=l=>{yQ(l,(r,d)=>{if(pd(l)&&["arguments","caller","callee"].indexOf(d)!==-1)return!1;const m=l[d];if(pd(m)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+d+"'")})}})},tne=(l,r)=>{const d={},m=v=>{v.forEach(y=>{d[y]=!0})};return fx(l)?m(l):m(String(l).split(r)),d},nne=()=>{},one=(l,r)=>l!=null&&Number.isFinite(l=+l)?l:r,hX="abcdefghijklmnopqrstuvwxyz",EJ="0123456789",wQ={DIGIT:EJ,ALPHA:hX,ALPHA_DIGIT:hX+hX.toUpperCase()+EJ},sne=(l=16,r=wQ.ALPHA_DIGIT)=>{let d="";const{length:m}=r;for(;l--;)d+=r[Math.random()*m|0];return d};function rne(l){return!!(l&&pd(l.append)&&l[Symbol.toStringTag]==="FormData"&&l[Symbol.iterator])}const ine=l=>{const r=new Array(10),d=(m,v)=>{if(A$(m)){if(r.indexOf(m)>=0)return;if(!("toJSON"in m)){r[v]=m;const y=fx(m)?[]:{};return VO(m,(S,T)=>{const k=d(S,v+1);!$O(k)&&(y[T]=k)}),r[v]=void 0,y}}return m};return d(l,0)},ane=dm("AsyncFunction"),lne=l=>l&&(A$(l)||pd(l))&&pd(l.then)&&pd(l.catch),SQ=((l,r)=>l?setImmediate:r?((d,m)=>(X0.addEventListener("message",({source:v,data:y})=>{v===X0&&y===d&&m.length&&m.shift()()},!1),v=>{m.push(v),X0.postMessage(d,"*")}))(`axios@${Math.random()}`,[]):d=>setTimeout(d))(typeof setImmediate=="function",pd(X0.postMessage)),cne=typeof queueMicrotask<"u"?queueMicrotask.bind(X0):typeof process<"u"&&process.nextTick||SQ,Pt={isArray:fx,isArrayBuffer:pQ,isBuffer:_te,isFormData:Ite,isArrayBufferView:kte,isString:Ate,isNumber:gQ,isBoolean:Ote,isObject:A$,isPlainObject:r$,isReadableStream:Bte,isRequest:$te,isResponse:Fte,isHeaders:Hte,isUndefined:$O,isDate:Dte,isFile:Mte,isBlob:Pte,isRegExp:Qte,isFunction:pd,isStream:Lte,isURLSearchParams:Rte,isTypedArray:Gte,isFileList:Nte,forEach:VO,merge:NX,extend:Vte,trim:zte,stripBOM:Ute,inherits:Wte,toFlatObject:jte,kindOf:_$,kindOfTest:dm,endsWith:Zte,toArray:qte,forEachEntry:Xte,matchAll:Yte,isHTMLForm:Kte,hasOwnProperty:CJ,hasOwnProp:CJ,reduceDescriptors:yQ,freezeMethods:ene,toObjectSet:tne,toCamelCase:Jte,noop:nne,toFiniteNumber:one,findKey:vQ,global:X0,isContextDefined:bQ,ALPHABET:wQ,generateString:sne,isSpecCompliantForm:rne,toJSONObject:ine,isAsyncFn:ane,isThenable:lne,setImmediate:SQ,asap:cne};function is(l,r,d,m,v){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=l,this.name="AxiosError",r&&(this.code=r),d&&(this.config=d),m&&(this.request=m),v&&(this.response=v,this.status=v.status?v.status:null)}Pt.inherits(is,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pt.toJSONObject(this.config),code:this.code,status:this.status}}});const xQ=is.prototype,CQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(l=>{CQ[l]={value:l}});Object.defineProperties(is,CQ);Object.defineProperty(xQ,"isAxiosError",{value:!0});is.from=(l,r,d,m,v,y)=>{const S=Object.create(xQ);return Pt.toFlatObject(l,S,function(k){return k!==Error.prototype},T=>T!=="isAxiosError"),is.call(S,l.message,r,d,m,v),S.cause=l,S.name=l.name,y&&Object.assign(S,y),S};const une=null;function LX(l){return Pt.isPlainObject(l)||Pt.isArray(l)}function EQ(l){return Pt.endsWith(l,"[]")?l.slice(0,-2):l}function TJ(l,r,d){return l?l.concat(r).map(function(v,y){return v=EQ(v),!d&&y?"["+v+"]":v}).join(d?".":""):r}function dne(l){return Pt.isArray(l)&&!l.some(LX)}const fne=Pt.toFlatObject(Pt,{},null,function(r){return/^is[A-Z]/.test(r)});function O$(l,r,d){if(!Pt.isObject(l))throw new TypeError("target must be an object");r=r||new FormData,d=Pt.toFlatObject(d,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ee,X){return!Pt.isUndefined(X[ee])});const m=d.metaTokens,v=d.visitor||D,y=d.dots,S=d.indexes,k=(d.Blob||typeof Blob<"u"&&Blob)&&Pt.isSpecCompliantForm(r);if(!Pt.isFunction(v))throw new TypeError("visitor must be a function");function N(G){if(G===null)return"";if(Pt.isDate(G))return G.toISOString();if(!k&&Pt.isBlob(G))throw new is("Blob is not supported. Use a Buffer instead.");return Pt.isArrayBuffer(G)||Pt.isTypedArray(G)?k&&typeof Blob=="function"?new Blob([G]):Buffer.from(G):G}function D(G,ee,X){let re=G;if(G&&!X&&typeof G=="object"){if(Pt.endsWith(ee,"{}"))ee=m?ee:ee.slice(0,-2),G=JSON.stringify(G);else if(Pt.isArray(G)&&dne(G)||(Pt.isFileList(G)||Pt.endsWith(ee,"[]"))&&(re=Pt.toArray(G)))return ee=EQ(ee),re.forEach(function(F,ce){!(Pt.isUndefined(F)||F===null)&&r.append(S===!0?TJ([ee],ce,y):S===null?ee:ee+"[]",N(F))}),!1}return LX(G)?!0:(r.append(TJ(X,ee,y),N(G)),!1)}const L=[],R=Object.assign(fne,{defaultVisitor:D,convertValue:N,isVisitable:LX});function q(G,ee){if(!Pt.isUndefined(G)){if(L.indexOf(G)!==-1)throw Error("Circular reference detected in "+ee.join("."));L.push(G),Pt.forEach(G,function(re,J){(!(Pt.isUndefined(re)||re===null)&&v.call(r,re,Pt.isString(J)?J.trim():J,ee,R))===!0&&q(re,ee?ee.concat(J):[J])}),L.pop()}}if(!Pt.isObject(l))throw new TypeError("data must be an object");return q(l),r}function _J(l){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(m){return r[m]})}function eY(l,r){this._pairs=[],l&&O$(l,this,r)}const TQ=eY.prototype;TQ.append=function(r,d){this._pairs.push([r,d])};TQ.toString=function(r){const d=r?function(m){return r.call(this,m,_J)}:_J;return this._pairs.map(function(v){return d(v[0])+"="+d(v[1])},"").join("&")};function mne(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _Q(l,r,d){if(!r)return l;const m=d&&d.encode||mne,v=d&&d.serialize;let y;if(v?y=v(r,d):y=Pt.isURLSearchParams(r)?r.toString():new eY(r,d).toString(m),y){const S=l.indexOf("#");S!==-1&&(l=l.slice(0,S)),l+=(l.indexOf("?")===-1?"?":"&")+y}return l}class kJ{constructor(){this.handlers=[]}use(r,d,m){return this.handlers.push({fulfilled:r,rejected:d,synchronous:m?m.synchronous:!1,runWhen:m?m.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Pt.forEach(this.handlers,function(m){m!==null&&r(m)})}}const kQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hne=typeof URLSearchParams<"u"?URLSearchParams:eY,pne=typeof FormData<"u"?FormData:null,gne=typeof Blob<"u"?Blob:null,vne={isBrowser:!0,classes:{URLSearchParams:hne,FormData:pne,Blob:gne},protocols:["http","https","file","blob","url","data"]},tY=typeof window<"u"&&typeof document<"u",IX=typeof navigator=="object"&&navigator||void 0,bne=tY&&(!IX||["ReactNative","NativeScript","NS"].indexOf(IX.product)<0),yne=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wne=tY&&window.location.href||"http://localhost",Sne=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tY,hasStandardBrowserEnv:bne,hasStandardBrowserWebWorkerEnv:yne,navigator:IX,origin:wne},Symbol.toStringTag,{value:"Module"})),Au={...Sne,...vne};function xne(l,r){return O$(l,new Au.classes.URLSearchParams,Object.assign({visitor:function(d,m,v,y){return Au.isNode&&Pt.isBuffer(d)?(this.append(m,d.toString("base64")),!1):y.defaultVisitor.apply(this,arguments)}},r))}function Cne(l){return Pt.matchAll(/\w+|\[(\w*)]/g,l).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Ene(l){const r={},d=Object.keys(l);let m;const v=d.length;let y;for(m=0;m<v;m++)y=d[m],r[y]=l[y];return r}function AQ(l){function r(d,m,v,y){let S=d[y++];if(S==="__proto__")return!0;const T=Number.isFinite(+S),k=y>=d.length;return S=!S&&Pt.isArray(v)?v.length:S,k?(Pt.hasOwnProp(v,S)?v[S]=[v[S],m]:v[S]=m,!T):((!v[S]||!Pt.isObject(v[S]))&&(v[S]=[]),r(d,m,v[S],y)&&Pt.isArray(v[S])&&(v[S]=Ene(v[S])),!T)}if(Pt.isFormData(l)&&Pt.isFunction(l.entries)){const d={};return Pt.forEachEntry(l,(m,v)=>{r(Cne(m),v,d,0)}),d}return null}function Tne(l,r,d){if(Pt.isString(l))try{return(r||JSON.parse)(l),Pt.trim(l)}catch(m){if(m.name!=="SyntaxError")throw m}return(d||JSON.stringify)(l)}const UO={transitional:kQ,adapter:["xhr","http","fetch"],transformRequest:[function(r,d){const m=d.getContentType()||"",v=m.indexOf("application/json")>-1,y=Pt.isObject(r);if(y&&Pt.isHTMLForm(r)&&(r=new FormData(r)),Pt.isFormData(r))return v?JSON.stringify(AQ(r)):r;if(Pt.isArrayBuffer(r)||Pt.isBuffer(r)||Pt.isStream(r)||Pt.isFile(r)||Pt.isBlob(r)||Pt.isReadableStream(r))return r;if(Pt.isArrayBufferView(r))return r.buffer;if(Pt.isURLSearchParams(r))return d.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let T;if(y){if(m.indexOf("application/x-www-form-urlencoded")>-1)return xne(r,this.formSerializer).toString();if((T=Pt.isFileList(r))||m.indexOf("multipart/form-data")>-1){const k=this.env&&this.env.FormData;return O$(T?{"files[]":r}:r,k&&new k,this.formSerializer)}}return y||v?(d.setContentType("application/json",!1),Tne(r)):r}],transformResponse:[function(r){const d=this.transitional||UO.transitional,m=d&&d.forcedJSONParsing,v=this.responseType==="json";if(Pt.isResponse(r)||Pt.isReadableStream(r))return r;if(r&&Pt.isString(r)&&(m&&!this.responseType||v)){const S=!(d&&d.silentJSONParsing)&&v;try{return JSON.parse(r)}catch(T){if(S)throw T.name==="SyntaxError"?is.from(T,is.ERR_BAD_RESPONSE,this,null,this.response):T}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Au.classes.FormData,Blob:Au.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pt.forEach(["delete","get","head","post","put","patch"],l=>{UO.headers[l]={}});const _ne=Pt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kne=l=>{const r={};let d,m,v;return l&&l.split(`
`).forEach(function(S){v=S.indexOf(":"),d=S.substring(0,v).trim().toLowerCase(),m=S.substring(v+1).trim(),!(!d||r[d]&&_ne[d])&&(d==="set-cookie"?r[d]?r[d].push(m):r[d]=[m]:r[d]=r[d]?r[d]+", "+m:m)}),r},AJ=Symbol("internals");function MO(l){return l&&String(l).trim().toLowerCase()}function i$(l){return l===!1||l==null?l:Pt.isArray(l)?l.map(i$):String(l)}function Ane(l){const r=Object.create(null),d=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let m;for(;m=d.exec(l);)r[m[1]]=m[2];return r}const One=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function pX(l,r,d,m,v){if(Pt.isFunction(m))return m.call(this,r,d);if(v&&(r=d),!!Pt.isString(r)){if(Pt.isString(m))return r.indexOf(m)!==-1;if(Pt.isRegExp(m))return m.test(r)}}function Dne(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,d,m)=>d.toUpperCase()+m)}function Mne(l,r){const d=Pt.toCamelCase(" "+r);["get","set","has"].forEach(m=>{Object.defineProperty(l,m+d,{value:function(v,y,S){return this[m].call(this,r,v,y,S)},configurable:!0})})}class Ou{constructor(r){r&&this.set(r)}set(r,d,m){const v=this;function y(T,k,N){const D=MO(k);if(!D)throw new Error("header name must be a non-empty string");const L=Pt.findKey(v,D);(!L||v[L]===void 0||N===!0||N===void 0&&v[L]!==!1)&&(v[L||k]=i$(T))}const S=(T,k)=>Pt.forEach(T,(N,D)=>y(N,D,k));if(Pt.isPlainObject(r)||r instanceof this.constructor)S(r,d);else if(Pt.isString(r)&&(r=r.trim())&&!One(r))S(kne(r),d);else if(Pt.isHeaders(r))for(const[T,k]of r.entries())y(k,T,m);else r!=null&&y(d,r,m);return this}get(r,d){if(r=MO(r),r){const m=Pt.findKey(this,r);if(m){const v=this[m];if(!d)return v;if(d===!0)return Ane(v);if(Pt.isFunction(d))return d.call(this,v,m);if(Pt.isRegExp(d))return d.exec(v);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,d){if(r=MO(r),r){const m=Pt.findKey(this,r);return!!(m&&this[m]!==void 0&&(!d||pX(this,this[m],m,d)))}return!1}delete(r,d){const m=this;let v=!1;function y(S){if(S=MO(S),S){const T=Pt.findKey(m,S);T&&(!d||pX(m,m[T],T,d))&&(delete m[T],v=!0)}}return Pt.isArray(r)?r.forEach(y):y(r),v}clear(r){const d=Object.keys(this);let m=d.length,v=!1;for(;m--;){const y=d[m];(!r||pX(this,this[y],y,r,!0))&&(delete this[y],v=!0)}return v}normalize(r){const d=this,m={};return Pt.forEach(this,(v,y)=>{const S=Pt.findKey(m,y);if(S){d[S]=i$(v),delete d[y];return}const T=r?Dne(y):String(y).trim();T!==y&&delete d[y],d[T]=i$(v),m[T]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const d=Object.create(null);return Pt.forEach(this,(m,v)=>{m!=null&&m!==!1&&(d[v]=r&&Pt.isArray(m)?m.join(", "):m)}),d}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,d])=>r+": "+d).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...d){const m=new this(r);return d.forEach(v=>m.set(v)),m}static accessor(r){const m=(this[AJ]=this[AJ]={accessors:{}}).accessors,v=this.prototype;function y(S){const T=MO(S);m[T]||(Mne(v,S),m[T]=!0)}return Pt.isArray(r)?r.forEach(y):y(r),this}}Ou.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pt.reduceDescriptors(Ou.prototype,({value:l},r)=>{let d=r[0].toUpperCase()+r.slice(1);return{get:()=>l,set(m){this[d]=m}}});Pt.freezeMethods(Ou);function gX(l,r){const d=this||UO,m=r||d,v=Ou.from(m.headers);let y=m.data;return Pt.forEach(l,function(T){y=T.call(d,y,v.normalize(),r?r.status:void 0)}),v.normalize(),y}function OQ(l){return!!(l&&l.__CANCEL__)}function mx(l,r,d){is.call(this,l??"canceled",is.ERR_CANCELED,r,d),this.name="CanceledError"}Pt.inherits(mx,is,{__CANCEL__:!0});function DQ(l,r,d){const m=d.config.validateStatus;!d.status||!m||m(d.status)?l(d):r(new is("Request failed with status code "+d.status,[is.ERR_BAD_REQUEST,is.ERR_BAD_RESPONSE][Math.floor(d.status/100)-4],d.config,d.request,d))}function Pne(l){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return r&&r[1]||""}function Nne(l,r){l=l||10;const d=new Array(l),m=new Array(l);let v=0,y=0,S;return r=r!==void 0?r:1e3,function(k){const N=Date.now(),D=m[y];S||(S=N),d[v]=k,m[v]=N;let L=y,R=0;for(;L!==v;)R+=d[L++],L=L%l;if(v=(v+1)%l,v===y&&(y=(y+1)%l),N-S<r)return;const q=D&&N-D;return q?Math.round(R*1e3/q):void 0}}function Lne(l,r){let d=0,m=1e3/r,v,y;const S=(N,D=Date.now())=>{d=D,v=null,y&&(clearTimeout(y),y=null),l.apply(null,N)};return[(...N)=>{const D=Date.now(),L=D-d;L>=m?S(N,D):(v=N,y||(y=setTimeout(()=>{y=null,S(v)},m-L)))},()=>v&&S(v)]}const u$=(l,r,d=3)=>{let m=0;const v=Nne(50,250);return Lne(y=>{const S=y.loaded,T=y.lengthComputable?y.total:void 0,k=S-m,N=v(k),D=S<=T;m=S;const L={loaded:S,total:T,progress:T?S/T:void 0,bytes:k,rate:N||void 0,estimated:N&&T&&D?(T-S)/N:void 0,event:y,lengthComputable:T!=null,[r?"download":"upload"]:!0};l(L)},d)},OJ=(l,r)=>{const d=l!=null;return[m=>r[0]({lengthComputable:d,total:l,loaded:m}),r[1]]},DJ=l=>(...r)=>Pt.asap(()=>l(...r)),Ine=Au.hasStandardBrowserEnv?function(){const r=Au.navigator&&/(msie|trident)/i.test(Au.navigator.userAgent),d=document.createElement("a");let m;function v(y){let S=y;return r&&(d.setAttribute("href",S),S=d.href),d.setAttribute("href",S),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:d.pathname.charAt(0)==="/"?d.pathname:"/"+d.pathname}}return m=v(window.location.href),function(S){const T=Pt.isString(S)?v(S):S;return T.protocol===m.protocol&&T.host===m.host}}():function(){return function(){return!0}}(),Rne=Au.hasStandardBrowserEnv?{write(l,r,d,m,v,y){const S=[l+"="+encodeURIComponent(r)];Pt.isNumber(d)&&S.push("expires="+new Date(d).toGMTString()),Pt.isString(m)&&S.push("path="+m),Pt.isString(v)&&S.push("domain="+v),y===!0&&S.push("secure"),document.cookie=S.join("; ")},read(l){const r=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(l){this.write(l,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bne(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function $ne(l,r){return r?l.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):l}function MQ(l,r){return l&&!Bne(r)?$ne(l,r):r}const MJ=l=>l instanceof Ou?{...l}:l;function ey(l,r){r=r||{};const d={};function m(N,D,L){return Pt.isPlainObject(N)&&Pt.isPlainObject(D)?Pt.merge.call({caseless:L},N,D):Pt.isPlainObject(D)?Pt.merge({},D):Pt.isArray(D)?D.slice():D}function v(N,D,L){if(Pt.isUndefined(D)){if(!Pt.isUndefined(N))return m(void 0,N,L)}else return m(N,D,L)}function y(N,D){if(!Pt.isUndefined(D))return m(void 0,D)}function S(N,D){if(Pt.isUndefined(D)){if(!Pt.isUndefined(N))return m(void 0,N)}else return m(void 0,D)}function T(N,D,L){if(L in r)return m(N,D);if(L in l)return m(void 0,N)}const k={url:y,method:y,data:y,baseURL:S,transformRequest:S,transformResponse:S,paramsSerializer:S,timeout:S,timeoutMessage:S,withCredentials:S,withXSRFToken:S,adapter:S,responseType:S,xsrfCookieName:S,xsrfHeaderName:S,onUploadProgress:S,onDownloadProgress:S,decompress:S,maxContentLength:S,maxBodyLength:S,beforeRedirect:S,transport:S,httpAgent:S,httpsAgent:S,cancelToken:S,socketPath:S,responseEncoding:S,validateStatus:T,headers:(N,D)=>v(MJ(N),MJ(D),!0)};return Pt.forEach(Object.keys(Object.assign({},l,r)),function(D){const L=k[D]||v,R=L(l[D],r[D],D);Pt.isUndefined(R)&&L!==T||(d[D]=R)}),d}const PQ=l=>{const r=ey({},l);let{data:d,withXSRFToken:m,xsrfHeaderName:v,xsrfCookieName:y,headers:S,auth:T}=r;r.headers=S=Ou.from(S),r.url=_Q(MQ(r.baseURL,r.url),l.params,l.paramsSerializer),T&&S.set("Authorization","Basic "+btoa((T.username||"")+":"+(T.password?unescape(encodeURIComponent(T.password)):"")));let k;if(Pt.isFormData(d)){if(Au.hasStandardBrowserEnv||Au.hasStandardBrowserWebWorkerEnv)S.setContentType(void 0);else if((k=S.getContentType())!==!1){const[N,...D]=k?k.split(";").map(L=>L.trim()).filter(Boolean):[];S.setContentType([N||"multipart/form-data",...D].join("; "))}}if(Au.hasStandardBrowserEnv&&(m&&Pt.isFunction(m)&&(m=m(r)),m||m!==!1&&Ine(r.url))){const N=v&&y&&Rne.read(y);N&&S.set(v,N)}return r},Fne=typeof XMLHttpRequest<"u",Hne=Fne&&function(l){return new Promise(function(d,m){const v=PQ(l);let y=v.data;const S=Ou.from(v.headers).normalize();let{responseType:T,onUploadProgress:k,onDownloadProgress:N}=v,D,L,R,q,G;function ee(){q&&q(),G&&G(),v.cancelToken&&v.cancelToken.unsubscribe(D),v.signal&&v.signal.removeEventListener("abort",D)}let X=new XMLHttpRequest;X.open(v.method.toUpperCase(),v.url,!0),X.timeout=v.timeout;function re(){if(!X)return;const F=Ou.from("getAllResponseHeaders"in X&&X.getAllResponseHeaders()),Re={data:!T||T==="text"||T==="json"?X.responseText:X.response,status:X.status,statusText:X.statusText,headers:F,config:l,request:X};DQ(function(ie){d(ie),ee()},function(ie){m(ie),ee()},Re),X=null}"onloadend"in X?X.onloadend=re:X.onreadystatechange=function(){!X||X.readyState!==4||X.status===0&&!(X.responseURL&&X.responseURL.indexOf("file:")===0)||setTimeout(re)},X.onabort=function(){X&&(m(new is("Request aborted",is.ECONNABORTED,l,X)),X=null)},X.onerror=function(){m(new is("Network Error",is.ERR_NETWORK,l,X)),X=null},X.ontimeout=function(){let ce=v.timeout?"timeout of "+v.timeout+"ms exceeded":"timeout exceeded";const Re=v.transitional||kQ;v.timeoutErrorMessage&&(ce=v.timeoutErrorMessage),m(new is(ce,Re.clarifyTimeoutError?is.ETIMEDOUT:is.ECONNABORTED,l,X)),X=null},y===void 0&&S.setContentType(null),"setRequestHeader"in X&&Pt.forEach(S.toJSON(),function(ce,Re){X.setRequestHeader(Re,ce)}),Pt.isUndefined(v.withCredentials)||(X.withCredentials=!!v.withCredentials),T&&T!=="json"&&(X.responseType=v.responseType),N&&([R,G]=u$(N,!0),X.addEventListener("progress",R)),k&&X.upload&&([L,q]=u$(k),X.upload.addEventListener("progress",L),X.upload.addEventListener("loadend",q)),(v.cancelToken||v.signal)&&(D=F=>{X&&(m(!F||F.type?new mx(null,l,X):F),X.abort(),X=null)},v.cancelToken&&v.cancelToken.subscribe(D),v.signal&&(v.signal.aborted?D():v.signal.addEventListener("abort",D)));const J=Pne(v.url);if(J&&Au.protocols.indexOf(J)===-1){m(new is("Unsupported protocol "+J+":",is.ERR_BAD_REQUEST,l));return}X.send(y||null)})},zne=(l,r)=>{const{length:d}=l=l?l.filter(Boolean):[];if(r||d){let m=new AbortController,v;const y=function(N){if(!v){v=!0,T();const D=N instanceof Error?N:this.reason;m.abort(D instanceof is?D:new mx(D instanceof Error?D.message:D))}};let S=r&&setTimeout(()=>{S=null,y(new is(`timeout ${r} of ms exceeded`,is.ETIMEDOUT))},r);const T=()=>{l&&(S&&clearTimeout(S),S=null,l.forEach(N=>{N.unsubscribe?N.unsubscribe(y):N.removeEventListener("abort",y)}),l=null)};l.forEach(N=>N.addEventListener("abort",y));const{signal:k}=m;return k.unsubscribe=()=>Pt.asap(T),k}},Vne=function*(l,r){let d=l.byteLength;if(!r||d<r){yield l;return}let m=0,v;for(;m<d;)v=m+r,yield l.slice(m,v),m=v},Une=async function*(l,r){for await(const d of Wne(l))yield*Vne(d,r)},Wne=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const r=l.getReader();try{for(;;){const{done:d,value:m}=await r.read();if(d)break;yield m}}finally{await r.cancel()}},PJ=(l,r,d,m)=>{const v=Une(l,r);let y=0,S,T=k=>{S||(S=!0,m&&m(k))};return new ReadableStream({async pull(k){try{const{done:N,value:D}=await v.next();if(N){T(),k.close();return}let L=D.byteLength;if(d){let R=y+=L;d(R)}k.enqueue(new Uint8Array(D))}catch(N){throw T(N),N}},cancel(k){return T(k),v.return()}},{highWaterMark:2})},D$=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",NQ=D$&&typeof ReadableStream=="function",jne=D$&&(typeof TextEncoder=="function"?(l=>r=>l.encode(r))(new TextEncoder):async l=>new Uint8Array(await new Response(l).arrayBuffer())),LQ=(l,...r)=>{try{return!!l(...r)}catch{return!1}},Zne=NQ&&LQ(()=>{let l=!1;const r=new Request(Au.origin,{body:new ReadableStream,method:"POST",get duplex(){return l=!0,"half"}}).headers.has("Content-Type");return l&&!r}),NJ=64*1024,RX=NQ&&LQ(()=>Pt.isReadableStream(new Response("").body)),d$={stream:RX&&(l=>l.body)};D$&&(l=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!d$[r]&&(d$[r]=Pt.isFunction(l[r])?d=>d[r]():(d,m)=>{throw new is(`Response type '${r}' is not supported`,is.ERR_NOT_SUPPORT,m)})})})(new Response);const qne=async l=>{if(l==null)return 0;if(Pt.isBlob(l))return l.size;if(Pt.isSpecCompliantForm(l))return(await new Request(Au.origin,{method:"POST",body:l}).arrayBuffer()).byteLength;if(Pt.isArrayBufferView(l)||Pt.isArrayBuffer(l))return l.byteLength;if(Pt.isURLSearchParams(l)&&(l=l+""),Pt.isString(l))return(await jne(l)).byteLength},Gne=async(l,r)=>{const d=Pt.toFiniteNumber(l.getContentLength());return d??qne(r)},Xne=D$&&(async l=>{let{url:r,method:d,data:m,signal:v,cancelToken:y,timeout:S,onDownloadProgress:T,onUploadProgress:k,responseType:N,headers:D,withCredentials:L="same-origin",fetchOptions:R}=PQ(l);N=N?(N+"").toLowerCase():"text";let q=zne([v,y&&y.toAbortSignal()],S),G;const ee=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let X;try{if(k&&Zne&&d!=="get"&&d!=="head"&&(X=await Gne(D,m))!==0){let Re=new Request(r,{method:"POST",body:m,duplex:"half"}),ze;if(Pt.isFormData(m)&&(ze=Re.headers.get("content-type"))&&D.setContentType(ze),Re.body){const[ie,He]=OJ(X,u$(DJ(k)));m=PJ(Re.body,NJ,ie,He)}}Pt.isString(L)||(L=L?"include":"omit");const re="credentials"in Request.prototype;G=new Request(r,{...R,signal:q,method:d.toUpperCase(),headers:D.normalize().toJSON(),body:m,duplex:"half",credentials:re?L:void 0});let J=await fetch(G);const F=RX&&(N==="stream"||N==="response");if(RX&&(T||F&&ee)){const Re={};["status","statusText","headers"].forEach(Ze=>{Re[Ze]=J[Ze]});const ze=Pt.toFiniteNumber(J.headers.get("content-length")),[ie,He]=T&&OJ(ze,u$(DJ(T),!0))||[];J=new Response(PJ(J.body,NJ,ie,()=>{He&&He(),ee&&ee()}),Re)}N=N||"text";let ce=await d$[Pt.findKey(d$,N)||"text"](J,l);return!F&&ee&&ee(),await new Promise((Re,ze)=>{DQ(Re,ze,{data:ce,headers:Ou.from(J.headers),status:J.status,statusText:J.statusText,config:l,request:G})})}catch(re){throw ee&&ee(),re&&re.name==="TypeError"&&/fetch/i.test(re.message)?Object.assign(new is("Network Error",is.ERR_NETWORK,l,G),{cause:re.cause||re}):is.from(re,re&&re.code,l,G)}}),BX={http:une,xhr:Hne,fetch:Xne};Pt.forEach(BX,(l,r)=>{if(l){try{Object.defineProperty(l,"name",{value:r})}catch{}Object.defineProperty(l,"adapterName",{value:r})}});const LJ=l=>`- ${l}`,Yne=l=>Pt.isFunction(l)||l===null||l===!1,IQ={getAdapter:l=>{l=Pt.isArray(l)?l:[l];const{length:r}=l;let d,m;const v={};for(let y=0;y<r;y++){d=l[y];let S;if(m=d,!Yne(d)&&(m=BX[(S=String(d)).toLowerCase()],m===void 0))throw new is(`Unknown adapter '${S}'`);if(m)break;v[S||"#"+y]=m}if(!m){const y=Object.entries(v).map(([T,k])=>`adapter ${T} `+(k===!1?"is not supported by the environment":"is not available in the build"));let S=r?y.length>1?`since :
`+y.map(LJ).join(`
`):" "+LJ(y[0]):"as no adapter specified";throw new is("There is no suitable adapter to dispatch the request "+S,"ERR_NOT_SUPPORT")}return m},adapters:BX};function vX(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new mx(null,l)}function IJ(l){return vX(l),l.headers=Ou.from(l.headers),l.data=gX.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),IQ.getAdapter(l.adapter||UO.adapter)(l).then(function(m){return vX(l),m.data=gX.call(l,l.transformResponse,m),m.headers=Ou.from(m.headers),m},function(m){return OQ(m)||(vX(l),m&&m.response&&(m.response.data=gX.call(l,l.transformResponse,m.response),m.response.headers=Ou.from(m.response.headers))),Promise.reject(m)})}const RQ="1.7.7",nY={};["object","boolean","number","function","string","symbol"].forEach((l,r)=>{nY[l]=function(m){return typeof m===l||"a"+(r<1?"n ":" ")+l}});const RJ={};nY.transitional=function(r,d,m){function v(y,S){return"[Axios v"+RQ+"] Transitional option '"+y+"'"+S+(m?". "+m:"")}return(y,S,T)=>{if(r===!1)throw new is(v(S," has been removed"+(d?" in "+d:"")),is.ERR_DEPRECATED);return d&&!RJ[S]&&(RJ[S]=!0,console.warn(v(S," has been deprecated since v"+d+" and will be removed in the near future"))),r?r(y,S,T):!0}};function Kne(l,r,d){if(typeof l!="object")throw new is("options must be an object",is.ERR_BAD_OPTION_VALUE);const m=Object.keys(l);let v=m.length;for(;v-- >0;){const y=m[v],S=r[y];if(S){const T=l[y],k=T===void 0||S(T,y,l);if(k!==!0)throw new is("option "+y+" must be "+k,is.ERR_BAD_OPTION_VALUE);continue}if(d!==!0)throw new is("Unknown option "+y,is.ERR_BAD_OPTION)}}const $X={assertOptions:Kne,validators:nY},Qv=$X.validators;class K0{constructor(r){this.defaults=r,this.interceptors={request:new kJ,response:new kJ}}async request(r,d){try{return await this._request(r,d)}catch(m){if(m instanceof Error){let v;Error.captureStackTrace?Error.captureStackTrace(v={}):v=new Error;const y=v.stack?v.stack.replace(/^.+\n/,""):"";try{m.stack?y&&!String(m.stack).endsWith(y.replace(/^.+\n.+\n/,""))&&(m.stack+=`
`+y):m.stack=y}catch{}}throw m}}_request(r,d){typeof r=="string"?(d=d||{},d.url=r):d=r||{},d=ey(this.defaults,d);const{transitional:m,paramsSerializer:v,headers:y}=d;m!==void 0&&$X.assertOptions(m,{silentJSONParsing:Qv.transitional(Qv.boolean),forcedJSONParsing:Qv.transitional(Qv.boolean),clarifyTimeoutError:Qv.transitional(Qv.boolean)},!1),v!=null&&(Pt.isFunction(v)?d.paramsSerializer={serialize:v}:$X.assertOptions(v,{encode:Qv.function,serialize:Qv.function},!0)),d.method=(d.method||this.defaults.method||"get").toLowerCase();let S=y&&Pt.merge(y.common,y[d.method]);y&&Pt.forEach(["delete","get","head","post","put","patch","common"],G=>{delete y[G]}),d.headers=Ou.concat(S,y);const T=[];let k=!0;this.interceptors.request.forEach(function(ee){typeof ee.runWhen=="function"&&ee.runWhen(d)===!1||(k=k&&ee.synchronous,T.unshift(ee.fulfilled,ee.rejected))});const N=[];this.interceptors.response.forEach(function(ee){N.push(ee.fulfilled,ee.rejected)});let D,L=0,R;if(!k){const G=[IJ.bind(this),void 0];for(G.unshift.apply(G,T),G.push.apply(G,N),R=G.length,D=Promise.resolve(d);L<R;)D=D.then(G[L++],G[L++]);return D}R=T.length;let q=d;for(L=0;L<R;){const G=T[L++],ee=T[L++];try{q=G(q)}catch(X){ee.call(this,X);break}}try{D=IJ.call(this,q)}catch(G){return Promise.reject(G)}for(L=0,R=N.length;L<R;)D=D.then(N[L++],N[L++]);return D}getUri(r){r=ey(this.defaults,r);const d=MQ(r.baseURL,r.url);return _Q(d,r.params,r.paramsSerializer)}}Pt.forEach(["delete","get","head","options"],function(r){K0.prototype[r]=function(d,m){return this.request(ey(m||{},{method:r,url:d,data:(m||{}).data}))}});Pt.forEach(["post","put","patch"],function(r){function d(m){return function(y,S,T){return this.request(ey(T||{},{method:r,headers:m?{"Content-Type":"multipart/form-data"}:{},url:y,data:S}))}}K0.prototype[r]=d(),K0.prototype[r+"Form"]=d(!0)});class oY{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let d;this.promise=new Promise(function(y){d=y});const m=this;this.promise.then(v=>{if(!m._listeners)return;let y=m._listeners.length;for(;y-- >0;)m._listeners[y](v);m._listeners=null}),this.promise.then=v=>{let y;const S=new Promise(T=>{m.subscribe(T),y=T}).then(v);return S.cancel=function(){m.unsubscribe(y)},S},r(function(y,S,T){m.reason||(m.reason=new mx(y,S,T),d(m.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const d=this._listeners.indexOf(r);d!==-1&&this._listeners.splice(d,1)}toAbortSignal(){const r=new AbortController,d=m=>{r.abort(m)};return this.subscribe(d),r.signal.unsubscribe=()=>this.unsubscribe(d),r.signal}static source(){let r;return{token:new oY(function(v){r=v}),cancel:r}}}function Jne(l){return function(d){return l.apply(null,d)}}function Qne(l){return Pt.isObject(l)&&l.isAxiosError===!0}const FX={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(FX).forEach(([l,r])=>{FX[r]=l});function BQ(l){const r=new K0(l),d=hQ(K0.prototype.request,r);return Pt.extend(d,K0.prototype,r,{allOwnKeys:!0}),Pt.extend(d,r,null,{allOwnKeys:!0}),d.create=function(v){return BQ(ey(l,v))},d}const Ia=BQ(UO);Ia.Axios=K0;Ia.CanceledError=mx;Ia.CancelToken=oY;Ia.isCancel=OQ;Ia.VERSION=RQ;Ia.toFormData=O$;Ia.AxiosError=is;Ia.Cancel=Ia.CanceledError;Ia.all=function(r){return Promise.all(r)};Ia.spread=Jne;Ia.isAxiosError=Qne;Ia.mergeConfig=ey;Ia.AxiosHeaders=Ou;Ia.formToJSON=l=>AQ(Pt.isHTMLForm(l)?new FormData(l):l);Ia.getAdapter=IQ.getAdapter;Ia.HttpStatusCode=FX;Ia.default=Ia;window.axios=Ia;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var eoe={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(l,r){(function(d,m){l.exports=m()})(KX,function(){const d=new Map,m={set(Y,_,j){d.has(Y)||d.set(Y,new Map);const me=d.get(Y);me.has(_)||me.size===0?me.set(_,j):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(me.keys())[0]}.`)},get:(Y,_)=>d.has(Y)&&d.get(Y).get(_)||null,remove(Y,_){if(!d.has(Y))return;const j=d.get(Y);j.delete(_),j.size===0&&d.delete(Y)}},v="transitionend",y=Y=>(Y&&window.CSS&&window.CSS.escape&&(Y=Y.replace(/#([^\s"#']+)/g,(_,j)=>`#${CSS.escape(j)}`)),Y),S=Y=>{Y.dispatchEvent(new Event(v))},T=Y=>!(!Y||typeof Y!="object")&&(Y.jquery!==void 0&&(Y=Y[0]),Y.nodeType!==void 0),k=Y=>T(Y)?Y.jquery?Y[0]:Y:typeof Y=="string"&&Y.length>0?document.querySelector(y(Y)):null,N=Y=>{if(!T(Y)||Y.getClientRects().length===0)return!1;const _=getComputedStyle(Y).getPropertyValue("visibility")==="visible",j=Y.closest("details:not([open])");if(!j)return _;if(j!==Y){const me=Y.closest("summary");if(me&&me.parentNode!==j||me===null)return!1}return _},D=Y=>!Y||Y.nodeType!==Node.ELEMENT_NODE||!!Y.classList.contains("disabled")||(Y.disabled!==void 0?Y.disabled:Y.hasAttribute("disabled")&&Y.getAttribute("disabled")!=="false"),L=Y=>{if(!document.documentElement.attachShadow)return null;if(typeof Y.getRootNode=="function"){const _=Y.getRootNode();return _ instanceof ShadowRoot?_:null}return Y instanceof ShadowRoot?Y:Y.parentNode?L(Y.parentNode):null},R=()=>{},q=Y=>{Y.offsetHeight},G=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,ee=[],X=()=>document.documentElement.dir==="rtl",re=Y=>{var _;_=()=>{const j=G();if(j){const me=Y.NAME,Ye=j.fn[me];j.fn[me]=Y.jQueryInterface,j.fn[me].Constructor=Y,j.fn[me].noConflict=()=>(j.fn[me]=Ye,Y.jQueryInterface)}},document.readyState==="loading"?(ee.length||document.addEventListener("DOMContentLoaded",()=>{for(const j of ee)j()}),ee.push(_)):_()},J=(Y,_=[],j=Y)=>typeof Y=="function"?Y(..._):j,F=(Y,_,j=!0)=>{if(!j)return void J(Y);const me=(xt=>{if(!xt)return 0;let{transitionDuration:Ft,transitionDelay:an}=window.getComputedStyle(xt);const at=Number.parseFloat(Ft),Tn=Number.parseFloat(an);return at||Tn?(Ft=Ft.split(",")[0],an=an.split(",")[0],1e3*(Number.parseFloat(Ft)+Number.parseFloat(an))):0})(_)+5;let Ye=!1;const nt=({target:xt})=>{xt===_&&(Ye=!0,_.removeEventListener(v,nt),J(Y))};_.addEventListener(v,nt),setTimeout(()=>{Ye||S(_)},me)},ce=(Y,_,j,me)=>{const Ye=Y.length;let nt=Y.indexOf(_);return nt===-1?!j&&me?Y[Ye-1]:Y[0]:(nt+=j?1:-1,me&&(nt=(nt+Ye)%Ye),Y[Math.max(0,Math.min(nt,Ye-1))])},Re=/[^.]*(?=\..*)\.|.*/,ze=/\..*/,ie=/::\d+$/,He={};let Ze=1;const Fe={mouseenter:"mouseover",mouseleave:"mouseout"},he=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function xe(Y,_){return _&&`${_}::${Ze++}`||Y.uidEvent||Ze++}function Be(Y){const _=xe(Y);return Y.uidEvent=_,He[_]=He[_]||{},He[_]}function Me(Y,_,j=null){return Object.values(Y).find(me=>me.callable===_&&me.delegationSelector===j)}function Oe(Y,_,j){const me=typeof _=="string",Ye=me?j:_||j;let nt=$t(Y);return he.has(nt)||(nt=Y),[me,Ye,nt]}function P(Y,_,j,me,Ye){if(typeof _!="string"||!Y)return;let[nt,xt,Ft]=Oe(_,j,me);_ in Fe&&(xt=(Oo=>function(yo){if(!yo.relatedTarget||yo.relatedTarget!==yo.delegateTarget&&!yo.delegateTarget.contains(yo.relatedTarget))return Oo.call(this,yo)})(xt));const an=Be(Y),at=an[Ft]||(an[Ft]={}),Tn=Me(at,xt,nt?j:null);if(Tn)return void(Tn.oneOff=Tn.oneOff&&Ye);const An=xe(xt,_.replace(Re,"")),Po=nt?function(Jn,Oo,yo){return function xo(Rs){const hs=Jn.querySelectorAll(Oo);for(let{target:Jo}=Rs;Jo&&Jo!==this;Jo=Jo.parentNode)for(const Yn of hs)if(Yn===Jo)return Ve(Rs,{delegateTarget:Jo}),xo.oneOff&&dt.off(Jn,Rs.type,Oo,yo),yo.apply(Jo,[Rs])}}(Y,j,xt):function(Jn,Oo){return function yo(xo){return Ve(xo,{delegateTarget:Jn}),yo.oneOff&&dt.off(Jn,xo.type,Oo),Oo.apply(Jn,[xo])}}(Y,xt);Po.delegationSelector=nt?j:null,Po.callable=xt,Po.oneOff=Ye,Po.uidEvent=An,at[An]=Po,Y.addEventListener(Ft,Po,nt)}function et(Y,_,j,me,Ye){const nt=Me(_[j],me,Ye);nt&&(Y.removeEventListener(j,nt,!!Ye),delete _[j][nt.uidEvent])}function _e(Y,_,j,me){const Ye=_[j]||{};for(const[nt,xt]of Object.entries(Ye))nt.includes(me)&&et(Y,_,j,xt.callable,xt.delegationSelector)}function $t(Y){return Y=Y.replace(ze,""),Fe[Y]||Y}const dt={on(Y,_,j,me){P(Y,_,j,me,!1)},one(Y,_,j,me){P(Y,_,j,me,!0)},off(Y,_,j,me){if(typeof _!="string"||!Y)return;const[Ye,nt,xt]=Oe(_,j,me),Ft=xt!==_,an=Be(Y),at=an[xt]||{},Tn=_.startsWith(".");if(nt===void 0){if(Tn)for(const An of Object.keys(an))_e(Y,an,An,_.slice(1));for(const[An,Po]of Object.entries(at)){const Jn=An.replace(ie,"");Ft&&!_.includes(Jn)||et(Y,an,xt,Po.callable,Po.delegationSelector)}}else{if(!Object.keys(at).length)return;et(Y,an,xt,nt,Ye?j:null)}},trigger(Y,_,j){if(typeof _!="string"||!Y)return null;const me=G();let Ye=null,nt=!0,xt=!0,Ft=!1;_!==$t(_)&&me&&(Ye=me.Event(_,j),me(Y).trigger(Ye),nt=!Ye.isPropagationStopped(),xt=!Ye.isImmediatePropagationStopped(),Ft=Ye.isDefaultPrevented());const an=Ve(new Event(_,{bubbles:nt,cancelable:!0}),j);return Ft&&an.preventDefault(),xt&&Y.dispatchEvent(an),an.defaultPrevented&&Ye&&Ye.preventDefault(),an}};function Ve(Y,_={}){for(const[j,me]of Object.entries(_))try{Y[j]=me}catch{Object.defineProperty(Y,j,{configurable:!0,get:()=>me})}return Y}function Ot(Y){if(Y==="true")return!0;if(Y==="false")return!1;if(Y===Number(Y).toString())return Number(Y);if(Y===""||Y==="null")return null;if(typeof Y!="string")return Y;try{return JSON.parse(decodeURIComponent(Y))}catch{return Y}}function jt(Y){return Y.replace(/[A-Z]/g,_=>`-${_.toLowerCase()}`)}const Hn={setDataAttribute(Y,_,j){Y.setAttribute(`data-bs-${jt(_)}`,j)},removeDataAttribute(Y,_){Y.removeAttribute(`data-bs-${jt(_)}`)},getDataAttributes(Y){if(!Y)return{};const _={},j=Object.keys(Y.dataset).filter(me=>me.startsWith("bs")&&!me.startsWith("bsConfig"));for(const me of j){let Ye=me.replace(/^bs/,"");Ye=Ye.charAt(0).toLowerCase()+Ye.slice(1,Ye.length),_[Ye]=Ot(Y.dataset[me])}return _},getDataAttribute:(Y,_)=>Ot(Y.getAttribute(`data-bs-${jt(_)}`))};class rn{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(_){return _=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _}_mergeConfigObj(_,j){const me=T(j)?Hn.getDataAttribute(j,"config"):{};return{...this.constructor.Default,...typeof me=="object"?me:{},...T(j)?Hn.getDataAttributes(j):{},...typeof _=="object"?_:{}}}_typeCheckConfig(_,j=this.constructor.DefaultType){for(const[Ye,nt]of Object.entries(j)){const xt=_[Ye],Ft=T(xt)?"element":(me=xt)==null?`${me}`:Object.prototype.toString.call(me).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(nt).test(Ft))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Ye}" provided type "${Ft}" but expected type "${nt}".`)}var me}}class Ue extends rn{constructor(_,j){super(),(_=k(_))&&(this._element=_,this._config=this._getConfig(j),m.set(this._element,this.constructor.DATA_KEY,this))}dispose(){m.remove(this._element,this.constructor.DATA_KEY),dt.off(this._element,this.constructor.EVENT_KEY);for(const _ of Object.getOwnPropertyNames(this))this[_]=null}_queueCallback(_,j,me=!0){F(_,j,me)}_getConfig(_){return _=this._mergeConfigObj(_,this._element),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}static getInstance(_){return m.get(k(_),this.DATA_KEY)}static getOrCreateInstance(_,j={}){return this.getInstance(_)||new this(_,typeof j=="object"?j:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(_){return`${_}${this.EVENT_KEY}`}}const wt=Y=>{let _=Y.getAttribute("data-bs-target");if(!_||_==="#"){let j=Y.getAttribute("href");if(!j||!j.includes("#")&&!j.startsWith("."))return null;j.includes("#")&&!j.startsWith("#")&&(j=`#${j.split("#")[1]}`),_=j&&j!=="#"?j.trim():null}return _?_.split(",").map(j=>y(j)).join(","):null},U={find:(Y,_=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(_,Y)),findOne:(Y,_=document.documentElement)=>Element.prototype.querySelector.call(_,Y),children:(Y,_)=>[].concat(...Y.children).filter(j=>j.matches(_)),parents(Y,_){const j=[];let me=Y.parentNode.closest(_);for(;me;)j.push(me),me=me.parentNode.closest(_);return j},prev(Y,_){let j=Y.previousElementSibling;for(;j;){if(j.matches(_))return[j];j=j.previousElementSibling}return[]},next(Y,_){let j=Y.nextElementSibling;for(;j;){if(j.matches(_))return[j];j=j.nextElementSibling}return[]},focusableChildren(Y){const _=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(j=>`${j}:not([tabindex^="-"])`).join(",");return this.find(_,Y).filter(j=>!D(j)&&N(j))},getSelectorFromElement(Y){const _=wt(Y);return _&&U.findOne(_)?_:null},getElementFromSelector(Y){const _=wt(Y);return _?U.findOne(_):null},getMultipleElementsFromSelector(Y){const _=wt(Y);return _?U.find(_):[]}},as=(Y,_="hide")=>{const j=`click.dismiss${Y.EVENT_KEY}`,me=Y.NAME;dt.on(document,j,`[data-bs-dismiss="${me}"]`,function(Ye){if(["A","AREA"].includes(this.tagName)&&Ye.preventDefault(),D(this))return;const nt=U.getElementFromSelector(this)||this.closest(`.${me}`);Y.getOrCreateInstance(nt)[_]()})},Dn=".bs.alert",Cs=`close${Dn}`,Vo=`closed${Dn}`;class Zo extends Ue{static get NAME(){return"alert"}close(){if(dt.trigger(this._element,Cs).defaultPrevented)return;this._element.classList.remove("show");const _=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,_)}_destroyElement(){this._element.remove(),dt.trigger(this._element,Vo),this.dispose()}static jQueryInterface(_){return this.each(function(){const j=Zo.getOrCreateInstance(this);if(typeof _=="string"){if(j[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);j[_](this)}})}}as(Zo,"close"),re(Zo);const It='[data-bs-toggle="button"]';class zn extends Ue{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(_){return this.each(function(){const j=zn.getOrCreateInstance(this);_==="toggle"&&j[_]()})}}dt.on(document,"click.bs.button.data-api",It,Y=>{Y.preventDefault();const _=Y.target.closest(It);zn.getOrCreateInstance(_).toggle()}),re(zn);const nn=".bs.swipe",$e=`touchstart${nn}`,Tr=`touchmove${nn}`,ar=`touchend${nn}`,hn=`pointerdown${nn}`,Gr=`pointerup${nn}`,Gs={endCallback:null,leftCallback:null,rightCallback:null},V={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class oe extends rn{constructor(_,j){super(),this._element=_,_&&oe.isSupported()&&(this._config=this._getConfig(j),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Gs}static get DefaultType(){return V}static get NAME(){return"swipe"}dispose(){dt.off(this._element,nn)}_start(_){this._supportPointerEvents?this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX):this._deltaX=_.touches[0].clientX}_end(_){this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX-this._deltaX),this._handleSwipe(),J(this._config.endCallback)}_move(_){this._deltaX=_.touches&&_.touches.length>1?0:_.touches[0].clientX-this._deltaX}_handleSwipe(){const _=Math.abs(this._deltaX);if(_<=40)return;const j=_/this._deltaX;this._deltaX=0,j&&J(j>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(dt.on(this._element,hn,_=>this._start(_)),dt.on(this._element,Gr,_=>this._end(_)),this._element.classList.add("pointer-event")):(dt.on(this._element,$e,_=>this._start(_)),dt.on(this._element,Tr,_=>this._move(_)),dt.on(this._element,ar,_=>this._end(_)))}_eventIsPointerPenTouch(_){return this._supportPointerEvents&&(_.pointerType==="pen"||_.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ce=".bs.carousel",Le=".data-api",qe="next",bt="prev",ht="left",Et="right",tn=`slide${Ce}`,qt=`slid${Ce}`,Vn=`keydown${Ce}`,kn=`mouseenter${Ce}`,Un=`mouseleave${Ce}`,Kn=`dragstart${Ce}`,So=`load${Ce}${Le}`,ls=`click${Ce}${Le}`,Lo="carousel",Js="active",_t=".active",Gn=".carousel-item",Ws=_t+Gn,Xs={ArrowLeft:Et,ArrowRight:ht},Fi={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ii={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ys extends Ue{constructor(_,j){super(_,j),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=U.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Lo&&this.cycle()}static get Default(){return Fi}static get DefaultType(){return ii}static get NAME(){return"carousel"}next(){this._slide(qe)}nextWhenVisible(){!document.hidden&&N(this._element)&&this.next()}prev(){this._slide(bt)}pause(){this._isSliding&&S(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?dt.one(this._element,qt,()=>this.cycle()):this.cycle())}to(_){const j=this._getItems();if(_>j.length-1||_<0)return;if(this._isSliding)return void dt.one(this._element,qt,()=>this.to(_));const me=this._getItemIndex(this._getActive());if(me===_)return;const Ye=_>me?qe:bt;this._slide(Ye,j[_])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(_){return _.defaultInterval=_.interval,_}_addEventListeners(){this._config.keyboard&&dt.on(this._element,Vn,_=>this._keydown(_)),this._config.pause==="hover"&&(dt.on(this._element,kn,()=>this.pause()),dt.on(this._element,Un,()=>this._maybeEnableCycle())),this._config.touch&&oe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const j of U.find(".carousel-item img",this._element))dt.on(j,Kn,me=>me.preventDefault());const _={leftCallback:()=>this._slide(this._directionToOrder(ht)),rightCallback:()=>this._slide(this._directionToOrder(Et)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new oe(this._element,_)}_keydown(_){if(/input|textarea/i.test(_.target.tagName))return;const j=Xs[_.key];j&&(_.preventDefault(),this._slide(this._directionToOrder(j)))}_getItemIndex(_){return this._getItems().indexOf(_)}_setActiveIndicatorElement(_){if(!this._indicatorsElement)return;const j=U.findOne(_t,this._indicatorsElement);j.classList.remove(Js),j.removeAttribute("aria-current");const me=U.findOne(`[data-bs-slide-to="${_}"]`,this._indicatorsElement);me&&(me.classList.add(Js),me.setAttribute("aria-current","true"))}_updateInterval(){const _=this._activeElement||this._getActive();if(!_)return;const j=Number.parseInt(_.getAttribute("data-bs-interval"),10);this._config.interval=j||this._config.defaultInterval}_slide(_,j=null){if(this._isSliding)return;const me=this._getActive(),Ye=_===qe,nt=j||ce(this._getItems(),me,Ye,this._config.wrap);if(nt===me)return;const xt=this._getItemIndex(nt),Ft=An=>dt.trigger(this._element,An,{relatedTarget:nt,direction:this._orderToDirection(_),from:this._getItemIndex(me),to:xt});if(Ft(tn).defaultPrevented||!me||!nt)return;const an=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(xt),this._activeElement=nt;const at=Ye?"carousel-item-start":"carousel-item-end",Tn=Ye?"carousel-item-next":"carousel-item-prev";nt.classList.add(Tn),q(nt),me.classList.add(at),nt.classList.add(at),this._queueCallback(()=>{nt.classList.remove(at,Tn),nt.classList.add(Js),me.classList.remove(Js,Tn,at),this._isSliding=!1,Ft(qt)},me,this._isAnimated()),an&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return U.findOne(Ws,this._element)}_getItems(){return U.find(Gn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(_){return X()?_===ht?bt:qe:_===ht?qe:bt}_orderToDirection(_){return X()?_===bt?ht:Et:_===bt?Et:ht}static jQueryInterface(_){return this.each(function(){const j=Ys.getOrCreateInstance(this,_);if(typeof _!="number"){if(typeof _=="string"){if(j[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);j[_]()}}else j.to(_)})}}dt.on(document,ls,"[data-bs-slide], [data-bs-slide-to]",function(Y){const _=U.getElementFromSelector(this);if(!_||!_.classList.contains(Lo))return;Y.preventDefault();const j=Ys.getOrCreateInstance(_),me=this.getAttribute("data-bs-slide-to");return me?(j.to(me),void j._maybeEnableCycle()):Hn.getDataAttribute(this,"slide")==="next"?(j.next(),void j._maybeEnableCycle()):(j.prev(),void j._maybeEnableCycle())}),dt.on(window,So,()=>{const Y=U.find('[data-bs-ride="carousel"]');for(const _ of Y)Ys.getOrCreateInstance(_)}),re(Ys);const lr=".bs.collapse",cl=`show${lr}`,Fo=`shown${lr}`,wn=`hide${lr}`,ai=`hidden${lr}`,Il=`click${lr}.data-api`,Xo="show",zs="collapse",li="collapsing",Qs=`:scope .${zs} .${zs}`,Wa='[data-bs-toggle="collapse"]',ya={parent:null,toggle:!0},ja={parent:"(null|element)",toggle:"boolean"};class _r extends Ue{constructor(_,j){super(_,j),this._isTransitioning=!1,this._triggerArray=[];const me=U.find(Wa);for(const Ye of me){const nt=U.getSelectorFromElement(Ye),xt=U.find(nt).filter(Ft=>Ft===this._element);nt!==null&&xt.length&&this._triggerArray.push(Ye)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ya}static get DefaultType(){return ja}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let _=[];if(this._config.parent&&(_=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Ye=>Ye!==this._element).map(Ye=>_r.getOrCreateInstance(Ye,{toggle:!1}))),_.length&&_[0]._isTransitioning||dt.trigger(this._element,cl).defaultPrevented)return;for(const Ye of _)Ye.hide();const j=this._getDimension();this._element.classList.remove(zs),this._element.classList.add(li),this._element.style[j]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const me=`scroll${j[0].toUpperCase()+j.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(li),this._element.classList.add(zs,Xo),this._element.style[j]="",dt.trigger(this._element,Fo)},this._element,!0),this._element.style[j]=`${this._element[me]}px`}hide(){if(this._isTransitioning||!this._isShown()||dt.trigger(this._element,wn).defaultPrevented)return;const _=this._getDimension();this._element.style[_]=`${this._element.getBoundingClientRect()[_]}px`,q(this._element),this._element.classList.add(li),this._element.classList.remove(zs,Xo);for(const j of this._triggerArray){const me=U.getElementFromSelector(j);me&&!this._isShown(me)&&this._addAriaAndCollapsedClass([j],!1)}this._isTransitioning=!0,this._element.style[_]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(li),this._element.classList.add(zs),dt.trigger(this._element,ai)},this._element,!0)}_isShown(_=this._element){return _.classList.contains(Xo)}_configAfterMerge(_){return _.toggle=!!_.toggle,_.parent=k(_.parent),_}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const _=this._getFirstLevelChildren(Wa);for(const j of _){const me=U.getElementFromSelector(j);me&&this._addAriaAndCollapsedClass([j],this._isShown(me))}}_getFirstLevelChildren(_){const j=U.find(Qs,this._config.parent);return U.find(_,this._config.parent).filter(me=>!j.includes(me))}_addAriaAndCollapsedClass(_,j){if(_.length)for(const me of _)me.classList.toggle("collapsed",!j),me.setAttribute("aria-expanded",j)}static jQueryInterface(_){const j={};return typeof _=="string"&&/show|hide/.test(_)&&(j.toggle=!1),this.each(function(){const me=_r.getOrCreateInstance(this,j);if(typeof _=="string"){if(me[_]===void 0)throw new TypeError(`No method named "${_}"`);me[_]()}})}}dt.on(document,Il,Wa,function(Y){(Y.target.tagName==="A"||Y.delegateTarget&&Y.delegateTarget.tagName==="A")&&Y.preventDefault();for(const _ of U.getMultipleElementsFromSelector(this))_r.getOrCreateInstance(_,{toggle:!1}).toggle()}),re(_r);var ve="top",be="bottom",We="right",Qe="left",cn="auto",En=[ve,be,We,Qe],qn="start",gs="end",pt="clippingParents",po="viewport",As="popper",cr="reference",ci=En.reduce(function(Y,_){return Y.concat([_+"-"+qn,_+"-"+gs])},[]),ul=[].concat(En,[cn]).reduce(function(Y,_){return Y.concat([_,_+"-"+qn,_+"-"+gs])},[]),bc="beforeRead",Ti="read",wa="afterRead",kr="beforeMain",Qo="main",es="afterMain",Sa="beforeWrite",Xr="write",$r="afterWrite",Qc=[bc,Ti,wa,kr,Qo,es,Sa,Xr,$r];function hi(Y){return Y?(Y.nodeName||"").toLowerCase():null}function To(Y){if(Y==null)return window;if(Y.toString()!=="[object Window]"){var _=Y.ownerDocument;return _&&_.defaultView||window}return Y}function Ar(Y){return Y instanceof To(Y).Element||Y instanceof Element}function Es(Y){return Y instanceof To(Y).HTMLElement||Y instanceof HTMLElement}function Lu(Y){return typeof ShadowRoot<"u"&&(Y instanceof To(Y).ShadowRoot||Y instanceof ShadowRoot)}const yc={name:"applyStyles",enabled:!0,phase:"write",fn:function(Y){var _=Y.state;Object.keys(_.elements).forEach(function(j){var me=_.styles[j]||{},Ye=_.attributes[j]||{},nt=_.elements[j];Es(nt)&&hi(nt)&&(Object.assign(nt.style,me),Object.keys(Ye).forEach(function(xt){var Ft=Ye[xt];Ft===!1?nt.removeAttribute(xt):nt.setAttribute(xt,Ft===!0?"":Ft)}))})},effect:function(Y){var _=Y.state,j={popper:{position:_.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(_.elements.popper.style,j.popper),_.styles=j,_.elements.arrow&&Object.assign(_.elements.arrow.style,j.arrow),function(){Object.keys(_.elements).forEach(function(me){var Ye=_.elements[me],nt=_.attributes[me]||{},xt=Object.keys(_.styles.hasOwnProperty(me)?_.styles[me]:j[me]).reduce(function(Ft,an){return Ft[an]="",Ft},{});Es(Ye)&&hi(Ye)&&(Object.assign(Ye.style,xt),Object.keys(nt).forEach(function(Ft){Ye.removeAttribute(Ft)}))})}},requires:["computeStyles"]};function js(Y){return Y.split("-")[0]}var dl=Math.max,uf=Math.min,_i=Math.round;function Uo(){var Y=navigator.userAgentData;return Y!=null&&Y.brands&&Array.isArray(Y.brands)?Y.brands.map(function(_){return _.brand+"/"+_.version}).join(" "):navigator.userAgent}function Rl(){return!/^((?!chrome|android).)*safari/i.test(Uo())}function Fr(Y,_,j){_===void 0&&(_=!1),j===void 0&&(j=!1);var me=Y.getBoundingClientRect(),Ye=1,nt=1;_&&Es(Y)&&(Ye=Y.offsetWidth>0&&_i(me.width)/Y.offsetWidth||1,nt=Y.offsetHeight>0&&_i(me.height)/Y.offsetHeight||1);var xt=(Ar(Y)?To(Y):window).visualViewport,Ft=!Rl()&&j,an=(me.left+(Ft&&xt?xt.offsetLeft:0))/Ye,at=(me.top+(Ft&&xt?xt.offsetTop:0))/nt,Tn=me.width/Ye,An=me.height/nt;return{width:Tn,height:An,top:at,right:an+Tn,bottom:at+An,left:an,x:an,y:at}}function wc(Y){var _=Fr(Y),j=Y.offsetWidth,me=Y.offsetHeight;return Math.abs(_.width-j)<=1&&(j=_.width),Math.abs(_.height-me)<=1&&(me=_.height),{x:Y.offsetLeft,y:Y.offsetTop,width:j,height:me}}function eu(Y,_){var j=_.getRootNode&&_.getRootNode();if(Y.contains(_))return!0;if(j&&Lu(j)){var me=_;do{if(me&&Y.isSameNode(me))return!0;me=me.parentNode||me.host}while(me)}return!1}function Or(Y){return To(Y).getComputedStyle(Y)}function xa(Y){return["table","td","th"].indexOf(hi(Y))>=0}function Ra(Y){return((Ar(Y)?Y.ownerDocument:Y.document)||window.document).documentElement}function na(Y){return hi(Y)==="html"?Y:Y.assignedSlot||Y.parentNode||(Lu(Y)?Y.host:null)||Ra(Y)}function df(Y){return Es(Y)&&Or(Y).position!=="fixed"?Y.offsetParent:null}function Bl(Y){for(var _=To(Y),j=df(Y);j&&xa(j)&&Or(j).position==="static";)j=df(j);return j&&(hi(j)==="html"||hi(j)==="body"&&Or(j).position==="static")?_:j||function(me){var Ye=/firefox/i.test(Uo());if(/Trident/i.test(Uo())&&Es(me)&&Or(me).position==="fixed")return null;var nt=na(me);for(Lu(nt)&&(nt=nt.host);Es(nt)&&["html","body"].indexOf(hi(nt))<0;){var xt=Or(nt);if(xt.transform!=="none"||xt.perspective!=="none"||xt.contain==="paint"||["transform","perspective"].indexOf(xt.willChange)!==-1||Ye&&xt.willChange==="filter"||Ye&&xt.filter&&xt.filter!=="none")return nt;nt=nt.parentNode}return null}(Y)||_}function tu(Y){return["top","bottom"].indexOf(Y)>=0?"x":"y"}function ui(Y,_,j){return dl(Y,uf(_,j))}function pi(Y){return Object.assign({},{top:0,right:0,bottom:0,left:0},Y)}function Iu(Y,_){return _.reduce(function(j,me){return j[me]=Y,j},{})}const Sd={name:"arrow",enabled:!0,phase:"main",fn:function(Y){var _,j=Y.state,me=Y.name,Ye=Y.options,nt=j.elements.arrow,xt=j.modifiersData.popperOffsets,Ft=js(j.placement),an=tu(Ft),at=[Qe,We].indexOf(Ft)>=0?"height":"width";if(nt&&xt){var Tn=function(_o,_s){return pi(typeof(_o=typeof _o=="function"?_o(Object.assign({},_s.rects,{placement:_s.placement})):_o)!="number"?_o:Iu(_o,En))}(Ye.padding,j),An=wc(nt),Po=an==="y"?ve:Qe,Jn=an==="y"?be:We,Oo=j.rects.reference[at]+j.rects.reference[an]-xt[an]-j.rects.popper[at],yo=xt[an]-j.rects.reference[an],xo=Bl(nt),Rs=xo?an==="y"?xo.clientHeight||0:xo.clientWidth||0:0,hs=Oo/2-yo/2,Jo=Tn[Po],Yn=Rs-An[at]-Tn[Jn],ot=Rs/2-An[at]/2+hs,Co=ui(Jo,ot,Yn),Ts=an;j.modifiersData[me]=((_={})[Ts]=Co,_.centerOffset=Co-ot,_)}},effect:function(Y){var _=Y.state,j=Y.options.element,me=j===void 0?"[data-popper-arrow]":j;me!=null&&(typeof me!="string"||(me=_.elements.popper.querySelector(me)))&&eu(_.elements.popper,me)&&(_.elements.arrow=me)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fl(Y){return Y.split("-")[1]}var ff={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Hr(Y){var _,j=Y.popper,me=Y.popperRect,Ye=Y.placement,nt=Y.variation,xt=Y.offsets,Ft=Y.position,an=Y.gpuAcceleration,at=Y.adaptive,Tn=Y.roundOffsets,An=Y.isFixed,Po=xt.x,Jn=Po===void 0?0:Po,Oo=xt.y,yo=Oo===void 0?0:Oo,xo=typeof Tn=="function"?Tn({x:Jn,y:yo}):{x:Jn,y:yo};Jn=xo.x,yo=xo.y;var Rs=xt.hasOwnProperty("x"),hs=xt.hasOwnProperty("y"),Jo=Qe,Yn=ve,ot=window;if(at){var Co=Bl(j),Ts="clientHeight",_o="clientWidth";Co===To(j)&&Or(Co=Ra(j)).position!=="static"&&Ft==="absolute"&&(Ts="scrollHeight",_o="scrollWidth"),(Ye===ve||(Ye===Qe||Ye===We)&&nt===gs)&&(Yn=be,yo-=(An&&Co===ot&&ot.visualViewport?ot.visualViewport.height:Co[Ts])-me.height,yo*=an?1:-1),Ye!==Qe&&(Ye!==ve&&Ye!==be||nt!==gs)||(Jo=We,Jn-=(An&&Co===ot&&ot.visualViewport?ot.visualViewport.width:Co[_o])-me.width,Jn*=an?1:-1)}var _s,Wo=Object.assign({position:Ft},at&&ff),ao=Tn===!0?function(Xa,it){var lo=Xa.x,$a=Xa.y,Ro=it.devicePixelRatio||1;return{x:_i(lo*Ro)/Ro||0,y:_i($a*Ro)/Ro||0}}({x:Jn,y:yo},To(j)):{x:Jn,y:yo};return Jn=ao.x,yo=ao.y,an?Object.assign({},Wo,((_s={})[Yn]=hs?"0":"",_s[Jo]=Rs?"0":"",_s.transform=(ot.devicePixelRatio||1)<=1?"translate("+Jn+"px, "+yo+"px)":"translate3d("+Jn+"px, "+yo+"px, 0)",_s)):Object.assign({},Wo,((_={})[Yn]=hs?yo+"px":"",_[Jo]=Rs?Jn+"px":"",_.transform="",_))}const ml={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(Y){var _=Y.state,j=Y.options,me=j.gpuAcceleration,Ye=me===void 0||me,nt=j.adaptive,xt=nt===void 0||nt,Ft=j.roundOffsets,an=Ft===void 0||Ft,at={placement:js(_.placement),variation:fl(_.placement),popper:_.elements.popper,popperRect:_.rects.popper,gpuAcceleration:Ye,isFixed:_.options.strategy==="fixed"};_.modifiersData.popperOffsets!=null&&(_.styles.popper=Object.assign({},_.styles.popper,Hr(Object.assign({},at,{offsets:_.modifiersData.popperOffsets,position:_.options.strategy,adaptive:xt,roundOffsets:an})))),_.modifiersData.arrow!=null&&(_.styles.arrow=Object.assign({},_.styles.arrow,Hr(Object.assign({},at,{offsets:_.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:an})))),_.attributes.popper=Object.assign({},_.attributes.popper,{"data-popper-placement":_.placement})},data:{}};var xd={passive:!0};const $l={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(Y){var _=Y.state,j=Y.instance,me=Y.options,Ye=me.scroll,nt=Ye===void 0||Ye,xt=me.resize,Ft=xt===void 0||xt,an=To(_.elements.popper),at=[].concat(_.scrollParents.reference,_.scrollParents.popper);return nt&&at.forEach(function(Tn){Tn.addEventListener("scroll",j.update,xd)}),Ft&&an.addEventListener("resize",j.update,xd),function(){nt&&at.forEach(function(Tn){Tn.removeEventListener("scroll",j.update,xd)}),Ft&&an.removeEventListener("resize",j.update,xd)}},data:{}};var mf={left:"right",right:"left",bottom:"top",top:"bottom"};function Ru(Y){return Y.replace(/left|right|bottom|top/g,function(_){return mf[_]})}var gi={start:"end",end:"start"};function oa(Y){return Y.replace(/start|end/g,function(_){return gi[_]})}function Hi(Y){var _=To(Y);return{scrollLeft:_.pageXOffset,scrollTop:_.pageYOffset}}function Ca(Y){return Fr(Ra(Y)).left+Hi(Y).scrollLeft}function sa(Y){var _=Or(Y),j=_.overflow,me=_.overflowX,Ye=_.overflowY;return/auto|scroll|overlay|hidden/.test(j+Ye+me)}function vn(Y){return["html","body","#document"].indexOf(hi(Y))>=0?Y.ownerDocument.body:Es(Y)&&sa(Y)?Y:vn(na(Y))}function nu(Y,_){var j;_===void 0&&(_=[]);var me=vn(Y),Ye=me===((j=Y.ownerDocument)==null?void 0:j.body),nt=To(me),xt=Ye?[nt].concat(nt.visualViewport||[],sa(me)?me:[]):me,Ft=_.concat(xt);return Ye?Ft:Ft.concat(nu(na(xt)))}function Mn(Y){return Object.assign({},Y,{left:Y.x,top:Y.y,right:Y.x+Y.width,bottom:Y.y+Y.height})}function vr(Y,_,j){return _===po?Mn(function(me,Ye){var nt=To(me),xt=Ra(me),Ft=nt.visualViewport,an=xt.clientWidth,at=xt.clientHeight,Tn=0,An=0;if(Ft){an=Ft.width,at=Ft.height;var Po=Rl();(Po||!Po&&Ye==="fixed")&&(Tn=Ft.offsetLeft,An=Ft.offsetTop)}return{width:an,height:at,x:Tn+Ca(me),y:An}}(Y,j)):Ar(_)?function(me,Ye){var nt=Fr(me,!1,Ye==="fixed");return nt.top=nt.top+me.clientTop,nt.left=nt.left+me.clientLeft,nt.bottom=nt.top+me.clientHeight,nt.right=nt.left+me.clientWidth,nt.width=me.clientWidth,nt.height=me.clientHeight,nt.x=nt.left,nt.y=nt.top,nt}(_,j):Mn(function(me){var Ye,nt=Ra(me),xt=Hi(me),Ft=(Ye=me.ownerDocument)==null?void 0:Ye.body,an=dl(nt.scrollWidth,nt.clientWidth,Ft?Ft.scrollWidth:0,Ft?Ft.clientWidth:0),at=dl(nt.scrollHeight,nt.clientHeight,Ft?Ft.scrollHeight:0,Ft?Ft.clientHeight:0),Tn=-xt.scrollLeft+Ca(me),An=-xt.scrollTop;return Or(Ft||nt).direction==="rtl"&&(Tn+=dl(nt.clientWidth,Ft?Ft.clientWidth:0)-an),{width:an,height:at,x:Tn,y:An}}(Ra(Y)))}function Fl(Y){var _,j=Y.reference,me=Y.element,Ye=Y.placement,nt=Ye?js(Ye):null,xt=Ye?fl(Ye):null,Ft=j.x+j.width/2-me.width/2,an=j.y+j.height/2-me.height/2;switch(nt){case ve:_={x:Ft,y:j.y-me.height};break;case be:_={x:Ft,y:j.y+j.height};break;case We:_={x:j.x+j.width,y:an};break;case Qe:_={x:j.x-me.width,y:an};break;default:_={x:j.x,y:j.y}}var at=nt?tu(nt):null;if(at!=null){var Tn=at==="y"?"height":"width";switch(xt){case qn:_[at]=_[at]-(j[Tn]/2-me[Tn]/2);break;case gs:_[at]=_[at]+(j[Tn]/2-me[Tn]/2)}}return _}function W(Y,_){_===void 0&&(_={});var j=_,me=j.placement,Ye=me===void 0?Y.placement:me,nt=j.strategy,xt=nt===void 0?Y.strategy:nt,Ft=j.boundary,an=Ft===void 0?pt:Ft,at=j.rootBoundary,Tn=at===void 0?po:at,An=j.elementContext,Po=An===void 0?As:An,Jn=j.altBoundary,Oo=Jn!==void 0&&Jn,yo=j.padding,xo=yo===void 0?0:yo,Rs=pi(typeof xo!="number"?xo:Iu(xo,En)),hs=Po===As?cr:As,Jo=Y.rects.popper,Yn=Y.elements[Oo?hs:Po],ot=function(it,lo,$a,Ro){var fr=lo==="clippingParents"?function(bs){var Aa=nu(na(bs)),br=["absolute","fixed"].indexOf(Or(bs).position)>=0&&Es(bs)?Bl(bs):bs;return Ar(br)?Aa.filter(function(go){return Ar(go)&&eu(go,br)&&hi(go)!=="body"}):[]}(it):[].concat(lo),uu=[].concat(fr,[$a]),Pi=uu[0],Gi=uu.reduce(function(bs,Aa){var br=vr(it,Aa,Ro);return bs.top=dl(br.top,bs.top),bs.right=uf(br.right,bs.right),bs.bottom=uf(br.bottom,bs.bottom),bs.left=dl(br.left,bs.left),bs},vr(it,Pi,Ro));return Gi.width=Gi.right-Gi.left,Gi.height=Gi.bottom-Gi.top,Gi.x=Gi.left,Gi.y=Gi.top,Gi}(Ar(Yn)?Yn:Yn.contextElement||Ra(Y.elements.popper),an,Tn,xt),Co=Fr(Y.elements.reference),Ts=Fl({reference:Co,element:Jo,strategy:"absolute",placement:Ye}),_o=Mn(Object.assign({},Jo,Ts)),_s=Po===As?_o:Co,Wo={top:ot.top-_s.top+Rs.top,bottom:_s.bottom-ot.bottom+Rs.bottom,left:ot.left-_s.left+Rs.left,right:_s.right-ot.right+Rs.right},ao=Y.modifiersData.offset;if(Po===As&&ao){var Xa=ao[Ye];Object.keys(Wo).forEach(function(it){var lo=[We,be].indexOf(it)>=0?1:-1,$a=[ve,be].indexOf(it)>=0?"y":"x";Wo[it]+=Xa[$a]*lo})}return Wo}function ae(Y,_){_===void 0&&(_={});var j=_,me=j.placement,Ye=j.boundary,nt=j.rootBoundary,xt=j.padding,Ft=j.flipVariations,an=j.allowedAutoPlacements,at=an===void 0?ul:an,Tn=fl(me),An=Tn?Ft?ci:ci.filter(function(Oo){return fl(Oo)===Tn}):En,Po=An.filter(function(Oo){return at.indexOf(Oo)>=0});Po.length===0&&(Po=An);var Jn=Po.reduce(function(Oo,yo){return Oo[yo]=W(Y,{placement:yo,boundary:Ye,rootBoundary:nt,padding:xt})[js(yo)],Oo},{});return Object.keys(Jn).sort(function(Oo,yo){return Jn[Oo]-Jn[yo]})}const we={name:"flip",enabled:!0,phase:"main",fn:function(Y){var _=Y.state,j=Y.options,me=Y.name;if(!_.modifiersData[me]._skip){for(var Ye=j.mainAxis,nt=Ye===void 0||Ye,xt=j.altAxis,Ft=xt===void 0||xt,an=j.fallbackPlacements,at=j.padding,Tn=j.boundary,An=j.rootBoundary,Po=j.altBoundary,Jn=j.flipVariations,Oo=Jn===void 0||Jn,yo=j.allowedAutoPlacements,xo=_.options.placement,Rs=js(xo),hs=an||(Rs!==xo&&Oo?function(bs){if(js(bs)===cn)return[];var Aa=Ru(bs);return[oa(bs),Aa,oa(Aa)]}(xo):[Ru(xo)]),Jo=[xo].concat(hs).reduce(function(bs,Aa){return bs.concat(js(Aa)===cn?ae(_,{placement:Aa,boundary:Tn,rootBoundary:An,padding:at,flipVariations:Oo,allowedAutoPlacements:yo}):Aa)},[]),Yn=_.rects.reference,ot=_.rects.popper,Co=new Map,Ts=!0,_o=Jo[0],_s=0;_s<Jo.length;_s++){var Wo=Jo[_s],ao=js(Wo),Xa=fl(Wo)===qn,it=[ve,be].indexOf(ao)>=0,lo=it?"width":"height",$a=W(_,{placement:Wo,boundary:Tn,rootBoundary:An,altBoundary:Po,padding:at}),Ro=it?Xa?We:Qe:Xa?be:ve;Yn[lo]>ot[lo]&&(Ro=Ru(Ro));var fr=Ru(Ro),uu=[];if(nt&&uu.push($a[ao]<=0),Ft&&uu.push($a[Ro]<=0,$a[fr]<=0),uu.every(function(bs){return bs})){_o=Wo,Ts=!1;break}Co.set(Wo,uu)}if(Ts)for(var Pi=function(bs){var Aa=Jo.find(function(br){var go=Co.get(br);if(go)return go.slice(0,bs).every(function(gl){return gl})});if(Aa)return _o=Aa,"break"},Gi=Oo?3:1;Gi>0&&Pi(Gi)!=="break";Gi--);_.placement!==_o&&(_.modifiersData[me]._skip=!0,_.placement=_o,_.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ge(Y,_,j){return j===void 0&&(j={x:0,y:0}),{top:Y.top-_.height-j.y,right:Y.right-_.width+j.x,bottom:Y.bottom-_.height+j.y,left:Y.left-_.width-j.x}}function gt(Y){return[ve,We,be,Qe].some(function(_){return Y[_]>=0})}const oo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(Y){var _=Y.state,j=Y.name,me=_.rects.reference,Ye=_.rects.popper,nt=_.modifiersData.preventOverflow,xt=W(_,{elementContext:"reference"}),Ft=W(_,{altBoundary:!0}),an=Ge(xt,me),at=Ge(Ft,Ye,nt),Tn=gt(an),An=gt(at);_.modifiersData[j]={referenceClippingOffsets:an,popperEscapeOffsets:at,isReferenceHidden:Tn,hasPopperEscaped:An},_.attributes.popper=Object.assign({},_.attributes.popper,{"data-popper-reference-hidden":Tn,"data-popper-escaped":An})}},ds={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(Y){var _=Y.state,j=Y.options,me=Y.name,Ye=j.offset,nt=Ye===void 0?[0,0]:Ye,xt=ul.reduce(function(Tn,An){return Tn[An]=function(Po,Jn,Oo){var yo=js(Po),xo=[Qe,ve].indexOf(yo)>=0?-1:1,Rs=typeof Oo=="function"?Oo(Object.assign({},Jn,{placement:Po})):Oo,hs=Rs[0],Jo=Rs[1];return hs=hs||0,Jo=(Jo||0)*xo,[Qe,We].indexOf(yo)>=0?{x:Jo,y:hs}:{x:hs,y:Jo}}(An,_.rects,nt),Tn},{}),Ft=xt[_.placement],an=Ft.x,at=Ft.y;_.modifiersData.popperOffsets!=null&&(_.modifiersData.popperOffsets.x+=an,_.modifiersData.popperOffsets.y+=at),_.modifiersData[me]=xt}},ts={name:"popperOffsets",enabled:!0,phase:"read",fn:function(Y){var _=Y.state,j=Y.name;_.modifiersData[j]=Fl({reference:_.rects.reference,element:_.rects.popper,strategy:"absolute",placement:_.placement})},data:{}},Tt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Y){var _=Y.state,j=Y.options,me=Y.name,Ye=j.mainAxis,nt=Ye===void 0||Ye,xt=j.altAxis,Ft=xt!==void 0&&xt,an=j.boundary,at=j.rootBoundary,Tn=j.altBoundary,An=j.padding,Po=j.tether,Jn=Po===void 0||Po,Oo=j.tetherOffset,yo=Oo===void 0?0:Oo,xo=W(_,{boundary:an,rootBoundary:at,padding:An,altBoundary:Tn}),Rs=js(_.placement),hs=fl(_.placement),Jo=!hs,Yn=tu(Rs),ot=Yn==="x"?"y":"x",Co=_.modifiersData.popperOffsets,Ts=_.rects.reference,_o=_.rects.popper,_s=typeof yo=="function"?yo(Object.assign({},_.rects,{placement:_.placement})):yo,Wo=typeof _s=="number"?{mainAxis:_s,altAxis:_s}:Object.assign({mainAxis:0,altAxis:0},_s),ao=_.modifiersData.offset?_.modifiersData.offset[_.placement]:null,Xa={x:0,y:0};if(Co){if(nt){var it,lo=Yn==="y"?ve:Qe,$a=Yn==="y"?be:We,Ro=Yn==="y"?"height":"width",fr=Co[Yn],uu=fr+xo[lo],Pi=fr-xo[$a],Gi=Jn?-_o[Ro]/2:0,bs=hs===qn?Ts[Ro]:_o[Ro],Aa=hs===qn?-_o[Ro]:-Ts[Ro],br=_.elements.arrow,go=Jn&&br?wc(br):{width:0,height:0},gl=_.modifiersData["arrow#persistent"]?_.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Tm=gl[lo],Qr=gl[$a],$h=ui(0,Ts[Ro],go[Ro]),du=Jo?Ts[Ro]/2-Gi-$h-Tm-Wo.mainAxis:bs-$h-Tm-Wo.mainAxis,fu=Jo?-Ts[Ro]/2+Gi+$h+Qr+Wo.mainAxis:Aa+$h+Qr+Wo.mainAxis,Ds=_.elements.arrow&&Bl(_.elements.arrow),dy=Ds?Yn==="y"?Ds.clientTop||0:Ds.clientLeft||0:0,Ie=(it=ao==null?void 0:ao[Yn])!=null?it:0,vl=fr+fu-Ie,vg=ui(Jn?uf(uu,fr+du-Ie-dy):uu,fr,Jn?dl(Pi,vl):Pi);Co[Yn]=vg,Xa[Yn]=vg-fr}if(Ft){var Xi,_c=Yn==="x"?ve:Qe,yr=Yn==="x"?be:We,ks=Co[ot],Fh=ot==="y"?"height":"width",Pd=ks+xo[_c],bg=ks-xo[yr],Hh=[ve,Qe].indexOf(Rs)!==-1,bl=(Xi=ao==null?void 0:ao[ot])!=null?Xi:0,yg=Hh?Pd:ks-Ts[Fh]-_o[Fh]-bl+Wo.altAxis,vb=Hh?ks+Ts[Fh]+_o[Fh]-bl-Wo.altAxis:bg,bb=Jn&&Hh?function(fy,wx,Wu){var Pf=ui(fy,wx,Wu);return Pf>Wu?Wu:Pf}(yg,ks,vb):ui(Jn?yg:Pd,ks,Jn?vb:bg);Co[ot]=bb,Xa[ot]=bb-ks}_.modifiersData[me]=Xa}},requiresIfExists:["offset"]};function vs(Y,_,j){j===void 0&&(j=!1);var me,Ye,nt=Es(_),xt=Es(_)&&function(An){var Po=An.getBoundingClientRect(),Jn=_i(Po.width)/An.offsetWidth||1,Oo=_i(Po.height)/An.offsetHeight||1;return Jn!==1||Oo!==1}(_),Ft=Ra(_),an=Fr(Y,xt,j),at={scrollLeft:0,scrollTop:0},Tn={x:0,y:0};return(nt||!nt&&!j)&&((hi(_)!=="body"||sa(Ft))&&(at=(me=_)!==To(me)&&Es(me)?{scrollLeft:(Ye=me).scrollLeft,scrollTop:Ye.scrollTop}:Hi(me)),Es(_)?((Tn=Fr(_,!0)).x+=_.clientLeft,Tn.y+=_.clientTop):Ft&&(Tn.x=Ca(Ft))),{x:an.left+at.scrollLeft-Tn.x,y:an.top+at.scrollTop-Tn.y,width:an.width,height:an.height}}function Yr(Y){var _=new Map,j=new Set,me=[];function Ye(nt){j.add(nt.name),[].concat(nt.requires||[],nt.requiresIfExists||[]).forEach(function(xt){if(!j.has(xt)){var Ft=_.get(xt);Ft&&Ye(Ft)}}),me.push(nt)}return Y.forEach(function(nt){_.set(nt.name,nt)}),Y.forEach(function(nt){j.has(nt.name)||Ye(nt)}),me}var Hl={placement:"bottom",modifiers:[],strategy:"absolute"};function Zn(){for(var Y=arguments.length,_=new Array(Y),j=0;j<Y;j++)_[j]=arguments[j];return!_.some(function(me){return!(me&&typeof me.getBoundingClientRect=="function")})}function zi(Y){Y===void 0&&(Y={});var _=Y,j=_.defaultModifiers,me=j===void 0?[]:j,Ye=_.defaultOptions,nt=Ye===void 0?Hl:Ye;return function(xt,Ft,an){an===void 0&&(an=nt);var at,Tn,An={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hl,nt),modifiersData:{},elements:{reference:xt,popper:Ft},attributes:{},styles:{}},Po=[],Jn=!1,Oo={state:An,setOptions:function(xo){var Rs=typeof xo=="function"?xo(An.options):xo;yo(),An.options=Object.assign({},nt,An.options,Rs),An.scrollParents={reference:Ar(xt)?nu(xt):xt.contextElement?nu(xt.contextElement):[],popper:nu(Ft)};var hs,Jo,Yn=function(ot){var Co=Yr(ot);return Qc.reduce(function(Ts,_o){return Ts.concat(Co.filter(function(_s){return _s.phase===_o}))},[])}((hs=[].concat(me,An.options.modifiers),Jo=hs.reduce(function(ot,Co){var Ts=ot[Co.name];return ot[Co.name]=Ts?Object.assign({},Ts,Co,{options:Object.assign({},Ts.options,Co.options),data:Object.assign({},Ts.data,Co.data)}):Co,ot},{}),Object.keys(Jo).map(function(ot){return Jo[ot]})));return An.orderedModifiers=Yn.filter(function(ot){return ot.enabled}),An.orderedModifiers.forEach(function(ot){var Co=ot.name,Ts=ot.options,_o=Ts===void 0?{}:Ts,_s=ot.effect;if(typeof _s=="function"){var Wo=_s({state:An,name:Co,instance:Oo,options:_o});Po.push(Wo||function(){})}}),Oo.update()},forceUpdate:function(){if(!Jn){var xo=An.elements,Rs=xo.reference,hs=xo.popper;if(Zn(Rs,hs)){An.rects={reference:vs(Rs,Bl(hs),An.options.strategy==="fixed"),popper:wc(hs)},An.reset=!1,An.placement=An.options.placement,An.orderedModifiers.forEach(function(_s){return An.modifiersData[_s.name]=Object.assign({},_s.data)});for(var Jo=0;Jo<An.orderedModifiers.length;Jo++)if(An.reset!==!0){var Yn=An.orderedModifiers[Jo],ot=Yn.fn,Co=Yn.options,Ts=Co===void 0?{}:Co,_o=Yn.name;typeof ot=="function"&&(An=ot({state:An,options:Ts,name:_o,instance:Oo})||An)}else An.reset=!1,Jo=-1}}},update:(at=function(){return new Promise(function(xo){Oo.forceUpdate(),xo(An)})},function(){return Tn||(Tn=new Promise(function(xo){Promise.resolve().then(function(){Tn=void 0,xo(at())})})),Tn}),destroy:function(){yo(),Jn=!0}};if(!Zn(xt,Ft))return Oo;function yo(){Po.forEach(function(xo){return xo()}),Po=[]}return Oo.setOptions(an).then(function(xo){!Jn&&an.onFirstUpdate&&an.onFirstUpdate(xo)}),Oo}}var ou=zi(),hf=zi({defaultModifiers:[$l,ts,ml,yc]}),fs=zi({defaultModifiers:[$l,ts,ml,yc,ds,we,Tt,Sd,oo]});const Za=Object.freeze(Object.defineProperty({__proto__:null,afterMain:es,afterRead:wa,afterWrite:$r,applyStyles:yc,arrow:Sd,auto:cn,basePlacements:En,beforeMain:kr,beforeRead:bc,beforeWrite:Sa,bottom:be,clippingParents:pt,computeStyles:ml,createPopper:fs,createPopperBase:ou,createPopperLite:hf,detectOverflow:W,end:gs,eventListeners:$l,flip:we,hide:oo,left:Qe,main:Qo,modifierPhases:Qc,offset:ds,placements:ul,popper:As,popperGenerator:zi,popperOffsets:ts,preventOverflow:Tt,read:Ti,reference:cr,right:We,start:qn,top:ve,variationPlacements:ci,viewport:po,write:Xr},Symbol.toStringTag,{value:"Module"})),fm="dropdown",su=".bs.dropdown",Os=".data-api",pf="ArrowUp",gf="ArrowDown",Vi=`hide${su}`,vf=`hidden${su}`,hl=`show${su}`,Cd=`shown${su}`,ki=`click${su}${Os}`,ho=`keydown${su}${Os}`,ig=`keyup${su}${Os}`,Ui="show",Bu='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',bf=`${Bu}.${Ui}`,Ai=".dropdown-menu",Wi=X()?"top-end":"top-start",ag=X()?"top-start":"top-end",Ah=X()?"bottom-end":"bottom-start",ru=X()?"bottom-start":"bottom-end",lg=X()?"left-start":"right-start",zr=X()?"right-start":"left-start",Sc={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ra={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Vr extends Ue{constructor(_,j){super(_,j),this._popper=null,this._parent=this._element.parentNode,this._menu=U.next(this._element,Ai)[0]||U.prev(this._element,Ai)[0]||U.findOne(Ai,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Sc}static get DefaultType(){return ra}static get NAME(){return fm}toggle(){return this._isShown()?this.hide():this.show()}show(){if(D(this._element)||this._isShown())return;const _={relatedTarget:this._element};if(!dt.trigger(this._element,hl,_).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const j of[].concat(...document.body.children))dt.on(j,"mouseover",R);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ui),this._element.classList.add(Ui),dt.trigger(this._element,Cd,_)}}hide(){if(D(this._element)||!this._isShown())return;const _={relatedTarget:this._element};this._completeHide(_)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(_){if(!dt.trigger(this._element,Vi,_).defaultPrevented){if("ontouchstart"in document.documentElement)for(const j of[].concat(...document.body.children))dt.off(j,"mouseover",R);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ui),this._element.classList.remove(Ui),this._element.setAttribute("aria-expanded","false"),Hn.removeDataAttribute(this._menu,"popper"),dt.trigger(this._element,vf,_)}}_getConfig(_){if(typeof(_=super._getConfig(_)).reference=="object"&&!T(_.reference)&&typeof _.reference.getBoundingClientRect!="function")throw new TypeError(`${fm.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return _}_createPopper(){if(Za===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let _=this._element;this._config.reference==="parent"?_=this._parent:T(this._config.reference)?_=k(this._config.reference):typeof this._config.reference=="object"&&(_=this._config.reference);const j=this._getPopperConfig();this._popper=fs(_,this._menu,j)}_isShown(){return this._menu.classList.contains(Ui)}_getPlacement(){const _=this._parent;if(_.classList.contains("dropend"))return lg;if(_.classList.contains("dropstart"))return zr;if(_.classList.contains("dropup-center"))return"top";if(_.classList.contains("dropdown-center"))return"bottom";const j=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return _.classList.contains("dropup")?j?ag:Wi:j?ru:Ah}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:_}=this._config;return typeof _=="string"?_.split(",").map(j=>Number.parseInt(j,10)):typeof _=="function"?j=>_(j,this._element):_}_getPopperConfig(){const _={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Hn.setDataAttribute(this._menu,"popper","static"),_.modifiers=[{name:"applyStyles",enabled:!1}]),{..._,...J(this._config.popperConfig,[_])}}_selectMenuItem({key:_,target:j}){const me=U.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Ye=>N(Ye));me.length&&ce(me,j,_===gf,!me.includes(j)).focus()}static jQueryInterface(_){return this.each(function(){const j=Vr.getOrCreateInstance(this,_);if(typeof _=="string"){if(j[_]===void 0)throw new TypeError(`No method named "${_}"`);j[_]()}})}static clearMenus(_){if(_.button===2||_.type==="keyup"&&_.key!=="Tab")return;const j=U.find(bf);for(const me of j){const Ye=Vr.getInstance(me);if(!Ye||Ye._config.autoClose===!1)continue;const nt=_.composedPath(),xt=nt.includes(Ye._menu);if(nt.includes(Ye._element)||Ye._config.autoClose==="inside"&&!xt||Ye._config.autoClose==="outside"&&xt||Ye._menu.contains(_.target)&&(_.type==="keyup"&&_.key==="Tab"||/input|select|option|textarea|form/i.test(_.target.tagName)))continue;const Ft={relatedTarget:Ye._element};_.type==="click"&&(Ft.clickEvent=_),Ye._completeHide(Ft)}}static dataApiKeydownHandler(_){const j=/input|textarea/i.test(_.target.tagName),me=_.key==="Escape",Ye=[pf,gf].includes(_.key);if(!Ye&&!me||j&&!me)return;_.preventDefault();const nt=this.matches(Bu)?this:U.prev(this,Bu)[0]||U.next(this,Bu)[0]||U.findOne(Bu,_.delegateTarget.parentNode),xt=Vr.getOrCreateInstance(nt);if(Ye)return _.stopPropagation(),xt.show(),void xt._selectMenuItem(_);xt._isShown()&&(_.stopPropagation(),xt.hide(),nt.focus())}}dt.on(document,ho,Bu,Vr.dataApiKeydownHandler),dt.on(document,ho,Ai,Vr.dataApiKeydownHandler),dt.on(document,ki,Vr.clearMenus),dt.on(document,ig,Vr.clearMenus),dt.on(document,ki,Bu,function(Y){Y.preventDefault(),Vr.getOrCreateInstance(this).toggle()}),re(Vr);const Ea="backdrop",Ur="show",cg=`mousedown.bs.${Ea}`,Oh={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},mm={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class hm extends rn{constructor(_){super(),this._config=this._getConfig(_),this._isAppended=!1,this._element=null}static get Default(){return Oh}static get DefaultType(){return mm}static get NAME(){return Ea}show(_){if(!this._config.isVisible)return void J(_);this._append();const j=this._getElement();this._config.isAnimated&&q(j),j.classList.add(Ur),this._emulateAnimation(()=>{J(_)})}hide(_){this._config.isVisible?(this._getElement().classList.remove(Ur),this._emulateAnimation(()=>{this.dispose(),J(_)})):J(_)}dispose(){this._isAppended&&(dt.off(this._element,cg),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const _=document.createElement("div");_.className=this._config.className,this._config.isAnimated&&_.classList.add("fade"),this._element=_}return this._element}_configAfterMerge(_){return _.rootElement=k(_.rootElement),_}_append(){if(this._isAppended)return;const _=this._getElement();this._config.rootElement.append(_),dt.on(_,cg,()=>{J(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(_){F(_,this._getElement(),this._config.isAnimated)}}const yf=".bs.focustrap",$u=`focusin${yf}`,Dh=`keydown.tab${yf}`,Fu="backward",ug={autofocus:!0,trapElement:null},dg={autofocus:"boolean",trapElement:"element"};class iu extends rn{constructor(_){super(),this._config=this._getConfig(_),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ug}static get DefaultType(){return dg}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),dt.off(document,yf),dt.on(document,$u,_=>this._handleFocusin(_)),dt.on(document,Dh,_=>this._handleKeydown(_)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,dt.off(document,yf))}_handleFocusin(_){const{trapElement:j}=this._config;if(_.target===document||_.target===j||j.contains(_.target))return;const me=U.focusableChildren(j);me.length===0?j.focus():this._lastTabNavDirection===Fu?me[me.length-1].focus():me[0].focus()}_handleKeydown(_){_.key==="Tab"&&(this._lastTabNavDirection=_.shiftKey?Fu:"forward")}}const pm=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Hu=".sticky-top",wf="padding-right",Sf="margin-right";class gm{constructor(){this._element=document.body}getWidth(){const _=document.documentElement.clientWidth;return Math.abs(window.innerWidth-_)}hide(){const _=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,wf,j=>j+_),this._setElementAttributes(pm,wf,j=>j+_),this._setElementAttributes(Hu,Sf,j=>j-_)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,wf),this._resetElementAttributes(pm,wf),this._resetElementAttributes(Hu,Sf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(_,j,me){const Ye=this.getWidth();this._applyManipulationCallback(_,nt=>{if(nt!==this._element&&window.innerWidth>nt.clientWidth+Ye)return;this._saveInitialAttribute(nt,j);const xt=window.getComputedStyle(nt).getPropertyValue(j);nt.style.setProperty(j,`${me(Number.parseFloat(xt))}px`)})}_saveInitialAttribute(_,j){const me=_.style.getPropertyValue(j);me&&Hn.setDataAttribute(_,j,me)}_resetElementAttributes(_,j){this._applyManipulationCallback(_,me=>{const Ye=Hn.getDataAttribute(me,j);Ye!==null?(Hn.removeDataAttribute(me,j),me.style.setProperty(j,Ye)):me.style.removeProperty(j)})}_applyManipulationCallback(_,j){if(T(_))j(_);else for(const me of U.find(_,this._element))j(me)}}const ia=".bs.modal",Mh=`hide${ia}`,au=`hidePrevented${ia}`,vm=`hidden${ia}`,ye=`show${ia}`,xf=`shown${ia}`,zl=`resize${ia}`,fg=`click.dismiss${ia}`,cb=`mousedown.dismiss${ia}`,Ed=`keydown.dismiss${ia}`,so=`click${ia}.data-api`,Oi="modal-open",xc="show",Vl="modal-static",Ph={backdrop:!0,focus:!0,keyboard:!0},Cf={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Dr extends Ue{constructor(_,j){super(_,j),this._dialog=U.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new gm,this._addEventListeners()}static get Default(){return Ph}static get DefaultType(){return Cf}static get NAME(){return"modal"}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||this._isTransitioning||dt.trigger(this._element,ye,{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Oi),this._adjustDialog(),this._backdrop.show(()=>this._showElement(_)))}hide(){this._isShown&&!this._isTransitioning&&(dt.trigger(this._element,Mh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(xc),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){dt.off(window,ia),dt.off(this._dialog,ia),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new hm({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new iu({trapElement:this._element})}_showElement(_){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const j=U.findOne(".modal-body",this._dialog);j&&(j.scrollTop=0),q(this._element),this._element.classList.add(xc),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,dt.trigger(this._element,xf,{relatedTarget:_})},this._dialog,this._isAnimated())}_addEventListeners(){dt.on(this._element,Ed,_=>{_.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),dt.on(window,zl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),dt.on(this._element,cb,_=>{dt.one(this._element,fg,j=>{this._element===_.target&&this._element===j.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Oi),this._resetAdjustments(),this._scrollBar.reset(),dt.trigger(this._element,vm)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(dt.trigger(this._element,au).defaultPrevented)return;const _=this._element.scrollHeight>document.documentElement.clientHeight,j=this._element.style.overflowY;j==="hidden"||this._element.classList.contains(Vl)||(_||(this._element.style.overflowY="hidden"),this._element.classList.add(Vl),this._queueCallback(()=>{this._element.classList.remove(Vl),this._queueCallback(()=>{this._element.style.overflowY=j},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const _=this._element.scrollHeight>document.documentElement.clientHeight,j=this._scrollBar.getWidth(),me=j>0;if(me&&!_){const Ye=X()?"paddingLeft":"paddingRight";this._element.style[Ye]=`${j}px`}if(!me&&_){const Ye=X()?"paddingRight":"paddingLeft";this._element.style[Ye]=`${j}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(_,j){return this.each(function(){const me=Dr.getOrCreateInstance(this,_);if(typeof _=="string"){if(me[_]===void 0)throw new TypeError(`No method named "${_}"`);me[_](j)}})}}dt.on(document,so,'[data-bs-toggle="modal"]',function(Y){const _=U.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&Y.preventDefault(),dt.one(_,ye,me=>{me.defaultPrevented||dt.one(_,vm,()=>{N(this)&&this.focus()})});const j=U.findOne(".modal.show");j&&Dr.getInstance(j).hide(),Dr.getOrCreateInstance(_).toggle(this)}),as(Dr),re(Dr);const qa=".bs.offcanvas",Ul=".data-api",Nh=`load${qa}${Ul}`,Cc="show",Di="showing",Lh="hiding",Td=".offcanvas.show",Kr=`show${qa}`,Ta=`shown${qa}`,ji=`hide${qa}`,zu=`hidePrevented${qa}`,_d=`hidden${qa}`,mg=`resize${qa}`,Ef=`click${qa}${Ul}`,Wl=`keydown.dismiss${qa}`,Tf={backdrop:!0,keyboard:!0,scroll:!1},ub={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class jl extends Ue{constructor(_,j){super(_,j),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Tf}static get DefaultType(){return ub}static get NAME(){return"offcanvas"}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||dt.trigger(this._element,Kr,{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new gm().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Di),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Cc),this._element.classList.remove(Di),dt.trigger(this._element,Ta,{relatedTarget:_})},this._element,!0))}hide(){this._isShown&&(dt.trigger(this._element,ji).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Lh),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Cc,Lh),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new gm().reset(),dt.trigger(this._element,_d)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const _=!!this._config.backdrop;return new hm({className:"offcanvas-backdrop",isVisible:_,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:_?()=>{this._config.backdrop!=="static"?this.hide():dt.trigger(this._element,zu)}:null})}_initializeFocusTrap(){return new iu({trapElement:this._element})}_addEventListeners(){dt.on(this._element,Wl,_=>{_.key==="Escape"&&(this._config.keyboard?this.hide():dt.trigger(this._element,zu))})}static jQueryInterface(_){return this.each(function(){const j=jl.getOrCreateInstance(this,_);if(typeof _=="string"){if(j[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);j[_](this)}})}}dt.on(document,Ef,'[data-bs-toggle="offcanvas"]',function(Y){const _=U.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&Y.preventDefault(),D(this))return;dt.one(_,_d,()=>{N(this)&&this.focus()});const j=U.findOne(Td);j&&j!==_&&jl.getInstance(j).hide(),jl.getOrCreateInstance(_).toggle(this)}),dt.on(window,Nh,()=>{for(const Y of U.find(Td))jl.getOrCreateInstance(Y).show()}),dt.on(window,mg,()=>{for(const Y of U.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(Y).position!=="fixed"&&jl.getOrCreateInstance(Y).hide()}),as(jl),re(jl);const hg={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},pg=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),bm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Vu=(Y,_)=>{const j=Y.nodeName.toLowerCase();return _.includes(j)?!pg.has(j)||!!bm.test(Y.nodeValue):_.filter(me=>me instanceof RegExp).some(me=>me.test(j))},Ih={allowList:hg,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Vs={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ks={entry:"(string|element|function|null)",selector:"(string|element)"};class lu extends rn{constructor(_){super(),this._config=this._getConfig(_)}static get Default(){return Ih}static get DefaultType(){return Vs}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(_=>this._resolvePossibleFunction(_)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(_){return this._checkContent(_),this._config.content={...this._config.content,..._},this}toHtml(){const _=document.createElement("div");_.innerHTML=this._maybeSanitize(this._config.template);for(const[Ye,nt]of Object.entries(this._config.content))this._setContent(_,nt,Ye);const j=_.children[0],me=this._resolvePossibleFunction(this._config.extraClass);return me&&j.classList.add(...me.split(" ")),j}_typeCheckConfig(_){super._typeCheckConfig(_),this._checkContent(_.content)}_checkContent(_){for(const[j,me]of Object.entries(_))super._typeCheckConfig({selector:j,entry:me},Ks)}_setContent(_,j,me){const Ye=U.findOne(me,_);Ye&&((j=this._resolvePossibleFunction(j))?T(j)?this._putElementInTemplate(k(j),Ye):this._config.html?Ye.innerHTML=this._maybeSanitize(j):Ye.textContent=j:Ye.remove())}_maybeSanitize(_){return this._config.sanitize?function(j,me,Ye){if(!j.length)return j;if(Ye&&typeof Ye=="function")return Ye(j);const nt=new window.DOMParser().parseFromString(j,"text/html"),xt=[].concat(...nt.body.querySelectorAll("*"));for(const Ft of xt){const an=Ft.nodeName.toLowerCase();if(!Object.keys(me).includes(an)){Ft.remove();continue}const at=[].concat(...Ft.attributes),Tn=[].concat(me["*"]||[],me[an]||[]);for(const An of at)Vu(An,Tn)||Ft.removeAttribute(An.nodeName)}return nt.body.innerHTML}(_,this._config.allowList,this._config.sanitizeFn):_}_resolvePossibleFunction(_){return J(_,[this])}_putElementInTemplate(_,j){if(this._config.html)return j.innerHTML="",void j.append(_);j.textContent=_.textContent}}const _f=new Set(["sanitize","allowList","sanitizeFn"]),kf="fade",ur="show",un=".modal",Ec="hide.bs.modal",Af="hover",_a="focus",cs={AUTO:"auto",TOP:"top",RIGHT:X()?"left":"right",BOTTOM:"bottom",LEFT:X()?"right":"left"},kd={allowList:hg,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Rh={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Zl extends Ue{constructor(_,j){if(Za===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(_,j),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return kd}static get DefaultType(){return Rh}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),dt.off(this._element.closest(un),Ec,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const _=dt.trigger(this._element,this.constructor.eventName("show")),j=(L(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(_.defaultPrevented||!j)return;this._disposePopper();const me=this._getTipElement();this._element.setAttribute("aria-describedby",me.getAttribute("id"));const{container:Ye}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Ye.append(me),dt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(me),me.classList.add(ur),"ontouchstart"in document.documentElement)for(const nt of[].concat(...document.body.children))dt.on(nt,"mouseover",R);this._queueCallback(()=>{dt.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!dt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ur),"ontouchstart"in document.documentElement)for(const _ of[].concat(...document.body.children))dt.off(_,"mouseover",R);this._activeTrigger.click=!1,this._activeTrigger[_a]=!1,this._activeTrigger[Af]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),dt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(_){const j=this._getTemplateFactory(_).toHtml();if(!j)return null;j.classList.remove(kf,ur),j.classList.add(`bs-${this.constructor.NAME}-auto`);const me=(Ye=>{do Ye+=Math.floor(1e6*Math.random());while(document.getElementById(Ye));return Ye})(this.constructor.NAME).toString();return j.setAttribute("id",me),this._isAnimated()&&j.classList.add(kf),j}setContent(_){this._newContent=_,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(_){return this._templateFactory?this._templateFactory.changeContent(_):this._templateFactory=new lu({...this._config,content:_,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(_){return this.constructor.getOrCreateInstance(_.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(kf)}_isShown(){return this.tip&&this.tip.classList.contains(ur)}_createPopper(_){const j=J(this._config.placement,[this,_,this._element]),me=cs[j.toUpperCase()];return fs(this._element,_,this._getPopperConfig(me))}_getOffset(){const{offset:_}=this._config;return typeof _=="string"?_.split(",").map(j=>Number.parseInt(j,10)):typeof _=="function"?j=>_(j,this._element):_}_resolvePossibleFunction(_){return J(_,[this._element])}_getPopperConfig(_){const j={placement:_,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:me=>{this._getTipElement().setAttribute("data-popper-placement",me.state.placement)}}]};return{...j,...J(this._config.popperConfig,[j])}}_setListeners(){const _=this._config.trigger.split(" ");for(const j of _)if(j==="click")dt.on(this._element,this.constructor.eventName("click"),this._config.selector,me=>{this._initializeOnDelegatedTarget(me).toggle()});else if(j!=="manual"){const me=j===Af?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),Ye=j===Af?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");dt.on(this._element,me,this._config.selector,nt=>{const xt=this._initializeOnDelegatedTarget(nt);xt._activeTrigger[nt.type==="focusin"?_a:Af]=!0,xt._enter()}),dt.on(this._element,Ye,this._config.selector,nt=>{const xt=this._initializeOnDelegatedTarget(nt);xt._activeTrigger[nt.type==="focusout"?_a:Af]=xt._element.contains(nt.relatedTarget),xt._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},dt.on(this._element.closest(un),Ec,this._hideModalHandler)}_fixTitle(){const _=this._element.getAttribute("title");_&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",_),this._element.setAttribute("data-bs-original-title",_),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(_,j){clearTimeout(this._timeout),this._timeout=setTimeout(_,j)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(_){const j=Hn.getDataAttributes(this._element);for(const me of Object.keys(j))_f.has(me)&&delete j[me];return _={...j,...typeof _=="object"&&_?_:{}},_=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _.container=_.container===!1?document.body:k(_.container),typeof _.delay=="number"&&(_.delay={show:_.delay,hide:_.delay}),typeof _.title=="number"&&(_.title=_.title.toString()),typeof _.content=="number"&&(_.content=_.content.toString()),_}_getDelegateConfig(){const _={};for(const[j,me]of Object.entries(this._config))this.constructor.Default[j]!==me&&(_[j]=me);return _.selector=!1,_.trigger="manual",_}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(_){return this.each(function(){const j=Zl.getOrCreateInstance(this,_);if(typeof _=="string"){if(j[_]===void 0)throw new TypeError(`No method named "${_}"`);j[_]()}})}}re(Zl);const db={...Zl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Xn={...Zl.DefaultType,content:"(null|string|element|function)"};class dr extends Zl{static get Default(){return db}static get DefaultType(){return Xn}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(_){return this.each(function(){const j=dr.getOrCreateInstance(this,_);if(typeof _=="string"){if(j[_]===void 0)throw new TypeError(`No method named "${_}"`);j[_]()}})}}re(dr);const Uu=".bs.scrollspy",Ad=`activate${Uu}`,ym=`click${Uu}`,gg=`load${Uu}.data-api`,Od="active",Mi="[href]",pl=".nav-link",wm=`${pl}, .nav-item > ${pl}, .list-group-item`,Mr={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Bh={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Is extends Ue{constructor(_,j){super(_,j),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Mr}static get DefaultType(){return Bh}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const _ of this._observableSections.values())this._observer.observe(_)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(_){return _.target=k(_.target)||document.body,_.rootMargin=_.offset?`${_.offset}px 0px -30%`:_.rootMargin,typeof _.threshold=="string"&&(_.threshold=_.threshold.split(",").map(j=>Number.parseFloat(j))),_}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(dt.off(this._config.target,ym),dt.on(this._config.target,ym,Mi,_=>{const j=this._observableSections.get(_.target.hash);if(j){_.preventDefault();const me=this._rootElement||window,Ye=j.offsetTop-this._element.offsetTop;if(me.scrollTo)return void me.scrollTo({top:Ye,behavior:"smooth"});me.scrollTop=Ye}}))}_getNewObserver(){const _={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(j=>this._observerCallback(j),_)}_observerCallback(_){const j=xt=>this._targetLinks.get(`#${xt.target.id}`),me=xt=>{this._previousScrollData.visibleEntryTop=xt.target.offsetTop,this._process(j(xt))},Ye=(this._rootElement||document.documentElement).scrollTop,nt=Ye>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Ye;for(const xt of _){if(!xt.isIntersecting){this._activeTarget=null,this._clearActiveClass(j(xt));continue}const Ft=xt.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(nt&&Ft){if(me(xt),!Ye)return}else nt||Ft||me(xt)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const _=U.find(Mi,this._config.target);for(const j of _){if(!j.hash||D(j))continue;const me=U.findOne(decodeURI(j.hash),this._element);N(me)&&(this._targetLinks.set(decodeURI(j.hash),j),this._observableSections.set(j.hash,me))}}_process(_){this._activeTarget!==_&&(this._clearActiveClass(this._config.target),this._activeTarget=_,_.classList.add(Od),this._activateParents(_),dt.trigger(this._element,Ad,{relatedTarget:_}))}_activateParents(_){if(_.classList.contains("dropdown-item"))U.findOne(".dropdown-toggle",_.closest(".dropdown")).classList.add(Od);else for(const j of U.parents(_,".nav, .list-group"))for(const me of U.prev(j,wm))me.classList.add(Od)}_clearActiveClass(_){_.classList.remove(Od);const j=U.find(`${Mi}.${Od}`,_);for(const me of j)me.classList.remove(Od)}static jQueryInterface(_){return this.each(function(){const j=Is.getOrCreateInstance(this,_);if(typeof _=="string"){if(j[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);j[_]()}})}}dt.on(window,gg,()=>{for(const Y of U.find('[data-bs-spy="scroll"]'))Is.getOrCreateInstance(Y)}),re(Is);const ka=".bs.tab",Dd=`hide${ka}`,ms=`hidden${ka}`,Tc=`show${ka}`,fb=`shown${ka}`,Sm=`click${ka}`,Us=`keydown${ka}`,Of=`load${ka}`,Ga="ArrowLeft",Df="ArrowRight",xm="ArrowUp",Cm="ArrowDown",Mf="Home",A="End",B="active",K="fade",pe="show",Ee=".dropdown-toggle",St=`:not(${Ee})`,xn='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Wn=`.nav-link${St}, .list-group-item${St}, [role="tab"]${St}, ${xn}`,Bn=`.${B}[data-bs-toggle="tab"], .${B}[data-bs-toggle="pill"], .${B}[data-bs-toggle="list"]`;class pn extends Ue{constructor(_){super(_),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),dt.on(this._element,Us,j=>this._keydown(j)))}static get NAME(){return"tab"}show(){const _=this._element;if(this._elemIsActive(_))return;const j=this._getActiveElem(),me=j?dt.trigger(j,Dd,{relatedTarget:_}):null;dt.trigger(_,Tc,{relatedTarget:j}).defaultPrevented||me&&me.defaultPrevented||(this._deactivate(j,_),this._activate(_,j))}_activate(_,j){_&&(_.classList.add(B),this._activate(U.getElementFromSelector(_)),this._queueCallback(()=>{_.getAttribute("role")==="tab"?(_.removeAttribute("tabindex"),_.setAttribute("aria-selected",!0),this._toggleDropDown(_,!0),dt.trigger(_,fb,{relatedTarget:j})):_.classList.add(pe)},_,_.classList.contains(K)))}_deactivate(_,j){_&&(_.classList.remove(B),_.blur(),this._deactivate(U.getElementFromSelector(_)),this._queueCallback(()=>{_.getAttribute("role")==="tab"?(_.setAttribute("aria-selected",!1),_.setAttribute("tabindex","-1"),this._toggleDropDown(_,!1),dt.trigger(_,ms,{relatedTarget:j})):_.classList.remove(pe)},_,_.classList.contains(K)))}_keydown(_){if(![Ga,Df,xm,Cm,Mf,A].includes(_.key))return;_.stopPropagation(),_.preventDefault();const j=this._getChildren().filter(Ye=>!D(Ye));let me;if([Mf,A].includes(_.key))me=j[_.key===Mf?0:j.length-1];else{const Ye=[Df,Cm].includes(_.key);me=ce(j,_.target,Ye,!0)}me&&(me.focus({preventScroll:!0}),pn.getOrCreateInstance(me).show())}_getChildren(){return U.find(Wn,this._parent)}_getActiveElem(){return this._getChildren().find(_=>this._elemIsActive(_))||null}_setInitialAttributes(_,j){this._setAttributeIfNotExists(_,"role","tablist");for(const me of j)this._setInitialAttributesOnChild(me)}_setInitialAttributesOnChild(_){_=this._getInnerElement(_);const j=this._elemIsActive(_),me=this._getOuterElement(_);_.setAttribute("aria-selected",j),me!==_&&this._setAttributeIfNotExists(me,"role","presentation"),j||_.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(_,"role","tab"),this._setInitialAttributesOnTargetPanel(_)}_setInitialAttributesOnTargetPanel(_){const j=U.getElementFromSelector(_);j&&(this._setAttributeIfNotExists(j,"role","tabpanel"),_.id&&this._setAttributeIfNotExists(j,"aria-labelledby",`${_.id}`))}_toggleDropDown(_,j){const me=this._getOuterElement(_);if(!me.classList.contains("dropdown"))return;const Ye=(nt,xt)=>{const Ft=U.findOne(nt,me);Ft&&Ft.classList.toggle(xt,j)};Ye(Ee,B),Ye(".dropdown-menu",pe),me.setAttribute("aria-expanded",j)}_setAttributeIfNotExists(_,j,me){_.hasAttribute(j)||_.setAttribute(j,me)}_elemIsActive(_){return _.classList.contains(B)}_getInnerElement(_){return _.matches(Wn)?_:U.findOne(Wn,_)}_getOuterElement(_){return _.closest(".nav-item, .list-group-item")||_}static jQueryInterface(_){return this.each(function(){const j=pn.getOrCreateInstance(this);if(typeof _=="string"){if(j[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);j[_]()}})}}dt.on(document,Sm,xn,function(Y){["A","AREA"].includes(this.tagName)&&Y.preventDefault(),D(this)||pn.getOrCreateInstance(this).show()}),dt.on(window,Of,()=>{for(const Y of U.find(Bn))pn.getOrCreateInstance(Y)}),re(pn);const Ko=".bs.toast",Jr=`mouseover${Ko}`,Ba=`mouseout${Ko}`,cu=`focusin${Ko}`,Em=`focusout${Ko}`,mb=`hide${Ko}`,Zi=`hidden${Ko}`,hb=`show${Ko}`,yx=`shown${Ko}`,pb="hide",Pr="show",Md="showing",Wr={animation:"boolean",autohide:"boolean",delay:"number"},gb={animation:!0,autohide:!0,delay:5e3};class qi extends Ue{constructor(_,j){super(_,j),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return gb}static get DefaultType(){return Wr}static get NAME(){return"toast"}show(){dt.trigger(this._element,hb).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(pb),q(this._element),this._element.classList.add(Pr,Md),this._queueCallback(()=>{this._element.classList.remove(Md),dt.trigger(this._element,yx),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(dt.trigger(this._element,mb).defaultPrevented||(this._element.classList.add(Md),this._queueCallback(()=>{this._element.classList.add(pb),this._element.classList.remove(Md,Pr),dt.trigger(this._element,Zi)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Pr),super.dispose()}isShown(){return this._element.classList.contains(Pr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(_,j){switch(_.type){case"mouseover":case"mouseout":this._hasMouseInteraction=j;break;case"focusin":case"focusout":this._hasKeyboardInteraction=j}if(j)return void this._clearTimeout();const me=_.relatedTarget;this._element===me||this._element.contains(me)||this._maybeScheduleHide()}_setListeners(){dt.on(this._element,Jr,_=>this._onInteraction(_,!0)),dt.on(this._element,Ba,_=>this._onInteraction(_,!1)),dt.on(this._element,cu,_=>this._onInteraction(_,!0)),dt.on(this._element,Em,_=>this._onInteraction(_,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(_){return this.each(function(){const j=qi.getOrCreateInstance(this,_);if(typeof _=="string"){if(j[_]===void 0)throw new TypeError(`No method named "${_}"`);j[_](this)}})}}return as(qi),re(qi),{Alert:Zo,Button:zn,Carousel:Ys,Collapse:_r,Dropdown:Vr,Modal:Dr,Offcanvas:jl,Popover:dr,ScrollSpy:Is,Tab:pn,Toast:qi,Tooltip:Zl}})})(eoe);/*! DataTables 2.1.5
 * © SpryMedia Ltd - datatables.net/license
 */var Te=Go,Wt=function(l,r){if(Wt.factory(l,r))return Wt;if(this instanceof Wt)return Te(l).DataTable(r);r=l;var d=this,m=r===void 0,v=this.length;return m&&(r={}),this.api=function(){return new Ls(this)},this.each(function(){var y={},S=v>1?jJ(y,r,!0):r,T=0,k,N=this.getAttribute("id"),D=Wt.defaults,L=Te(this);if(this.nodeName.toLowerCase()!="table"){lf(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}Te(this).trigger("options.dt",S),$J(D),zQ(D.column),nb(D,D,!0),nb(D.column,D.column,!0),nb(D,Te.extend(S,L.data()),!0);var R=Wt.settings;for(T=0,k=R.length;T<k;T++){var q=R[T];if(q.nTable==this||q.nTHead&&q.nTHead.parentNode==this||q.nTFoot&&q.nTFoot.parentNode==this){var G=S.bRetrieve!==void 0?S.bRetrieve:D.bRetrieve,ee=S.bDestroy!==void 0?S.bDestroy:D.bDestroy;if(m||G)return q.oInstance;if(ee){new Wt.Api(q).destroy();break}else{lf(q,0,"Cannot reinitialise DataTable",3);return}}if(q.sTableId==this.id){R.splice(T,1);break}}(N===null||N==="")&&(N="DataTables_Table_"+Wt.ext._unique++,this.id=N);var X=Te.extend(!0,{},Wt.models.oSettings,{sDestroyWidth:L[0].style.width,sInstance:N,sTableId:N,colgroup:Te("<colgroup>").prependTo(this),fastData:function(Oe,P,et){return cf(X,Oe,P,et)}});X.nTable=this,X.oInit=S,R.push(X),X.api=new Ls(X),X.oInstance=d.length===1?d:L.dataTable(),$J(S),S.aLengthMenu&&!S.iDisplayLength&&(S.iDisplayLength=Array.isArray(S.aLengthMenu[0])?S.aLengthMenu[0][0]:Te.isPlainObject(S.aLengthMenu[0])?S.aLengthMenu[0].value:S.aLengthMenu[0]),S=jJ(Te.extend(!0,{},D),S),sb(X.oFeatures,S,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),sb(X,S,["ajax","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","iStateDuration","bSortCellsTop","iTabIndex","sDom","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId","caption","layout","orderDescReverse",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),sb(X.oScroll,S,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),sb(X.oLanguage,S,"fnInfoCallback"),rf(X,"aoDrawCallback",S.fnDrawCallback),rf(X,"aoStateSaveParams",S.fnStateSaveParams),rf(X,"aoStateLoadParams",S.fnStateLoadParams),rf(X,"aoStateLoaded",S.fnStateLoaded),rf(X,"aoRowCallback",S.fnRowCallback),rf(X,"aoRowCreatedCallback",S.fnCreatedRow),rf(X,"aoHeaderCallback",S.fnHeaderCallback),rf(X,"aoFooterCallback",S.fnFooterCallback),rf(X,"aoInitComplete",S.fnInitComplete),rf(X,"aoPreDrawCallback",S.fnPreDrawCallback),X.rowIdFn=ax(S.rowId),ioe(X);var re=X.oClasses;Te.extend(re,Wt.ext.classes,S.oClasses),L.addClass(re.table),X.oFeatures.bPaginate||(S.iDisplayStart=0),X.iInitDisplayStart===void 0&&(X.iInitDisplayStart=S.iDisplayStart,X._iDisplayStart=S.iDisplayStart);var J=S.iDeferLoading;if(J!==null){X.deferLoading=!0;var F=Array.isArray(J);X._iRecordsDisplay=F?J[0]:J,X._iRecordsTotal=F?J[1]:J}var ce=[],Re=this.getElementsByTagName("thead"),ze=XQ(X,Re[0]);if(S.aoColumns)ce=S.aoColumns;else if(ze.length)for(T=0,k=ze[0].length;T<k;T++)ce.push(null);for(T=0,k=ce.length;T<k;T++)VQ(X);coe(X,S.aoColumnDefs,ce,ze,function(Oe,P){HX(X,Oe,P)});var ie=L.children("tbody").find("tr").eq(0);if(ie.length){var He=function(Oe,P){return Oe.getAttribute("data-"+P)!==null?P:null};Te(ie[0]).children("th, td").each(function(Oe,P){var et=X.aoColumns[Oe];if(et||lf(X,0,"Incorrect column count",18),et.mData===Oe){var _e=He(P,"sort")||He(P,"order"),$t=He(P,"filter")||He(P,"search");(_e!==null||$t!==null)&&(et.mData={_:Oe+".display",sort:_e!==null?Oe+".@data-"+_e:void 0,type:_e!==null?Oe+".@data-"+_e:void 0,filter:$t!==null?Oe+".@data-"+$t:void 0},et._isArrayHost=!0,HX(X,Oe))}})}rf(X,"aoDrawCallback",B$);var Ze=X.oFeatures;if(S.bStateSave&&(Ze.bStateSave=!0),S.aaSorting===void 0){var Fe=X.aaSorting;for(T=0,k=Fe.length;T<k;T++)Fe[T][1]=X.aoColumns[T].asSorting[0]}UX(X),rf(X,"aoDrawCallback",function(){(X.bSorted||vd(X)==="ssp"||Ze.bDeferRender)&&UX(X)});var he=L.children("caption");X.caption&&(he.length===0&&(he=Te("<caption/>").appendTo(L)),he.html(X.caption)),he.length&&(he[0]._captionSide=he.css("caption-side"),X.captionNode=he[0]),Re.length===0&&(Re=Te("<thead/>").appendTo(L)),X.nTHead=Re[0],Te("tr",Re).addClass(re.thead.row);var xe=L.children("tbody");xe.length===0&&(xe=Te("<tbody/>").insertAfter(Re)),X.nTBody=xe[0];var Be=L.children("tfoot");Be.length===0&&(Be=Te("<tfoot/>").appendTo(L)),X.nTFoot=Be[0],Te("tr",Be).addClass(re.tfoot.row),X.aiDisplay=X.aiDisplayMaster.slice(),X.bInitialised=!0;var Me=X.oLanguage;Te.extend(!0,Me,S.oLanguage),Me.sUrl?Te.ajax({dataType:"json",url:Me.sUrl,success:function(Oe){nb(D.oLanguage,Oe),Te.extend(!0,Me,Oe,X.oInit.oLanguage),rr(X,null,"i18n",[X],!0),l$(X)},error:function(){lf(X,0,"i18n file loading error",21),l$(X)}}):(rr(X,null,"i18n",[X]),l$(X))}),d=null,this};Wt.ext=al={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],features:{},search:[],selector:{cell:[],column:[],row:[]},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{className:{},detect:[],render:{},search:{},order:{}},_unique:0,fnVersionCheck:Wt.fnVersionCheck,iApiIndex:0,sVersion:Wt.version};Te.extend(al,{afnFiltering:al.search,aTypes:al.type.detect,ofnSearch:al.type.search,oSort:al.type.order,afnSortData:al.order,aoFeatures:al.feature,oStdClasses:al.classes,oPagination:al.pager});Te.extend(Wt.ext.classes,{container:"dt-container",empty:{row:"dt-empty"},info:{container:"dt-info"},layout:{row:"dt-layout-row",cell:"dt-layout-cell",tableRow:"dt-layout-table",tableCell:"",start:"dt-layout-start",end:"dt-layout-end",full:"dt-layout-full"},length:{container:"dt-length",select:"dt-input"},order:{canAsc:"dt-orderable-asc",canDesc:"dt-orderable-desc",isAsc:"dt-ordering-asc",isDesc:"dt-ordering-desc",none:"dt-orderable-none",position:"sorting_"},processing:{container:"dt-processing"},scrolling:{body:"dt-scroll-body",container:"dt-scroll",footer:{self:"dt-scroll-foot",inner:"dt-scroll-footInner"},header:{self:"dt-scroll-head",inner:"dt-scroll-headInner"}},search:{container:"dt-search",input:"dt-input"},table:"dataTable",tbody:{cell:"",row:""},thead:{cell:"",row:""},tfoot:{cell:"",row:""},paging:{active:"current",button:"dt-paging-button",container:"dt-paging",disabled:"disabled",nav:""}});var al,Ls,io,Br,bX={},toe=/[\r\n\u2028]/g,sY=/<([^>]*>)/g,noe=Math.pow(2,28),BJ=/^\d{2,4}[./-]\d{1,2}[./-]\d{1,2}([T ]{1}\d{1,2}[:.]\d{2}([.:]\d{2})?)?$/,ooe=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),rY=/['\u00A0,$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi,um=function(l){return!l||l===!0||l==="-"},$Q=function(l){var r=parseInt(l,10);return!isNaN(r)&&isFinite(l)?r:null},FQ=function(l,r){return bX[r]||(bX[r]=new RegExp(VX(r),"g")),typeof l=="string"&&r!=="."?l.replace(/\./g,"").replace(bX[r],"."):l},FO=function(l,r,d,m){var v=typeof l,y=v==="string";return v==="number"||v==="bigint"||m&&um(l)?!0:(r&&y&&(l=FQ(l,r)),d&&y&&(l=l.replace(rY,"")),!isNaN(parseFloat(l))&&isFinite(l))},soe=function(l){return um(l)||typeof l=="string"},f$=function(l,r,d,m){if(m&&um(l))return!0;if(typeof l=="string"&&l.match(/<(input|select)/i))return null;var v=soe(l);return v&&FO(ty(l),r,d,m)?!0:null},Mu=function(l,r,d){var m=[],v=0,y=l.length;if(d!==void 0)for(;v<y;v++)l[v]&&l[v][r]&&m.push(l[v][r][d]);else for(;v<y;v++)l[v]&&m.push(l[v][r]);return m},WO=function(l,r,d,m){var v=[],y=0,S=r.length;if(m!==void 0)for(;y<S;y++)l[r[y]][d]&&v.push(l[r[y]][d][m]);else for(;y<S;y++)l[r[y]]&&v.push(l[r[y]][d]);return v},tb=function(l,r){var d=[],m;r===void 0?(r=0,m=l):(m=r,r=l);for(var v=r;v<m;v++)d.push(v);return d},HQ=function(l){for(var r=[],d=0,m=l.length;d<m;d++)l[d]&&r.push(l[d]);return r},ty=function(l){if(!l||typeof l!="string")return l;if(l.length>noe)throw new Error("Exceeded max str len");var r;l=l.replace(sY,"");do r=l,l=l.replace(/<script/i,"");while(l!==r);return r},ox=function(l){return Array.isArray(l)&&(l=l.join(",")),typeof l=="string"?l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):l},m$=function(l,r){if(typeof l!="string")return l;var d=l.normalize("NFD");return d.length!==l.length?(r===!0?l+" ":"")+d.replace(/[\u0300-\u036f]/g,""):d},roe=function(l){if(l.length<2)return!0;for(var r=l.slice().sort(),d=r[0],m=1,v=r.length;m<v;m++){if(r[m]===d)return!1;d=r[m]}return!0},ay=function(l){if(Array.from&&Set)return Array.from(new Set(l));if(roe(l))return l.slice();var r=[],d,m,v=l.length,y,S=0;e:for(m=0;m<v;m++){for(d=l[m],y=0;y<S;y++)if(r[y]===d)continue e;r.push(d),S++}return r},iY=function(l,r){if(Array.isArray(r))for(var d=0;d<r.length;d++)iY(l,r[d]);else l.push(r);return l};function sx(l,r){r&&r.split(" ").forEach(function(d){d&&l.classList.add(d)})}Wt.util={diacritics:function(l,r){var d=typeof l;if(d!=="function")return m$(l,r);m$=l},debounce:function(l,r){var d;return function(){var m=this,v=arguments;clearTimeout(d),d=setTimeout(function(){l.apply(m,v)},r||250)}},throttle:function(l,r){var d=r!==void 0?r:200,m,v;return function(){var y=this,S=+new Date,T=arguments;m&&S<m+d?(clearTimeout(v),v=setTimeout(function(){m=void 0,l.apply(y,T)},d)):(m=S,l.apply(y,T))}},escapeRegex:function(l){return l.replace(ooe,"\\$1")},set:function(l){if(Te.isPlainObject(l))return Wt.util.set(l._);if(l===null)return function(){};if(typeof l=="function")return function(d,m,v){l(d,"set",m,v)};if(typeof l=="string"&&(l.indexOf(".")!==-1||l.indexOf("[")!==-1||l.indexOf("(")!==-1)){var r=function(d,m,v){for(var y=HJ(v),S,T=y[y.length-1],k,N,D,L,R=0,q=y.length-1;R<q;R++){if(y[R]==="__proto__"||y[R]==="constructor")throw new Error("Cannot set prototype values");if(k=y[R].match(PO),N=y[R].match(nx),k){if(y[R]=y[R].replace(PO,""),d[y[R]]=[],S=y.slice(),S.splice(0,R+1),L=S.join("."),Array.isArray(m))for(var G=0,ee=m.length;G<ee;G++)D={},r(D,m[G],L),d[y[R]].push(D);else d[y[R]]=m;return}else N&&(y[R]=y[R].replace(nx,""),d=d[y[R]](m));(d[y[R]]===null||d[y[R]]===void 0)&&(d[y[R]]={}),d=d[y[R]]}T.match(nx)?d=d[T.replace(nx,"")](m):d[T.replace(PO,"")]=m};return function(d,m){return r(d,m,l)}}else return function(d,m){d[l]=m}},get:function(l){if(Te.isPlainObject(l)){var r={};return Te.each(l,function(m,v){v&&(r[m]=Wt.util.get(v))}),function(m,v,y,S){var T=r[v]||r._;return T!==void 0?T(m,v,y,S):m}}else{if(l===null)return function(m){return m};if(typeof l=="function")return function(m,v,y,S){return l(m,v,y,S)};if(typeof l=="string"&&(l.indexOf(".")!==-1||l.indexOf("[")!==-1||l.indexOf("(")!==-1)){var d=function(m,v,y){var S,T,k,N;if(y!=="")for(var D=HJ(y),L=0,R=D.length;L<R;L++){if(S=D[L].match(PO),T=D[L].match(nx),S){if(D[L]=D[L].replace(PO,""),D[L]!==""&&(m=m[D[L]]),k=[],D.splice(0,L+1),N=D.join("."),Array.isArray(m))for(var q=0,G=m.length;q<G;q++)k.push(d(m[q],v,N));var ee=S[0].substring(1,S[0].length-1);m=ee===""?k:k.join(ee);break}else if(T){D[L]=D[L].replace(nx,""),m=m[D[L]]();continue}if(m===null||m[D[L]]===null)return null;if(m===void 0||m[D[L]]===void 0)return;m=m[D[L]]}return m};return function(m,v){return d(m,v,l)}}else return function(m){return m[l]}}},stripHtml:function(l){var r=typeof l;if(r==="function"){ty=l;return}else if(r==="string")return ty(l);return l},escapeHtml:function(l){var r=typeof l;if(r==="function"){ox=l;return}else if(r==="string"||Array.isArray(l))return ox(l);return l},unique:ay};function M$(l){var r="a aa ai ao as b fn i m o s ",d,m,v={};Te.each(l,function(y){d=y.match(/^([^A-Z]+?)([A-Z])/),d&&r.indexOf(d[1]+" ")!==-1&&(m=y.replace(d[0],d[2].toLowerCase()),v[m]=y,d[1]==="o"&&M$(l[y]))}),l._hungarianMap=v}function nb(l,r,d){l._hungarianMap||M$(l);var m;Te.each(r,function(v){m=l._hungarianMap[v],m!==void 0&&(d||r[m]===void 0)&&(m.charAt(0)==="o"?(r[m]||(r[m]={}),Te.extend(!0,r[m],r[v]),nb(l[m],r[m],d)):r[m]=r[v])})}var ku=function(l,r,d){l[r]!==void 0&&(l[d]=l[r])};function $J(l){ku(l,"ordering","bSort"),ku(l,"orderMulti","bSortMulti"),ku(l,"orderClasses","bSortClasses"),ku(l,"orderCellsTop","bSortCellsTop"),ku(l,"order","aaSorting"),ku(l,"orderFixed","aaSortingFixed"),ku(l,"paging","bPaginate"),ku(l,"pagingType","sPaginationType"),ku(l,"pageLength","iDisplayLength"),ku(l,"searching","bFilter"),typeof l.sScrollX=="boolean"&&(l.sScrollX=l.sScrollX?"100%":""),typeof l.scrollX=="boolean"&&(l.scrollX=l.scrollX?"100%":"");var r=l.aoSearchCols;if(r)for(var d=0,m=r.length;d<m;d++)r[d]&&nb(Wt.models.oSearch,r[d]);l.serverSide&&!l.searchDelay&&(l.searchDelay=400)}function zQ(l){ku(l,"orderable","bSortable"),ku(l,"orderData","aDataSort"),ku(l,"orderSequence","asSorting"),ku(l,"orderDataType","sortDataType");var r=l.aDataSort;typeof r=="number"&&!Array.isArray(r)&&(l.aDataSort=[r])}function ioe(l){if(!Wt.__browser){var r={};Wt.__browser=r;var d=Te("<div/>").css({position:"fixed",top:0,left:-1*window.pageXOffset,height:1,width:1,overflow:"hidden"}).append(Te("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(Te("<div/>").css({width:"100%",height:10}))).appendTo("body"),m=d.children(),v=m.children();r.barWidth=m[0].offsetWidth-m[0].clientWidth,r.bScrollbarLeft=Math.round(v.offset().left)!==1,d.remove()}Te.extend(l.oBrowser,Wt.__browser),l.oScroll.iBarWidth=Wt.__browser.barWidth}function VQ(l){var r=Wt.defaults.column,d=l.aoColumns.length,m=Te.extend({},Wt.models.oColumn,r,{aDataSort:r.aDataSort?r.aDataSort:[d],mData:r.mData?r.mData:d,idx:d,searchFixed:{},colEl:Te("<col>").attr("data-dt-column",d)});l.aoColumns.push(m);var v=l.aoPreSearchCols;v[d]=Te.extend({},Wt.models.oSearch,v[d])}function HX(l,r,d){var m=l.aoColumns[r];if(d!=null){zQ(d),nb(Wt.defaults.column,d,!0),d.mDataProp!==void 0&&!d.mData&&(d.mData=d.mDataProp),d.sType&&(m._sManualType=d.sType),d.className&&!d.sClass&&(d.sClass=d.className);var v=m.sClass;Te.extend(m,d),sb(m,d,"sWidth","sWidthOrig"),v!==m.sClass&&(m.sClass=v+" "+m.sClass),d.iDataSort!==void 0&&(m.aDataSort=[d.iDataSort]),sb(m,d,"aDataSort")}var y=m.mData,S=ax(y);if(m.mRender&&Array.isArray(m.mRender)){var T=m.mRender.slice(),k=T.shift();m.mRender=Wt.render[k].apply(window,T)}m._render=m.mRender?ax(m.mRender):null;var N=function(D){return typeof D=="string"&&D.indexOf("@")!==-1};m._bAttrSrc=Te.isPlainObject(y)&&(N(y.sort)||N(y.type)||N(y.filter)),m._setter=null,m.fnGetData=function(D,L,R){var q=S(D,L,void 0,R);return m._render&&L?m._render(q,L,D,R):q},m.fnSetData=function(D,L,R){return Y0(y)(D,L,R)},typeof y!="number"&&!m._isArrayHost&&(l._rowReadObject=!0),l.oFeatures.bSort||(m.bSortable=!1)}function P$(l){Eoe(l),aoe(l);var r=l.oScroll;(r.sY!==""||r.sX!=="")&&QQ(l),rr(l,null,"column-sizing",[l])}function aoe(l){for(var r=l.aoColumns,d=0;d<r.length;d++){var m=WQ(l,[d],!1);r[d].colEl.css("width",m).css("min-width",m)}}function aY(l,r){var d=lY(l,"bVisible");return typeof d[r]=="number"?d[r]:null}function jO(l,r){var d=lY(l,"bVisible"),m=d.indexOf(r);return m!==-1?m:null}function N$(l){var r=l.aoHeader,d=l.aoColumns,m=0;if(r.length)for(var v=0,y=r[0].length;v<y;v++)d[v].bVisible&&Te(r[0][v].cell).css("display")!=="none"&&m++;return m}function lY(l,r){var d=[];return l.aoColumns.map(function(m,v){m[r]&&d.push(v)}),d}function yX(l,r){return r===!0?l.name:r}function UQ(l){var r=l.aoColumns,d=l.aoData,m=Wt.ext.type.detect,v,y,S,T,k,N,D,L,R;if(vd(l)!=="ssp")for(v=0,y=r.length;v<y;v++){if(D=r[v],R=[],!D.sType&&D._sManualType)D.sType=D._sManualType;else if(!D.sType){for(S=0,T=m.length;S<T;S++){var q=m[S],G=q.oneOf,ee=q.allOf||q,X=q.init,re=!1;if(L=null,X&&(L=yX(q,X(l,D,v)),L)){D.sType=L;break}for(k=0,N=d.length;k<N&&!(d[k]&&(R[k]===void 0&&(R[k]=cf(l,k,v,"type")),G&&!re&&(re=yX(q,G(R[k],l))),L=yX(q,ee(R[k],l)),!L&&S!==m.length-3||L==="html"&&!um(R[k])));k++);if(G&&re&&L||!G&&L){D.sType=L;break}}D.sType||(D.sType="string")}var J=al.type.className[D.sType];J&&(FJ(l.aoHeader,v,J),FJ(l.aoFooter,v,J));var F=al.type.render[D.sType];F&&!D._render&&(D._render=Wt.util.get(F),loe(l,v))}}function loe(l,r){for(var d=l.aoData,m=0;m<d.length;m++)if(d[m].nTr){var v=cf(l,m,r,"display");d[m].displayData[r]=v,h$(d[m].anCells[r],v)}}function FJ(l,r,d){l.forEach(function(m){m[r]&&m[r].unique&&sx(m[r].cell,d)})}function coe(l,r,d,m,v){var y,S,T,k,N,D,L,R=l.aoColumns;if(d)for(y=0,S=d.length;y<S;y++)d[y]&&d[y].name&&(R[y].sName=d[y].name);if(r)for(y=r.length-1;y>=0;y--){L=r[y];var q=L.target!==void 0?L.target:L.targets!==void 0?L.targets:L.aTargets;for(Array.isArray(q)||(q=[q]),T=0,k=q.length;T<k;T++){var G=q[T];if(typeof G=="number"&&G>=0){for(;R.length<=G;)VQ(l);v(G,L)}else if(typeof G=="number"&&G<0)v(R.length+G,L);else if(typeof G=="string")for(N=0,D=R.length;N<D;N++)G==="_all"?v(N,L):G.indexOf(":name")!==-1?R[N].sName===G.replace(":name","")&&v(N,L):m.forEach(function(ee){if(ee[N]){var X=Te(ee[N].cell);G.match(/^[a-z][\w-]*$/i)&&(G="."+G),X.is(G)&&v(N,L)}})}}if(d)for(y=0,S=d.length;y<S;y++)v(y,d[y])}function WQ(l,r,d,m){Array.isArray(r)||(r=cY(r));for(var v=0,y,S=l.aoColumns,T=0,k=r.length;T<k;T++){var N=S[r[T]],D=d?N.sWidthOrig:N.sWidth;if(N.bVisible!==!1){if(D==null)return null;if(typeof D=="number")y="px",v+=D;else{var L=D.match(/([\d\.]+)([^\d]*)/);L&&(v+=L[1]*1,y=L.length===3?L[2]:"px")}}}return v+y}function cY(l){var r=Te(l).closest("[data-dt-column]").attr("data-dt-column");return r?r.split(",").map(function(d){return d*1}):[]}function ny(l,r,d,m){var v=l.aoData.length,y=Te.extend(!0,{},Wt.models.oRow,{src:d?"dom":"data",idx:v});y._aData=r,l.aoData.push(y);for(var S=l.aoColumns,T=0,k=S.length;T<k;T++)S[T].sType=null;l.aiDisplayMaster.push(v);var N=l.rowIdFn(r);return N!==void 0&&(l.aIds[N]=y),(d||!l.oFeatures.bDeferRender)&&ZQ(l,v,d,m),v}function uY(l,r){var d;return r instanceof Te||(r=Te(r)),r.map(function(m,v){return d=jQ(l,v),ny(l,d.data,v,d.cells)})}function cf(l,r,d,m){m==="search"?m="filter":m==="order"&&(m="sort");var v=l.aoData[r];if(v){var y=l.iDraw,S=l.aoColumns[d],T=v._aData,k=S.sDefaultContent,N=S.fnGetData(T,m,{settings:l,row:r,col:d});if(m!=="display"&&N&&typeof N=="object"&&N.nodeName&&(N=N.innerHTML),N===void 0)return l.iDrawError!=y&&k===null&&(lf(l,0,"Requested unknown parameter "+(typeof S.mData=="function"?"{function}":"'"+S.mData+"'")+" for row "+r+", column "+d,4),l.iDrawError=y),k;if((N===T||N===null)&&k!==null&&m!==void 0)N=k;else if(typeof N=="function")return N.call(T);if(N===null&&m==="display")return"";if(m==="filter"){var D=Wt.ext.type.search;D[S.sType]&&(N=D[S.sType](N))}return N}}function uoe(l,r,d,m){var v=l.aoColumns[d],y=l.aoData[r]._aData;v.fnSetData(y,m,{settings:l,row:r,col:d})}function h$(l,r){r&&typeof r=="object"&&r.nodeName?Te(l).empty().append(r):l.innerHTML=r}var PO=/\[.*?\]$/,nx=/\(\)$/;function HJ(l){var r=l.match(/(\\.|[^.])+/g)||[""];return r.map(function(d){return d.replace(/\\\./g,".")})}var ax=Wt.util.get,Y0=Wt.util.set;function zJ(l){return Mu(l.aoData,"_aData")}function dY(l){l.aoData.length=0,l.aiDisplayMaster.length=0,l.aiDisplay.length=0,l.aIds={}}function L$(l,r,d,m){var v=l.aoData[r],y,S;if(v._aSortData=null,v._aFilterData=null,v.displayData=null,d==="dom"||(!d||d==="auto")&&v.src==="dom")v._aData=jQ(l,v,m,m===void 0?void 0:v._aData).data;else{var T=v.anCells,k=fY(l,r);if(T)if(m!==void 0)h$(T[m],k[m]);else for(y=0,S=T.length;y<S;y++)h$(T[y],k[y])}var N=l.aoColumns;if(m!==void 0)N[m].sType=null,N[m].maxLenString=null;else{for(y=0,S=N.length;y<S;y++)N[y].sType=null,N[y].maxLenString=null;qQ(l,v)}}function jQ(l,r,d,m){var v=[],y=r.firstChild,S,T,k=0,N,D=l.aoColumns,L=l._rowReadObject;m=m!==void 0?m:L?{}:[];var R=function(J,F){if(typeof J=="string"){var ce=J.indexOf("@");if(ce!==-1){var Re=J.substring(ce+1),ze=Y0(J);ze(m,F.getAttribute(Re))}}},q=function(J){if(d===void 0||d===k)if(T=D[k],N=J.innerHTML.trim(),T&&T._bAttrSrc){var F=Y0(T.mData._);F(m,N),R(T.mData.sort,J),R(T.mData.type,J),R(T.mData.filter,J)}else L?(T._setter||(T._setter=Y0(T.mData)),T._setter(m,N)):m[k]=N;k++};if(y)for(;y;)S=y.nodeName.toUpperCase(),(S=="TD"||S=="TH")&&(q(y),v.push(y)),y=y.nextSibling;else{v=r.anCells;for(var G=0,ee=v.length;G<ee;G++)q(v[G])}var X=r.firstChild?r:r.nTr;if(X){var re=X.getAttribute("id");re&&Y0(l.rowId)(m,re)}return{data:m,cells:v}}function fY(l,r){let d=l.aoData[r],m=l.aoColumns;if(!d.displayData){d.displayData=[];for(var v=0,y=m.length;v<y;v++)d.displayData.push(cf(l,r,v,"display"))}return d.displayData}function ZQ(l,r,d,m){var v=l.aoData[r],y=v._aData,S=[],T,k,N,D,L,R,q=l.oClasses.tbody.row;if(v.nTr===null){for(T=d||document.createElement("tr"),v.nTr=T,v.anCells=S,sx(T,q),T._DT_RowIndex=r,qQ(l,v),D=0,L=l.aoColumns.length;D<L;D++){N=l.aoColumns[D],R=!(d&&m[D]),k=R?document.createElement(N.sCellType):m[D],k||lf(l,0,"Incorrect column count",18),k._DT_CellIndex={row:r,column:D},S.push(k);var G=fY(l,r);(R||(N.mRender||N.mData!==D)&&(!Te.isPlainObject(N.mData)||N.mData._!==D+".display"))&&h$(k,G[D]),sx(k,N.sClass),N.bVisible&&R?T.appendChild(k):!N.bVisible&&!R&&k.parentNode.removeChild(k),N.fnCreatedCell&&N.fnCreatedCell.call(l.oInstance,k,cf(l,r,D),y,r,D)}rr(l,"aoRowCreatedCallback","row-created",[T,y,r,S])}else sx(v.nTr,q)}function qQ(l,r){var d=r.nTr,m=r._aData;if(d){var v=l.rowIdFn(m);if(v&&(d.id=v),m.DT_RowClass){var y=m.DT_RowClass.split(" ");r.__rowc=r.__rowc?ay(r.__rowc.concat(y)):y,Te(d).removeClass(r.__rowc.join(" ")).addClass(m.DT_RowClass)}m.DT_RowAttr&&Te(d).attr(m.DT_RowAttr),m.DT_RowData&&Te(d).data(m.DT_RowData)}}function VJ(l,r){var d=l.oClasses,m=l.aoColumns,v,y,S,T=r==="header"?l.nTHead:l.nTFoot,k=r==="header"?"sTitle":r;if(T){if((r==="header"||Mu(l.aoColumns,k).join(""))&&(S=Te("tr",T),S.length||(S=Te("<tr/>").appendTo(T)),S.length===1)){var N=Te("td, th",S);for(v=N.length,y=m.length;v<y;v++)Te("<th/>").html(m[v][k]||"").appendTo(S)}var D=XQ(l,T,!0);r==="header"?l.aoHeader=D:l.aoFooter=D,Te(T).children("tr").attr("role","row"),Te(T).children("tr").children("th, td").each(function(){v$(l,r)(l,Te(this),d)})}}function GQ(l,r,d){var m,v,y,S=[],T=[],k=l.aoColumns,N=k.length,D,L;if(r){for(d||(d=tb(N).filter(function(G){return k[G].bVisible})),m=0;m<r.length;m++)S[m]=r[m].slice().filter(function(G,ee){return d.includes(ee)}),T.push([]);for(m=0;m<S.length;m++)for(v=0;v<S[m].length;v++)if(D=1,L=1,T[m][v]===void 0){for(y=S[m][v].cell;S[m+D]!==void 0&&S[m][v].cell==S[m+D][v].cell;)T[m+D][v]=null,D++;for(;S[m][v+L]!==void 0&&S[m][v].cell==S[m][v+L].cell;){for(var R=0;R<D;R++)T[m+R][v+L]=null;L++}var q=Te("span.dt-column-title",y);T[m][v]={cell:y,colspan:L,rowspan:D,title:q.length?q.html():Te(y).html()}}return T}}function p$(l,r){for(var d=GQ(l,r),m,v,y=0;y<r.length;y++){if(m=r[y].row,m)for(;v=m.firstChild;)m.removeChild(v);for(var S=0;S<d[y].length;S++){var T=d[y][S];T&&Te(T.cell).appendTo(m).attr("rowspan",T.rowspan).attr("colspan",T.colspan)}}}function hx(l,r){poe(l);var d=rr(l,"aoPreDrawCallback","preDraw",[l]);if(d.indexOf(!1)!==-1){gd(l,!1);return}var m=[],v=0,y=vd(l)=="ssp",S=l.aiDisplay,T=l._iDisplayStart,k=l.fnDisplayEnd(),N=l.aoColumns,D=Te(l.nTBody);if(l.bDrawing=!0,l.deferLoading)l.deferLoading=!1,l.iDraw++,gd(l,!1);else if(!y)l.iDraw++;else if(!l.bDestroying&&!r){l.iDraw===0&&D.empty().append(UJ(l)),goe(l);return}if(S.length!==0)for(var L=y?0:T,R=y?l.aoData.length:k,q=L;q<R;q++){var G=S[q],ee=l.aoData[G];ee.nTr===null&&ZQ(l,G);for(var X=ee.nTr,re=0;re<N.length;re++){var J=N[re],F=ee.anCells[re];sx(F,al.type.className[J.sType]),sx(F,l.oClasses.tbody.cell)}rr(l,"aoRowCallback",null,[X,ee._aData,v,q,G]),m.push(X),v++}else m[0]=UJ(l);rr(l,"aoHeaderCallback","header",[Te(l.nTHead).children("tr")[0],zJ(l),T,k,S]),rr(l,"aoFooterCallback","footer",[Te(l.nTFoot).children("tr")[0],zJ(l),T,k,S]),D[0].replaceChildren?D[0].replaceChildren.apply(D[0],m):(D.children().detach(),D.append(Te(m))),Te(l.nTableWrapper).toggleClass("dt-empty-footer",Te("tr",l.nTFoot).length===0),rr(l,"aoDrawCallback","draw",[l],!0),l.bSorted=!1,l.bFiltered=!1,l.bDrawing=!1}function lx(l,r,d){var m=l.oFeatures,v=m.bSort,y=m.bFilter;(d===void 0||d===!0)&&(UQ(l),v&&pY(l),y?HO(l,l.oPreviousSearch):l.aiDisplay=l.aiDisplayMaster.slice()),r!==!0&&(l._iDisplayStart=0),l._drawHold=r,hx(l),l._drawHold=!1}function UJ(l){var r=l.oLanguage,d=r.sZeroRecords,m=vd(l);return l.iDraw<1&&m==="ssp"||l.iDraw<=1&&m==="ajax"?d=r.sLoadingRecords:r.sEmptyTable&&l.fnRecordsTotal()===0&&(d=r.sEmptyTable),Te("<tr/>").append(Te("<td />",{colSpan:N$(l),class:l.oClasses.empty.row}).html(d))[0]}function zX(l,r,d){if(Array.isArray(d)){for(var m=0;m<d.length;m++)zX(l,r,d[m]);return}var v=l[r];Te.isPlainObject(d)?d.features?(d.rowId&&(l.id=d.rowId),d.rowClass&&(l.className=d.rowClass),v.id=d.id,v.className=d.className,zX(l,r,d.features)):Object.keys(d).map(function(y){v.contents.push({feature:y,opts:d[y]})}):v.contents.push(d)}function doe(l,r,d){for(var m,v=0;v<l.length;v++)if(m=l[v],m.rowNum===r&&(d==="full"&&m.full||(d==="start"||d==="end")&&(m.start||m.end)))return m[d]||(m[d]={contents:[]}),m;return m={rowNum:r},m[d]={contents:[]},l.push(m),m}function WJ(l,r,d){var m=[];Te.each(r,function(y,S){if(S!==null){var T=y.match(/^([a-z]+)([0-9]*)([A-Za-z]*)$/),k=T[2]?T[2]*1:0,N=T[3]?T[3].toLowerCase():"full";if(T[1]===d){var D=doe(m,k,N);zX(D,N,S)}}}),m.sort(function(y,S){var T=y.rowNum,k=S.rowNum;if(T===k){var N=y.full&&!S.full?-1:1;return d==="bottom"?N*-1:N}return k-T}),d==="bottom"&&m.reverse();for(var v=0;v<m.length;v++)delete m[v].rowNum,foe(l,m[v]);return m}function foe(l,r){var d=function(v,y){return al.features[v]||lf(l,0,"Unknown feature: "+v),al.features[v].apply(this,[l,y])},m=function(v){if(r[v])for(var y=r[v].contents,S=0,T=y.length;S<T;S++)if(y[S]){if(typeof y[S]=="string")y[S]=d(y[S],null);else if(Te.isPlainObject(y[S]))y[S]=d(y[S].feature,y[S].opts);else if(typeof y[S].node=="function")y[S]=y[S].node(l);else if(typeof y[S]=="function"){var k=y[S](l);y[S]=typeof k.node=="function"?k.node():k}}else continue};m("start"),m("end"),m("full")}function moe(l){var r=l.oClasses,d=Te(l.nTable),m=Te("<div/>").attr({id:l.sTableId+"_wrapper",class:r.container}).insertBefore(d);if(l.nTableWrapper=m[0],l.sDom)hoe(l,l.sDom,m);else{var v=WJ(l,l.layout,"top"),y=WJ(l,l.layout,"bottom"),S=v$(l,"layout");v.forEach(function(T){S(l,m,T)}),S(l,m,{full:{table:!0,contents:[JQ(l)]}}),y.forEach(function(T){S(l,m,T)})}Coe(l)}function hoe(l,r,d){for(var m=r.match(/(".*?")|('.*?')|./g),v,y,S,T,k,N=0;N<m.length;N++){if(v=null,y=m[N],y=="<"){if(S=Te("<div/>"),T=m[N+1],T[0]=="'"||T[0]=='"'){k=T.replace(/['"]/g,"");var D="",L;if(k.indexOf(".")!=-1){var R=k.split(".");D=R[0],L=R[1]}else k[0]=="#"?D=k:L=k;S.attr("id",D.substring(1)).addClass(L),N++}d.append(S),d=S}else y==">"?d=d.parent():y=="t"?v=JQ(l):Wt.ext.feature.forEach(function(q){y==q.cFeature&&(v=q.fnInit(l))});v&&d.append(v)}}function XQ(l,r,d){var m=l.aoColumns,v=Te(r).children("tr"),y,S,T,k,N,D,L,R,q,G,ee=r&&r.nodeName.toLowerCase()==="thead",X=[],re,J=function(ie,He,Ze){for(var Fe=ie[He];Fe[Ze];)Ze++;return Ze};for(T=0,D=v.length;T<D;T++)X.push([]);for(T=0,D=v.length;T<D;T++)for(y=v[T],R=0,S=y.firstChild;S;){if(S.nodeName.toUpperCase()=="TD"||S.nodeName.toUpperCase()=="TH"){var F=[];if(q=S.getAttribute("colspan")*1,G=S.getAttribute("rowspan")*1,q=!q||q===0||q===1?1:q,G=!G||G===0||G===1?1:G,L=J(X,T,R),re=q===1,d){if(re){HX(l,L,Te(S).data());var ce=m[L],Re=S.getAttribute("width")||null,ze=S.style.width.match(/width:\s*(\d+[pxem%]+)/);ze&&(Re=ze[1]),ce.sWidthOrig=ce.sWidth||Re,ee?(ce.sTitle!==null&&!ce.autoTitle&&(S.innerHTML=ce.sTitle),!ce.sTitle&&re&&(ce.sTitle=ty(S.innerHTML),ce.autoTitle=!0)):ce.footer&&(S.innerHTML=ce.footer),ce.ariaTitle||(ce.ariaTitle=Te(S).attr("aria-label")||ce.sTitle),ce.className&&Te(S).addClass(ce.className)}Te("span.dt-column-title",S).length===0&&Te("<span>").addClass("dt-column-title").append(S.childNodes).appendTo(S),ee&&Te("span.dt-column-order",S).length===0&&Te("<span>").addClass("dt-column-order").appendTo(S)}for(N=0;N<q;N++){for(k=0;k<G;k++)X[T+k][L+N]={cell:S,unique:re},X[T+k].row=y;F.push(L+N)}S.setAttribute("data-dt-column",ay(F).join(","))}S=S.nextSibling}return X}function poe(l){var r=vd(l)=="ssp",d=l.iInitDisplayStart;d!==void 0&&d!==-1&&(l._iDisplayStart=r?d:d>=l.fnRecordsDisplay()?0:d,l.iInitDisplayStart=-1)}function mY(l,r,d){var m,v=l.ajax,y=l.oInstance,S=function(D){var L=l.jqXHR?l.jqXHR.status:null;(D===null||typeof L=="number"&&L==204)&&(D={},I$(l,D,[]));var R=D.error||D.sError;if(R&&lf(l,0,R),D.d&&typeof D.d=="string")try{D=JSON.parse(D.d)}catch{}l.json=D,rr(l,null,"xhr",[l,D,l.jqXHR],!0),d(D)};if(Te.isPlainObject(v)&&v.data){m=v.data;var T=typeof m=="function"?m(r,l):m;r=typeof m=="function"&&T?T:Te.extend(!0,r,T),delete v.data}var k={url:typeof v=="string"?v:"",data:r,success:S,dataType:"json",cache:!1,type:l.sServerMethod,error:function(D,L){var R=rr(l,null,"xhr",[l,null,l.jqXHR],!0);R.indexOf(!0)===-1&&(L=="parsererror"?lf(l,0,"Invalid JSON response",1):D.readyState===4&&lf(l,0,"Ajax error",7)),gd(l,!1)}};if(Te.isPlainObject(v)&&Te.extend(k,v),l.oAjaxData=r,rr(l,null,"preXhr",[l,r,k],!0),typeof v=="function")l.jqXHR=v.call(y,r,S,l);else if(v.url===""){var N={};Wt.util.set(v.dataSrc)(N,[]),S(N)}else l.jqXHR=Te.ajax(k);m&&(v.data=m)}function goe(l){l.iDraw++,gd(l,!0),mY(l,voe(l),function(r){boe(l,r)})}function voe(l){var r=l.aoColumns,d=l.oFeatures,m=l.oPreviousSearch,v=l.aoPreSearchCols,y=function(S,T){return typeof r[S][T]=="function"?"function":r[S][T]};return{draw:l.iDraw,columns:r.map(function(S,T){return{data:y(T,"mData"),name:S.sName,searchable:S.bSearchable,orderable:S.bSortable,search:{value:v[T].search,regex:v[T].regex,fixed:Object.keys(S.searchFixed).map(function(k){return{name:k,term:S.searchFixed[k].toString()}})}}}),order:R$(l).map(function(S){return{column:S.col,dir:S.dir,name:y(S.col,"sName")}}),start:l._iDisplayStart,length:d.bPaginate?l._iDisplayLength:-1,search:{value:m.search,regex:m.regex,fixed:Object.keys(l.searchFixed).map(function(S){return{name:S,term:l.searchFixed[S].toString()}})}}}function boe(l,r){var d=I$(l,r),m=wX(l,"draw",r),v=wX(l,"recordsTotal",r),y=wX(l,"recordsFiltered",r);if(m!==void 0){if(m*1<l.iDraw)return;l.iDraw=m*1}d||(d=[]),dY(l),l._iRecordsTotal=parseInt(v,10),l._iRecordsDisplay=parseInt(y,10);for(var S=0,T=d.length;S<T;S++)ny(l,d[S]);l.aiDisplay=l.aiDisplayMaster.slice(),hx(l,!0),g$(l),gd(l,!1)}function I$(l,r,d){var m="data";if(Te.isPlainObject(l.ajax)&&l.ajax.dataSrc!==void 0){var v=l.ajax.dataSrc;typeof v=="string"||typeof v=="function"?m=v:v.data!==void 0&&(m=v.data)}if(!d)return m==="data"?r.aaData||r[m]:m!==""?ax(m)(r):r;Y0(m)(r,d)}function wX(l,r,d){var m=Te.isPlainObject(l.ajax)?l.ajax.dataSrc:null;if(m&&m[r])return ax(m[r])(d);var v="";return r==="draw"?v="sEcho":r==="recordsTotal"?v="iTotalRecords":r==="recordsFiltered"&&(v="iTotalDisplayRecords"),d[v]!==void 0?d[v]:d[r]}function HO(l,r){var d=l.aoPreSearchCols;if(vd(l)!="ssp"){xoe(l),l.aiDisplay=l.aiDisplayMaster.slice(),n$(l.aiDisplay,l,r.search,r),Te.each(l.searchFixed,function(y,S){n$(l.aiDisplay,l,S,{})});for(var m=0;m<d.length;m++){var v=d[m];n$(l.aiDisplay,l,v.search,v,m),Te.each(l.aoColumns[m].searchFixed,function(y,S){n$(l.aiDisplay,l,S,{},m)})}yoe(l)}l.bFiltered=!0,rr(l,null,"search",[l])}function yoe(l){for(var r=Wt.ext.search,d=l.aiDisplay,m,v,y=0,S=r.length;y<S;y++){for(var T=[],k=0,N=d.length;k<N;k++)v=d[k],m=l.aoData[v],r[y](l,m._aFilterData,v,m._aData,k)&&T.push(v);d.length=0,d.push.apply(d,T)}}function n$(l,r,d,m,v){if(d!==""){var y=0,S=[],T=typeof d=="function"?d:null,k=d instanceof RegExp?d:T?null:woe(d,m);for(y=0;y<l.length;y++){var N=r.aoData[l[y]],D=v===void 0?N._sFilterRow:N._aFilterData[v];(T&&T(D,N._aData,l[y],v)||k&&k.test(D))&&S.push(l[y])}for(l.length=S.length,y=0;y<S.length;y++)l[y]=S[y]}}function woe(l,r){var d=[],m=Te.extend({},{boundary:!1,caseInsensitive:!0,exact:!1,regex:!1,smart:!0},r);if(typeof l!="string"&&(l=l.toString()),l=m$(l),m.exact)return new RegExp("^"+VX(l)+"$",m.caseInsensitive?"i":"");if(l=m.regex?l:VX(l),m.smart){var v=l.match(/!?["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],y=v.map(function(k){var N=!1,D;return k.charAt(0)==="!"&&(N=!0,k=k.substring(1)),k.charAt(0)==='"'?(D=k.match(/^"(.*)"$/),k=D?D[1]:k):k.charAt(0)==="“"&&(D=k.match(/^\u201C(.*)\u201D$/),k=D?D[1]:k),N&&(k.length>1&&d.push("(?!"+k+")"),k=""),k.replace(/"/g,"")}),S=d.length?d.join(""):"",T=m.boundary?"\\b":"";l="^(?=.*?"+T+y.join(")(?=.*?"+T)+")("+S+".)*$"}return new RegExp(l,m.caseInsensitive?"i":"")}var VX=Wt.util.escapeRegex,a$=Te("<div>")[0],Soe=a$.textContent!==void 0;function xoe(l){for(var r=l.aoColumns,d=l.aoData,m,v,y,S,T,k,N=!1,D=0;D<d.length;D++)if(d[D]&&(k=d[D],!k._aFilterData)){for(S=[],v=0,y=r.length;v<y;v++)m=r[v],m.bSearchable?(T=cf(l,D,v,"filter"),T===null&&(T=""),typeof T!="string"&&T.toString&&(T=T.toString())):T="",T.indexOf&&T.indexOf("&")!==-1&&(a$.innerHTML=T,T=Soe?a$.textContent:a$.innerText),T.replace&&(T=T.replace(/[\r\n\u2028]/g,"")),S.push(T);k._aFilterData=S,k._sFilterRow=S.join("  "),N=!0}return N}function l$(l){var r,d=l.oInit,m=l.deferLoading,v=vd(l);if(!l.bInitialised){setTimeout(function(){l$(l)},200);return}VJ(l,"header"),VJ(l,"footer"),Ooe(l,d,function(){p$(l,l.aoHeader),p$(l,l.aoFooter);var y=l.iInitDisplayStart;if(d.aaData)for(r=0;r<d.aaData.length;r++)ny(l,d.aaData[r]);else(m||v=="dom")&&uY(l,Te(l.nTBody).children("tr"));l.aiDisplay=l.aiDisplayMaster.slice(),moe(l),_oe(l),eee(l),gd(l,!0),rr(l,null,"preInit",[l],!0),lx(l),(v!="ssp"||m)&&(v=="ajax"?mY(l,{},function(S){var T=I$(l,S);for(r=0;r<T.length;r++)ny(l,T[r]);l.iInitDisplayStart=y,lx(l),gd(l,!1),g$(l)}):(g$(l),gd(l,!1)))})}function g$(l){if(!l._bInitComplete){var r=[l,l.json];l._bInitComplete=!0,P$(l),rr(l,null,"plugin-init",r,!0),rr(l,"aoInitComplete","init",r,!0)}}function YQ(l,r){var d=parseInt(r,10);l._iDisplayLength=d,see(l),rr(l,null,"length",[l,d])}function hY(l,r,d){var m=l._iDisplayStart,v=l._iDisplayLength,y=l.fnRecordsDisplay();if(y===0||v===-1)m=0;else if(typeof r=="number")m=r*v,m>y&&(m=0);else if(r=="first")m=0;else if(r=="previous")m=v>=0?m-v:0,m<0&&(m=0);else if(r=="next")m+v<y&&(m+=v);else if(r=="last")m=Math.floor((y-1)/v)*v;else{if(r==="ellipsis")return;lf(l,0,"Unknown paging action: "+r,5)}var S=l._iDisplayStart!==m;return l._iDisplayStart=m,rr(l,null,S?"page":"page-nc",[l]),S&&d&&hx(l),S}function Coe(l){var r=l.nTable,d=l.oScroll.sX!==""||l.oScroll.sY!=="";if(l.oFeatures.bProcessing){var m=Te("<div/>",{id:l.sTableId+"_processing",class:l.oClasses.processing.container,role:"status"}).html(l.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>");d?m.prependTo(Te("div.dt-scroll",l.nTableWrapper)):m.insertBefore(r),Te(r).on("processing.dt.DT",function(v,y,S){m.css("display",S?"block":"none")})}}function gd(l,r){l.bDrawing&&r===!1||rr(l,null,"processing",[l,r])}function KQ(l,r,d){r?(gd(l,!0),setTimeout(function(){d(),gd(l,!1)},0)):d()}function JQ(l){var r=Te(l.nTable),d=l.oScroll;if(d.sX===""&&d.sY==="")return l.nTable;var m=d.sX,v=d.sY,y=l.oClasses.scrolling,S=l.captionNode,T=S?S._captionSide:null,k=Te(r[0].cloneNode(!1)),N=Te(r[0].cloneNode(!1)),D=r.children("tfoot"),L="<div/>",R=function(J){return J?ob(J):null};D.length||(D=null);var q=Te(L,{class:y.container}).append(Te(L,{class:y.header.self}).css({overflow:"hidden",position:"relative",border:0,width:m?R(m):"100%"}).append(Te(L,{class:y.header.inner}).css({"box-sizing":"content-box",width:d.sXInner||"100%"}).append(k.removeAttr("id").css("margin-left",0).append(T==="top"?S:null).append(r.children("thead"))))).append(Te(L,{class:y.body}).css({position:"relative",overflow:"auto",width:R(m)}).append(r));D&&q.append(Te(L,{class:y.footer.self}).css({overflow:"hidden",border:0,width:m?R(m):"100%"}).append(Te(L,{class:y.footer.inner}).append(N.removeAttr("id").css("margin-left",0).append(T==="bottom"?S:null).append(r.children("tfoot")))));var G=q.children(),ee=G[0],X=G[1],re=D?G[2]:null;return Te(X).on("scroll.DT",function(){var J=this.scrollLeft;ee.scrollLeft=J,D&&(re.scrollLeft=J)}),Te("th, td",ee).on("focus",function(){var J=ee.scrollLeft;X.scrollLeft=J,D&&(X.scrollLeft=J)}),Te(X).css("max-height",v),d.bCollapse||Te(X).css("height",v),l.nScrollHead=ee,l.nScrollBody=X,l.nScrollFoot=re,l.aoDrawCallback.push(QQ),q[0]}function QQ(l){var r=l.oScroll,d=r.iBarWidth,m=Te(l.nScrollHead),v=m.children("div"),y=v.children("table"),S=l.nScrollBody,T=Te(S),k=Te(l.nScrollFoot),N=k.children("div"),D=N.children("table"),L=Te(l.nTHead),R=Te(l.nTable),q=l.nTFoot&&Te("th, td",l.nTFoot).length?Te(l.nTFoot):null,G=l.oBrowser,ee,X,re=S.scrollHeight>S.clientHeight;if(l.scrollBarVis!==re&&l.scrollBarVis!==void 0){l.scrollBarVis=re,P$(l);return}else l.scrollBarVis=re;if(R.children("thead, tfoot").remove(),ee=L.clone().prependTo(R),ee.find("th, td").removeAttr("tabindex"),ee.find("[id]").removeAttr("id"),q&&(X=q.clone().prependTo(R),X.find("[id]").removeAttr("id")),l.aiDisplay.length){var J=null;for(ze=0;ze<l.aiDisplay.length;ze++){var F=l.aiDisplay[ze],ce=l.aoData[F].nTr;if(ce){J=ce;break}}if(J)for(var Re=Te(J).children("th, td").map(function(xe){return{idx:aY(l,xe),width:Te(this).outerWidth()}}),ze=0;ze<Re.length;ze++){var ie=l.aoColumns[Re[ze].idx].colEl[0],He=ie.style.width.replace("px","");He!==Re[ze].width&&(ie.style.width=Re[ze].width+"px")}}y.find("colgroup").remove(),y.append(l.colgroup.clone()),q&&(D.find("colgroup").remove(),D.append(l.colgroup.clone())),Te("th, td",ee).each(function(){Te(this.childNodes).wrapAll('<div class="dt-scroll-sizing">')}),q&&Te("th, td",X).each(function(){Te(this.childNodes).wrapAll('<div class="dt-scroll-sizing">')});var Ze=Math.floor(R.height())>S.clientHeight||T.css("overflow-y")=="scroll",Fe="padding"+(G.bScrollbarLeft?"Left":"Right"),he=R.outerWidth();y.css("width",ob(he)),v.css("width",ob(he)).css(Fe,Ze?d+"px":"0px"),q&&(D.css("width",ob(he)),N.css("width",ob(he)).css(Fe,Ze?d+"px":"0px")),R.children("colgroup").prependTo(R),T.trigger("scroll"),(l.bSorted||l.bFiltered)&&!l._drawHold&&(S.scrollTop=0)}function Eoe(l){if(l.oFeatures.bAutoWidth){var r=l.nTable,d=l.aoColumns,m=l.oScroll,v=m.sY,y=m.sX,S=m.sXInner,T=lY(l,"bVisible"),k=r.getAttribute("width"),N=r.parentNode,D,L,R,q=r.style.width;!q&&!k&&(r.style.width="100%",q="100%"),q&&q.indexOf("%")!==-1&&(k=q),rr(l,null,"column-calc",{visible:T},!1);var G=Te(r.cloneNode()).css("visibility","hidden").removeAttr("id");G.append("<tbody>");var ee=Te("<tr/>").appendTo(G.find("tbody"));for(G.append(Te(l.nTHead).clone()).append(Te(l.nTFoot).clone()),G.find("tfoot th, tfoot td").css("width",""),G.find("thead th, thead td").each(function(){var Ze=WQ(l,this,!0);Ze?(this.style.width=Ze,this.style.minWidth=Ze,y&&Te(this).append(Te("<div/>").css({width:Ze,margin:0,padding:0,border:0,height:1}))):this.style.width=""}),D=0;D<T.length;D++){R=T[D],L=d[R];var X=Toe(l,R),re=al.type.className[L.sType],J=X+L.sContentPadding,F=X.indexOf("<")===-1?document.createTextNode(J):J;Te("<td/>").addClass(re).addClass(L.sClass).append(F).appendTo(ee)}Te("[name]",G).removeAttr("name");var ce=Te("<div/>").css(y||v?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(G).appendTo(N);y&&S?G.width(S):y?(G.css("width","auto"),G.removeAttr("width"),G.width()<N.clientWidth&&k&&G.width(N.clientWidth)):v?G.width(N.clientWidth):k&&G.width(k);var Re=0,ze=G.find("tbody tr").eq(0).children();for(D=0;D<T.length;D++){var ie=ze[D].getBoundingClientRect().width;Re+=ie,d[T[D]].sWidth=ob(ie)}if(r.style.width=ob(Re),ce.remove(),k&&(r.style.width=ob(k)),(k||y)&&!l._reszEvt){var He=function(){Te(window).on("resize.DT-"+l.sInstance,Wt.util.throttle(function(){l.bDestroying||P$(l)}))};He(),l._reszEvt=!0}}}function Toe(l,r){var d=l.aoColumns[r];if(!d.maxLenString){for(var m,v="",y=-1,S=0,T=l.aiDisplayMaster.length;S<T;S++){var k=l.aiDisplayMaster[S],N=fY(l,k)[r],D=N&&typeof N=="object"&&N.nodeType?N.innerHTML:N+"";D=D.replace(/id=".*?"/g,"").replace(/name=".*?"/g,""),m=ty(D).replace(/&nbsp;/g," "),m.length>y&&(v=D,y=m.length)}d.maxLenString=v}return d.maxLenString}function ob(l){return l===null?"0px":typeof l=="number"?l<0?"0px":l+"px":l.match(/\d$/)?l+"px":l}function eee(l){var r=l.aoColumns;for(l.colgroup.empty(),cm=0;cm<r.length;cm++)r[cm].bVisible&&l.colgroup.append(r[cm].colEl)}function _oe(l){var r=l.nTHead,d=r.querySelectorAll("tr"),m=l.bSortCellsTop,v=':not([data-dt-order="disable"]):not([data-dt-order="icon-only"])';m===!0?r=d[0]:m===!1&&(r=d[d.length-1]),tee(l,r,r===l.nTHead?"tr"+v+" th"+v+", tr"+v+" td"+v:"th"+v+", td"+v);var y=[];LO(l,y,l.aaSorting),l.aaSorting=y}function tee(l,r,d,m,v){oee(r,d,function(y){var S=!1,T=m===void 0?cY(y.target):[m];if(T.length){for(var k=0,N=T.length;k<N;k++){var D=koe(l,T[k],k,y.shiftKey);if(D!==!1&&(S=!0),l.aaSorting.length===1&&l.aaSorting[0][1]==="")break}S&&KQ(l,!0,function(){pY(l),nee(l,l.aiDisplay),lx(l,!1,!1),v&&v()})}})}function nee(l,r){if(!(r.length<2)){var d=l.aiDisplayMaster,m={},v={},y;for(y=0;y<d.length;y++)m[d[y]]=y;for(y=0;y<r.length;y++)v[r[y]]=m[r[y]];r.sort(function(S,T){return v[S]-v[T]})}}function LO(l,r,d){var m=function(y){if(Te.isPlainObject(y)){if(y.idx!==void 0)r.push([y.idx,y.dir]);else if(y.name){var S=Mu(l.aoColumns,"sName"),T=S.indexOf(y.name);T!==-1&&r.push([T,y.dir])}}else r.push(y)};if(Te.isPlainObject(d))m(d);else if(d.length&&typeof d[0]=="number")m(d);else if(d.length)for(var v=0;v<d.length;v++)m(d[v])}function R$(l){var r,d,m,v=[],y=Wt.ext.type.order,S=l.aoColumns,T,k,N,D,L=l.aaSortingFixed,R=Te.isPlainObject(L),q=[];if(!l.oFeatures.bSort)return v;for(Array.isArray(L)&&LO(l,q,L),R&&L.pre&&LO(l,q,L.pre),LO(l,q,l.aaSorting),R&&L.post&&LO(l,q,L.post),r=0;r<q.length;r++)if(D=q[r][0],S[D])for(T=S[D].aDataSort,d=0,m=T.length;d<m;d++)k=T[d],N=S[k].sType||"string",q[r]._idx===void 0&&(q[r]._idx=S[k].asSorting.indexOf(q[r][1])),q[r][1]&&v.push({src:D,col:k,dir:q[r][1],index:q[r]._idx,type:N,formatter:y[N+"-pre"],sorter:y[N+"-"+q[r][1]]});return v}function pY(l,r,d){var m,v,y,S=[],T=Wt.ext.type.order,k=l.aoData,N,D=l.aiDisplayMaster,L;if(r!==void 0){var R=l.aoColumns[r];L=[{src:r,col:r,dir:d,index:0,type:R.sType,formatter:T[R.sType+"-pre"],sorter:T[R.sType+"-"+d]}],D=D.slice()}else L=R$(l);for(m=0,v=L.length;m<v;m++)N=L[m],Aoe(l,N.col);if(vd(l)!="ssp"&&L.length!==0){for(m=0,y=D.length;m<y;m++)S[m]=m;L.length&&L[0].dir==="desc"&&l.orderDescReverse&&S.reverse(),D.sort(function(q,G){var ee,X,re,J,F,ce=L.length,Re=k[q]._aSortData,ze=k[G]._aSortData;for(re=0;re<ce;re++)if(F=L[re],ee=Re[F.col],X=ze[F.col],F.sorter){if(J=F.sorter(ee,X),J!==0)return J}else if(J=ee<X?-1:ee>X?1:0,J!==0)return F.dir==="asc"?J:-J;return ee=S[q],X=S[G],ee<X?-1:ee>X?1:0})}else L.length===0&&D.sort(function(q,G){return q<G?-1:q>G?1:0});return r===void 0&&(l.bSorted=!0,l.sortDetails=L,rr(l,null,"order",[l,L])),D}function koe(l,r,d,m){var v=l.aoColumns[r],y=l.aaSorting,S=v.asSorting,T,k=function(D,L){var R=D._idx;return R===void 0&&(R=S.indexOf(D[1])),R+1<S.length?R+1:L?null:0};if(!v.bSortable)return!1;if(typeof y[0]=="number"&&(y=l.aaSorting=[y]),(m||d)&&l.oFeatures.bSortMulti){var N=Mu(y,"0").indexOf(r);N!==-1?(T=k(y[N],!0),T===null&&y.length===1&&(T=0),T===null?y.splice(N,1):(y[N][1]=S[T],y[N]._idx=T)):m?(y.push([r,S[0],0]),y[y.length-1]._idx=0):(y.push([r,y[0][1],0]),y[y.length-1]._idx=0)}else y.length&&y[0][0]==r?(T=k(y[0]),y.length=1,y[0][1]=S[T],y[0]._idx=T):(y.length=0,y.push([r,S[0]]),y[0]._idx=0)}function UX(l){var r=l.aLastSort,d=l.oClasses.order.position,m=R$(l),v=l.oFeatures,y,S,T;if(v.bSort&&v.bSortClasses){for(y=0,S=r.length;y<S;y++)T=r[y].src,Te(Mu(l.aoData,"anCells",T)).removeClass(d+(y<2?y+1:3));for(y=0,S=m.length;y<S;y++)T=m[y].src,Te(Mu(l.aoData,"anCells",T)).addClass(d+(y<2?y+1:3))}l.aLastSort=m}function Aoe(l,r){var d=l.aoColumns[r],m=Wt.ext.order[d.sSortDataType],v;m&&(v=m.call(l.oInstance,l,r,jO(l,r)));for(var y,S,T=Wt.ext.type.order[d.sType+"-pre"],k=l.aoData,N=0;N<k.length;N++)k[N]&&(y=k[N],y._aSortData||(y._aSortData=[]),(!y._aSortData[r]||m)&&(S=m?v[N]:cf(l,N,r,"sort"),y._aSortData[r]=T?T(S,l):S))}function B$(l){if(!l._bLoadingState){var r={time:+new Date,start:l._iDisplayStart,length:l._iDisplayLength,order:Te.extend(!0,[],l.aaSorting),search:Te.extend({},l.oPreviousSearch),columns:l.aoColumns.map(function(d,m){return{visible:d.bVisible,search:Te.extend({},l.aoPreSearchCols[m])}})};l.oSavedState=r,rr(l,"aoStateSaveParams","stateSaveParams",[l,r]),l.oFeatures.bStateSave&&!l.bDestroying&&l.fnStateSaveCallback.call(l.oInstance,l,r)}}function Ooe(l,r,d){if(!l.oFeatures.bStateSave){d();return}var m=function(y){WX(l,y,d)},v=l.fnStateLoadCallback.call(l.oInstance,l,m);return v!==void 0&&WX(l,v,d),!0}function WX(l,r,d){var m,v,y=l.aoColumns;l._bLoadingState=!0;var S=l._bInitComplete?new Wt.Api(l):null;if(!r||!r.time){l._bLoadingState=!1,d();return}var T=l.iStateDuration;if(T>0&&r.time<+new Date-T*1e3){l._bLoadingState=!1,d();return}var k=rr(l,"aoStateLoadParams","stateLoadParams",[l,r]);if(k.indexOf(!1)!==-1){l._bLoadingState=!1,d();return}if(r.columns&&y.length!==r.columns.length){l._bLoadingState=!1,d();return}if(l.oLoadedState=Te.extend(!0,{},r),rr(l,null,"stateLoadInit",[l,r],!0),r.length!==void 0&&(S?S.page.len(r.length):l._iDisplayLength=r.length),r.start!==void 0&&(S===null?(l._iDisplayStart=r.start,l.iInitDisplayStart=r.start):hY(l,r.start/l._iDisplayLength)),r.order!==void 0&&(l.aaSorting=[],Te.each(r.order,function(D,L){l.aaSorting.push(L[0]>=y.length?[0,L[1]]:L)})),r.search!==void 0&&Te.extend(l.oPreviousSearch,r.search),r.columns){for(m=0,v=r.columns.length;m<v;m++){var N=r.columns[m];N.visible!==void 0&&(S?S.column(m).visible(N.visible,!1):y[m].bVisible=N.visible),N.search!==void 0&&Te.extend(l.aoPreSearchCols[m],N.search)}S&&S.columns.adjust()}l._bLoadingState=!1,rr(l,"aoStateLoaded","stateLoaded",[l,r]),d()}function lf(l,r,d,m){d="DataTables warning: "+(l?"table id="+l.sTableId+" - ":"")+d,m&&(d+=". For more information about this error, please see https://datatables.net/tn/"+m);{var v=Wt.ext,y=v.sErrMode||v.errMode;if(l&&rr(l,null,"dt-error",[l,m,d],!0),y=="alert")alert(d);else{if(y=="throw")throw new Error(d);typeof y=="function"&&y(l,m,d)}}}function sb(l,r,d,m){if(Array.isArray(d)){Te.each(d,function(v,y){Array.isArray(y)?sb(l,r,y[0],y[1]):sb(l,r,y)});return}m===void 0&&(m=d),r[d]!==void 0&&(l[m]=r[d])}function jJ(l,r,d){var m;for(var v in r)Object.prototype.hasOwnProperty.call(r,v)&&(m=r[v],Te.isPlainObject(m)?(Te.isPlainObject(l[v])||(l[v]={}),Te.extend(!0,l[v],m)):d&&v!=="data"&&v!=="aaData"&&Array.isArray(m)?l[v]=m.slice():l[v]=m);return l}function oee(l,r,d){Te(l).on("click.DT",r,function(m){d(m)}).on("keypress.DT",r,function(m){m.which===13&&(m.preventDefault(),d(m))}).on("selectstart.DT",r,function(){return!1})}function rf(l,r,d){d&&l[r].push(d)}function rr(l,r,d,m,v){var y=[];if(r&&(y=l[r].slice().reverse().map(function(k){return k.apply(l.oInstance,m)})),d!==null){var S=Te.Event(d+".dt"),T=Te(l.nTable);S.dt=l.api,T[v?"trigger":"triggerHandler"](S,m),v&&T.parents("body").length===0&&Te("body").trigger(S,m),y.push(S.result)}return y}function see(l){var r=l._iDisplayStart,d=l.fnDisplayEnd(),m=l._iDisplayLength;r>=d&&(r=d-m),r-=r%m,(m===-1||r<0)&&(r=0),l._iDisplayStart=r}function v$(l,r){var d=l.renderer,m=Wt.ext.renderer[r];return Te.isPlainObject(d)&&d[r]?m[d[r]]||m._:typeof d=="string"&&m[d]||m._}function vd(l){return l.oFeatures.bServerSide?"ssp":l.ajax?"ajax":"dom"}function gY(l,r,d){var m=l.fnFormatNumber,v=l._iDisplayStart+1,y=l._iDisplayLength,S=l.fnRecordsDisplay(),T=l.fnRecordsTotal(),k=y===-1;return r.replace(/_START_/g,m.call(l,v)).replace(/_END_/g,m.call(l,l.fnDisplayEnd())).replace(/_MAX_/g,m.call(l,T)).replace(/_TOTAL_/g,m.call(l,S)).replace(/_PAGE_/g,m.call(l,k?1:Math.ceil(v/y))).replace(/_PAGES_/g,m.call(l,k?1:Math.ceil(S/y))).replace(/_ENTRIES_/g,l.api.i18n("entries","",d)).replace(/_ENTRIES-MAX_/g,l.api.i18n("entries","",T)).replace(/_ENTRIES-TOTAL_/g,l.api.i18n("entries","",S))}var vY=[],Kc=Array.prototype,Doe=function(l){var r,d,m=Wt.settings,v=Mu(m,"nTable");if(l){if(l.nTable&&l.oFeatures)return[l];if(l.nodeName&&l.nodeName.toLowerCase()==="table")return r=v.indexOf(l),r!==-1?[m[r]]:null;if(l&&typeof l.settings=="function")return l.settings().toArray();typeof l=="string"?d=Te(l).get():l instanceof Te&&(d=l.get())}else return[];if(d)return m.filter(function(y,S){return d.includes(v[S])})};Ls=function(l,r){if(!(this instanceof Ls))return new Ls(l,r);var d,m=[],v=function(y){var S=Doe(y);S&&m.push.apply(m,S)};if(Array.isArray(l))for(d=0;d<l.length;d++)v(l[d]);else v(l);if(this.context=m.length>1?ay(m):m,r)if(r.length<1e4)this.push.apply(this,r);else for(d=0;d<r.length;d++)this.push(r[d]);this.selector={rows:null,cols:null,opts:null},Ls.extend(this,this,vY)};Wt.Api=Ls;Te.extend(Ls.prototype,{any:function(){return this.count()!==0},context:[],count:function(){return this.flatten().length},each:function(l){for(var r=0,d=this.length;r<d;r++)l.call(this,this[r],r,this);return this},eq:function(l){var r=this.context;return r.length>l?new Ls(r[l],this[l]):null},filter:function(l){var r=Kc.filter.call(this,l,this);return new Ls(this.context,r)},flatten:function(){var l=[];return new Ls(this.context,l.concat.apply(l,this.toArray()))},get:function(l){return this[l]},join:Kc.join,includes:function(l){return this.indexOf(l)!==-1},indexOf:Kc.indexOf,iterator:function(l,r,d,m){var v=[],y,S,T,k,N,D=this.context,L,R,q,G=this.selector;for(typeof l=="string"&&(m=d,d=r,r=l,l=!1),S=0,T=D.length;S<T;S++){var ee=new Ls(D[S]);if(r==="table")y=d.call(ee,D[S],S),y!==void 0&&v.push(y);else if(r==="columns"||r==="rows")y=d.call(ee,D[S],this[S],S),y!==void 0&&v.push(y);else if(r==="every"||r==="column"||r==="column-rows"||r==="row"||r==="cell")for(R=this[S],r==="column-rows"&&(L=$$(D[S],G.opts)),k=0,N=R.length;k<N;k++)q=R[k],r==="cell"?y=d.call(ee,D[S],q.row,q.column,S,k):y=d.call(ee,D[S],q,S,k,L),y!==void 0&&v.push(y)}if(v.length||m){var X=new Ls(D,l?v.concat.apply([],v):v),re=X.selector;return re.rows=G.rows,re.cols=G.cols,re.opts=G.opts,X}return this},lastIndexOf:Kc.lastIndexOf,length:0,map:function(l){var r=Kc.map.call(this,l,this);return new Ls(this.context,r)},pluck:function(l){var r=Wt.util.get(l);return this.map(function(d){return r(d)})},pop:Kc.pop,push:Kc.push,reduce:Kc.reduce,reduceRight:Kc.reduceRight,reverse:Kc.reverse,selector:null,shift:Kc.shift,slice:function(){return new Ls(this.context,this)},sort:Kc.sort,splice:Kc.splice,toArray:function(){return Kc.slice.call(this)},to$:function(){return Te(this)},toJQuery:function(){return Te(this)},unique:function(){return new Ls(this.context,ay(this.toArray()))},unshift:Kc.unshift});function Moe(l,r,d){return function(){var m=r.apply(l||this,arguments);return Ls.extend(m,m,d.methodExt),m}}function Poe(l,r){for(var d=0,m=l.length;d<m;d++)if(l[d].name===r)return l[d];return null}window.__apiStruct=vY;Ls.extend=function(l,r,d){if(!(!d.length||!r||!(r instanceof Ls)&&!r.__dt_wrapper)){var m,v,y;for(m=0,v=d.length;m<v;m++)y=d[m],y.name!=="__proto__"&&(r[y.name]=y.type==="function"?Moe(l,y.val,y):y.type==="object"?{}:y.val,r[y.name].__dt_wrapper=!0,Ls.extend(l,r[y.name],y.propExt))}};Ls.register=io=function(l,r){if(Array.isArray(l)){for(var d=0,m=l.length;d<m;d++)Ls.register(l[d],r);return}var v,y,S=l.split("."),T=vY,k,N;for(v=0,y=S.length;v<y;v++){N=S[v].indexOf("()")!==-1,k=N?S[v].replace("()",""):S[v];var D=Poe(T,k);D||(D={name:k,val:{},methodExt:[],propExt:[],type:"object"},T.push(D)),v===y-1?(D.val=r,D.type=typeof r=="function"?"function":Te.isPlainObject(r)?"object":"other"):T=N?D.methodExt:D.propExt}};Ls.registerPlural=Br=function(l,r,d){Ls.register(l,d),Ls.register(r,function(){var m=d.apply(this,arguments);return m===this?this:m instanceof Ls?m.length?Array.isArray(m[0])?new Ls(m.context,m[0]):m[0]:void 0:m})};var ree=function(l,r){if(Array.isArray(l)){var d=[];return l.forEach(function(v){var y=ree(v,r);d.push.apply(d,y)}),d.filter(function(v){return v})}if(typeof l=="number")return[r[l]];var m=r.map(function(v){return v.nTable});return Te(m).filter(l).map(function(){var v=m.indexOf(this);return r[v]}).toArray()};io("tables()",function(l){return l!=null?new Ls(ree(l,this.context)):this});io("table()",function(l){var r=this.tables(l),d=r.context;return d.length?new Ls(d[0]):r});[["nodes","node","nTable"],["body","body","nTBody"],["header","header","nTHead"],["footer","footer","nTFoot"]].forEach(function(l){Br("tables()."+l[0]+"()","table()."+l[1]+"()",function(){return this.iterator("table",function(r){return r[l[2]]},1)})});[["header","aoHeader"],["footer","aoFooter"]].forEach(function(l){io("table()."+l[0]+".structure()",function(r){var d=this.columns(r).indexes().flatten(),m=this.context[0];return GQ(m,m[l[1]],d)})});Br("tables().containers()","table().container()",function(){return this.iterator("table",function(l){return l.nTableWrapper},1)});io("tables().every()",function(l){var r=this;return this.iterator("table",function(d,m){l.call(r.table(m),m)})});io("caption()",function(l,r){var d=this.context;if(l===void 0){var m=d[0].captionNode;return m&&d.length?m.innerHTML:null}return this.iterator("table",function(v){var y=Te(v.nTable),S=Te(v.captionNode),T=Te(v.nTableWrapper);if(S.length||(S=Te("<caption/>").html(l),v.captionNode=S[0],r||(y.prepend(S),r=S.css("caption-side"))),S.html(l),r&&(S.css("caption-side",r),S[0]._captionSide=r),T.find("div.dataTables_scroll").length){var k=r==="top"?"Head":"Foot";T.find("div.dataTables_scroll"+k+" table").prepend(S)}else y.prepend(S)},1)});io("caption.node()",function(){var l=this.context;return l.length?l[0].captionNode:null});io("draw()",function(l){return this.iterator("table",function(r){l==="page"?hx(r):(typeof l=="string"&&(l=l!=="full-hold"),lx(r,l===!1))})});io("page()",function(l){return l===void 0?this.page.info().page:this.iterator("table",function(r){hY(r,l)})});io("page.info()",function(){if(this.context.length!==0){var l=this.context[0],r=l._iDisplayStart,d=l.oFeatures.bPaginate?l._iDisplayLength:-1,m=l.fnRecordsDisplay(),v=d===-1;return{page:v?0:Math.floor(r/d),pages:v?1:Math.ceil(m/d),start:r,end:l.fnDisplayEnd(),length:d,recordsTotal:l.fnRecordsTotal(),recordsDisplay:m,serverSide:vd(l)==="ssp"}}});io("page.len()",function(l){return l===void 0?this.context.length!==0?this.context[0]._iDisplayLength:void 0:this.iterator("table",function(r){YQ(r,l)})});var iee=function(l,r,d){if(d){var m=new Ls(l);m.one("draw",function(){d(m.ajax.json())})}if(vd(l)=="ssp")lx(l,r);else{gd(l,!0);var v=l.jqXHR;v&&v.readyState!==4&&v.abort(),mY(l,{},function(y){dY(l);for(var S=I$(l,y),T=0,k=S.length;T<k;T++)ny(l,S[T]);lx(l,r),g$(l),gd(l,!1)})}};io("ajax.json()",function(){var l=this.context;if(l.length>0)return l[0].json});io("ajax.params()",function(){var l=this.context;if(l.length>0)return l[0].oAjaxData});io("ajax.reload()",function(l,r){return this.iterator("table",function(d){iee(d,r===!1,l)})});io("ajax.url()",function(l){var r=this.context;return l===void 0?r.length===0?void 0:(r=r[0],Te.isPlainObject(r.ajax)?r.ajax.url:r.ajax):this.iterator("table",function(d){Te.isPlainObject(d.ajax)?d.ajax.url=l:d.ajax=l})});io("ajax.url().load()",function(l,r){return this.iterator("table",function(d){iee(d,r===!1,l)})});var bY=function(l,r,d,m,v){var y=[],S,T,k,N,D,L,R=typeof r;for((!r||R==="string"||R==="function"||r.length===void 0)&&(r=[r]),k=0,N=r.length;k<N;k++)for(T=r[k]&&r[k].split&&!r[k].match(/[[(:]/)?r[k].split(","):[r[k]],D=0,L=T.length;D<L;D++)S=d(typeof T[D]=="string"?T[D].trim():T[D]),S=S.filter(function(G){return G!=null}),S&&S.length&&(y=y.concat(S));var q=al.selector[l];if(q.length)for(k=0,N=q.length;k<N;k++)y=q[k](m,v,y);return ay(y)},yY=function(l){return l||(l={}),l.filter&&l.search===void 0&&(l.search=l.filter),Te.extend({search:"none",order:"current",page:"all"},l)},wY=function(l){let r=new Ls(l.context[0]);return l.length&&r.push(l[0]),r.selector=l.selector,r.length&&r[0].length>1&&r[0].splice(1),r},$$=function(l,r){var d,m,v,y=[],S=l.aiDisplay,T=l.aiDisplayMaster,k=r.search,N=r.order,D=r.page;if(vd(l)=="ssp")return k==="removed"?[]:tb(0,T.length);if(D=="current")for(d=l._iDisplayStart,m=l.fnDisplayEnd();d<m;d++)y.push(S[d]);else if(N=="current"||N=="applied"){if(k=="none")y=T.slice();else if(k=="applied")y=S.slice();else if(k=="removed"){var L={};for(d=0,m=S.length;d<m;d++)L[S[d]]=null;T.forEach(function(q){Object.prototype.hasOwnProperty.call(L,q)||y.push(q)})}}else if(N=="index"||N=="original")for(d=0,m=l.aoData.length;d<m;d++)l.aoData[d]&&(k=="none"?y.push(d):(v=S.indexOf(d),(v===-1&&k=="removed"||v>=0&&k=="applied")&&y.push(d)));else if(typeof N=="number"){var R=pY(l,N,"asc");if(k==="none")y=R;else for(d=0;d<R.length;d++)v=S.indexOf(R[d]),(v===-1&&k=="removed"||v>=0&&k=="applied")&&y.push(R[d])}return y},Noe=function(l,r,d){var m,v=function(S){var T=$Q(S),k=l.aoData;if(T!==null&&!d)return[T];if(m||(m=$$(l,d)),T!==null&&m.indexOf(T)!==-1)return[T];if(S==null||S==="")return m;if(typeof S=="function")return m.map(function(G){var ee=k[G];return S(G,ee._aData,ee.nTr)?G:null});if(S.nodeName){var N=S._DT_RowIndex,D=S._DT_CellIndex;if(N!==void 0)return k[N]&&k[N].nTr===S?[N]:[];if(D)return k[D.row]&&k[D.row].nTr===S.parentNode?[D.row]:[];var L=Te(S).closest("*[data-dt-row]");return L.length?[L.data("dt-row")]:[]}if(typeof S=="string"&&S.charAt(0)==="#"){var R=l.aIds[S.replace(/^#/,"")];if(R!==void 0)return[R.idx]}var q=HQ(WO(l.aoData,m,"nTr"));return Te(q).filter(S).map(function(){return this._DT_RowIndex}).toArray()},y=bY("row",r,v,l,d);return(d.order==="current"||d.order==="applied")&&nee(l,y),y};io("rows()",function(l,r){l===void 0?l="":Te.isPlainObject(l)&&(r=l,l=""),r=yY(r);var d=this.iterator("table",function(m){return Noe(m,l,r)},1);return d.selector.rows=l,d.selector.opts=r,d});io("rows().nodes()",function(){return this.iterator("row",function(l,r){return l.aoData[r].nTr||void 0},1)});io("rows().data()",function(){return this.iterator(!0,"rows",function(l,r){return WO(l.aoData,r,"_aData")},1)});Br("rows().cache()","row().cache()",function(l){return this.iterator("row",function(r,d){var m=r.aoData[d];return l==="search"?m._aFilterData:m._aSortData},1)});Br("rows().invalidate()","row().invalidate()",function(l){return this.iterator("row",function(r,d){L$(r,d,l)})});Br("rows().indexes()","row().index()",function(){return this.iterator("row",function(l,r){return r},1)});Br("rows().ids()","row().id()",function(l){for(var r=[],d=this.context,m=0,v=d.length;m<v;m++)for(var y=0,S=this[m].length;y<S;y++){var T=d[m].rowIdFn(d[m].aoData[this[m][y]]._aData);r.push((l===!0?"#":"")+T)}return new Ls(d,r)});Br("rows().remove()","row().remove()",function(){return this.iterator("row",function(l,r){var d=l.aoData,m=d[r],v=l.aiDisplayMaster.indexOf(r);v!==-1&&l.aiDisplayMaster.splice(v,1),l._iRecordsDisplay>0&&l._iRecordsDisplay--,see(l);var y=l.rowIdFn(m._aData);y!==void 0&&delete l.aIds[y],d[r]=null}),this});io("rows.add()",function(l){var r=this.iterator("table",function(m){var v,y,S,T=[];for(y=0,S=l.length;y<S;y++)v=l[y],v.nodeName&&v.nodeName.toUpperCase()==="TR"?T.push(uY(m,v)[0]):T.push(ny(m,v));return T},1),d=this.rows(-1);return d.pop(),d.push.apply(d,r),d});io("row()",function(l,r){return wY(this.rows(l,r))});io("row().data()",function(l){var r=this.context;if(l===void 0)return r.length&&this.length&&this[0].length?r[0].aoData[this[0]]._aData:void 0;var d=r[0].aoData[this[0]];return d._aData=l,Array.isArray(l)&&d.nTr&&d.nTr.id&&Y0(r[0].rowId)(l,d.nTr.id),L$(r[0],this[0],"data"),this});io("row().node()",function(){var l=this.context;if(l.length&&this.length&&this[0].length){var r=l[0].aoData[this[0]];if(r&&r.nTr)return r.nTr}return null});io("row.add()",function(l){l instanceof Te&&l.length&&(l=l[0]);var r=this.iterator("table",function(d){return l.nodeName&&l.nodeName.toUpperCase()==="TR"?uY(d,l)[0]:ny(d,l)});return this.row(r[0])});Te(document).on("plugin-init.dt",function(l,r){var d=new Ls(r);d.on("stateSaveParams.DT",function(m,v,y){for(var S=v.rowIdFn,T=v.aiDisplayMaster,k=[],N=0;N<T.length;N++){var D=T[N],L=v.aoData[D];L._detailsShow&&k.push("#"+S(L._aData))}y.childRows=k}),d.on("stateLoaded.DT",function(m,v,y){ZJ(d,y)}),ZJ(d,d.state.loaded())});var ZJ=function(l,r){r&&r.childRows&&l.rows(r.childRows.map(function(d){return d.replace(/([^:\\]*(?:\\.[^:\\]*)*):/g,"$1\\:")})).every(function(){rr(l.settings()[0],null,"requestChild",[this])})},Loe=function(l,r,d,m){var v=[],y=function(S,T){if(Array.isArray(S)||S instanceof Te){for(var k=0,N=S.length;k<N;k++)y(S[k],T);return}if(S.nodeName&&S.nodeName.toLowerCase()==="tr")S.setAttribute("data-dt-row",r.idx),v.push(S);else{var D=Te("<tr><td></td></tr>").attr("data-dt-row",r.idx).addClass(T);Te("td",D).addClass(T).html(S)[0].colSpan=N$(l),v.push(D[0])}};y(d,m),r._details&&r._details.detach(),r._details=Te(v),r._detailsShow&&r._details.insertAfter(r.nTr)},aee=Wt.util.throttle(function(l){B$(l[0])},500),SY=function(l,r){var d=l.context;if(d.length){var m=d[0].aoData[r!==void 0?r:l[0]];m&&m._details&&(m._details.remove(),m._detailsShow=void 0,m._details=void 0,Te(m.nTr).removeClass("dt-hasChild"),aee(d))}},lee=function(l,r){var d=l.context;if(d.length&&l.length){var m=d[0].aoData[l[0]];m._details&&(m._detailsShow=r,r?(m._details.insertAfter(m.nTr),Te(m.nTr).addClass("dt-hasChild")):(m._details.detach(),Te(m.nTr).removeClass("dt-hasChild")),rr(d[0],null,"childRow",[r,l.row(l[0])]),Ioe(d[0]),aee(d))}},Ioe=function(l){var r=new Ls(l),d=".dt.DT_details",m="draw"+d,v="column-sizing"+d,y="destroy"+d,S=l.aoData;r.off(m+" "+v+" "+y),Mu(S,"_details").length>0&&(r.on(m,function(T,k){l===k&&r.rows({page:"current"}).eq(0).each(function(N){var D=S[N];D._detailsShow&&D._details.insertAfter(D.nTr)})}),r.on(v,function(T,k){if(l===k)for(var N,D=N$(k),L=0,R=S.length;L<R;L++)N=S[L],N&&N._details&&N._details.each(function(){var q=Te(this).children("td");q.length==1&&q.attr("colspan",D)})}),r.on(y,function(T,k){if(l===k)for(var N=0,D=S.length;N<D;N++)S[N]&&S[N]._details&&SY(r,N)}))},Roe="",ZO=Roe+"row().child",F$=ZO+"()";io(F$,function(l,r){var d=this.context;return l===void 0?d.length&&this.length&&d[0].aoData[this[0]]?d[0].aoData[this[0]]._details:void 0:(l===!0?this.child.show():l===!1?SY(this):d.length&&this.length&&Loe(d[0],d[0].aoData[this[0]],l,r),this)});io([ZO+".show()",F$+".show()"],function(){return lee(this,!0),this});io([ZO+".hide()",F$+".hide()"],function(){return lee(this,!1),this});io([ZO+".remove()",F$+".remove()"],function(){return SY(this),this});io(ZO+".isShown()",function(){var l=this.context;return l.length&&this.length&&l[0].aoData[this[0]]&&l[0].aoData[this[0]]._detailsShow||!1});var Boe=/^([^:]+)?:(name|title|visIdx|visible)$/,xY=function(l,r,d,m,v,y){for(var S=[],T=0,k=v.length;T<k;T++)S.push(cf(l,v[T],r,y));return S},cee=function(l,r,d){var m=l.aoHeader,v=d!==void 0?d:l.bSortCellsTop?0:m.length-1;return m[v][r].cell},$oe=function(l,r,d){var m=l.aoColumns,v=Mu(m,"sName"),y=Mu(m,"sTitle"),S=Wt.util.get("[].[].cell")(l.aoHeader),T=ay(iY([],S)),k=function(N){var D=$Q(N);if(N==="")return tb(m.length);if(D!==null)return[D>=0?D:m.length+D];if(typeof N=="function"){var L=$$(l,d);return m.map(function(re,J){return N(J,xY(l,J,0,0,L),cee(l,J))?J:null})}var R=typeof N=="string"?N.match(Boe):"";if(R)switch(R[2]){case"visIdx":case"visible":if(R[1]&&R[1].match(/^\d+$/)){var q=parseInt(R[1],10);if(q<0){var G=m.map(function(re,J){return re.bVisible?J:null});return[G[G.length+q]]}return[aY(l,q)]}return m.map(function(re,J){return re.bVisible?R[1]?Te(T[J]).filter(R[1]).length>0?J:null:J:null});case"name":return v.map(function(re,J){return re===R[1]?J:null});case"title":return y.map(function(re,J){return re===R[1]?J:null});default:return[]}if(N.nodeName&&N._DT_CellIndex)return[N._DT_CellIndex.column];var ee=Te(T).filter(N).map(function(){return cY(this)}).toArray();if(ee.length||!N.nodeName)return ee;var X=Te(N).closest("*[data-dt-column]");return X.length?[X.data("dt-column")]:[]};return bY("column",r,k,l,d)},Foe=function(l,r,d){var m=l.aoColumns,v=m[r],y=l.aoData,S,T,k,N;if(d===void 0)return v.bVisible;if(v.bVisible===d)return!1;if(d){var D=Mu(m,"bVisible").indexOf(!0,r+1);for(T=0,k=y.length;T<k;T++)y[T]&&(N=y[T].nTr,S=y[T].anCells,N&&N.insertBefore(S[r],S[D]||null))}else Te(Mu(l.aoData,"anCells",r)).detach();return v.bVisible=d,eee(l),!0};io("columns()",function(l,r){l===void 0?l="":Te.isPlainObject(l)&&(r=l,l=""),r=yY(r);var d=this.iterator("table",function(m){return $oe(m,l,r)},1);return d.selector.cols=l,d.selector.opts=r,d});Br("columns().header()","column().header()",function(l){return this.iterator("column",function(r,d){return cee(r,d,l)},1)});Br("columns().footer()","column().footer()",function(l){return this.iterator("column",function(r,d){var m=r.aoFooter;return m.length?r.aoFooter[l!==void 0?l:0][d].cell:null},1)});Br("columns().data()","column().data()",function(){return this.iterator("column-rows",xY,1)});Br("columns().render()","column().render()",function(l){return this.iterator("column-rows",function(r,d,m,v,y){return xY(r,d,m,v,y,l)},1)});Br("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(l,r){return l.aoColumns[r].mData},1)});Br("columns().cache()","column().cache()",function(l){return this.iterator("column-rows",function(r,d,m,v,y){return WO(r.aoData,y,l==="search"?"_aFilterData":"_aSortData",d)},1)});Br("columns().init()","column().init()",function(){return this.iterator("column",function(l,r){return l.aoColumns[r]},1)});Br("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(l,r,d,m,v){return WO(l.aoData,v,"anCells",r)},1)});Br("columns().titles()","column().title()",function(l,r){return this.iterator("column",function(d,m){typeof l=="number"&&(r=l,l=void 0);var v=Te("span.dt-column-title",this.column(m).header(r));return l!==void 0?(v.html(l),this):v.html()},1)});Br("columns().types()","column().type()",function(){return this.iterator("column",function(l,r){var d=l.aoColumns[r].sType;return d||UQ(l),d},1)});Br("columns().visible()","column().visible()",function(l,r){var d=this,m=[],v=this.iterator("column",function(y,S){if(l===void 0)return y.aoColumns[S].bVisible;Foe(y,S,l)&&m.push(S)});return l!==void 0&&this.iterator("table",function(y){p$(y,y.aoHeader),p$(y,y.aoFooter),y.aiDisplay.length||Te(y.nTBody).find("td[colspan]").attr("colspan",N$(y)),B$(y),d.iterator("column",function(S,T){m.includes(T)&&rr(S,null,"column-visibility",[S,T,l,r])}),m.length&&(r===void 0||r)&&d.columns.adjust()}),v});Br("columns().widths()","column().width()",function(){var l=this.columns(":visible").count(),r=Te("<tr>").html("<td>"+Array(l).join("</td><td>")+"</td>");Te(this.table().body()).append(r);var d=r.children().map(function(){return Te(this).outerWidth()});return r.remove(),this.iterator("column",function(m,v){var y=jO(m,v);return y!==null?d[y]:0},1)});Br("columns().indexes()","column().index()",function(l){return this.iterator("column",function(r,d){return l==="visible"?jO(r,d):d},1)});io("columns.adjust()",function(){return this.iterator("table",function(l){P$(l)},1)});io("column.index()",function(l,r){if(this.context.length!==0){var d=this.context[0];if(l==="fromVisible"||l==="toData")return aY(d,r);if(l==="fromData"||l==="toVisible")return jO(d,r)}});io("column()",function(l,r){return wY(this.columns(l,r))});var Hoe=function(l,r,d){var m=l.aoData,v=$$(l,d),y=HQ(WO(m,v,"anCells")),S=Te(iY([],y)),T,k=l.aoColumns.length,N,D,L,R,q,G,ee=function(X){var re=typeof X=="function";if(X==null||re){for(N=[],D=0,L=v.length;D<L;D++)for(T=v[D],R=0;R<k;R++)q={row:T,column:R},re?(G=m[T],X(q,cf(l,T,R),G.anCells?G.anCells[R]:null)&&N.push(q)):N.push(q);return N}if(Te.isPlainObject(X))return X.column!==void 0&&X.row!==void 0&&v.indexOf(X.row)!==-1?[X]:[];var J=S.filter(X).map(function(F,ce){return{row:ce._DT_CellIndex.row,column:ce._DT_CellIndex.column}}).toArray();return J.length||!X.nodeName?J:(G=Te(X).closest("*[data-dt-row]"),G.length?[{row:G.data("dt-row"),column:G.data("dt-column")}]:[])};return bY("cell",r,ee,l,d)};io("cells()",function(l,r,d){if(Te.isPlainObject(l)&&(l.row===void 0?(d=l,l=null):(d=r,r=null)),Te.isPlainObject(r)&&(d=r,r=null),r==null)return this.iterator("table",function(R){return Hoe(R,l,yY(d))});var m=d?{page:d.page,order:d.order,search:d.search}:{},v=this.columns(r,m),y=this.rows(l,m),S,T,k,N,D=this.iterator("table",function(R,q){var G=[];for(S=0,T=y[q].length;S<T;S++)for(k=0,N=v[q].length;k<N;k++)G.push({row:y[q][S],column:v[q][k]});return G},1),L=d&&d.selected?this.cells(D,d):D;return Te.extend(L.selector,{cols:r,rows:l,opts:d}),L});Br("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(l,r,d){var m=l.aoData[r];return m&&m.anCells?m.anCells[d]:void 0},1)});io("cells().data()",function(){return this.iterator("cell",function(l,r,d){return cf(l,r,d)},1)});Br("cells().cache()","cell().cache()",function(l){return l=l==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(r,d,m){return r.aoData[d][l][m]},1)});Br("cells().render()","cell().render()",function(l){return this.iterator("cell",function(r,d,m){return cf(r,d,m,l)},1)});Br("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(l,r,d){return{row:r,column:d,columnVisible:jO(l,d)}},1)});Br("cells().invalidate()","cell().invalidate()",function(l){return this.iterator("cell",function(r,d,m){L$(r,d,l,m)})});io("cell()",function(l,r,d){return wY(this.cells(l,r,d))});io("cell().data()",function(l){var r=this.context,d=this[0];return l===void 0?r.length&&d.length?cf(r[0],d[0].row,d[0].column):void 0:(uoe(r[0],d[0].row,d[0].column,l),L$(r[0],d[0].row,"data",d[0].column),this)});io("order()",function(l,r){var d=this.context,m=Array.prototype.slice.call(arguments);return l===void 0?d.length!==0?d[0].aaSorting:void 0:(typeof l=="number"?l=[[l,r]]:m.length>1&&(l=m),this.iterator("table",function(v){v.aaSorting=Array.isArray(l)?l.slice():l}))});io("order.listener()",function(l,r,d){return this.iterator("table",function(m){tee(m,l,{},r,d)})});io("order.fixed()",function(l){if(!l){var r=this.context,d=r.length?r[0].aaSortingFixed:void 0;return Array.isArray(d)?{pre:d}:d}return this.iterator("table",function(m){m.aaSortingFixed=Te.extend(!0,{},l)})});io(["columns().order()","column().order()"],function(l){var r=this;return l?this.iterator("table",function(d,m){d.aaSorting=r[m].map(function(v){return[v,l]})}):this.iterator("column",function(d,m){for(var v=R$(d),y=0,S=v.length;y<S;y++)if(v[y].col===m)return v[y].dir;return null},1)});Br("columns().orderable()","column().orderable()",function(l){return this.iterator("column",function(r,d){var m=r.aoColumns[d];return l?m.asSorting:m.bSortable},1)});io("processing()",function(l){return this.iterator("table",function(r){gd(r,l)})});io("search()",function(l,r,d,m){var v=this.context;return l===void 0?v.length!==0?v[0].oPreviousSearch.search:void 0:this.iterator("table",function(y){y.oFeatures.bFilter&&(typeof r=="object"?HO(y,Te.extend(y.oPreviousSearch,r,{search:l})):HO(y,Te.extend(y.oPreviousSearch,{search:l,regex:r===null?!1:r,smart:d===null?!0:d,caseInsensitive:m===null?!0:m})))})});io("search.fixed()",function(l,r){var d=this.iterator(!0,"table",function(m){var v=m.searchFixed;if(l){if(r===void 0)return v[l];r===null?delete v[l]:v[l]=r}else return Object.keys(v);return this});return l!==void 0&&r===void 0?d[0]:d});Br("columns().search()","column().search()",function(l,r,d,m){return this.iterator("column",function(v,y){var S=v.aoPreSearchCols;if(l===void 0)return S[y].search;v.oFeatures.bFilter&&(typeof r=="object"?Te.extend(S[y],r,{search:l}):Te.extend(S[y],{search:l,regex:r===null?!1:r,smart:d===null?!0:d,caseInsensitive:m===null?!0:m}),HO(v,v.oPreviousSearch))})});io(["columns().search.fixed()","column().search.fixed()"],function(l,r){var d=this.iterator(!0,"column",function(m,v){var y=m.aoColumns[v].searchFixed;if(l){if(r===void 0)return y[l];r===null?delete y[l]:y[l]=r}else return Object.keys(y);return this});return l!==void 0&&r===void 0?d[0]:d});io("state()",function(l,r){if(!l)return this.context.length?this.context[0].oSavedState:null;var d=Te.extend(!0,{},l);return this.iterator("table",function(m){r!==!1&&(d.time=+new Date+100),WX(m,d,function(){})})});io("state.clear()",function(){return this.iterator("table",function(l){l.fnStateSaveCallback.call(l.oInstance,l,{})})});io("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});io("state.save()",function(){return this.iterator("table",function(l){B$(l)})});Wt.use=function(l,r){var d=typeof l=="string"?r:l,m=typeof r=="string"?r:l;if(d===void 0&&typeof m=="string")switch(m){case"lib":case"jq":return Te;case"win":return window;case"datetime":return Wt.DateTime;case"luxon":return lb;case"moment":return oy;default:return null}m==="lib"||m==="jq"||d&&d.fn&&d.fn.jquery?Te=d:m=="win"||d&&d.document?(window=d,document=d.document):m==="datetime"||d&&d.type==="DateTime"?Wt.DateTime=d:m==="luxon"||d&&d.FixedOffsetZone?lb=d:(m==="moment"||d&&d.isMoment)&&(oy=d)};Wt.factory=function(l,r){var d=!1;return l&&l.document&&(window=l,document=l.document),r&&r.fn&&r.fn.jquery&&(Te=r,d=!0),d};Wt.versionCheck=function(l,r){for(var d=r?r.split("."):Wt.version.split("."),m=l.split("."),v,y,S=0,T=m.length;S<T;S++)if(v=parseInt(d[S],10)||0,y=parseInt(m[S],10)||0,v!==y)return v>y;return!0};Wt.isDataTable=function(l){var r=Te(l).get(0),d=!1;return l instanceof Wt.Api?!0:(Te.each(Wt.settings,function(m,v){var y=v.nScrollHead?Te("table",v.nScrollHead)[0]:null,S=v.nScrollFoot?Te("table",v.nScrollFoot)[0]:null;(v.nTable===r||y===r||S===r)&&(d=!0)}),d)};Wt.tables=function(l){var r=!1;Te.isPlainObject(l)&&(r=l.api,l=l.visible);var d=Wt.settings.filter(function(m){return!!(!l||l&&Te(m.nTable).is(":visible"))}).map(function(m){return m.nTable});return r?new Ls(d):d};Wt.camelToHungarian=nb;io("$()",function(l,r){var d=this.rows(r).nodes(),m=Te(d);return Te([].concat(m.filter(l).toArray(),m.find(l).toArray()))});Te.each(["on","one","off"],function(l,r){io(r+"()",function(){var d=Array.prototype.slice.call(arguments);d[0]=d[0].split(/\s/).map(function(v){return v.match(/\.dt\b/)?v:v+".dt"}).join(" ");var m=Te(this.tables().nodes());return m[r].apply(m,d),this})});io("clear()",function(){return this.iterator("table",function(l){dY(l)})});io("error()",function(l){return this.iterator("table",function(r){lf(r,0,l)})});io("settings()",function(){return new Ls(this.context,this.context)});io("init()",function(){var l=this.context;return l.length?l[0].oInit:null});io("data()",function(){return this.iterator("table",function(l){return Mu(l.aoData,"_aData")}).flatten()});io("trigger()",function(l,r,d){return this.iterator("table",function(m){return rr(m,null,l,r,d)}).flatten()});io("ready()",function(l){var r=this.context;return l?this.tables().every(function(){this.context[0]._bInitComplete?l.call(this):this.on("init",function(){l.call(this)})}):r.length?r[0]._bInitComplete||!1:null});io("destroy()",function(l){return l=l||!1,this.iterator("table",function(r){var d=r.oClasses,m=r.nTable,v=r.nTBody,y=r.nTHead,S=r.nTFoot,T=Te(m),k=Te(v),N=Te(r.nTableWrapper),D=r.aoData.map(function(X){return X?X.nTr:null}),L=d.order;r.bDestroying=!0,rr(r,"aoDestroyCallback","destroy",[r],!0),l||new Ls(r).columns().visible(!0),N.off(".DT").find(":not(tbody *)").off(".DT"),Te(window).off(".DT-"+r.sInstance),m!=y.parentNode&&(T.children("thead").detach(),T.append(y)),S&&m!=S.parentNode&&(T.children("tfoot").detach(),T.append(S)),r.colgroup.remove(),r.aaSorting=[],r.aaSortingFixed=[],UX(r),Te("th, td",y).removeClass(L.canAsc+" "+L.canDesc+" "+L.isAsc+" "+L.isDesc).css("width",""),k.children().detach(),k.append(D);var R=r.nTableWrapper.parentNode,q=r.nTableWrapper.nextSibling,G=l?"remove":"detach";T[G](),N[G](),!l&&R&&(R.insertBefore(m,q),T.css("width",r.sDestroyWidth).removeClass(d.table));var ee=Wt.settings.indexOf(r);ee!==-1&&Wt.settings.splice(ee,1)})});Te.each(["column","row","cell"],function(l,r){io(r+"s().every()",function(d){var m=this.selector.opts,v=this,y,S=0;return this.iterator("every",function(T,k,N){y=v[r](k,m),r==="cell"?d.call(y,y[0][0].row,y[0][0].column,N,S):d.call(y,k,N,S),S++})})});io("i18n()",function(l,r,d){var m=this.context[0],v=ax(l)(m.oLanguage);return v===void 0&&(v=r),Te.isPlainObject(v)&&(v=d!==void 0&&v[d]!==void 0?v[d]:v._),typeof v=="string"?v.replace("%d",d):v});Wt.version="2.1.5";Wt.settings=[];Wt.models={};Wt.models.oSearch={caseInsensitive:!0,search:"",regex:!1,smart:!0,return:!1};Wt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,src:null,idx:-1,displayData:null};Wt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null,maxLenString:null,searchFixed:null};Wt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],bAutoWidth:!0,bDeferRender:!0,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:null,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(l){return l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnStateLoadCallback:function(l){try{return JSON.parse((l.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+l.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(l,r){try{(l.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+l.sInstance+"_"+location.pathname,JSON.stringify(r))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{orderable:": Activate to sort",orderableReverse:": Activate to invert sorting",orderableRemove:": Activate to remove sorting",paginate:{first:"First",last:"Last",next:"Next",previous:"Previous",number:""}},oPaginate:{sFirst:"«",sLast:"»",sNext:"›",sPrevious:"‹"},entries:{_:"entries",1:"entry"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ _ENTRIES-TOTAL_",sInfoEmpty:"Showing 0 to 0 of 0 _ENTRIES-TOTAL_",sInfoFiltered:"(filtered from _MAX_ total _ENTRIES-MAX_)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"_MENU_ _ENTRIES_ per page",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},orderDescReverse:!0,oSearch:Te.extend({},Wt.models.oSearch),layout:{topStart:"pageLength",topEnd:"search",bottomStart:"info",bottomEnd:"paging"},sDom:null,searchDelay:null,sPaginationType:"",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId",caption:null,iDeferLoading:null};M$(Wt.defaults);Wt.defaults.column={aDataSort:null,iDataSort:-1,ariaTitle:"",asSorting:["asc","desc",""],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};M$(Wt.defaults.column);Wt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:!0,bLengthChange:!0,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollbarLeft:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},searchFixed:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",pagingControls:0,iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,bAjaxDataGet:!0,jqXHR:null,json:void 0,oAjaxData:void 0,sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return vd(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return vd(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var l=this._iDisplayLength,r=this._iDisplayStart,d=r+l,m=this.aiDisplay.length,v=this.oFeatures,y=v.bPaginate;return v.bServerSide?y===!1||l===-1?r+m:Math.min(r+l,this._iRecordsDisplay):!y||d>m||l===-1?m:d},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null,caption:"",captionNode:null,colgroup:null,deferLoading:null};var zoe=Wt.ext.pager;Te.extend(zoe,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(){return["numbers"]},simple_numbers:function(){return["previous","numbers","next"]},full_numbers:function(){return["first","previous","numbers","next","last"]},first_last:function(){return["first","last"]},first_last_numbers:function(){return["first","numbers","last"]},_numbers:mee,numbers_length:7});Te.extend(!0,Wt.ext.renderer,{pagingButton:{_:function(l,r,d,m,v){var y=l.oClasses.paging,S=[y.button],T;return m&&S.push(y.active),v&&S.push(y.disabled),r==="ellipsis"?T=Te('<span class="ellipsis"></span>').html(d)[0]:T=Te("<button>",{class:S.join(" "),role:"link",type:"button"}).html(d),{display:T,clicker:T}}},pagingContainer:{_:function(l,r){return r}}});var qO=function(l,r){return function(d){return um(d)||typeof d!="string"||(d=d.replace(toe," "),l&&(d=ty(d)),d=m$(d,!1)),d}};function qJ(l,r,d,m,v){return oy?l[r](v):lb?l[d](v):m?l[m](v):l}var GJ=!1,lb,oy;function Voe(){window.luxon&&!lb&&(lb=window.luxon),window.moment&&!oy&&(oy=window.moment)}function b$(l,r,d){var m;if(Voe(),oy){if(m=oy.utc(l,r,d,!0),!m.isValid())return null}else if(lb){if(m=r&&typeof l=="string"?lb.DateTime.fromFormat(l,r):lb.DateTime.fromISO(l),!m.isValid)return null;m.setLocale(d)}else r?(GJ||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),GJ=!0):m=new Date(l);return m}function SX(l){return function(r,d,m,v){arguments.length===0?(m="en",d=null,r=null):arguments.length===1?(m="en",d=r,r=null):arguments.length===2&&(m=d,d=r,r=null);var y="datetime"+(d?"-"+d:"");return Wt.ext.type.order[y]||Wt.type(y,{detect:function(S){return S===y?y:!1},order:{pre:function(S){return S.valueOf()}},className:"dt-right"}),function(S,T){if(S==null)if(v==="--now"){var k=new Date;S=new Date(Date.UTC(k.getFullYear(),k.getMonth(),k.getDate(),k.getHours(),k.getMinutes(),k.getSeconds()))}else S="";if(T==="type")return y;if(S==="")return T!=="sort"?"":b$("0000-01-01 00:00:00",null,m);if(d!==null&&r===d&&T!=="sort"&&T!=="type"&&!(S instanceof Date))return S;var N=b$(S,r,m);if(N===null)return S;if(T==="sort")return N;var D=d===null?qJ(N,"toDate","toJSDate","")[l]():qJ(N,"format","toFormat","toISOString",d);return T==="display"?ox(D):D}}}var uee=",",dee=".";if(window.Intl!==void 0)try{for(var NO=new Intl.NumberFormat().formatToParts(100000.1),cm=0;cm<NO.length;cm++)NO[cm].type==="group"?uee=NO[cm].value:NO[cm].type==="decimal"&&(dee=NO[cm].value)}catch{}Wt.datetime=function(l,r){var d="datetime-"+l;r||(r="en"),Wt.ext.type.order[d]||Wt.type(d,{detect:function(m){var v=b$(m,l,r);return m===""||v?d:!1},order:{pre:function(m){return b$(m,l,r)||0}},className:"dt-right"})};Wt.render={date:SX("toLocaleDateString"),datetime:SX("toLocaleString"),time:SX("toLocaleTimeString"),number:function(l,r,d,m,v){return l==null&&(l=uee),r==null&&(r=dee),{display:function(y){if(typeof y!="number"&&typeof y!="string"||y===""||y===null)return y;var S=y<0?"-":"",T=parseFloat(y),k=Math.abs(T);if(k>=1e11||k<1e-4&&k!==0){var N=T.toExponential(d).split(/e\+?/);return N[0]+" x 10<sup>"+N[1]+"</sup>"}if(isNaN(T))return ox(y);T=T.toFixed(d),y=Math.abs(T);var D=parseInt(y,10),L=d?r+(y-D).toFixed(d).substring(2):"";return D===0&&parseFloat(L)===0&&(S=""),S+(m||"")+D.toString().replace(/\B(?=(\d{3})+(?!\d))/g,l)+L+(v||"")}}},text:function(){return{display:ox,filter:ox}}};var Jc=Wt.ext.type;Wt.type=function(l,r,d){if(!r)return{className:Jc.className[l],detect:Jc.detect.find(function(S){return S.name===l}),order:{pre:Jc.order[l+"-pre"],asc:Jc.order[l+"-asc"],desc:Jc.order[l+"-desc"]},render:Jc.render[l],search:Jc.search[l]};var m=function(S,T){Jc[S][l]=T},v=function(S){Object.defineProperty(S,"name",{value:l});var T=Jc.detect.findIndex(function(k){return k.name===l});T===-1?Jc.detect.unshift(S):Jc.detect.splice(T,1,S)},y=function(S){Jc.order[l+"-pre"]=S.pre,Jc.order[l+"-asc"]=S.asc,Jc.order[l+"-desc"]=S.desc};d===void 0&&(d=r,r=null),r==="className"?m("className",d):r==="detect"?v(d):r==="order"?y(d):r==="render"?m("render",d):r==="search"?m("search",d):r||(d.className&&m("className",d.className),d.detect!==void 0&&v(d.detect),d.order&&y(d.order),d.render!==void 0&&m("render",d.render),d.search!==void 0&&m("search",d.search))};Wt.types=function(){return Jc.detect.map(function(l){return l.name})};var XJ=function(l,r){return l=l.toString().toLowerCase(),r=r.toString().toLowerCase(),l.localeCompare(r,navigator.languages[0]||navigator.language,{numeric:!0,ignorePunctuation:!0})};Wt.type("string",{detect:function(){return"string"},order:{pre:function(l){return um(l)&&typeof l!="boolean"?"":typeof l=="string"?l.toLowerCase():l.toString?l.toString():""}},search:qO(!1)});Wt.type("string-utf8",{detect:{allOf:function(l){return!0},oneOf:function(l){return!um(l)&&navigator.languages&&typeof l=="string"&&l.match(/[^\x00-\x7F]/)}},order:{asc:XJ,desc:function(l,r){return XJ(l,r)*-1}},search:qO(!1)});Wt.type("html",{detect:{allOf:function(l){return um(l)||typeof l=="string"&&l.indexOf("<")!==-1},oneOf:function(l){return!um(l)&&typeof l=="string"&&l.indexOf("<")!==-1}},order:{pre:function(l){return um(l)?"":l.replace?ty(l).trim().toLowerCase():l+""}},search:qO(!0)});Wt.type("date",{className:"dt-type-date",detect:{allOf:function(l){if(l&&!(l instanceof Date)&&!BJ.test(l))return null;var r=Date.parse(l);return r!==null&&!isNaN(r)||um(l)},oneOf:function(l){return l instanceof Date||typeof l=="string"&&BJ.test(l)}},order:{pre:function(l){var r=Date.parse(l);return isNaN(r)?-1/0:r}}});Wt.type("html-num-fmt",{className:"dt-type-numeric",detect:{allOf:function(l,r){var d=r.oLanguage.sDecimal;return f$(l,d,!0,!1)},oneOf:function(l,r){var d=r.oLanguage.sDecimal;return f$(l,d,!0,!1)}},order:{pre:function(l,r){var d=r.oLanguage.sDecimal;return H$(l,d,sY,rY)}},search:qO(!0)});Wt.type("html-num",{className:"dt-type-numeric",detect:{allOf:function(l,r){var d=r.oLanguage.sDecimal;return f$(l,d,!1,!0)},oneOf:function(l,r){var d=r.oLanguage.sDecimal;return f$(l,d,!1,!1)}},order:{pre:function(l,r){var d=r.oLanguage.sDecimal;return H$(l,d,sY)}},search:qO(!0)});Wt.type("num-fmt",{className:"dt-type-numeric",detect:{allOf:function(l,r){var d=r.oLanguage.sDecimal;return FO(l,d,!0,!0)},oneOf:function(l,r){var d=r.oLanguage.sDecimal;return FO(l,d,!0,!1)}},order:{pre:function(l,r){var d=r.oLanguage.sDecimal;return H$(l,d,rY)}}});Wt.type("num",{className:"dt-type-numeric",detect:{allOf:function(l,r){var d=r.oLanguage.sDecimal;return FO(l,d,!1,!0)},oneOf:function(l,r){var d=r.oLanguage.sDecimal;return FO(l,d,!1,!1)}},order:{pre:function(l,r){var d=r.oLanguage.sDecimal;return H$(l,d)}}});var H$=function(l,r,d,m){if(l!==0&&(!l||l==="-"))return-1/0;var v=typeof l;return v==="number"||v==="bigint"?l:(r&&(l=FQ(l,r)),l.replace&&(d&&(l=l.replace(d,"")),m&&(l=l.replace(m,""))),l*1)};Te.extend(!0,Wt.ext.renderer,{footer:{_:function(l,r,d){r.addClass(d.tfoot.cell)}},header:{_:function(l,r,d){r.addClass(d.thead.cell),l.oFeatures.bSort||r.addClass(d.order.none);var m=l.bSortCellsTop,v=r.closest("thead").find("tr"),y=r.parent().index();r.attr("data-dt-order")==="disable"||r.parent().attr("data-dt-order")==="disable"||m===!0&&y!==0||m===!1&&y!==v.length-1||Te(l.nTable).on("order.dt.DT column-visibility.dt.DT",function(S,T){if(l===T){var k=T.sortDetails;if(k){var N,D=d.order,L=T.api.columns(r),R=l.aoColumns[L.flatten()[0]],q=L.orderable().includes(!0),G="",ee=L.indexes(),X=L.orderable(!0).flatten(),re=Mu(k,"col");r.removeClass(D.isAsc+" "+D.isDesc).toggleClass(D.none,!q).toggleClass(D.canAsc,q&&X.includes("asc")).toggleClass(D.canDesc,q&&X.includes("desc"));var J=!0;for(N=0;N<ee.length;N++)re.includes(ee[N])||(J=!1);if(J){var F=L.order();r.addClass(F.includes("asc")?D.isAsc:""+F.includes("desc")?D.isDesc:"")}var ce=-1;for(N=0;N<re.length;N++)if(l.aoColumns[re[N]].bVisible){ce=re[N];break}if(ee[0]==ce){var Re=k[0],ze=R.asSorting;r.attr("aria-sort",Re.dir==="asc"?"ascending":"descending"),G=ze[Re.index+1]?"Reverse":"Remove"}else r.removeAttr("aria-sort");r.attr("aria-label",q?R.ariaTitle+T.api.i18n("oAria.orderable"+G):R.ariaTitle),q&&(r.find(".dt-column-title").attr("role","button"),r.attr("tabindex",0))}}})}},layout:{_:function(l,r,d){var m=l.oClasses.layout,v=Te("<div/>").attr("id",d.id||null).addClass(d.className||m.row).appendTo(r);Te.each(d,function(y,S){if(!(y==="id"||y==="className")){var T="";S.table&&(v.addClass(m.tableRow),T+=m.tableCell+" "),y==="start"?T+=m.start:y==="end"?T+=m.end:T+=m.full,Te("<div/>").attr({id:S.id||null,class:S.className?S.className:m.cell+" "+T}).append(S.contents).appendTo(v)}})}}});Wt.feature={};Wt.feature.register=function(l,r,d){Wt.ext.features[l]=r,d&&al.feature.push({cFeature:d,fnInit:r})};function o$(l,r,d){d&&(l[r]=d)}Wt.feature.register("div",function(l,r){var d=Te("<div>")[0];return r&&(o$(d,"className",r.className),o$(d,"id",r.id),o$(d,"innerHTML",r.html),o$(d,"textContent",r.text)),d});Wt.feature.register("info",function(l,r){if(!l.oFeatures.bInfo)return null;var d=l.oLanguage,m=l.sTableId,v=Te("<div/>",{class:l.oClasses.info.container});return r=Te.extend({callback:d.fnInfoCallback,empty:d.sInfoEmpty,postfix:d.sInfoPostFix,search:d.sInfoFiltered,text:d.sInfo},r),l.aoDrawCallback.push(function(y){Uoe(y,r,v)}),l._infoEl||(v.attr({"aria-live":"polite",id:m+"_info",role:"status"}),Te(l.nTable).attr("aria-describedby",m+"_info"),l._infoEl=v),v},"i");function Uoe(l,r,d){var m=l._iDisplayStart+1,v=l.fnDisplayEnd(),y=l.fnRecordsTotal(),S=l.fnRecordsDisplay(),T=S?r.text:r.empty;S!==y&&(T+=" "+r.search),T+=r.postfix,T=gY(l,T),r.callback&&(T=r.callback.call(l.oInstance,l,m,v,y,S,T)),d.html(T),rr(l,null,"info",[l,d[0],T])}var xX=0;Wt.feature.register("search",function(l,r){if(!l.oFeatures.bFilter)return null;var d=l.oClasses.search,m=l.sTableId,v=l.oLanguage,y=l.oPreviousSearch,S='<input type="search" class="'+d.input+'"/>';r=Te.extend({placeholder:v.sSearchPlaceholder,processing:!1,text:v.sSearch},r),r.text.indexOf("_INPUT_")===-1&&(r.text+="_INPUT_"),r.text=gY(l,r.text);var T=r.text.match(/_INPUT_$/),k=r.text.match(/^_INPUT_/),N=r.text.replace(/_INPUT_/,""),D="<label>"+r.text+"</label>";k?D="_INPUT_<label>"+N+"</label>":T&&(D="<label>"+N+"</label>_INPUT_");var L=Te("<div>").addClass(d.container).append(D.replace(/_INPUT_/,S));L.find("label").attr("for","dt-search-"+xX),L.find("input").attr("id","dt-search-"+xX),xX++;var R=function(ee){var X=this.value;y.return&&ee.key!=="Enter"||X!=y.search&&KQ(l,r.processing,function(){y.search=X,HO(l,y),l._iDisplayStart=0,hx(l)})},q=l.searchDelay!==null?l.searchDelay:0,G=Te("input",L).val(y.search).attr("placeholder",r.placeholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",q?Wt.util.debounce(R,q):R).on("mouseup.DT",function(ee){setTimeout(function(){R.call(G[0],ee)},10)}).on("keypress.DT",function(ee){if(ee.keyCode==13)return!1}).attr("aria-controls",m);return Te(l.nTable).on("search.dt.DT",function(ee,X){l===X&&G[0]!==document.activeElement&&G.val(typeof y.search!="function"?y.search:"")}),L},"f");Wt.feature.register("paging",function(l,r){if(!l.oFeatures.bPaginate)return null;r=Te.extend({buttons:Wt.ext.pager.numbers_length,type:l.sPaginationType,boundaryNumbers:!0,firstLast:!0,previousNext:!0,numbers:!0},r);var d=Te("<div/>").addClass(l.oClasses.paging.container+(r.type?" paging_"+r.type:"")).append(Te("<nav>").attr("aria-label","pagination").addClass(l.oClasses.paging.nav)),m=function(){fee(l,d.children(),r)};return l.aoDrawCallback.push(m),Te(l.nTable).on("column-sizing.dt.DT",m),d},"p");function Woe(l){var r=[];return l.numbers&&r.push("numbers"),l.previousNext&&(r.unshift("previous"),r.push("next")),l.firstLast&&(r.unshift("first"),r.push("last")),r}function fee(l,r,d){if(l._bInitComplete){for(var m=d.type?Wt.ext.pager[d.type]:Woe,v=l.oLanguage.oAria.paginate||{},y=l._iDisplayStart,S=l._iDisplayLength,T=l.fnRecordsDisplay(),k=S===-1,N=k?0:Math.ceil(y/S),D=k?1:Math.ceil(T/S),L=m(d).map(function(ce){return ce==="numbers"?mee(N,D,d.buttons,d.boundaryNumbers):ce}).flat(),R=[],q=0;q<L.length;q++){var G=L[q],ee=joe(l,G,N,D),X=v$(l,"pagingButton")(l,G,ee.display,ee.active,ee.disabled),re=typeof G=="string"?v[G]:v.number?v.number+(G+1):null;Te(X.clicker).attr({"aria-controls":l.sTableId,"aria-disabled":ee.disabled?"true":null,"aria-current":ee.active?"page":null,"aria-label":re,"data-dt-idx":G,tabIndex:ee.disabled?-1:l.iTabIndex?l.iTabIndex:null}),typeof G!="number"&&Te(X.clicker).addClass(G),oee(X.clicker,{action:G},function(ce){ce.preventDefault(),hY(l,ce.data.action,!0)}),R.push(X.display)}var J=v$(l,"pagingContainer")(l,R),F=r.find(document.activeElement).data("dt-idx");r.empty().append(J),F!==void 0&&r.find("[data-dt-idx="+F+"]").trigger("focus"),R.length&&d.buttons>1&&Te(r).height()>=Te(R[0]).outerHeight()*2-10&&fee(l,r,Te.extend({},d,{buttons:d.buttons-2}))}}function joe(l,r,d,m){var v=l.oLanguage.oPaginate,y={display:"",active:!1,disabled:!1};switch(r){case"ellipsis":y.display="&#x2026;",y.disabled=!0;break;case"first":y.display=v.sFirst,d===0&&(y.disabled=!0);break;case"previous":y.display=v.sPrevious,d===0&&(y.disabled=!0);break;case"next":y.display=v.sNext,(m===0||d===m-1)&&(y.disabled=!0);break;case"last":y.display=v.sLast,(m===0||d===m-1)&&(y.disabled=!0);break;default:typeof r=="number"&&(y.display=l.fnFormatNumber(r+1),d===r&&(y.active=!0));break}return y}function mee(l,r,d,m){var v=[],y=Math.floor(d/2),S=m?2:1,T=m?1:0;return r<=d?v=tb(0,r):d===1?v=[l]:d===3?l<=1?v=[0,1,"ellipsis"]:l>=r-2?(v=tb(r-2,r),v.unshift("ellipsis")):v=["ellipsis",l,"ellipsis"]:l<=y?(v=tb(0,d-S),v.push("ellipsis"),m&&v.push(r-1)):l>=r-1-y?(v=tb(r-(d-S),r),v.unshift("ellipsis"),m&&v.unshift(0)):(v=tb(l-y+S,l+y-T),v.push("ellipsis"),v.unshift("ellipsis"),m&&(v.push(r-1),v.unshift(0))),v}var CX=0;Wt.feature.register("pageLength",function(l,r){var d=l.oFeatures;if(!d.bPaginate||!d.bLengthChange)return null;r=Te.extend({menu:l.aLengthMenu,text:l.oLanguage.sLengthMenu},r);var m=l.oClasses.length,v=l.sTableId,y=r.menu,S=[],T=[],k;if(Array.isArray(y[0]))S=y[0],T=y[1];else for(k=0;k<y.length;k++)Te.isPlainObject(y[k])?(S.push(y[k].value),T.push(y[k].label)):(S.push(y[k]),T.push(y[k]));var N=r.text.match(/_MENU_$/),D=r.text.match(/^_MENU_/),L=r.text.replace(/_MENU_/,""),R="<label>"+r.text+"</label>";D?R="_MENU_<label>"+L+"</label>":N&&(R="<label>"+L+"</label>_MENU_");var q="tmp-"+ +new Date,G=Te("<div/>").addClass(m.container).append(R.replace("_MENU_",'<span id="'+q+'"></span>')),ee=[];G.find("label")[0].childNodes.forEach(function(J){J.nodeType===Node.TEXT_NODE&&ee.push({el:J,text:J.textContent})});var X=function(J){ee.forEach(function(F){F.el.textContent=gY(l,F.text,J)})},re=Te("<select/>",{name:v+"_length","aria-controls":v,class:m.select});for(k=0;k<S.length;k++)re[0][k]=new Option(typeof T[k]=="number"?l.fnFormatNumber(T[k]):T[k],S[k]);return G.find("label").attr("for","dt-length-"+CX),re.attr("id","dt-length-"+CX),CX++,G.find("#"+q).replaceWith(re),Te("select",G).val(l._iDisplayLength).on("change.DT",function(){YQ(l,Te(this).val()),hx(l)}),Te(l.nTable).on("length.dt.DT",function(J,F,ce){l===F&&(Te("select",G).val(ce),X(ce))}),X(l._iDisplayLength),G},"l");Te.fn.dataTable=Wt;Wt.$=Te;Te.fn.dataTableSettings=Wt.settings;Te.fn.dataTableExt=Wt.ext;Te.fn.DataTable=function(l){return Te(this).dataTable(l).api()};Te.each(Wt,function(l,r){Te.fn.DataTable[l]=r});const Zoe=Object.freeze(Object.defineProperty({__proto__:null,default:Wt},Symbol.toStringTag,{value:"Module"}));var qoe={exports:{}};const Goe=Cte(Zoe);/*! DataTables Bootstrap 5 integration
 * © SpryMedia Ltd - datatables.net/license
 */(function(l,r){(function(d){var m,v;m=Ete,v=function(y,S){S.fn.dataTable||Goe(y,S)},typeof window>"u"?l.exports=function(y,S){return y=y||window,S=S||m(y),v(y,S),d(S,0,y.document)}:(v(window,m),l.exports=d(m,window,window.document))})(function(d,m,v){var y=d.fn.dataTable;return d.extend(!0,y.defaults,{renderer:"bootstrap"}),d.extend(!0,y.ext.classes,{container:"dt-container dt-bootstrap5",search:{input:"form-control form-control-sm"},length:{select:"form-select form-select-sm"},processing:{container:"dt-processing card"},layout:{row:"row mt-2 justify-content-between",cell:"d-md-flex justify-content-between align-items-center",tableCell:"col-12",start:"dt-layout-start col-md-auto me-auto",end:"dt-layout-end col-md-auto ms-auto",full:"dt-layout-full col-md"}}),y.ext.renderer.pagingButton.bootstrap=function(S,T,k,R,D){var L=["dt-paging-button","page-item"],R=(R&&L.push("active"),D&&L.push("disabled"),d("<li>").addClass(L.join(" ")));return{display:R,clicker:d("<button>",{class:"page-link",role:"link",type:"button"}).html(k).appendTo(R)}},y.ext.renderer.pagingContainer.bootstrap=function(S,T){return d("<ul/>").addClass("pagination").append(T)},y})})(qoe);var hee={exports:{}};(function(l,r){(function(d,m){l.exports=m()})(KX,function(){return function(d){function m(y){if(v[y])return v[y].exports;var S=v[y]={exports:{},id:y,loaded:!1};return d[y].call(S.exports,S,S.exports,m),S.loaded=!0,S.exports}var v={};return m.m=d,m.c=v,m.p="dist/",m(0)}([function(d,m,v){function y(Me){return Me&&Me.__esModule?Me:{default:Me}}var S=Object.assign||function(Me){for(var Oe=1;Oe<arguments.length;Oe++){var P=arguments[Oe];for(var et in P)Object.prototype.hasOwnProperty.call(P,et)&&(Me[et]=P[et])}return Me},T=v(1),k=(y(T),v(6)),N=y(k),D=v(7),L=y(D),R=v(8),q=y(R),G=v(9),ee=y(G),X=v(10),re=y(X),J=v(11),F=y(J),ce=v(14),Re=y(ce),ze=[],ie=!1,He={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},Ze=function(){var Me=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(Me&&(ie=!0),ie)return ze=(0,F.default)(ze,He),(0,re.default)(ze,He.once),ze},Fe=function(){ze=(0,Re.default)(),Ze()},he=function(){ze.forEach(function(Me,Oe){Me.node.removeAttribute("data-aos"),Me.node.removeAttribute("data-aos-easing"),Me.node.removeAttribute("data-aos-duration"),Me.node.removeAttribute("data-aos-delay")})},xe=function(Me){return Me===!0||Me==="mobile"&&ee.default.mobile()||Me==="phone"&&ee.default.phone()||Me==="tablet"&&ee.default.tablet()||typeof Me=="function"&&Me()===!0},Be=function(Me){He=S(He,Me),ze=(0,Re.default)();var Oe=document.all&&!window.atob;return xe(He.disable)||Oe?he():(He.disableMutationObserver||q.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),He.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",He.easing),document.querySelector("body").setAttribute("data-aos-duration",He.duration),document.querySelector("body").setAttribute("data-aos-delay",He.delay),He.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?Ze(!0):He.startEvent==="load"?window.addEventListener(He.startEvent,function(){Ze(!0)}):document.addEventListener(He.startEvent,function(){Ze(!0)}),window.addEventListener("resize",(0,L.default)(Ze,He.debounceDelay,!0)),window.addEventListener("orientationchange",(0,L.default)(Ze,He.debounceDelay,!0)),window.addEventListener("scroll",(0,N.default)(function(){(0,re.default)(ze,He.once)},He.throttleDelay)),He.disableMutationObserver||q.default.ready("[data-aos]",Fe),ze)};d.exports={init:Be,refresh:Ze,refreshHard:Fe}},function(d,m){},,,,,function(d,m){(function(v){function y(xe,Be,Me){function Oe(It){var zn=Hn,nn=rn;return Hn=rn=void 0,Dn=It,wt=xe.apply(nn,zn)}function P(It){return Dn=It,U=setTimeout($t,Be),Cs?Oe(It):wt}function et(It){var zn=It-as,nn=It-Dn,$e=Be-zn;return Vo?Fe($e,Ue-nn):$e}function _e(It){var zn=It-as,nn=It-Dn;return as===void 0||zn>=Be||zn<0||Vo&&nn>=Ue}function $t(){var It=he();return _e(It)?dt(It):void(U=setTimeout($t,et(It)))}function dt(It){return U=void 0,Zo&&Hn?Oe(It):(Hn=rn=void 0,wt)}function Ve(){U!==void 0&&clearTimeout(U),Dn=0,Hn=as=rn=U=void 0}function Ot(){return U===void 0?wt:dt(he())}function jt(){var It=he(),zn=_e(It);if(Hn=arguments,rn=this,as=It,zn){if(U===void 0)return P(as);if(Vo)return U=setTimeout($t,Be),Oe(as)}return U===void 0&&(U=setTimeout($t,Be)),wt}var Hn,rn,Ue,wt,U,as,Dn=0,Cs=!1,Vo=!1,Zo=!0;if(typeof xe!="function")throw new TypeError(R);return Be=D(Be)||0,T(Me)&&(Cs=!!Me.leading,Vo="maxWait"in Me,Ue=Vo?Ze(D(Me.maxWait)||0,Be):Ue,Zo="trailing"in Me?!!Me.trailing:Zo),jt.cancel=Ve,jt.flush=Ot,jt}function S(xe,Be,Me){var Oe=!0,P=!0;if(typeof xe!="function")throw new TypeError(R);return T(Me)&&(Oe="leading"in Me?!!Me.leading:Oe,P="trailing"in Me?!!Me.trailing:P),y(xe,Be,{leading:Oe,maxWait:Be,trailing:P})}function T(xe){var Be=typeof xe>"u"?"undefined":L(xe);return!!xe&&(Be=="object"||Be=="function")}function k(xe){return!!xe&&(typeof xe>"u"?"undefined":L(xe))=="object"}function N(xe){return(typeof xe>"u"?"undefined":L(xe))=="symbol"||k(xe)&&He.call(xe)==G}function D(xe){if(typeof xe=="number")return xe;if(N(xe))return q;if(T(xe)){var Be=typeof xe.valueOf=="function"?xe.valueOf():xe;xe=T(Be)?Be+"":Be}if(typeof xe!="string")return xe===0?xe:+xe;xe=xe.replace(ee,"");var Me=re.test(xe);return Me||J.test(xe)?F(xe.slice(2),Me?2:8):X.test(xe)?q:+xe}var L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},R="Expected a function",q=NaN,G="[object Symbol]",ee=/^\s+|\s+$/g,X=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,J=/^0o[0-7]+$/i,F=parseInt,ce=(typeof v>"u"?"undefined":L(v))=="object"&&v&&v.Object===Object&&v,Re=(typeof self>"u"?"undefined":L(self))=="object"&&self&&self.Object===Object&&self,ze=ce||Re||Function("return this")(),ie=Object.prototype,He=ie.toString,Ze=Math.max,Fe=Math.min,he=function(){return ze.Date.now()};d.exports=S}).call(m,function(){return this}())},function(d,m){(function(v){function y(he,xe,Be){function Me(Zo){var It=jt,zn=Hn;return jt=Hn=void 0,as=Zo,Ue=he.apply(zn,It)}function Oe(Zo){return as=Zo,wt=setTimeout(_e,xe),Dn?Me(Zo):Ue}function P(Zo){var It=Zo-U,zn=Zo-as,nn=xe-It;return Cs?Ze(nn,rn-zn):nn}function et(Zo){var It=Zo-U,zn=Zo-as;return U===void 0||It>=xe||It<0||Cs&&zn>=rn}function _e(){var Zo=Fe();return et(Zo)?$t(Zo):void(wt=setTimeout(_e,P(Zo)))}function $t(Zo){return wt=void 0,Vo&&jt?Me(Zo):(jt=Hn=void 0,Ue)}function dt(){wt!==void 0&&clearTimeout(wt),as=0,jt=U=Hn=wt=void 0}function Ve(){return wt===void 0?Ue:$t(Fe())}function Ot(){var Zo=Fe(),It=et(Zo);if(jt=arguments,Hn=this,U=Zo,It){if(wt===void 0)return Oe(U);if(Cs)return wt=setTimeout(_e,xe),Me(U)}return wt===void 0&&(wt=setTimeout(_e,xe)),Ue}var jt,Hn,rn,Ue,wt,U,as=0,Dn=!1,Cs=!1,Vo=!0;if(typeof he!="function")throw new TypeError(L);return xe=N(xe)||0,S(Be)&&(Dn=!!Be.leading,Cs="maxWait"in Be,rn=Cs?He(N(Be.maxWait)||0,xe):rn,Vo="trailing"in Be?!!Be.trailing:Vo),Ot.cancel=dt,Ot.flush=Ve,Ot}function S(he){var xe=typeof he>"u"?"undefined":D(he);return!!he&&(xe=="object"||xe=="function")}function T(he){return!!he&&(typeof he>"u"?"undefined":D(he))=="object"}function k(he){return(typeof he>"u"?"undefined":D(he))=="symbol"||T(he)&&ie.call(he)==q}function N(he){if(typeof he=="number")return he;if(k(he))return R;if(S(he)){var xe=typeof he.valueOf=="function"?he.valueOf():he;he=S(xe)?xe+"":xe}if(typeof he!="string")return he===0?he:+he;he=he.replace(G,"");var Be=X.test(he);return Be||re.test(he)?J(he.slice(2),Be?2:8):ee.test(he)?R:+he}var D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},L="Expected a function",R=NaN,q="[object Symbol]",G=/^\s+|\s+$/g,ee=/^[-+]0x[0-9a-f]+$/i,X=/^0b[01]+$/i,re=/^0o[0-7]+$/i,J=parseInt,F=(typeof v>"u"?"undefined":D(v))=="object"&&v&&v.Object===Object&&v,ce=(typeof self>"u"?"undefined":D(self))=="object"&&self&&self.Object===Object&&self,Re=F||ce||Function("return this")(),ze=Object.prototype,ie=ze.toString,He=Math.max,Ze=Math.min,Fe=function(){return Re.Date.now()};d.exports=y}).call(m,function(){return this}())},function(d,m){function v(D){var L=void 0,R=void 0;for(L=0;L<D.length;L+=1)if(R=D[L],R.dataset&&R.dataset.aos||R.children&&v(R.children))return!0;return!1}function y(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function S(){return!!y()}function T(D,L){var R=window.document,q=y(),G=new q(k);N=L,G.observe(R.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function k(D){D&&D.forEach(function(L){var R=Array.prototype.slice.call(L.addedNodes),q=Array.prototype.slice.call(L.removedNodes),G=R.concat(q);if(v(G))return N()})}Object.defineProperty(m,"__esModule",{value:!0});var N=function(){};m.default={isSupported:S,ready:T}},function(d,m){function v(R,q){if(!(R instanceof q))throw new TypeError("Cannot call a class as a function")}function y(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(m,"__esModule",{value:!0});var S=function(){function R(q,G){for(var ee=0;ee<G.length;ee++){var X=G[ee];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(q,X.key,X)}}return function(q,G,ee){return G&&R(q.prototype,G),ee&&R(q,ee),q}}(),T=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,k=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,N=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,D=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,L=function(){function R(){v(this,R)}return S(R,[{key:"phone",value:function(){var q=y();return!(!T.test(q)&&!k.test(q.substr(0,4)))}},{key:"mobile",value:function(){var q=y();return!(!N.test(q)&&!D.test(q.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),R}();m.default=new L},function(d,m){Object.defineProperty(m,"__esModule",{value:!0});var v=function(S,T,k){var N=S.node.getAttribute("data-aos-once");T>S.position?S.node.classList.add("aos-animate"):typeof N<"u"&&(N==="false"||!k&&N!=="true")&&S.node.classList.remove("aos-animate")},y=function(S,T){var k=window.pageYOffset,N=window.innerHeight;S.forEach(function(D,L){v(D,N+k,T)})};m.default=y},function(d,m,v){function y(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(m,"__esModule",{value:!0});var S=v(12),T=y(S),k=function(N,D){return N.forEach(function(L,R){L.node.classList.add("aos-init"),L.position=(0,T.default)(L.node,D.offset)}),N};m.default=k},function(d,m,v){function y(N){return N&&N.__esModule?N:{default:N}}Object.defineProperty(m,"__esModule",{value:!0});var S=v(13),T=y(S),k=function(N,D){var L=0,R=0,q=window.innerHeight,G={offset:N.getAttribute("data-aos-offset"),anchor:N.getAttribute("data-aos-anchor"),anchorPlacement:N.getAttribute("data-aos-anchor-placement")};switch(G.offset&&!isNaN(G.offset)&&(R=parseInt(G.offset)),G.anchor&&document.querySelectorAll(G.anchor)&&(N=document.querySelectorAll(G.anchor)[0]),L=(0,T.default)(N).top,G.anchorPlacement){case"top-bottom":break;case"center-bottom":L+=N.offsetHeight/2;break;case"bottom-bottom":L+=N.offsetHeight;break;case"top-center":L+=q/2;break;case"bottom-center":L+=q/2+N.offsetHeight;break;case"center-center":L+=q/2+N.offsetHeight/2;break;case"top-top":L+=q;break;case"bottom-top":L+=N.offsetHeight+q;break;case"center-top":L+=N.offsetHeight/2+q}return G.anchorPlacement||G.offset||isNaN(D)||(R=D),L+R};m.default=k},function(d,m){Object.defineProperty(m,"__esModule",{value:!0});var v=function(y){for(var S=0,T=0;y&&!isNaN(y.offsetLeft)&&!isNaN(y.offsetTop);)S+=y.offsetLeft-(y.tagName!="BODY"?y.scrollLeft:0),T+=y.offsetTop-(y.tagName!="BODY"?y.scrollTop:0),y=y.offsetParent;return{top:T,left:S}};m.default=v},function(d,m){Object.defineProperty(m,"__esModule",{value:!0});var v=function(y){return y=y||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(y,function(S){return{node:S}})};m.default=v}])})})(hee);var Xoe=hee.exports;const Yoe=JX(Xoe);var pee={exports:{}};(function(l,r){(function(d,m){l.exports=m()})(KX,function(){function d(V){var oe=function(Ce,Le){if(typeof Ce!="object"||!Ce)return Ce;var qe=Ce[Symbol.toPrimitive];if(qe!==void 0){var bt=qe.call(Ce,Le);if(typeof bt!="object")return bt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(V,"string");return typeof oe=="symbol"?oe:oe+""}function m(V){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe})(V)}function v(V,oe){if(!(V instanceof oe))throw new TypeError("Cannot call a class as a function")}function y(V,oe){for(var Ce=0;Ce<oe.length;Ce++){var Le=oe[Ce];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(V,d(Le.key),Le)}}function S(V,oe,Ce){return oe&&y(V.prototype,oe),Object.defineProperty(V,"prototype",{writable:!1}),V}var T=Date.now();function k(){var V={},oe=!0,Ce=0,Le=arguments.length;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(oe=arguments[0],Ce++);for(var qe=function(ht){for(var Et in ht)Object.prototype.hasOwnProperty.call(ht,Et)&&(oe&&Object.prototype.toString.call(ht[Et])==="[object Object]"?V[Et]=k(!0,V[Et],ht[Et]):V[Et]=ht[Et])};Ce<Le;Ce++){var bt=arguments[Ce];qe(bt)}return V}function N(V,oe){if((xe(V)||V===window||V===document)&&(V=[V]),Me(V)||Oe(V)||(V=[V]),_e(V)!=0){if(Me(V)&&!Oe(V))for(var Ce=V.length,Le=0;Le<Ce&&oe.call(V[Le],V[Le],Le,V)!==!1;Le++);else if(Oe(V)){for(var qe in V)if(et(V,qe)&&oe.call(V[qe],V[qe],qe,V)===!1)break}}}function D(V){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Le=V[T]=V[T]||[],qe={all:Le,evt:null,found:null};return oe&&Ce&&_e(Le)>0&&N(Le,function(bt,ht){if(bt.eventName==oe&&bt.fn.toString()==Ce.toString())return qe.found=!0,qe.evt=ht,!1}),qe}function L(V){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ce=oe.onElement,Le=oe.withCallback,qe=oe.avoidDuplicate,bt=qe===void 0||qe,ht=oe.once,Et=ht!==void 0&&ht,tn=oe.useCapture,qt=tn!==void 0&&tn,Vn=arguments.length>2?arguments[2]:void 0,kn=Ce||[];function Un(Kn){Fe(Le)&&Le.call(Vn,Kn,this),Et&&Un.destroy()}return he(kn)&&(kn=document.querySelectorAll(kn)),Un.destroy=function(){N(kn,function(Kn){var So=D(Kn,V,Un);So.found&&So.all.splice(So.evt,1),Kn.removeEventListener&&Kn.removeEventListener(V,Un,qt)})},N(kn,function(Kn){var So=D(Kn,V,Un);(Kn.addEventListener&&bt&&!So.found||!bt)&&(Kn.addEventListener(V,Un,qt),So.all.push({eventName:V,fn:Un}))}),Un}function R(V,oe){N(oe.split(" "),function(Ce){return V.classList.add(Ce)})}function q(V,oe){N(oe.split(" "),function(Ce){return V.classList.remove(Ce)})}function G(V,oe){return V.classList.contains(oe)}function ee(V,oe){for(;V!==document.body;){if(!(V=V.parentElement))return!1;if(typeof V.matches=="function"?V.matches(oe):V.msMatchesSelector(oe))return V}}function X(V){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Ce=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!V||oe==="")return!1;if(oe==="none")return Fe(Ce)&&Ce(),!1;var Le=ze(),qe=oe.split(" ");N(qe,function(bt){R(V,"g"+bt)}),L(Le,{onElement:V,avoidDuplicate:!1,once:!0,withCallback:function(bt,ht){N(qe,function(Et){q(ht,"g"+Et)}),Fe(Ce)&&Ce()}})}function re(V){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(oe==="")return V.style.webkitTransform="",V.style.MozTransform="",V.style.msTransform="",V.style.OTransform="",V.style.transform="",!1;V.style.webkitTransform=oe,V.style.MozTransform=oe,V.style.msTransform=oe,V.style.OTransform=oe,V.style.transform=oe}function J(V){V.style.display="block"}function F(V){V.style.display="none"}function ce(V){var oe=document.createDocumentFragment(),Ce=document.createElement("div");for(Ce.innerHTML=V;Ce.firstChild;)oe.appendChild(Ce.firstChild);return oe}function Re(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function ze(){var V,oe=document.createElement("fakeelement"),Ce={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(V in Ce)if(oe.style[V]!==void 0)return Ce[V]}function ie(V,oe,Ce,Le){if(V())oe();else{var qe;Ce||(Ce=100);var bt=setInterval(function(){V()&&(clearInterval(bt),qe&&clearTimeout(qe),oe())},Ce)}}function He(V,oe,Ce){if(P(V))console.error("Inject assets error");else if(Fe(oe)&&(Ce=oe,oe=!1),he(oe)&&oe in window)Fe(Ce)&&Ce();else{var Le;if(V.indexOf(".css")!==-1){if((Le=document.querySelectorAll('link[href="'+V+'"]'))&&Le.length>0)return void(Fe(Ce)&&Ce());var qe=document.getElementsByTagName("head")[0],bt=qe.querySelectorAll('link[rel="stylesheet"]'),ht=document.createElement("link");return ht.rel="stylesheet",ht.type="text/css",ht.href=V,ht.media="all",bt?qe.insertBefore(ht,bt[0]):qe.appendChild(ht),void(Fe(Ce)&&Ce())}if((Le=document.querySelectorAll('script[src="'+V+'"]'))&&Le.length>0){if(Fe(Ce)){if(he(oe))return ie(function(){return window[oe]!==void 0},function(){Ce()}),!1;Ce()}}else{var Et=document.createElement("script");Et.type="text/javascript",Et.src=V,Et.onload=function(){if(Fe(Ce)){if(he(oe))return ie(function(){return window[oe]!==void 0},function(){Ce()}),!1;Ce()}},document.body.appendChild(Et)}}}function Ze(){return"navigator"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function Fe(V){return typeof V=="function"}function he(V){return typeof V=="string"}function xe(V){return!(!V||!V.nodeType||V.nodeType!=1)}function Be(V){return Array.isArray(V)}function Me(V){return V&&V.length&&isFinite(V.length)}function Oe(V){return m(V)==="object"&&V!=null&&!Fe(V)&&!Be(V)}function P(V){return V==null}function et(V,oe){return V!==null&&hasOwnProperty.call(V,oe)}function _e(V){if(Oe(V)){if(V.keys)return V.keys().length;var oe=0;for(var Ce in V)et(V,Ce)&&oe++;return oe}return V.length}function $t(V){return!isNaN(parseFloat(V))&&isFinite(V)}function dt(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,oe=document.querySelectorAll(".gbtn[data-taborder]:not(.disabled)");if(!oe.length)return!1;if(oe.length==1)return oe[0];typeof V=="string"&&(V=parseInt(V));var Ce=[];N(oe,function(Et){Ce.push(Et.getAttribute("data-taborder"))});var Le=Math.max.apply(Math,Ce.map(function(Et){return parseInt(Et)})),qe=V<0?1:V+1;qe>Le&&(qe="1");var bt=Ce.filter(function(Et){return Et>=parseInt(qe)}),ht=bt.sort()[0];return document.querySelector('.gbtn[data-taborder="'.concat(ht,'"]'))}function Ve(V){if(V.events.hasOwnProperty("keyboard"))return!1;V.events.keyboard=L("keydown",{onElement:window,withCallback:function(oe,Ce){var Le=(oe=oe||window.event).keyCode;if(Le==9){var qe=document.querySelector(".gbtn.focused");if(!qe){var bt=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if(bt=="input"||bt=="textarea"||bt=="button")return}oe.preventDefault();var ht=document.querySelectorAll(".gbtn[data-taborder]");if(!ht||ht.length<=0)return;if(!qe){var Et=dt();return void(Et&&(Et.focus(),R(Et,"focused")))}var tn=dt(qe.getAttribute("data-taborder"));q(qe,"focused"),tn&&(tn.focus(),R(tn,"focused"))}Le==39&&V.nextSlide(),Le==37&&V.prevSlide(),Le==27&&V.close()}})}var Ot=S(function V(oe,Ce){var Le=this,qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(v(this,V),this.img=oe,this.slide=Ce,this.onclose=qe,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",function(bt){return Le.dragStart(bt)},!1),this.img.addEventListener("mouseup",function(bt){return Le.dragEnd(bt)},!1),this.img.addEventListener("mousemove",function(bt){return Le.drag(bt)},!1),this.img.addEventListener("click",function(bt){return Le.slide.classList.contains("dragging-nav")?(Le.zoomOut(),!1):Le.zoomedIn?void(Le.zoomedIn&&!Le.dragging&&Le.zoomOut()):Le.zoomIn()},!1),this.img.setZoomEvents=!0},[{key:"zoomIn",value:function(){var V=this.widowWidth();if(!(this.zoomedIn||V<=768)){var oe=this.img;if(oe.setAttribute("data-style",oe.getAttribute("style")),oe.style.maxWidth=oe.naturalWidth+"px",oe.style.maxHeight=oe.naturalHeight+"px",oe.naturalWidth>V){var Ce=V/2-oe.naturalWidth/2;this.setTranslate(this.img.parentNode,Ce,0)}this.slide.classList.add("zoomed"),this.zoomedIn=!0}}},{key:"zoomOut",value:function(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&typeof this.onclose=="function"&&this.onclose()}},{key:"dragStart",value:function(V){V.preventDefault(),this.zoomedIn?(V.type==="touchstart"?(this.initialX=V.touches[0].clientX-this.xOffset,this.initialY=V.touches[0].clientY-this.yOffset):(this.initialX=V.clientX-this.xOffset,this.initialY=V.clientY-this.yOffset),V.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))):this.active=!1}},{key:"dragEnd",value:function(V){var oe=this;V.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout(function(){oe.dragging=!1,oe.img.isDragging=!1,oe.img.classList.remove("dragging")},100)}},{key:"drag",value:function(V){this.active&&(V.preventDefault(),V.type==="touchmove"?(this.currentX=V.touches[0].clientX-this.initialX,this.currentY=V.touches[0].clientY-this.initialY):(this.currentX=V.clientX-this.initialX,this.currentY=V.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function(V){if(this.zoomedIn){var oe=V.clientX-this.img.naturalWidth/2,Ce=V.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,oe,Ce)}}},{key:"setTranslate",value:function(V,oe,Ce){V.style.transform="translate3d("+oe+"px, "+Ce+"px, 0)"}},{key:"widowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),jt=S(function V(){var oe=this,Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};v(this,V);var Le=Ce.dragEl,qe=Ce.toleranceX,bt=qe===void 0?40:qe,ht=Ce.toleranceY,Et=ht===void 0?65:ht,tn=Ce.slide,qt=tn===void 0?null:tn,Vn=Ce.instance,kn=Vn===void 0?null:Vn;this.el=Le,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=bt,this.toleranceY=Et,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=qt,this.instance=kn,this.el.addEventListener("mousedown",function(Un){return oe.dragStart(Un)},!1),this.el.addEventListener("mouseup",function(Un){return oe.dragEnd(Un)},!1),this.el.addEventListener("mousemove",function(Un){return oe.drag(Un)},!1)},[{key:"dragStart",value:function(V){if(this.slide.classList.contains("zoomed"))this.active=!1;else{V.type==="touchstart"?(this.initialX=V.touches[0].clientX-this.xOffset,this.initialY=V.touches[0].clientY-this.yOffset):(this.initialX=V.clientX-this.xOffset,this.initialY=V.clientY-this.yOffset);var oe=V.target.nodeName.toLowerCase();V.target.classList.contains("nodrag")||ee(V.target,".nodrag")||["input","select","textarea","button","a"].indexOf(oe)!==-1?this.active=!1:(V.preventDefault(),(V.target===this.el||oe!=="img"&&ee(V.target,".gslide-inline"))&&(this.active=!0,this.el.classList.add("dragging"),this.dragContainer=ee(V.target,".ginner-container")))}}},{key:"dragEnd",value:function(V){var oe=this;V&&V.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,this.doSlideChange=="right"&&this.instance.prevSlide(),this.doSlideChange=="left"&&this.instance.nextSlide()),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout(function(){oe.instance.preventOutsideClick=!1,oe.toleranceReached=!1,oe.lastDirection=null,oe.dragging=!1,oe.el.isDragging=!1,oe.el.classList.remove("dragging"),oe.slide.classList.remove("dragging-nav"),oe.dragContainer.style.transform="",oe.dragContainer.style.transition=""},100)}},{key:"drag",value:function(V){if(this.active){V.preventDefault(),this.slide.classList.add("dragging-nav"),V.type==="touchmove"?(this.currentX=V.touches[0].clientX-this.initialX,this.currentY=V.touches[0].clientY-this.initialY):(this.currentX=V.clientX-this.initialX,this.currentY=V.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var oe=Math.abs(this.currentX),Ce=Math.abs(this.currentY);if(oe>0&&oe>=Math.abs(this.currentY)&&(!this.lastDirection||this.lastDirection=="x")){this.yOffset=0,this.lastDirection="x",this.setTranslate(this.dragContainer,this.currentX,0);var Le=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&Le&&(this.doSlideChange=Le),this.instance.settings.dragAutoSnap&&Le)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),Le=="right"&&this.instance.prevSlide(),void(Le=="left"&&this.instance.nextSlide())}if(this.toleranceY>0&&Ce>0&&Ce>=oe&&(!this.lastDirection||this.lastDirection=="y")){this.xOffset=0,this.lastDirection="y",this.setTranslate(this.dragContainer,0,this.currentY);var qe=this.shouldClose();return!this.instance.settings.dragAutoSnap&&qe&&(this.doSlideClose=!0),void(this.instance.settings.dragAutoSnap&&qe&&this.instance.close())}}}},{key:"shouldChange",value:function(){var V=!1;if(Math.abs(this.currentX)>=this.toleranceX){var oe=this.currentX>0?"right":"left";(oe=="left"&&this.slide!==this.slide.parentNode.lastChild||oe=="right"&&this.slide!==this.slide.parentNode.firstChild)&&(V=oe)}return V}},{key:"shouldClose",value:function(){var V=!1;return Math.abs(this.currentY)>=this.toleranceY&&(V=!0),V}},{key:"setTranslate",value:function(V,oe,Ce){var Le=arguments.length>3&&arguments[3]!==void 0&&arguments[3];V.style.transition=Le?"all .2s ease":"",V.style.transform="translate3d(".concat(oe,"px, ").concat(Ce,"px, 0)")}}]);function Hn(V,oe,Ce,Le){var qe=V.querySelector(".gslide-media"),bt=new Image,ht="gSlideTitle_"+Ce,Et="gSlideDesc_"+Ce;bt.addEventListener("load",function(){Fe(Le)&&Le()},!1),bt.src=oe.href,oe.sizes!=""&&oe.srcset!=""&&(bt.sizes=oe.sizes,bt.srcset=oe.srcset),bt.alt="",P(oe.alt)||oe.alt===""||(bt.alt=oe.alt),oe.title!==""&&bt.setAttribute("aria-labelledby",ht),oe.description!==""&&bt.setAttribute("aria-describedby",Et),oe.hasOwnProperty("_hasCustomWidth")&&oe._hasCustomWidth&&(bt.style.width=oe.width),oe.hasOwnProperty("_hasCustomHeight")&&oe._hasCustomHeight&&(bt.style.height=oe.height),qe.insertBefore(bt,qe.firstChild)}function rn(V,oe,Ce,Le){var qe=this,bt=V.querySelector(".ginner-container"),ht="gvideo"+Ce,Et=V.querySelector(".gslide-media"),tn=this.getAllPlayers();R(bt,"gvideo-container"),Et.insertBefore(ce('<div class="gvideo-wrapper"></div>'),Et.firstChild);var qt=V.querySelector(".gvideo-wrapper");He(this.settings.plyr.css,"Plyr");var Vn=oe.href,kn=oe==null?void 0:oe.videoProvider,Un=!1;Et.style.maxWidth=oe.width,He(this.settings.plyr.js,"Plyr",function(){if(!kn&&Vn.match(/vimeo\.com\/([0-9]*)/)&&(kn="vimeo"),!kn&&(Vn.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||Vn.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||Vn.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||Vn.match(/(youtube\.com|youtube-nocookie\.com)\/shorts\/([a-zA-Z0-9\-_]+)/))&&(kn="youtube"),kn==="local"||!kn){kn="local";var Kn='<video id="'+ht+'" ';Kn+='style="background:#000; max-width: '.concat(oe.width,';" '),Kn+='preload="metadata" ',Kn+='x-webkit-airplay="allow" ',Kn+="playsinline ",Kn+="controls ",Kn+='class="gvideo-local">',Kn+='<source src="'.concat(Vn,'">'),Un=ce(Kn+="</video>")}var So=Un||ce('<div id="'.concat(ht,'" data-plyr-provider="').concat(kn,'" data-plyr-embed-id="').concat(Vn,'"></div>'));R(qt,"".concat(kn,"-video gvideo")),qt.appendChild(So),qt.setAttribute("data-id",ht),qt.setAttribute("data-index",Ce);var ls=et(qe.settings.plyr,"config")?qe.settings.plyr.config:{},Lo=new Plyr("#"+ht,ls);Lo.on("ready",function(Js){tn[ht]=Js.detail.plyr,Fe(Le)&&Le()}),ie(function(){return V.querySelector("iframe")&&V.querySelector("iframe").dataset.ready=="true"},function(){qe.resize(V)}),Lo.on("enterfullscreen",Ue),Lo.on("exitfullscreen",Ue)})}function Ue(V){var oe=ee(V.target,".gslide-media");V.type==="enterfullscreen"&&R(oe,"fullscreen"),V.type==="exitfullscreen"&&q(oe,"fullscreen")}function wt(V,oe,Ce,Le){var qe,bt=this,ht=V.querySelector(".gslide-media"),Et=!(!et(oe,"href")||!oe.href)&&oe.href.split("#").pop().trim(),tn=!(!et(oe,"content")||!oe.content)&&oe.content;if(tn&&(he(tn)&&(qe=ce('<div class="ginlined-content">'.concat(tn,"</div>"))),xe(tn))){tn.style.display=="none"&&(tn.style.display="block");var qt=document.createElement("div");qt.className="ginlined-content",qt.appendChild(tn),qe=qt}if(Et){var Vn=document.getElementById(Et);if(!Vn)return!1;var kn=Vn.cloneNode(!0);kn.style.height=oe.height,kn.style.maxWidth=oe.width,R(kn,"ginlined-content"),qe=kn}if(!qe)return console.error("Unable to append inline slide content",oe),!1;ht.style.height=oe.height,ht.style.width=oe.width,ht.appendChild(qe),this.events["inlineclose"+Et]=L("click",{onElement:ht.querySelectorAll(".gtrigger-close"),withCallback:function(Un){Un.preventDefault(),bt.close()}}),Fe(Le)&&Le()}function U(V,oe,Ce,Le){var qe=V.querySelector(".gslide-media"),bt=function(ht){var Et=ht.url,tn=ht.allow,qt=ht.callback,Vn=ht.appendTo,kn=document.createElement("iframe");return kn.className="vimeo-video gvideo",kn.src=Et,kn.style.width="100%",kn.style.height="100%",tn&&kn.setAttribute("allow",tn),kn.onload=function(){kn.onload=null,R(kn,"node-ready"),Fe(qt)&&qt()},Vn&&Vn.appendChild(kn),kn}({url:oe.href,callback:Le});qe.parentNode.style.maxWidth=oe.width,qe.parentNode.style.height=oe.height,qe.appendChild(bt)}var as=S(function V(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};v(this,V),this.defaults={href:"",sizes:"",srcset:"",title:"",type:"",videoProvider:"",description:"",alt:"",descPosition:"bottom",effect:"",width:"",height:"",content:!1,zoomable:!0,draggable:!0},Oe(oe)&&(this.defaults=k(this.defaults,oe))},[{key:"sourceType",value:function(V){var oe=V;return(V=V.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/)!==null?"image":V.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||V.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||V.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||V.match(/(youtube\.com|youtube-nocookie\.com)\/shorts\/([a-zA-Z0-9\-_]+)/)||V.match(/vimeo\.com\/([0-9]*)/)||V.match(/\.(mp4|ogg|webm|mov)/)!==null?"video":V.match(/\.(mp3|wav|wma|aac|ogg)/)!==null?"audio":V.indexOf("#")>-1&&oe.split("#").pop().trim()!==""?"inline":V.indexOf("goajax=true")>-1?"ajax":"external"}},{key:"parseConfig",value:function(V,oe){var Ce=this,Le=k({descPosition:oe.descPosition},this.defaults);if(Oe(V)&&!xe(V)){et(V,"type")||(et(V,"content")&&V.content?V.type="inline":et(V,"href")&&(V.type=this.sourceType(V.href)));var qe=k(Le,V);return this.setSize(qe,oe),qe}var bt="",ht=V.getAttribute("data-glightbox"),Et=V.nodeName.toLowerCase();if(Et==="a"&&(bt=V.href),Et==="img"&&(bt=V.src,Le.alt=V.alt),Le.href=bt,N(Le,function(Kn,So){et(oe,So)&&So!=="width"&&(Le[So]=oe[So]);var ls=V.dataset[So];P(ls)||(Le[So]=Ce.sanitizeValue(ls))}),Le.content&&(Le.type="inline"),!Le.type&&bt&&(Le.type=this.sourceType(bt)),P(ht)){if(!Le.title&&Et=="a"){var tn=V.title;P(tn)||tn===""||(Le.title=tn)}if(!Le.title&&Et=="img"){var qt=V.alt;P(qt)||qt===""||(Le.title=qt)}}else{var Vn=[];N(Le,function(Kn,So){Vn.push(";\\s?"+So)}),Vn=Vn.join("\\s?:|"),ht.trim()!==""&&N(Le,function(Kn,So){var ls=ht,Lo=new RegExp("s?"+So+"s?:s?(.*?)("+Vn+"s?:|$)"),Js=ls.match(Lo);if(Js&&Js.length&&Js[1]){var _t=Js[1].trim().replace(/;\s*$/,"");Le[So]=Ce.sanitizeValue(_t)}})}if(Le.description&&Le.description.substring(0,1)==="."){var kn;try{kn=document.querySelector(Le.description).innerHTML}catch(Kn){if(!(Kn instanceof DOMException))throw Kn}kn&&(Le.description=kn)}if(!Le.description){var Un=V.querySelector(".glightbox-desc");Un&&(Le.description=Un.innerHTML)}return this.setSize(Le,oe,V),this.slideConfig=Le,Le}},{key:"setSize",value:function(V,oe){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Le=V.type=="video"?this.checkSize(oe.videosWidth):this.checkSize(oe.width),qe=this.checkSize(oe.height);return V.width=et(V,"width")&&V.width!==""?this.checkSize(V.width):Le,V.height=et(V,"height")&&V.height!==""?this.checkSize(V.height):qe,Ce&&V.type=="image"&&(V._hasCustomWidth=!!Ce.dataset.width,V._hasCustomHeight=!!Ce.dataset.height),V}},{key:"checkSize",value:function(V){return $t(V)?"".concat(V,"px"):V}},{key:"sanitizeValue",value:function(V){return V!=="true"&&V!=="false"?V:V==="true"}}]),Dn=S(function V(oe,Ce,Le){v(this,V),this.element=oe,this.instance=Ce,this.index=Le},[{key:"setContent",value:function(){var V=this,oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Ce=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(G(oe,"loaded"))return!1;var Le=this.instance.settings,qe=this.slideConfig,bt=Ze();Fe(Le.beforeSlideLoad)&&Le.beforeSlideLoad({index:this.index,slide:oe,player:!1});var ht=qe.type,Et=qe.descPosition,tn=oe.querySelector(".gslide-media"),qt=oe.querySelector(".gslide-title"),Vn=oe.querySelector(".gslide-desc"),kn=oe.querySelector(".gdesc-inner"),Un=Ce,Kn="gSlideTitle_"+this.index,So="gSlideDesc_"+this.index;if(Fe(Le.afterSlideLoad)&&(Un=function(){Fe(Ce)&&Ce(),Le.afterSlideLoad({index:V.index,slide:oe,player:V.instance.getSlidePlayerInstance(V.index)})}),qe.title==""&&qe.description==""?kn&&kn.parentNode.parentNode.removeChild(kn.parentNode):(qt&&qe.title!==""?(qt.id=Kn,qt.innerHTML=qe.title):qt.parentNode.removeChild(qt),Vn&&qe.description!==""?(Vn.id=So,bt&&Le.moreLength>0?(qe.smallDescription=this.slideShortDesc(qe.description,Le.moreLength,Le.moreText),Vn.innerHTML=qe.smallDescription,this.descriptionEvents(Vn,qe)):Vn.innerHTML=qe.description):Vn.parentNode.removeChild(Vn),R(tn.parentNode,"desc-".concat(Et)),R(kn.parentNode,"description-".concat(Et))),R(tn,"gslide-".concat(ht)),R(oe,"loaded"),ht!=="video"){if(ht!=="external")return ht==="inline"?(wt.apply(this.instance,[oe,qe,this.index,Un]),void(qe.draggable&&new jt({dragEl:oe.querySelector(".gslide-inline"),toleranceX:Le.dragToleranceX,toleranceY:Le.dragToleranceY,slide:oe,instance:this.instance}))):void(ht!=="image"?Fe(Un)&&Un():Hn(oe,qe,this.index,function(){var ls=oe.querySelector("img");qe.draggable&&new jt({dragEl:ls,toleranceX:Le.dragToleranceX,toleranceY:Le.dragToleranceY,slide:oe,instance:V.instance}),qe.zoomable&&ls.naturalWidth>ls.offsetWidth&&(R(ls,"zoomable"),new Ot(ls,oe,function(){V.instance.resize()})),Fe(Un)&&Un()}));U.apply(this,[oe,qe,this.index,Un])}else rn.apply(this.instance,[oe,qe,this.index,Un])}},{key:"slideShortDesc",value:function(V){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,Ce=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Le=document.createElement("div");Le.innerHTML=V;var qe=Le.innerText,bt=Ce;if((V=qe.trim()).length<=oe)return V;var ht=V.substr(0,oe-1);return bt?(Le=null,ht+'... <a href="#" class="desc-more">'+Ce+"</a>"):ht}},{key:"descriptionEvents",value:function(V,oe){var Ce=this,Le=V.querySelector(".desc-more");if(!Le)return!1;L("click",{onElement:Le,withCallback:function(qe,bt){qe.preventDefault();var ht=document.body,Et=ee(bt,".gslide-desc");if(!Et)return!1;Et.innerHTML=oe.description,R(ht,"gdesc-open");var tn=L("click",{onElement:[ht,ee(Et,".gslide-description")],withCallback:function(qt,Vn){qt.target.nodeName.toLowerCase()!=="a"&&(q(ht,"gdesc-open"),R(ht,"gdesc-closed"),Et.innerHTML=oe.smallDescription,Ce.descriptionEvents(Et,oe),setTimeout(function(){q(ht,"gdesc-closed")},400),tn.destroy())}})}})}},{key:"create",value:function(){return ce(this.instance.settings.slideHTML)}},{key:"getConfig",value:function(){xe(this.element)||this.element.hasOwnProperty("draggable")||(this.element.draggable=this.instance.settings.draggable);var V=new as(this.instance.settings.slideExtraAttributes);return this.slideConfig=V.parseConfig(this.element,this.instance.settings),this.slideConfig}}]);function Cs(V){return Math.sqrt(V.x*V.x+V.y*V.y)}function Vo(V,oe){var Ce=function(Le,qe){var bt=Cs(Le)*Cs(qe);if(bt===0)return 0;var ht=function(Et,tn){return Et.x*tn.x+Et.y*tn.y}(Le,qe)/bt;return ht>1&&(ht=1),Math.acos(ht)}(V,oe);return function(Le,qe){return Le.x*qe.y-qe.x*Le.y}(V,oe)>0&&(Ce*=-1),180*Ce/Math.PI}var Zo=S(function V(oe){v(this,V),this.handlers=[],this.el=oe},[{key:"add",value:function(V){this.handlers.push(V)}},{key:"del",value:function(V){V||(this.handlers=[]);for(var oe=this.handlers.length;oe>=0;oe--)this.handlers[oe]===V&&this.handlers.splice(oe,1)}},{key:"dispatch",value:function(){for(var V=0,oe=this.handlers.length;V<oe;V++){var Ce=this.handlers[V];typeof Ce=="function"&&Ce.apply(this.el,arguments)}}}]);function It(V,oe){var Ce=new Zo(V);return Ce.add(oe),Ce}var zn=S(function V(oe,Ce){v(this,V),this.element=typeof oe=="string"?document.querySelector(oe):oe,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var Le=function(){};this.rotate=It(this.element,Ce.rotate||Le),this.touchStart=It(this.element,Ce.touchStart||Le),this.multipointStart=It(this.element,Ce.multipointStart||Le),this.multipointEnd=It(this.element,Ce.multipointEnd||Le),this.pinch=It(this.element,Ce.pinch||Le),this.swipe=It(this.element,Ce.swipe||Le),this.tap=It(this.element,Ce.tap||Le),this.doubleTap=It(this.element,Ce.doubleTap||Le),this.longTap=It(this.element,Ce.longTap||Le),this.singleTap=It(this.element,Ce.singleTap||Le),this.pressMove=It(this.element,Ce.pressMove||Le),this.twoFingerPressMove=It(this.element,Ce.twoFingerPressMove||Le),this.touchMove=It(this.element,Ce.touchMove||Le),this.touchEnd=It(this.element,Ce.touchEnd||Le),this.touchCancel=It(this.element,Ce.touchCancel||Le),this.translateContainer=this.element,this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}},[{key:"start",value:function(V){if(V.touches)if(V.target&&V.target.nodeName&&["a","button","input"].indexOf(V.target.nodeName.toLowerCase())>=0)console.log("ignore drag for this touched element",V.target.nodeName.toLowerCase());else{this.now=Date.now(),this.x1=V.touches[0].pageX,this.y1=V.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(V,this.element),this.preTapPosition.x!==null&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var oe=this.preV;if(V.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var Ce={x:V.touches[1].pageX-this.x1,y:V.touches[1].pageY-this.y1};oe.x=Ce.x,oe.y=Ce.y,this.pinchStartLen=Cs(oe),this.multipointStart.dispatch(V,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout((function(){this.longTap.dispatch(V,this.element),this._preventTap=!0}).bind(this),750)}}},{key:"move",value:function(V){if(V.touches){var oe=this.preV,Ce=V.touches.length,Le=V.touches[0].pageX,qe=V.touches[0].pageY;if(this.isDoubleTap=!1,Ce>1){var bt=V.touches[1].pageX,ht=V.touches[1].pageY,Et={x:V.touches[1].pageX-Le,y:V.touches[1].pageY-qe};oe.x!==null&&(this.pinchStartLen>0&&(V.zoom=Cs(Et)/this.pinchStartLen,this.pinch.dispatch(V,this.element)),V.angle=Vo(Et,oe),this.rotate.dispatch(V,this.element)),oe.x=Et.x,oe.y=Et.y,this.x2!==null&&this.sx2!==null?(V.deltaX=(Le-this.x2+bt-this.sx2)/2,V.deltaY=(qe-this.y2+ht-this.sy2)/2):(V.deltaX=0,V.deltaY=0),this.twoFingerPressMove.dispatch(V,this.element),this.sx2=bt,this.sy2=ht}else{if(this.x2!==null){V.deltaX=Le-this.x2,V.deltaY=qe-this.y2;var tn=Math.abs(this.x1-this.x2),qt=Math.abs(this.y1-this.y2);(tn>10||qt>10)&&(this._preventTap=!0)}else V.deltaX=0,V.deltaY=0;this.pressMove.dispatch(V,this.element)}this.touchMove.dispatch(V,this.element),this._cancelLongTap(),this.x2=Le,this.y2=qe,Ce>1&&V.preventDefault()}}},{key:"end",value:function(V){if(V.changedTouches){this._cancelLongTap();var oe=this;V.touches.length<2&&(this.multipointEnd.dispatch(V,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(V.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){oe.swipe.dispatch(V,oe.element)},0)):(this.tapTimeout=setTimeout(function(){oe._preventTap||oe.tap.dispatch(V,oe.element),oe.isDoubleTap&&(oe.doubleTap.dispatch(V,oe.element),oe.isDoubleTap=!1)},0),oe.isDoubleTap||(oe.singleTapTimeout=setTimeout(function(){oe.singleTap.dispatch(V,oe.element)},250))),this.touchEnd.dispatch(V,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:"cancelAll",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function(V){this.cancelAll(),this.touchCancel.dispatch(V,this.element)}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(V,oe,Ce,Le){return Math.abs(V-oe)>=Math.abs(Ce-Le)?V-oe>0?"Left":"Right":Ce-Le>0?"Up":"Down"}},{key:"on",value:function(V,oe){this[V]&&this[V].add(oe)}},{key:"off",value:function(V,oe){this[V]&&this[V].del(oe)}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]);function nn(V){var oe=function(){var ht,Et=document.createElement("fakeelement"),tn={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(ht in tn)if(Et.style[ht]!==void 0)return tn[ht]}(),Ce=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,Le=G(V,"gslide-media")?V:V.querySelector(".gslide-media"),qe=ee(Le,".ginner-container"),bt=V.querySelector(".gslide-description");Ce>769&&(Le=qe),R(Le,"greset"),re(Le,"translate3d(0, 0, 0)"),L(oe,{onElement:Le,once:!0,withCallback:function(ht,Et){q(Le,"greset")}}),Le.style.opacity="",bt&&(bt.style.opacity="")}function $e(V){if(V.events.hasOwnProperty("touch"))return!1;var oe,Ce,Le,qe=Re(),bt=qe.width,ht=qe.height,Et=!1,tn=null,qt=null,Vn=null,kn=!1,Un=1,Kn=1,So=!1,ls=!1,Lo=null,Js=null,_t=null,Gn=null,Ws=0,Xs=0,Fi=!1,ii=!1,Ys={},lr={},cl=0,Fo=0,wn=document.getElementById("glightbox-slider"),ai=document.querySelector(".goverlay"),Il=new zn(wn,{touchStart:function(Xo){if(Et=!0,(G(Xo.targetTouches[0].target,"ginner-container")||ee(Xo.targetTouches[0].target,".gslide-desc")||Xo.targetTouches[0].target.nodeName.toLowerCase()=="a")&&(Et=!1),ee(Xo.targetTouches[0].target,".gslide-inline")&&!G(Xo.targetTouches[0].target.parentNode,"gslide-inline")&&(Et=!1),Et){if(lr=Xo.targetTouches[0],Ys.pageX=Xo.targetTouches[0].pageX,Ys.pageY=Xo.targetTouches[0].pageY,cl=Xo.targetTouches[0].clientX,Fo=Xo.targetTouches[0].clientY,tn=V.activeSlide,qt=tn.querySelector(".gslide-media"),Le=tn.querySelector(".gslide-inline"),Vn=null,G(qt,"gslide-image")&&(Vn=qt.querySelector("img")),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>769&&(qt=tn.querySelector(".ginner-container")),q(ai,"greset"),Xo.pageX>20&&Xo.pageX<window.innerWidth-20)return;Xo.preventDefault()}},touchMove:function(Xo){if(Et&&(lr=Xo.targetTouches[0],!So&&!ls)){if(Le&&Le.offsetHeight>ht){var zs=Ys.pageX-lr.pageX;if(Math.abs(zs)<=13)return!1}kn=!0;var li,Qs=Xo.targetTouches[0].clientX,Wa=Xo.targetTouches[0].clientY,ya=cl-Qs,ja=Fo-Wa;if(Math.abs(ya)>Math.abs(ja)?(Fi=!1,ii=!0):(ii=!1,Fi=!0),oe=lr.pageX-Ys.pageX,Ws=100*oe/bt,Ce=lr.pageY-Ys.pageY,Xs=100*Ce/ht,Fi&&Vn&&(li=1-Math.abs(Ce)/ht,ai.style.opacity=li,V.settings.touchFollowAxis&&(Ws=0)),ii&&(li=1-Math.abs(oe)/bt,qt.style.opacity=li,V.settings.touchFollowAxis&&(Xs=0)),!Vn)return re(qt,"translate3d(".concat(Ws,"%, 0, 0)"));re(qt,"translate3d(".concat(Ws,"%, ").concat(Xs,"%, 0)"))}},touchEnd:function(){if(Et){if(kn=!1,ls||So)return _t=Lo,void(Gn=Js);var Xo=Math.abs(parseInt(Xs)),zs=Math.abs(parseInt(Ws));if(!(Xo>29&&Vn))return Xo<29&&zs<25?(R(ai,"greset"),ai.style.opacity=1,nn(qt)):void 0;V.close()}},multipointEnd:function(){setTimeout(function(){So=!1},50)},multipointStart:function(){So=!0,Un=Kn||1},pinch:function(Xo){if(!Vn||kn)return!1;So=!0,Vn.scaleX=Vn.scaleY=Un*Xo.zoom;var zs=Un*Xo.zoom;if(ls=!0,zs<=1)return ls=!1,zs=1,Gn=null,_t=null,Lo=null,Js=null,void Vn.setAttribute("style","");zs>4.5&&(zs=4.5),Vn.style.transform="scale3d(".concat(zs,", ").concat(zs,", 1)"),Kn=zs},pressMove:function(Xo){if(ls&&!So){var zs=lr.pageX-Ys.pageX,li=lr.pageY-Ys.pageY;_t&&(zs+=_t),Gn&&(li+=Gn),Lo=zs,Js=li;var Qs="translate3d(".concat(zs,"px, ").concat(li,"px, 0)");Kn&&(Qs+=" scale3d(".concat(Kn,", ").concat(Kn,", 1)")),re(Vn,Qs)}},swipe:function(Xo){if(!ls)if(So)So=!1;else{if(Xo.direction=="Left"){if(V.index==V.elements.length-1)return nn(qt);V.nextSlide()}if(Xo.direction=="Right"){if(V.index==0)return nn(qt);V.prevSlide()}}}});V.events.touch=Il}var Tr=Ze(),ar=Ze()!==null||document.createTouch!==void 0||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,hn=document.getElementsByTagName("html")[0],Gr={selector:".glightbox",elements:null,skin:"clean",theme:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:"bottom",width:"900px",height:"506px",videosWidth:"960px",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:"https://cdn.plyr.io/3.6.12/plyr.css",js:"https://cdn.plyr.io/3.6.12/plyr.js",config:{ratio:"16:9",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoom",closeEffect:"zoom",slideEffect:"slide",moreText:"See more",moreLength:60,cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slideBack:{in:"slideInLeft",out:"slideOutRight"},none:{in:"none",out:"none"}},svg:{close:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'},slideHTML:`<div class="gslide">
    <div class="gslide-inner-content">
        <div class="ginner-container">
            <div class="gslide-media">
            </div>
            <div class="gslide-description">
                <div class="gdesc-inner">
                    <h4 class="gslide-title"></h4>
                    <div class="gslide-desc"></div>
                </div>
            </div>
        </div>
    </div>
</div>`,lightboxHTML:`<div id="glightbox-body" class="glightbox-container" tabindex="-1" role="dialog" aria-hidden="false">
    <div class="gloader visible"></div>
    <div class="goverlay"></div>
    <div class="gcontainer">
    <div id="glightbox-slider" class="gslider"></div>
    <button class="gclose gbtn" aria-label="Close" data-taborder="3">{closeSVG}</button>
    <button class="gprev gbtn" aria-label="Previous" data-taborder="2">{prevSVG}</button>
    <button class="gnext gbtn" aria-label="Next" data-taborder="1">{nextSVG}</button>
</div>
</div>`},Gs=S(function V(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};v(this,V),this.customOptions=oe,this.settings=k(Gr,oe),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1},[{key:"init",value:function(){var V=this,oe=this.getSelector();oe&&(this.baseEvents=L("click",{onElement:oe,withCallback:function(Ce,Le){Ce.preventDefault(),V.open(Le)}})),this.elements=this.getElements()}},{key:"open",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.elements.length===0)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var Ce=$t(oe)?oe:this.settings.startAt;if(xe(V)){var Le=V.getAttribute("data-gallery");Le&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,Le)),P(Ce)&&(Ce=this.getElementIndex(V))<0&&(Ce=0)}$t(Ce)||(Ce=0),this.build(),X(this.overlay,this.settings.openEffect==="none"?"none":this.settings.cssEfects.fade.in);var qe=document.body,bt=window.innerWidth-document.documentElement.clientWidth;if(bt>0){var ht=document.createElement("style");ht.type="text/css",ht.className="gcss-styles",ht.innerText=".gscrollbar-fixer {margin-right: ".concat(bt,"px}"),document.head.appendChild(ht),R(qe,"gscrollbar-fixer")}R(qe,"glightbox-open"),R(hn,"glightbox-open"),Tr&&(R(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(Ce,!0),this.elements.length===1?(R(this.prevButton,"glightbox-button-hidden"),R(this.nextButton,"glightbox-button-hidden")):(q(this.prevButton,"glightbox-button-hidden"),q(this.nextButton,"glightbox-button-hidden")),this.lightboxOpen=!0,this.trigger("open"),Fe(this.settings.onOpen)&&this.settings.onOpen(),ar&&this.settings.touchNavigation&&$e(this),this.settings.keyboardNavigation&&Ve(this)}},{key:"openAt",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.open(null,V)}},{key:"showSlide",value:function(){var V=this,oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ce=arguments.length>1&&arguments[1]!==void 0&&arguments[1];J(this.loader),this.index=parseInt(oe);var Le=this.slidesContainer.querySelector(".current");Le&&q(Le,"current"),this.slideAnimateOut();var qe=this.slidesContainer.querySelectorAll(".gslide")[oe];if(G(qe,"loaded"))this.slideAnimateIn(qe,Ce),F(this.loader);else{J(this.loader);var bt=this.elements[oe],ht={index:this.index,slide:qe,slideNode:qe,slideConfig:bt.slideConfig,slideIndex:this.index,trigger:bt.node,player:null};this.trigger("slide_before_load",ht),bt.instance.setContent(qe,function(){F(V.loader),V.resize(),V.slideAnimateIn(qe,Ce),V.trigger("slide_after_load",ht)})}this.slideDescription=qe.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&G(this.slideDescription.parentNode,"gslide-media"),this.settings.preload&&(this.preloadSlide(oe+1),this.preloadSlide(oe-1)),this.updateNavigationClasses(),this.activeSlide=qe}},{key:"preloadSlide",value:function(V){var oe=this;if(V<0||V>this.elements.length-1||P(this.elements[V]))return!1;var Ce=this.slidesContainer.querySelectorAll(".gslide")[V];if(G(Ce,"loaded"))return!1;var Le=this.elements[V],qe=Le.type,bt={index:V,slide:Ce,slideNode:Ce,slideConfig:Le.slideConfig,slideIndex:V,trigger:Le.node,player:null};this.trigger("slide_before_load",bt),qe==="video"||qe==="external"?setTimeout(function(){Le.instance.setContent(Ce,function(){oe.trigger("slide_after_load",bt)})},200):Le.instance.setContent(Ce,function(){oe.trigger("slide_after_load",bt)})}},{key:"prevSlide",value:function(){this.goToSlide(this.index-1)}},{key:"nextSlide",value:function(){this.goToSlide(this.index+1)}},{key:"goToSlide",value:function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(V<0||V>this.elements.length-1))return!1;V<0?V=this.elements.length-1:V>=this.elements.length&&(V=0),this.showSlide(V)}},{key:"insertSlide",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;oe<0&&(oe=this.elements.length);var Ce=new Dn(V,this,oe),Le=Ce.getConfig(),qe=k({},Le),bt=Ce.create(),ht=this.elements.length-1;qe.index=oe,qe.node=!1,qe.instance=Ce,qe.slideConfig=Le,this.elements.splice(oe,0,qe);var Et=null,tn=null;if(this.slidesContainer){if(oe>ht)this.slidesContainer.appendChild(bt);else{var qt=this.slidesContainer.querySelectorAll(".gslide")[oe];this.slidesContainer.insertBefore(bt,qt)}(this.settings.preload&&this.index==0&&oe==0||this.index-1==oe||this.index+1==oe)&&this.preloadSlide(oe),this.index===0&&oe===0&&(this.index=1),this.updateNavigationClasses(),Et=this.slidesContainer.querySelectorAll(".gslide")[oe],tn=this.getSlidePlayerInstance(oe),qe.slideNode=Et}this.trigger("slide_inserted",{index:oe,slide:Et,slideNode:Et,slideConfig:Le,slideIndex:oe,trigger:null,player:tn}),Fe(this.settings.slideInserted)&&this.settings.slideInserted({index:oe,slide:Et,player:tn})}},{key:"removeSlide",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;if(V<0||V>this.elements.length-1)return!1;var oe=this.slidesContainer&&this.slidesContainer.querySelectorAll(".gslide")[V];oe&&(this.getActiveSlideIndex()==V&&(V==this.elements.length-1?this.prevSlide():this.nextSlide()),oe.parentNode.removeChild(oe)),this.elements.splice(V,1),this.trigger("slide_removed",V),Fe(this.settings.slideRemoved)&&this.settings.slideRemoved(V)}},{key:"slideAnimateIn",value:function(V,oe){var Ce=this,Le=V.querySelector(".gslide-media"),qe=V.querySelector(".gslide-description"),bt={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:P(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:P(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},ht={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(Le.offsetWidth>0&&qe&&(F(qe),qe.style.display=""),q(V,this.effectsClasses),oe)X(V,this.settings.cssEfects[this.settings.openEffect].in,function(){Ce.settings.autoplayVideos&&Ce.slidePlayerPlay(V),Ce.trigger("slide_changed",{prev:bt,current:ht}),Fe(Ce.settings.afterSlideChange)&&Ce.settings.afterSlideChange.apply(Ce,[bt,ht])});else{var Et=this.settings.slideEffect,tn=Et!=="none"?this.settings.cssEfects[Et].in:Et;this.prevActiveSlideIndex>this.index&&this.settings.slideEffect=="slide"&&(tn=this.settings.cssEfects.slideBack.in),X(V,tn,function(){Ce.settings.autoplayVideos&&Ce.slidePlayerPlay(V),Ce.trigger("slide_changed",{prev:bt,current:ht}),Fe(Ce.settings.afterSlideChange)&&Ce.settings.afterSlideChange.apply(Ce,[bt,ht])})}setTimeout(function(){Ce.resize(V)},100),R(V,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var V=this.prevActiveSlide;q(V,this.effectsClasses),R(V,"prev");var oe=this.settings.slideEffect,Ce=oe!=="none"?this.settings.cssEfects[oe].out:oe;this.slidePlayerPause(V),this.trigger("slide_before_change",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:P(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:P(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),Fe(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&this.settings.slideEffect=="slide"&&(Ce=this.settings.cssEfects.slideBack.out),X(V,Ce,function(){var Le=V.querySelector(".ginner-container"),qe=V.querySelector(".gslide-media"),bt=V.querySelector(".gslide-description");Le.style.transform="",qe.style.transform="",q(qe,"greset"),qe.style.opacity="",bt&&(bt.style.opacity=""),q(V,"prev")})}},{key:"getAllPlayers",value:function(){return this.videoPlayers}},{key:"getSlidePlayerInstance",value:function(V){var oe="gvideo"+V,Ce=this.getAllPlayers();return!(!et(Ce,oe)||!Ce[oe])&&Ce[oe]}},{key:"stopSlideVideo",value:function(V){if(xe(V)){var oe=V.querySelector(".gvideo-wrapper");oe&&(V=oe.getAttribute("data-index"))}console.log("stopSlideVideo is deprecated, use slidePlayerPause");var Ce=this.getSlidePlayerInstance(V);Ce&&Ce.playing&&Ce.pause()}},{key:"slidePlayerPause",value:function(V){if(xe(V)){var oe=V.querySelector(".gvideo-wrapper");oe&&(V=oe.getAttribute("data-index"))}var Ce=this.getSlidePlayerInstance(V);Ce&&Ce.playing&&Ce.pause()}},{key:"playSlideVideo",value:function(V){if(xe(V)){var oe=V.querySelector(".gvideo-wrapper");oe&&(V=oe.getAttribute("data-index"))}console.log("playSlideVideo is deprecated, use slidePlayerPlay");var Ce=this.getSlidePlayerInstance(V);Ce&&!Ce.playing&&Ce.play()}},{key:"slidePlayerPlay",value:function(V){var oe;if(!Tr||(oe=this.settings.plyr.config)!==null&&oe!==void 0&&oe.muted){if(xe(V)){var Ce=V.querySelector(".gvideo-wrapper");Ce&&(V=Ce.getAttribute("data-index"))}var Le=this.getSlidePlayerInstance(V);Le&&!Le.playing&&(Le.play(),this.settings.autofocusVideos&&Le.elements.container.focus())}}},{key:"setElements",value:function(V){var oe=this;this.settings.elements=!1;var Ce=[];V&&V.length&&N(V,function(Le,qe){var bt=new Dn(Le,oe,qe),ht=bt.getConfig(),Et=k({},ht);Et.slideConfig=ht,Et.instance=bt,Et.index=qe,Ce.push(Et)}),this.elements=Ce,this.lightboxOpen&&(this.slidesContainer.innerHTML="",this.elements.length&&(N(this.elements,function(){var Le=ce(oe.settings.slideHTML);oe.slidesContainer.appendChild(Le)}),this.showSlide(0,!0)))}},{key:"getElementIndex",value:function(V){var oe=!1;return N(this.elements,function(Ce,Le){if(et(Ce,"node")&&Ce.node==V)return oe=Le,!0}),oe}},{key:"getElements",value:function(){var V=this,oe=[];this.elements=this.elements?this.elements:[],!P(this.settings.elements)&&Be(this.settings.elements)&&this.settings.elements.length&&N(this.settings.elements,function(Le,qe){var bt=new Dn(Le,V,qe),ht=bt.getConfig(),Et=k({},ht);Et.node=!1,Et.index=qe,Et.instance=bt,Et.slideConfig=ht,oe.push(Et)});var Ce=!1;return this.getSelector()&&(Ce=document.querySelectorAll(this.getSelector())),Ce&&N(Ce,function(Le,qe){var bt=new Dn(Le,V,qe),ht=bt.getConfig(),Et=k({},ht);Et.node=Le,Et.index=qe,Et.instance=bt,Et.slideConfig=ht,Et.gallery=Le.getAttribute("data-gallery"),oe.push(Et)}),oe}},{key:"getGalleryElements",value:function(V,oe){return V.filter(function(Ce){return Ce.gallery==oe})}},{key:"getSelector",value:function(){return!this.settings.elements&&(this.settings.selector&&this.settings.selector.substring(0,5)=="data-"?"*[".concat(this.settings.selector,"]"):this.settings.selector)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var V=[];for(var oe in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(oe)){var Ce=this.settings.cssEfects[oe];V.push("g".concat(Ce.in)),V.push("g".concat(Ce.out))}return V.join(" ")}},{key:"build",value:function(){var V=this;if(this.built)return!1;var oe=document.body.childNodes,Ce=[];N(oe,function(qt){qt.parentNode==document.body&&qt.nodeName.charAt(0)!=="#"&&qt.hasAttribute&&!qt.hasAttribute("aria-hidden")&&(Ce.push(qt),qt.setAttribute("aria-hidden","true"))});var Le=et(this.settings.svg,"next")?this.settings.svg.next:"",qe=et(this.settings.svg,"prev")?this.settings.svg.prev:"",bt=et(this.settings.svg,"close")?this.settings.svg.close:"",ht=this.settings.lightboxHTML;ht=ce(ht=(ht=(ht=ht.replace(/{nextSVG}/g,Le)).replace(/{prevSVG}/g,qe)).replace(/{closeSVG}/g,bt)),document.body.appendChild(ht);var Et=document.getElementById("glightbox-body");this.modal=Et;var tn=Et.querySelector(".gclose");this.prevButton=Et.querySelector(".gprev"),this.nextButton=Et.querySelector(".gnext"),this.overlay=Et.querySelector(".goverlay"),this.loader=Et.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.bodyHiddenChildElms=Ce,this.events={},R(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&tn&&(this.events.close=L("click",{onElement:tn,withCallback:function(qt,Vn){qt.preventDefault(),V.close()}})),tn&&!this.settings.closeButton&&tn.parentNode.removeChild(tn),this.nextButton&&(this.events.next=L("click",{onElement:this.nextButton,withCallback:function(qt,Vn){qt.preventDefault(),V.nextSlide()}})),this.prevButton&&(this.events.prev=L("click",{onElement:this.prevButton,withCallback:function(qt,Vn){qt.preventDefault(),V.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=L("click",{onElement:Et,withCallback:function(qt,Vn){V.preventOutsideClick||G(document.body,"glightbox-mobile")||ee(qt.target,".ginner-container")||ee(qt.target,".gbtn")||G(qt.target,"gnext")||G(qt.target,"gprev")||V.close()}})),N(this.elements,function(qt,Vn){V.slidesContainer.appendChild(qt.instance.create()),qt.slideNode=V.slidesContainer.querySelectorAll(".gslide")[Vn]}),ar&&R(document.body,"glightbox-touch"),this.events.resize=L("resize",{onElement:window,withCallback:function(){V.resize()}}),this.built=!0}},{key:"resize",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if((V=V||this.activeSlide)&&!G(V,"zoomed")){var oe=Re(),Ce=V.querySelector(".gvideo-wrapper"),Le=V.querySelector(".gslide-image"),qe=this.slideDescription,bt=oe.width,ht=oe.height;if(bt<=768?R(document.body,"glightbox-mobile"):q(document.body,"glightbox-mobile"),Ce||Le){var Et=!1;if(qe&&(G(qe,"description-bottom")||G(qe,"description-top"))&&!G(qe,"gabsolute")&&(Et=!0),Le){if(bt<=768)Le.querySelector("img");else if(Et){var tn,qt=qe.offsetHeight,Vn=Le.querySelector("img"),kn=this.elements[this.index].node,Un=(tn=kn.getAttribute("data-height"))!==null&&tn!==void 0?tn:"100vh";Vn.setAttribute("style","max-height: calc(".concat(Un," - ").concat(qt,"px)")),qe.setAttribute("style","max-width: ".concat(Vn.offsetWidth,"px;"))}}if(Ce){var Kn=et(this.settings.plyr.config,"ratio")?this.settings.plyr.config.ratio:"";if(!Kn){var So=Ce.clientWidth,ls=Ce.clientHeight,Lo=So/ls;Kn="".concat(So/Lo,":").concat(ls/Lo)}var Js=Kn.split(":"),_t=this.settings.videosWidth,Gn=this.settings.videosWidth,Ws=(Gn=$t(_t)||_t.indexOf("px")!==-1?parseInt(_t):_t.indexOf("vw")!==-1?bt*parseInt(_t)/100:_t.indexOf("vh")!==-1?ht*parseInt(_t)/100:_t.indexOf("%")!==-1?bt*parseInt(_t)/100:parseInt(Ce.clientWidth))/(parseInt(Js[0])/parseInt(Js[1]));if(Ws=Math.floor(Ws),Et&&(ht-=qe.offsetHeight),Gn>bt||Ws>ht||ht<Ws&&bt>Gn){var Xs=Ce.offsetWidth,Fi=Ce.offsetHeight,ii=ht/Fi,Ys={width:Xs*ii,height:Fi*ii};Ce.parentNode.setAttribute("style","max-width: ".concat(Ys.width,"px")),Et&&qe.setAttribute("style","max-width: ".concat(Ys.width,"px;"))}else Ce.parentNode.style.maxWidth="".concat(_t),Et&&qe.setAttribute("style","max-width: ".concat(_t,";"))}}}}},{key:"reload",value:function(){this.init()}},{key:"updateNavigationClasses",value:function(){var V=this.loop();q(this.nextButton,"disabled"),q(this.prevButton,"disabled"),this.index==0&&this.elements.length-1==0?(R(this.prevButton,"disabled"),R(this.nextButton,"disabled")):this.index!==0||V?this.index!==this.elements.length-1||V||R(this.nextButton,"disabled"):R(this.prevButton,"disabled")}},{key:"loop",value:function(){var V=et(this.settings,"loopAtEnd")?this.settings.loopAtEnd:null;return V=et(this.settings,"loop")?this.settings.loop:V,V}},{key:"close",value:function(){var V=this;if(!this.lightboxOpen){if(this.events){for(var oe in this.events)this.events.hasOwnProperty(oe)&&this.events[oe].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),this.bodyHiddenChildElms.length&&N(this.bodyHiddenChildElms,function(Ce){Ce.removeAttribute("aria-hidden")}),R(this.modal,"glightbox-closing"),X(this.overlay,this.settings.openEffect=="none"?"none":this.settings.cssEfects.fade.out),X(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,function(){if(V.activeSlide=null,V.prevActiveSlideIndex=null,V.prevActiveSlide=null,V.built=!1,V.events){for(var Ce in V.events)V.events.hasOwnProperty(Ce)&&V.events[Ce].destroy();V.events=null}var Le=document.body;q(hn,"glightbox-open"),q(Le,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer"),V.modal.parentNode.removeChild(V.modal),V.trigger("close"),Fe(V.settings.onClose)&&V.settings.onClose();var qe=document.querySelector(".gcss-styles");qe&&qe.parentNode.removeChild(qe),V.lightboxOpen=!1,V.closing=null})}},{key:"destroy",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:"on",value:function(V,oe){var Ce=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!V||!Fe(oe))throw new TypeError("Event name and callback must be defined");this.apiEvents.push({evt:V,once:Ce,callback:oe})}},{key:"once",value:function(V,oe){this.on(V,oe,!0)}},{key:"trigger",value:function(V){var oe=this,Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Le=[];N(this.apiEvents,function(qe,bt){var ht=qe.evt,Et=qe.once,tn=qe.callback;ht==V&&(tn(Ce),Et&&Le.push(bt))}),Le.length&&N(Le,function(qe){return oe.apiEvents.splice(qe,1)})}},{key:"clearAllEvents",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:"version",value:function(){return"3.3.0"}}]);return function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=new Gs(V);return oe.init(),oe}})})(pee);var Koe=pee.exports;const Joe=JX(Koe);function YJ(l){return l!==null&&typeof l=="object"&&"constructor"in l&&l.constructor===Object}function CY(l,r){l===void 0&&(l={}),r===void 0&&(r={}),Object.keys(r).forEach(d=>{typeof l[d]>"u"?l[d]=r[d]:YJ(r[d])&&YJ(l[d])&&Object.keys(r[d]).length>0&&CY(l[d],r[d])})}const gee={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ll(){const l=typeof document<"u"?document:{};return CY(l,gee),l}const Qoe={document:gee,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(l){return typeof setTimeout>"u"?(l(),null):setTimeout(l,0)},cancelAnimationFrame(l){typeof setTimeout>"u"||clearTimeout(l)}};function ta(){const l=typeof window<"u"?window:{};return CY(l,Qoe),l}function eb(l){return l===void 0&&(l=""),l.trim().split(" ").filter(r=>!!r.trim())}function ese(l){const r=l;Object.keys(r).forEach(d=>{try{r[d]=null}catch{}try{delete r[d]}catch{}})}function sy(l,r){return r===void 0&&(r=0),setTimeout(l,r)}function af(){return Date.now()}function tse(l){const r=ta();let d;return r.getComputedStyle&&(d=r.getComputedStyle(l,null)),!d&&l.currentStyle&&(d=l.currentStyle),d||(d=l.style),d}function jX(l,r){r===void 0&&(r="x");const d=ta();let m,v,y;const S=tse(l);return d.WebKitCSSMatrix?(v=S.transform||S.webkitTransform,v.split(",").length>6&&(v=v.split(", ").map(T=>T.replace(",",".")).join(", ")),y=new d.WebKitCSSMatrix(v==="none"?"":v)):(y=S.MozTransform||S.OTransform||S.MsTransform||S.msTransform||S.transform||S.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),m=y.toString().split(",")),r==="x"&&(d.WebKitCSSMatrix?v=y.m41:m.length===16?v=parseFloat(m[12]):v=parseFloat(m[4])),r==="y"&&(d.WebKitCSSMatrix?v=y.m42:m.length===16?v=parseFloat(m[13]):v=parseFloat(m[5])),v||0}function IO(l){return typeof l=="object"&&l!==null&&l.constructor&&Object.prototype.toString.call(l).slice(8,-1)==="Object"}function nse(l){return typeof window<"u"&&typeof window.HTMLElement<"u"?l instanceof HTMLElement:l&&(l.nodeType===1||l.nodeType===11)}function md(){const l=Object(arguments.length<=0?void 0:arguments[0]),r=["__proto__","constructor","prototype"];for(let d=1;d<arguments.length;d+=1){const m=d<0||arguments.length<=d?void 0:arguments[d];if(m!=null&&!nse(m)){const v=Object.keys(Object(m)).filter(y=>r.indexOf(y)<0);for(let y=0,S=v.length;y<S;y+=1){const T=v[y],k=Object.getOwnPropertyDescriptor(m,T);k!==void 0&&k.enumerable&&(IO(l[T])&&IO(m[T])?m[T].__swiper__?l[T]=m[T]:md(l[T],m[T]):!IO(l[T])&&IO(m[T])?(l[T]={},m[T].__swiper__?l[T]=m[T]:md(l[T],m[T])):l[T]=m[T])}}}return l}function RO(l,r,d){l.style.setProperty(r,d)}function vee(l){let{swiper:r,targetPosition:d,side:m}=l;const v=ta(),y=-r.translate;let S=null,T;const k=r.params.speed;r.wrapperEl.style.scrollSnapType="none",v.cancelAnimationFrame(r.cssModeFrameID);const N=d>y?"next":"prev",D=(R,q)=>N==="next"&&R>=q||N==="prev"&&R<=q,L=()=>{T=new Date().getTime(),S===null&&(S=T);const R=Math.max(Math.min((T-S)/k,1),0),q=.5-Math.cos(R*Math.PI)/2;let G=y+q*(d-y);if(D(G,d)&&(G=d),r.wrapperEl.scrollTo({[m]:G}),D(G,d)){r.wrapperEl.style.overflow="hidden",r.wrapperEl.style.scrollSnapType="",setTimeout(()=>{r.wrapperEl.style.overflow="",r.wrapperEl.scrollTo({[m]:G})}),v.cancelAnimationFrame(r.cssModeFrameID);return}r.cssModeFrameID=v.requestAnimationFrame(L)};L()}function ly(l){return l.querySelector(".swiper-slide-transform")||l.shadowRoot&&l.shadowRoot.querySelector(".swiper-slide-transform")||l}function Nl(l,r){r===void 0&&(r="");const d=[...l.children];return l instanceof HTMLSlotElement&&d.push(...l.assignedElements()),r?d.filter(m=>m.matches(r)):d}function ose(l,r){const d=r.contains(l);return!d&&r instanceof HTMLSlotElement?[...r.assignedElements()].includes(l):d}function y$(l){try{console.warn(l);return}catch{}}function hd(l,r){r===void 0&&(r=[]);const d=document.createElement(l);return d.classList.add(...Array.isArray(r)?r:eb(r)),d}function w$(l){const r=ta(),d=Ll(),m=l.getBoundingClientRect(),v=d.body,y=l.clientTop||v.clientTop||0,S=l.clientLeft||v.clientLeft||0,T=l===r?r.scrollY:l.scrollTop,k=l===r?r.scrollX:l.scrollLeft;return{top:m.top+T-y,left:m.left+k-S}}function sse(l,r){const d=[];for(;l.previousElementSibling;){const m=l.previousElementSibling;r?m.matches(r)&&d.push(m):d.push(m),l=m}return d}function rse(l,r){const d=[];for(;l.nextElementSibling;){const m=l.nextElementSibling;r?m.matches(r)&&d.push(m):d.push(m),l=m}return d}function rb(l,r){return ta().getComputedStyle(l,null).getPropertyValue(r)}function zO(l){let r=l,d;if(r){for(d=0;(r=r.previousSibling)!==null;)r.nodeType===1&&(d+=1);return d}}function J0(l,r){const d=[];let m=l.parentElement;for(;m;)r?m.matches(r)&&d.push(m):d.push(m),m=m.parentElement;return d}function BO(l,r){function d(m){m.target===l&&(r.call(l,m),l.removeEventListener("transitionend",d))}r&&l.addEventListener("transitionend",d)}function ZX(l,r,d){const m=ta();return l[r==="width"?"offsetWidth":"offsetHeight"]+parseFloat(m.getComputedStyle(l,null).getPropertyValue(r==="width"?"margin-right":"margin-top"))+parseFloat(m.getComputedStyle(l,null).getPropertyValue(r==="width"?"margin-left":"margin-bottom"))}function Ns(l){return(Array.isArray(l)?l:[l]).filter(r=>!!r)}function z$(l){return r=>Math.abs(r)>0&&l.browser&&l.browser.need3dFix&&Math.abs(r)%90===0?r+.001:r}let EX;function ise(){const l=ta(),r=Ll();return{smoothScroll:r.documentElement&&r.documentElement.style&&"scrollBehavior"in r.documentElement.style,touch:!!("ontouchstart"in l||l.DocumentTouch&&r instanceof l.DocumentTouch)}}function bee(){return EX||(EX=ise()),EX}let TX;function ase(l){let{userAgent:r}=l===void 0?{}:l;const d=bee(),m=ta(),v=m.navigator.platform,y=r||m.navigator.userAgent,S={ios:!1,android:!1},T=m.screen.width,k=m.screen.height,N=y.match(/(Android);?[\s\/]+([\d.]+)?/);let D=y.match(/(iPad).*OS\s([\d_]+)/);const L=y.match(/(iPod)(.*OS\s([\d_]+))?/),R=!D&&y.match(/(iPhone\sOS|iOS)\s([\d_]+)/),q=v==="Win32";let G=v==="MacIntel";const ee=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!D&&G&&d.touch&&ee.indexOf(`${T}x${k}`)>=0&&(D=y.match(/(Version)\/([\d.]+)/),D||(D=[0,1,"13_0_0"]),G=!1),N&&!q&&(S.os="android",S.android=!0),(D||R||L)&&(S.os="ios",S.ios=!0),S}function yee(l){return l===void 0&&(l={}),TX||(TX=ase(l)),TX}let _X;function lse(){const l=ta(),r=yee();let d=!1;function m(){const T=l.navigator.userAgent.toLowerCase();return T.indexOf("safari")>=0&&T.indexOf("chrome")<0&&T.indexOf("android")<0}if(m()){const T=String(l.navigator.userAgent);if(T.includes("Version/")){const[k,N]=T.split("Version/")[1].split(" ")[0].split(".").map(D=>Number(D));d=k<16||k===16&&N<2}}const v=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(l.navigator.userAgent),y=m(),S=y||v&&r.ios;return{isSafari:d||y,needPerspectiveFix:d,need3dFix:S,isWebView:v}}function cse(){return _X||(_X=lse()),_X}function use(l){let{swiper:r,on:d,emit:m}=l;const v=ta();let y=null,S=null;const T=()=>{!r||r.destroyed||!r.initialized||(m("beforeResize"),m("resize"))},k=()=>{!r||r.destroyed||!r.initialized||(y=new ResizeObserver(L=>{S=v.requestAnimationFrame(()=>{const{width:R,height:q}=r;let G=R,ee=q;L.forEach(X=>{let{contentBoxSize:re,contentRect:J,target:F}=X;F&&F!==r.el||(G=J?J.width:(re[0]||re).inlineSize,ee=J?J.height:(re[0]||re).blockSize)}),(G!==R||ee!==q)&&T()})}),y.observe(r.el))},N=()=>{S&&v.cancelAnimationFrame(S),y&&y.unobserve&&r.el&&(y.unobserve(r.el),y=null)},D=()=>{!r||r.destroyed||!r.initialized||m("orientationchange")};d("init",()=>{if(r.params.resizeObserver&&typeof v.ResizeObserver<"u"){k();return}v.addEventListener("resize",T),v.addEventListener("orientationchange",D)}),d("destroy",()=>{N(),v.removeEventListener("resize",T),v.removeEventListener("orientationchange",D)})}function dse(l){let{swiper:r,extendParams:d,on:m,emit:v}=l;const y=[],S=ta(),T=function(D,L){L===void 0&&(L={});const R=S.MutationObserver||S.WebkitMutationObserver,q=new R(G=>{if(r.__preventObserver__)return;if(G.length===1){v("observerUpdate",G[0]);return}const ee=function(){v("observerUpdate",G[0])};S.requestAnimationFrame?S.requestAnimationFrame(ee):S.setTimeout(ee,0)});q.observe(D,{attributes:typeof L.attributes>"u"?!0:L.attributes,childList:r.isElement||(typeof L.childList>"u"?!0:L).childList,characterData:typeof L.characterData>"u"?!0:L.characterData}),y.push(q)},k=()=>{if(r.params.observer){if(r.params.observeParents){const D=J0(r.hostEl);for(let L=0;L<D.length;L+=1)T(D[L])}T(r.hostEl,{childList:r.params.observeSlideChildren}),T(r.wrapperEl,{attributes:!1})}},N=()=>{y.forEach(D=>{D.disconnect()}),y.splice(0,y.length)};d({observer:!1,observeParents:!1,observeSlideChildren:!1}),m("init",k),m("destroy",N)}var fse={on(l,r,d){const m=this;if(!m.eventsListeners||m.destroyed||typeof r!="function")return m;const v=d?"unshift":"push";return l.split(" ").forEach(y=>{m.eventsListeners[y]||(m.eventsListeners[y]=[]),m.eventsListeners[y][v](r)}),m},once(l,r,d){const m=this;if(!m.eventsListeners||m.destroyed||typeof r!="function")return m;function v(){m.off(l,v),v.__emitterProxy&&delete v.__emitterProxy;for(var y=arguments.length,S=new Array(y),T=0;T<y;T++)S[T]=arguments[T];r.apply(m,S)}return v.__emitterProxy=r,m.on(l,v,d)},onAny(l,r){const d=this;if(!d.eventsListeners||d.destroyed||typeof l!="function")return d;const m=r?"unshift":"push";return d.eventsAnyListeners.indexOf(l)<0&&d.eventsAnyListeners[m](l),d},offAny(l){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsAnyListeners)return r;const d=r.eventsAnyListeners.indexOf(l);return d>=0&&r.eventsAnyListeners.splice(d,1),r},off(l,r){const d=this;return!d.eventsListeners||d.destroyed||!d.eventsListeners||l.split(" ").forEach(m=>{typeof r>"u"?d.eventsListeners[m]=[]:d.eventsListeners[m]&&d.eventsListeners[m].forEach((v,y)=>{(v===r||v.__emitterProxy&&v.__emitterProxy===r)&&d.eventsListeners[m].splice(y,1)})}),d},emit(){const l=this;if(!l.eventsListeners||l.destroyed||!l.eventsListeners)return l;let r,d,m;for(var v=arguments.length,y=new Array(v),S=0;S<v;S++)y[S]=arguments[S];return typeof y[0]=="string"||Array.isArray(y[0])?(r=y[0],d=y.slice(1,y.length),m=l):(r=y[0].events,d=y[0].data,m=y[0].context||l),d.unshift(m),(Array.isArray(r)?r:r.split(" ")).forEach(k=>{l.eventsAnyListeners&&l.eventsAnyListeners.length&&l.eventsAnyListeners.forEach(N=>{N.apply(m,[k,...d])}),l.eventsListeners&&l.eventsListeners[k]&&l.eventsListeners[k].forEach(N=>{N.apply(m,d)})}),l}};function mse(){const l=this;let r,d;const m=l.el;typeof l.params.width<"u"&&l.params.width!==null?r=l.params.width:r=m.clientWidth,typeof l.params.height<"u"&&l.params.height!==null?d=l.params.height:d=m.clientHeight,!(r===0&&l.isHorizontal()||d===0&&l.isVertical())&&(r=r-parseInt(rb(m,"padding-left")||0,10)-parseInt(rb(m,"padding-right")||0,10),d=d-parseInt(rb(m,"padding-top")||0,10)-parseInt(rb(m,"padding-bottom")||0,10),Number.isNaN(r)&&(r=0),Number.isNaN(d)&&(d=0),Object.assign(l,{width:r,height:d,size:l.isHorizontal()?r:d}))}function hse(){const l=this;function r(Fe,he){return parseFloat(Fe.getPropertyValue(l.getDirectionLabel(he))||0)}const d=l.params,{wrapperEl:m,slidesEl:v,size:y,rtlTranslate:S,wrongRTL:T}=l,k=l.virtual&&d.virtual.enabled,N=k?l.virtual.slides.length:l.slides.length,D=Nl(v,`.${l.params.slideClass}, swiper-slide`),L=k?l.virtual.slides.length:D.length;let R=[];const q=[],G=[];let ee=d.slidesOffsetBefore;typeof ee=="function"&&(ee=d.slidesOffsetBefore.call(l));let X=d.slidesOffsetAfter;typeof X=="function"&&(X=d.slidesOffsetAfter.call(l));const re=l.snapGrid.length,J=l.slidesGrid.length;let F=d.spaceBetween,ce=-ee,Re=0,ze=0;if(typeof y>"u")return;typeof F=="string"&&F.indexOf("%")>=0?F=parseFloat(F.replace("%",""))/100*y:typeof F=="string"&&(F=parseFloat(F)),l.virtualSize=-F,D.forEach(Fe=>{S?Fe.style.marginLeft="":Fe.style.marginRight="",Fe.style.marginBottom="",Fe.style.marginTop=""}),d.centeredSlides&&d.cssMode&&(RO(m,"--swiper-centered-offset-before",""),RO(m,"--swiper-centered-offset-after",""));const ie=d.grid&&d.grid.rows>1&&l.grid;ie?l.grid.initSlides(D):l.grid&&l.grid.unsetSlides();let He;const Ze=d.slidesPerView==="auto"&&d.breakpoints&&Object.keys(d.breakpoints).filter(Fe=>typeof d.breakpoints[Fe].slidesPerView<"u").length>0;for(let Fe=0;Fe<L;Fe+=1){He=0;let he;if(D[Fe]&&(he=D[Fe]),ie&&l.grid.updateSlide(Fe,he,D),!(D[Fe]&&rb(he,"display")==="none")){if(d.slidesPerView==="auto"){Ze&&(D[Fe].style[l.getDirectionLabel("width")]="");const xe=getComputedStyle(he),Be=he.style.transform,Me=he.style.webkitTransform;if(Be&&(he.style.transform="none"),Me&&(he.style.webkitTransform="none"),d.roundLengths)He=l.isHorizontal()?ZX(he,"width"):ZX(he,"height");else{const Oe=r(xe,"width"),P=r(xe,"padding-left"),et=r(xe,"padding-right"),_e=r(xe,"margin-left"),$t=r(xe,"margin-right"),dt=xe.getPropertyValue("box-sizing");if(dt&&dt==="border-box")He=Oe+_e+$t;else{const{clientWidth:Ve,offsetWidth:Ot}=he;He=Oe+P+et+_e+$t+(Ot-Ve)}}Be&&(he.style.transform=Be),Me&&(he.style.webkitTransform=Me),d.roundLengths&&(He=Math.floor(He))}else He=(y-(d.slidesPerView-1)*F)/d.slidesPerView,d.roundLengths&&(He=Math.floor(He)),D[Fe]&&(D[Fe].style[l.getDirectionLabel("width")]=`${He}px`);D[Fe]&&(D[Fe].swiperSlideSize=He),G.push(He),d.centeredSlides?(ce=ce+He/2+Re/2+F,Re===0&&Fe!==0&&(ce=ce-y/2-F),Fe===0&&(ce=ce-y/2-F),Math.abs(ce)<1/1e3&&(ce=0),d.roundLengths&&(ce=Math.floor(ce)),ze%d.slidesPerGroup===0&&R.push(ce),q.push(ce)):(d.roundLengths&&(ce=Math.floor(ce)),(ze-Math.min(l.params.slidesPerGroupSkip,ze))%l.params.slidesPerGroup===0&&R.push(ce),q.push(ce),ce=ce+He+F),l.virtualSize+=He+F,Re=He,ze+=1}}if(l.virtualSize=Math.max(l.virtualSize,y)+X,S&&T&&(d.effect==="slide"||d.effect==="coverflow")&&(m.style.width=`${l.virtualSize+F}px`),d.setWrapperSize&&(m.style[l.getDirectionLabel("width")]=`${l.virtualSize+F}px`),ie&&l.grid.updateWrapperSize(He,R),!d.centeredSlides){const Fe=[];for(let he=0;he<R.length;he+=1){let xe=R[he];d.roundLengths&&(xe=Math.floor(xe)),R[he]<=l.virtualSize-y&&Fe.push(xe)}R=Fe,Math.floor(l.virtualSize-y)-Math.floor(R[R.length-1])>1&&R.push(l.virtualSize-y)}if(k&&d.loop){const Fe=G[0]+F;if(d.slidesPerGroup>1){const he=Math.ceil((l.virtual.slidesBefore+l.virtual.slidesAfter)/d.slidesPerGroup),xe=Fe*d.slidesPerGroup;for(let Be=0;Be<he;Be+=1)R.push(R[R.length-1]+xe)}for(let he=0;he<l.virtual.slidesBefore+l.virtual.slidesAfter;he+=1)d.slidesPerGroup===1&&R.push(R[R.length-1]+Fe),q.push(q[q.length-1]+Fe),l.virtualSize+=Fe}if(R.length===0&&(R=[0]),F!==0){const Fe=l.isHorizontal()&&S?"marginLeft":l.getDirectionLabel("marginRight");D.filter((he,xe)=>!d.cssMode||d.loop?!0:xe!==D.length-1).forEach(he=>{he.style[Fe]=`${F}px`})}if(d.centeredSlides&&d.centeredSlidesBounds){let Fe=0;G.forEach(xe=>{Fe+=xe+(F||0)}),Fe-=F;const he=Fe>y?Fe-y:0;R=R.map(xe=>xe<=0?-ee:xe>he?he+X:xe)}if(d.centerInsufficientSlides){let Fe=0;G.forEach(xe=>{Fe+=xe+(F||0)}),Fe-=F;const he=(d.slidesOffsetBefore||0)+(d.slidesOffsetAfter||0);if(Fe+he<y){const xe=(y-Fe-he)/2;R.forEach((Be,Me)=>{R[Me]=Be-xe}),q.forEach((Be,Me)=>{q[Me]=Be+xe})}}if(Object.assign(l,{slides:D,snapGrid:R,slidesGrid:q,slidesSizesGrid:G}),d.centeredSlides&&d.cssMode&&!d.centeredSlidesBounds){RO(m,"--swiper-centered-offset-before",`${-R[0]}px`),RO(m,"--swiper-centered-offset-after",`${l.size/2-G[G.length-1]/2}px`);const Fe=-l.snapGrid[0],he=-l.slidesGrid[0];l.snapGrid=l.snapGrid.map(xe=>xe+Fe),l.slidesGrid=l.slidesGrid.map(xe=>xe+he)}if(L!==N&&l.emit("slidesLengthChange"),R.length!==re&&(l.params.watchOverflow&&l.checkOverflow(),l.emit("snapGridLengthChange")),q.length!==J&&l.emit("slidesGridLengthChange"),d.watchSlidesProgress&&l.updateSlidesOffset(),l.emit("slidesUpdated"),!k&&!d.cssMode&&(d.effect==="slide"||d.effect==="fade")){const Fe=`${d.containerModifierClass}backface-hidden`,he=l.el.classList.contains(Fe);L<=d.maxBackfaceHiddenSlides?he||l.el.classList.add(Fe):he&&l.el.classList.remove(Fe)}}function pse(l){const r=this,d=[],m=r.virtual&&r.params.virtual.enabled;let v=0,y;typeof l=="number"?r.setTransition(l):l===!0&&r.setTransition(r.params.speed);const S=T=>m?r.slides[r.getSlideIndexByData(T)]:r.slides[T];if(r.params.slidesPerView!=="auto"&&r.params.slidesPerView>1)if(r.params.centeredSlides)(r.visibleSlides||[]).forEach(T=>{d.push(T)});else for(y=0;y<Math.ceil(r.params.slidesPerView);y+=1){const T=r.activeIndex+y;if(T>r.slides.length&&!m)break;d.push(S(T))}else d.push(S(r.activeIndex));for(y=0;y<d.length;y+=1)if(typeof d[y]<"u"){const T=d[y].offsetHeight;v=T>v?T:v}(v||v===0)&&(r.wrapperEl.style.height=`${v}px`)}function gse(){const l=this,r=l.slides,d=l.isElement?l.isHorizontal()?l.wrapperEl.offsetLeft:l.wrapperEl.offsetTop:0;for(let m=0;m<r.length;m+=1)r[m].swiperSlideOffset=(l.isHorizontal()?r[m].offsetLeft:r[m].offsetTop)-d-l.cssOverflowAdjustment()}const KJ=(l,r,d)=>{r&&!l.classList.contains(d)?l.classList.add(d):!r&&l.classList.contains(d)&&l.classList.remove(d)};function vse(l){l===void 0&&(l=this&&this.translate||0);const r=this,d=r.params,{slides:m,rtlTranslate:v,snapGrid:y}=r;if(m.length===0)return;typeof m[0].swiperSlideOffset>"u"&&r.updateSlidesOffset();let S=-l;v&&(S=l),r.visibleSlidesIndexes=[],r.visibleSlides=[];let T=d.spaceBetween;typeof T=="string"&&T.indexOf("%")>=0?T=parseFloat(T.replace("%",""))/100*r.size:typeof T=="string"&&(T=parseFloat(T));for(let k=0;k<m.length;k+=1){const N=m[k];let D=N.swiperSlideOffset;d.cssMode&&d.centeredSlides&&(D-=m[0].swiperSlideOffset);const L=(S+(d.centeredSlides?r.minTranslate():0)-D)/(N.swiperSlideSize+T),R=(S-y[0]+(d.centeredSlides?r.minTranslate():0)-D)/(N.swiperSlideSize+T),q=-(S-D),G=q+r.slidesSizesGrid[k],ee=q>=0&&q<=r.size-r.slidesSizesGrid[k],X=q>=0&&q<r.size-1||G>1&&G<=r.size||q<=0&&G>=r.size;X&&(r.visibleSlides.push(N),r.visibleSlidesIndexes.push(k)),KJ(N,X,d.slideVisibleClass),KJ(N,ee,d.slideFullyVisibleClass),N.progress=v?-L:L,N.originalProgress=v?-R:R}}function bse(l){const r=this;if(typeof l>"u"){const D=r.rtlTranslate?-1:1;l=r&&r.translate&&r.translate*D||0}const d=r.params,m=r.maxTranslate()-r.minTranslate();let{progress:v,isBeginning:y,isEnd:S,progressLoop:T}=r;const k=y,N=S;if(m===0)v=0,y=!0,S=!0;else{v=(l-r.minTranslate())/m;const D=Math.abs(l-r.minTranslate())<1,L=Math.abs(l-r.maxTranslate())<1;y=D||v<=0,S=L||v>=1,D&&(v=0),L&&(v=1)}if(d.loop){const D=r.getSlideIndexByData(0),L=r.getSlideIndexByData(r.slides.length-1),R=r.slidesGrid[D],q=r.slidesGrid[L],G=r.slidesGrid[r.slidesGrid.length-1],ee=Math.abs(l);ee>=R?T=(ee-R)/G:T=(ee+G-q)/G,T>1&&(T-=1)}Object.assign(r,{progress:v,progressLoop:T,isBeginning:y,isEnd:S}),(d.watchSlidesProgress||d.centeredSlides&&d.autoHeight)&&r.updateSlidesProgress(l),y&&!k&&r.emit("reachBeginning toEdge"),S&&!N&&r.emit("reachEnd toEdge"),(k&&!y||N&&!S)&&r.emit("fromEdge"),r.emit("progress",v)}const kX=(l,r,d)=>{r&&!l.classList.contains(d)?l.classList.add(d):!r&&l.classList.contains(d)&&l.classList.remove(d)};function yse(){const l=this,{slides:r,params:d,slidesEl:m,activeIndex:v}=l,y=l.virtual&&d.virtual.enabled,S=l.grid&&d.grid&&d.grid.rows>1,T=L=>Nl(m,`.${d.slideClass}${L}, swiper-slide${L}`)[0];let k,N,D;if(y)if(d.loop){let L=v-l.virtual.slidesBefore;L<0&&(L=l.virtual.slides.length+L),L>=l.virtual.slides.length&&(L-=l.virtual.slides.length),k=T(`[data-swiper-slide-index="${L}"]`)}else k=T(`[data-swiper-slide-index="${v}"]`);else S?(k=r.filter(L=>L.column===v)[0],D=r.filter(L=>L.column===v+1)[0],N=r.filter(L=>L.column===v-1)[0]):k=r[v];k&&(S||(D=rse(k,`.${d.slideClass}, swiper-slide`)[0],d.loop&&!D&&(D=r[0]),N=sse(k,`.${d.slideClass}, swiper-slide`)[0],d.loop&&!N===0&&(N=r[r.length-1]))),r.forEach(L=>{kX(L,L===k,d.slideActiveClass),kX(L,L===D,d.slideNextClass),kX(L,L===N,d.slidePrevClass)}),l.emitSlidesClasses()}const c$=(l,r)=>{if(!l||l.destroyed||!l.params)return;const d=()=>l.isElement?"swiper-slide":`.${l.params.slideClass}`,m=r.closest(d());if(m){let v=m.querySelector(`.${l.params.lazyPreloaderClass}`);!v&&l.isElement&&(m.shadowRoot?v=m.shadowRoot.querySelector(`.${l.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{m.shadowRoot&&(v=m.shadowRoot.querySelector(`.${l.params.lazyPreloaderClass}`),v&&v.remove())})),v&&v.remove()}},AX=(l,r)=>{if(!l.slides[r])return;const d=l.slides[r].querySelector('[loading="lazy"]');d&&d.removeAttribute("loading")},qX=l=>{if(!l||l.destroyed||!l.params)return;let r=l.params.lazyPreloadPrevNext;const d=l.slides.length;if(!d||!r||r<0)return;r=Math.min(r,d);const m=l.params.slidesPerView==="auto"?l.slidesPerViewDynamic():Math.ceil(l.params.slidesPerView),v=l.activeIndex;if(l.params.grid&&l.params.grid.rows>1){const S=v,T=[S-r];T.push(...Array.from({length:r}).map((k,N)=>S+m+N)),l.slides.forEach((k,N)=>{T.includes(k.column)&&AX(l,N)});return}const y=v+m-1;if(l.params.rewind||l.params.loop)for(let S=v-r;S<=y+r;S+=1){const T=(S%d+d)%d;(T<v||T>y)&&AX(l,T)}else for(let S=Math.max(v-r,0);S<=Math.min(y+r,d-1);S+=1)S!==v&&(S>y||S<v)&&AX(l,S)};function wse(l){const{slidesGrid:r,params:d}=l,m=l.rtlTranslate?l.translate:-l.translate;let v;for(let y=0;y<r.length;y+=1)typeof r[y+1]<"u"?m>=r[y]&&m<r[y+1]-(r[y+1]-r[y])/2?v=y:m>=r[y]&&m<r[y+1]&&(v=y+1):m>=r[y]&&(v=y);return d.normalizeSlideIndex&&(v<0||typeof v>"u")&&(v=0),v}function Sse(l){const r=this,d=r.rtlTranslate?r.translate:-r.translate,{snapGrid:m,params:v,activeIndex:y,realIndex:S,snapIndex:T}=r;let k=l,N;const D=q=>{let G=q-r.virtual.slidesBefore;return G<0&&(G=r.virtual.slides.length+G),G>=r.virtual.slides.length&&(G-=r.virtual.slides.length),G};if(typeof k>"u"&&(k=wse(r)),m.indexOf(d)>=0)N=m.indexOf(d);else{const q=Math.min(v.slidesPerGroupSkip,k);N=q+Math.floor((k-q)/v.slidesPerGroup)}if(N>=m.length&&(N=m.length-1),k===y&&!r.params.loop){N!==T&&(r.snapIndex=N,r.emit("snapIndexChange"));return}if(k===y&&r.params.loop&&r.virtual&&r.params.virtual.enabled){r.realIndex=D(k);return}const L=r.grid&&v.grid&&v.grid.rows>1;let R;if(r.virtual&&v.virtual.enabled&&v.loop)R=D(k);else if(L){const q=r.slides.filter(ee=>ee.column===k)[0];let G=parseInt(q.getAttribute("data-swiper-slide-index"),10);Number.isNaN(G)&&(G=Math.max(r.slides.indexOf(q),0)),R=Math.floor(G/v.grid.rows)}else if(r.slides[k]){const q=r.slides[k].getAttribute("data-swiper-slide-index");q?R=parseInt(q,10):R=k}else R=k;Object.assign(r,{previousSnapIndex:T,snapIndex:N,previousRealIndex:S,realIndex:R,previousIndex:y,activeIndex:k}),r.initialized&&qX(r),r.emit("activeIndexChange"),r.emit("snapIndexChange"),(r.initialized||r.params.runCallbacksOnInit)&&(S!==R&&r.emit("realIndexChange"),r.emit("slideChange"))}function xse(l,r){const d=this,m=d.params;let v=l.closest(`.${m.slideClass}, swiper-slide`);!v&&d.isElement&&r&&r.length>1&&r.includes(l)&&[...r.slice(r.indexOf(l)+1,r.length)].forEach(T=>{!v&&T.matches&&T.matches(`.${m.slideClass}, swiper-slide`)&&(v=T)});let y=!1,S;if(v){for(let T=0;T<d.slides.length;T+=1)if(d.slides[T]===v){y=!0,S=T;break}}if(v&&y)d.clickedSlide=v,d.virtual&&d.params.virtual.enabled?d.clickedIndex=parseInt(v.getAttribute("data-swiper-slide-index"),10):d.clickedIndex=S;else{d.clickedSlide=void 0,d.clickedIndex=void 0;return}m.slideToClickedSlide&&d.clickedIndex!==void 0&&d.clickedIndex!==d.activeIndex&&d.slideToClickedSlide()}var Cse={updateSize:mse,updateSlides:hse,updateAutoHeight:pse,updateSlidesOffset:gse,updateSlidesProgress:vse,updateProgress:bse,updateSlidesClasses:yse,updateActiveIndex:Sse,updateClickedSlide:xse};function Ese(l){l===void 0&&(l=this.isHorizontal()?"x":"y");const r=this,{params:d,rtlTranslate:m,translate:v,wrapperEl:y}=r;if(d.virtualTranslate)return m?-v:v;if(d.cssMode)return v;let S=jX(y,l);return S+=r.cssOverflowAdjustment(),m&&(S=-S),S||0}function Tse(l,r){const d=this,{rtlTranslate:m,params:v,wrapperEl:y,progress:S}=d;let T=0,k=0;const N=0;d.isHorizontal()?T=m?-l:l:k=l,v.roundLengths&&(T=Math.floor(T),k=Math.floor(k)),d.previousTranslate=d.translate,d.translate=d.isHorizontal()?T:k,v.cssMode?y[d.isHorizontal()?"scrollLeft":"scrollTop"]=d.isHorizontal()?-T:-k:v.virtualTranslate||(d.isHorizontal()?T-=d.cssOverflowAdjustment():k-=d.cssOverflowAdjustment(),y.style.transform=`translate3d(${T}px, ${k}px, ${N}px)`);let D;const L=d.maxTranslate()-d.minTranslate();L===0?D=0:D=(l-d.minTranslate())/L,D!==S&&d.updateProgress(l),d.emit("setTranslate",d.translate,r)}function _se(){return-this.snapGrid[0]}function kse(){return-this.snapGrid[this.snapGrid.length-1]}function Ase(l,r,d,m,v){l===void 0&&(l=0),r===void 0&&(r=this.params.speed),d===void 0&&(d=!0),m===void 0&&(m=!0);const y=this,{params:S,wrapperEl:T}=y;if(y.animating&&S.preventInteractionOnTransition)return!1;const k=y.minTranslate(),N=y.maxTranslate();let D;if(m&&l>k?D=k:m&&l<N?D=N:D=l,y.updateProgress(D),S.cssMode){const L=y.isHorizontal();if(r===0)T[L?"scrollLeft":"scrollTop"]=-D;else{if(!y.support.smoothScroll)return vee({swiper:y,targetPosition:-D,side:L?"left":"top"}),!0;T.scrollTo({[L?"left":"top"]:-D,behavior:"smooth"})}return!0}return r===0?(y.setTransition(0),y.setTranslate(D),d&&(y.emit("beforeTransitionStart",r,v),y.emit("transitionEnd"))):(y.setTransition(r),y.setTranslate(D),d&&(y.emit("beforeTransitionStart",r,v),y.emit("transitionStart")),y.animating||(y.animating=!0,y.onTranslateToWrapperTransitionEnd||(y.onTranslateToWrapperTransitionEnd=function(R){!y||y.destroyed||R.target===this&&(y.wrapperEl.removeEventListener("transitionend",y.onTranslateToWrapperTransitionEnd),y.onTranslateToWrapperTransitionEnd=null,delete y.onTranslateToWrapperTransitionEnd,y.animating=!1,d&&y.emit("transitionEnd"))}),y.wrapperEl.addEventListener("transitionend",y.onTranslateToWrapperTransitionEnd))),!0}var Ose={getTranslate:Ese,setTranslate:Tse,minTranslate:_se,maxTranslate:kse,translateTo:Ase};function Dse(l,r){const d=this;d.params.cssMode||(d.wrapperEl.style.transitionDuration=`${l}ms`,d.wrapperEl.style.transitionDelay=l===0?"0ms":""),d.emit("setTransition",l,r)}function wee(l){let{swiper:r,runCallbacks:d,direction:m,step:v}=l;const{activeIndex:y,previousIndex:S}=r;let T=m;if(T||(y>S?T="next":y<S?T="prev":T="reset"),r.emit(`transition${v}`),d&&y!==S){if(T==="reset"){r.emit(`slideResetTransition${v}`);return}r.emit(`slideChangeTransition${v}`),T==="next"?r.emit(`slideNextTransition${v}`):r.emit(`slidePrevTransition${v}`)}}function Mse(l,r){l===void 0&&(l=!0);const d=this,{params:m}=d;m.cssMode||(m.autoHeight&&d.updateAutoHeight(),wee({swiper:d,runCallbacks:l,direction:r,step:"Start"}))}function Pse(l,r){l===void 0&&(l=!0);const d=this,{params:m}=d;d.animating=!1,!m.cssMode&&(d.setTransition(0),wee({swiper:d,runCallbacks:l,direction:r,step:"End"}))}var Nse={setTransition:Dse,transitionStart:Mse,transitionEnd:Pse};function Lse(l,r,d,m,v){l===void 0&&(l=0),d===void 0&&(d=!0),typeof l=="string"&&(l=parseInt(l,10));const y=this;let S=l;S<0&&(S=0);const{params:T,snapGrid:k,slidesGrid:N,previousIndex:D,activeIndex:L,rtlTranslate:R,wrapperEl:q,enabled:G}=y;if(!G&&!m&&!v||y.destroyed||y.animating&&T.preventInteractionOnTransition)return!1;typeof r>"u"&&(r=y.params.speed);const ee=Math.min(y.params.slidesPerGroupSkip,S);let X=ee+Math.floor((S-ee)/y.params.slidesPerGroup);X>=k.length&&(X=k.length-1);const re=-k[X];if(T.normalizeSlideIndex)for(let Re=0;Re<N.length;Re+=1){const ze=-Math.floor(re*100),ie=Math.floor(N[Re]*100),He=Math.floor(N[Re+1]*100);typeof N[Re+1]<"u"?ze>=ie&&ze<He-(He-ie)/2?S=Re:ze>=ie&&ze<He&&(S=Re+1):ze>=ie&&(S=Re)}if(y.initialized&&S!==L&&(!y.allowSlideNext&&(R?re>y.translate&&re>y.minTranslate():re<y.translate&&re<y.minTranslate())||!y.allowSlidePrev&&re>y.translate&&re>y.maxTranslate()&&(L||0)!==S))return!1;S!==(D||0)&&d&&y.emit("beforeSlideChangeStart"),y.updateProgress(re);let J;S>L?J="next":S<L?J="prev":J="reset";const F=y.virtual&&y.params.virtual.enabled;if(!(F&&v)&&(R&&-re===y.translate||!R&&re===y.translate))return y.updateActiveIndex(S),T.autoHeight&&y.updateAutoHeight(),y.updateSlidesClasses(),T.effect!=="slide"&&y.setTranslate(re),J!=="reset"&&(y.transitionStart(d,J),y.transitionEnd(d,J)),!1;if(T.cssMode){const Re=y.isHorizontal(),ze=R?re:-re;if(r===0)F&&(y.wrapperEl.style.scrollSnapType="none",y._immediateVirtual=!0),F&&!y._cssModeVirtualInitialSet&&y.params.initialSlide>0?(y._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{q[Re?"scrollLeft":"scrollTop"]=ze})):q[Re?"scrollLeft":"scrollTop"]=ze,F&&requestAnimationFrame(()=>{y.wrapperEl.style.scrollSnapType="",y._immediateVirtual=!1});else{if(!y.support.smoothScroll)return vee({swiper:y,targetPosition:ze,side:Re?"left":"top"}),!0;q.scrollTo({[Re?"left":"top"]:ze,behavior:"smooth"})}return!0}return y.setTransition(r),y.setTranslate(re),y.updateActiveIndex(S),y.updateSlidesClasses(),y.emit("beforeTransitionStart",r,m),y.transitionStart(d,J),r===0?y.transitionEnd(d,J):y.animating||(y.animating=!0,y.onSlideToWrapperTransitionEnd||(y.onSlideToWrapperTransitionEnd=function(ze){!y||y.destroyed||ze.target===this&&(y.wrapperEl.removeEventListener("transitionend",y.onSlideToWrapperTransitionEnd),y.onSlideToWrapperTransitionEnd=null,delete y.onSlideToWrapperTransitionEnd,y.transitionEnd(d,J))}),y.wrapperEl.addEventListener("transitionend",y.onSlideToWrapperTransitionEnd)),!0}function Ise(l,r,d,m){l===void 0&&(l=0),d===void 0&&(d=!0),typeof l=="string"&&(l=parseInt(l,10));const v=this;if(v.destroyed)return;typeof r>"u"&&(r=v.params.speed);const y=v.grid&&v.params.grid&&v.params.grid.rows>1;let S=l;if(v.params.loop)if(v.virtual&&v.params.virtual.enabled)S=S+v.virtual.slidesBefore;else{let T;if(y){const R=S*v.params.grid.rows;T=v.slides.filter(q=>q.getAttribute("data-swiper-slide-index")*1===R)[0].column}else T=v.getSlideIndexByData(S);const k=y?Math.ceil(v.slides.length/v.params.grid.rows):v.slides.length,{centeredSlides:N}=v.params;let D=v.params.slidesPerView;D==="auto"?D=v.slidesPerViewDynamic():(D=Math.ceil(parseFloat(v.params.slidesPerView,10)),N&&D%2===0&&(D=D+1));let L=k-T<D;if(N&&(L=L||T<Math.ceil(D/2)),m&&N&&v.params.slidesPerView!=="auto"&&!y&&(L=!1),L){const R=N?T<v.activeIndex?"prev":"next":T-v.activeIndex-1<v.params.slidesPerView?"next":"prev";v.loopFix({direction:R,slideTo:!0,activeSlideIndex:R==="next"?T+1:T-k+1,slideRealIndex:R==="next"?v.realIndex:void 0})}if(y){const R=S*v.params.grid.rows;S=v.slides.filter(q=>q.getAttribute("data-swiper-slide-index")*1===R)[0].column}else S=v.getSlideIndexByData(S)}return requestAnimationFrame(()=>{v.slideTo(S,r,d,m)}),v}function Rse(l,r,d){r===void 0&&(r=!0);const m=this,{enabled:v,params:y,animating:S}=m;if(!v||m.destroyed)return m;typeof l>"u"&&(l=m.params.speed);let T=y.slidesPerGroup;y.slidesPerView==="auto"&&y.slidesPerGroup===1&&y.slidesPerGroupAuto&&(T=Math.max(m.slidesPerViewDynamic("current",!0),1));const k=m.activeIndex<y.slidesPerGroupSkip?1:T,N=m.virtual&&y.virtual.enabled;if(y.loop){if(S&&!N&&y.loopPreventsSliding)return!1;if(m.loopFix({direction:"next"}),m._clientLeft=m.wrapperEl.clientLeft,m.activeIndex===m.slides.length-1&&y.cssMode)return requestAnimationFrame(()=>{m.slideTo(m.activeIndex+k,l,r,d)}),!0}return y.rewind&&m.isEnd?m.slideTo(0,l,r,d):m.slideTo(m.activeIndex+k,l,r,d)}function Bse(l,r,d){r===void 0&&(r=!0);const m=this,{params:v,snapGrid:y,slidesGrid:S,rtlTranslate:T,enabled:k,animating:N}=m;if(!k||m.destroyed)return m;typeof l>"u"&&(l=m.params.speed);const D=m.virtual&&v.virtual.enabled;if(v.loop){if(N&&!D&&v.loopPreventsSliding)return!1;m.loopFix({direction:"prev"}),m._clientLeft=m.wrapperEl.clientLeft}const L=T?m.translate:-m.translate;function R(re){return re<0?-Math.floor(Math.abs(re)):Math.floor(re)}const q=R(L),G=y.map(re=>R(re));let ee=y[G.indexOf(q)-1];if(typeof ee>"u"&&v.cssMode){let re;y.forEach((J,F)=>{q>=J&&(re=F)}),typeof re<"u"&&(ee=y[re>0?re-1:re])}let X=0;if(typeof ee<"u"&&(X=S.indexOf(ee),X<0&&(X=m.activeIndex-1),v.slidesPerView==="auto"&&v.slidesPerGroup===1&&v.slidesPerGroupAuto&&(X=X-m.slidesPerViewDynamic("previous",!0)+1,X=Math.max(X,0))),v.rewind&&m.isBeginning){const re=m.params.virtual&&m.params.virtual.enabled&&m.virtual?m.virtual.slides.length-1:m.slides.length-1;return m.slideTo(re,l,r,d)}else if(v.loop&&m.activeIndex===0&&v.cssMode)return requestAnimationFrame(()=>{m.slideTo(X,l,r,d)}),!0;return m.slideTo(X,l,r,d)}function $se(l,r,d){r===void 0&&(r=!0);const m=this;if(!m.destroyed)return typeof l>"u"&&(l=m.params.speed),m.slideTo(m.activeIndex,l,r,d)}function Fse(l,r,d,m){r===void 0&&(r=!0),m===void 0&&(m=.5);const v=this;if(v.destroyed)return;typeof l>"u"&&(l=v.params.speed);let y=v.activeIndex;const S=Math.min(v.params.slidesPerGroupSkip,y),T=S+Math.floor((y-S)/v.params.slidesPerGroup),k=v.rtlTranslate?v.translate:-v.translate;if(k>=v.snapGrid[T]){const N=v.snapGrid[T],D=v.snapGrid[T+1];k-N>(D-N)*m&&(y+=v.params.slidesPerGroup)}else{const N=v.snapGrid[T-1],D=v.snapGrid[T];k-N<=(D-N)*m&&(y-=v.params.slidesPerGroup)}return y=Math.max(y,0),y=Math.min(y,v.slidesGrid.length-1),v.slideTo(y,l,r,d)}function Hse(){const l=this;if(l.destroyed)return;const{params:r,slidesEl:d}=l,m=r.slidesPerView==="auto"?l.slidesPerViewDynamic():r.slidesPerView;let v=l.clickedIndex,y;const S=l.isElement?"swiper-slide":`.${r.slideClass}`;if(r.loop){if(l.animating)return;y=parseInt(l.clickedSlide.getAttribute("data-swiper-slide-index"),10),r.centeredSlides?v<l.loopedSlides-m/2||v>l.slides.length-l.loopedSlides+m/2?(l.loopFix(),v=l.getSlideIndex(Nl(d,`${S}[data-swiper-slide-index="${y}"]`)[0]),sy(()=>{l.slideTo(v)})):l.slideTo(v):v>l.slides.length-m?(l.loopFix(),v=l.getSlideIndex(Nl(d,`${S}[data-swiper-slide-index="${y}"]`)[0]),sy(()=>{l.slideTo(v)})):l.slideTo(v)}else l.slideTo(v)}var zse={slideTo:Lse,slideToLoop:Ise,slideNext:Rse,slidePrev:Bse,slideReset:$se,slideToClosest:Fse,slideToClickedSlide:Hse};function Vse(l){const r=this,{params:d,slidesEl:m}=r;if(!d.loop||r.virtual&&r.params.virtual.enabled)return;const v=()=>{Nl(m,`.${d.slideClass}, swiper-slide`).forEach((L,R)=>{L.setAttribute("data-swiper-slide-index",R)})},y=r.grid&&d.grid&&d.grid.rows>1,S=d.slidesPerGroup*(y?d.grid.rows:1),T=r.slides.length%S!==0,k=y&&r.slides.length%d.grid.rows!==0,N=D=>{for(let L=0;L<D;L+=1){const R=r.isElement?hd("swiper-slide",[d.slideBlankClass]):hd("div",[d.slideClass,d.slideBlankClass]);r.slidesEl.append(R)}};if(T){if(d.loopAddBlankSlides){const D=S-r.slides.length%S;N(D),r.recalcSlides(),r.updateSlides()}else y$("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");v()}else if(k){if(d.loopAddBlankSlides){const D=d.grid.rows-r.slides.length%d.grid.rows;N(D),r.recalcSlides(),r.updateSlides()}else y$("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");v()}else v();r.loopFix({slideRealIndex:l,direction:d.centeredSlides?void 0:"next"})}function Use(l){let{slideRealIndex:r,slideTo:d=!0,direction:m,setTranslate:v,activeSlideIndex:y,byController:S,byMousewheel:T}=l===void 0?{}:l;const k=this;if(!k.params.loop)return;k.emit("beforeLoopFix");const{slides:N,allowSlidePrev:D,allowSlideNext:L,slidesEl:R,params:q}=k,{centeredSlides:G}=q;if(k.allowSlidePrev=!0,k.allowSlideNext=!0,k.virtual&&q.virtual.enabled){d&&(!q.centeredSlides&&k.snapIndex===0?k.slideTo(k.virtual.slides.length,0,!1,!0):q.centeredSlides&&k.snapIndex<q.slidesPerView?k.slideTo(k.virtual.slides.length+k.snapIndex,0,!1,!0):k.snapIndex===k.snapGrid.length-1&&k.slideTo(k.virtual.slidesBefore,0,!1,!0)),k.allowSlidePrev=D,k.allowSlideNext=L,k.emit("loopFix");return}let ee=q.slidesPerView;ee==="auto"?ee=k.slidesPerViewDynamic():(ee=Math.ceil(parseFloat(q.slidesPerView,10)),G&&ee%2===0&&(ee=ee+1));const X=q.slidesPerGroupAuto?ee:q.slidesPerGroup;let re=X;re%X!==0&&(re+=X-re%X),re+=q.loopAdditionalSlides,k.loopedSlides=re;const J=k.grid&&q.grid&&q.grid.rows>1;N.length<ee+re?y$("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):J&&q.grid.fill==="row"&&y$("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const F=[],ce=[];let Re=k.activeIndex;typeof y>"u"?y=k.getSlideIndex(N.filter(Be=>Be.classList.contains(q.slideActiveClass))[0]):Re=y;const ze=m==="next"||!m,ie=m==="prev"||!m;let He=0,Ze=0;const Fe=J?Math.ceil(N.length/q.grid.rows):N.length,xe=(J?N[y].column:y)+(G&&typeof v>"u"?-ee/2+.5:0);if(xe<re){He=Math.max(re-xe,X);for(let Be=0;Be<re-xe;Be+=1){const Me=Be-Math.floor(Be/Fe)*Fe;if(J){const Oe=Fe-Me-1;for(let P=N.length-1;P>=0;P-=1)N[P].column===Oe&&F.push(P)}else F.push(Fe-Me-1)}}else if(xe+ee>Fe-re){Ze=Math.max(xe-(Fe-re*2),X);for(let Be=0;Be<Ze;Be+=1){const Me=Be-Math.floor(Be/Fe)*Fe;J?N.forEach((Oe,P)=>{Oe.column===Me&&ce.push(P)}):ce.push(Me)}}if(k.__preventObserver__=!0,requestAnimationFrame(()=>{k.__preventObserver__=!1}),ie&&F.forEach(Be=>{N[Be].swiperLoopMoveDOM=!0,R.prepend(N[Be]),N[Be].swiperLoopMoveDOM=!1}),ze&&ce.forEach(Be=>{N[Be].swiperLoopMoveDOM=!0,R.append(N[Be]),N[Be].swiperLoopMoveDOM=!1}),k.recalcSlides(),q.slidesPerView==="auto"?k.updateSlides():J&&(F.length>0&&ie||ce.length>0&&ze)&&k.slides.forEach((Be,Me)=>{k.grid.updateSlide(Me,Be,k.slides)}),q.watchSlidesProgress&&k.updateSlidesOffset(),d){if(F.length>0&&ie){if(typeof r>"u"){const Be=k.slidesGrid[Re],Oe=k.slidesGrid[Re+He]-Be;T?k.setTranslate(k.translate-Oe):(k.slideTo(Re+Math.ceil(He),0,!1,!0),v&&(k.touchEventsData.startTranslate=k.touchEventsData.startTranslate-Oe,k.touchEventsData.currentTranslate=k.touchEventsData.currentTranslate-Oe))}else if(v){const Be=J?F.length/q.grid.rows:F.length;k.slideTo(k.activeIndex+Be,0,!1,!0),k.touchEventsData.currentTranslate=k.translate}}else if(ce.length>0&&ze)if(typeof r>"u"){const Be=k.slidesGrid[Re],Oe=k.slidesGrid[Re-Ze]-Be;T?k.setTranslate(k.translate-Oe):(k.slideTo(Re-Ze,0,!1,!0),v&&(k.touchEventsData.startTranslate=k.touchEventsData.startTranslate-Oe,k.touchEventsData.currentTranslate=k.touchEventsData.currentTranslate-Oe))}else{const Be=J?ce.length/q.grid.rows:ce.length;k.slideTo(k.activeIndex-Be,0,!1,!0)}}if(k.allowSlidePrev=D,k.allowSlideNext=L,k.controller&&k.controller.control&&!S){const Be={slideRealIndex:r,direction:m,setTranslate:v,activeSlideIndex:y,byController:!0};Array.isArray(k.controller.control)?k.controller.control.forEach(Me=>{!Me.destroyed&&Me.params.loop&&Me.loopFix({...Be,slideTo:Me.params.slidesPerView===q.slidesPerView?d:!1})}):k.controller.control instanceof k.constructor&&k.controller.control.params.loop&&k.controller.control.loopFix({...Be,slideTo:k.controller.control.params.slidesPerView===q.slidesPerView?d:!1})}k.emit("loopFix")}function Wse(){const l=this,{params:r,slidesEl:d}=l;if(!r.loop||l.virtual&&l.params.virtual.enabled)return;l.recalcSlides();const m=[];l.slides.forEach(v=>{const y=typeof v.swiperSlideIndex>"u"?v.getAttribute("data-swiper-slide-index")*1:v.swiperSlideIndex;m[y]=v}),l.slides.forEach(v=>{v.removeAttribute("data-swiper-slide-index")}),m.forEach(v=>{d.append(v)}),l.recalcSlides(),l.slideTo(l.realIndex,0)}var jse={loopCreate:Vse,loopFix:Use,loopDestroy:Wse};function Zse(l){const r=this;if(!r.params.simulateTouch||r.params.watchOverflow&&r.isLocked||r.params.cssMode)return;const d=r.params.touchEventsTarget==="container"?r.el:r.wrapperEl;r.isElement&&(r.__preventObserver__=!0),d.style.cursor="move",d.style.cursor=l?"grabbing":"grab",r.isElement&&requestAnimationFrame(()=>{r.__preventObserver__=!1})}function qse(){const l=this;l.params.watchOverflow&&l.isLocked||l.params.cssMode||(l.isElement&&(l.__preventObserver__=!0),l[l.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",l.isElement&&requestAnimationFrame(()=>{l.__preventObserver__=!1}))}var Gse={setGrabCursor:Zse,unsetGrabCursor:qse};function Xse(l,r){r===void 0&&(r=this);function d(m){if(!m||m===Ll()||m===ta())return null;m.assignedSlot&&(m=m.assignedSlot);const v=m.closest(l);return!v&&!m.getRootNode?null:v||d(m.getRootNode().host)}return d(r)}function JJ(l,r,d){const m=ta(),{params:v}=l,y=v.edgeSwipeDetection,S=v.edgeSwipeThreshold;return y&&(d<=S||d>=m.innerWidth-S)?y==="prevent"?(r.preventDefault(),!0):!1:!0}function Yse(l){const r=this,d=Ll();let m=l;m.originalEvent&&(m=m.originalEvent);const v=r.touchEventsData;if(m.type==="pointerdown"){if(v.pointerId!==null&&v.pointerId!==m.pointerId)return;v.pointerId=m.pointerId}else m.type==="touchstart"&&m.targetTouches.length===1&&(v.touchId=m.targetTouches[0].identifier);if(m.type==="touchstart"){JJ(r,m,m.targetTouches[0].pageX);return}const{params:y,touches:S,enabled:T}=r;if(!T||!y.simulateTouch&&m.pointerType==="mouse"||r.animating&&y.preventInteractionOnTransition)return;!r.animating&&y.cssMode&&y.loop&&r.loopFix();let k=m.target;if(y.touchEventsTarget==="wrapper"&&!ose(k,r.wrapperEl)||"which"in m&&m.which===3||"button"in m&&m.button>0||v.isTouched&&v.isMoved)return;const N=!!y.noSwipingClass&&y.noSwipingClass!=="",D=m.composedPath?m.composedPath():m.path;N&&m.target&&m.target.shadowRoot&&D&&(k=D[0]);const L=y.noSwipingSelector?y.noSwipingSelector:`.${y.noSwipingClass}`,R=!!(m.target&&m.target.shadowRoot);if(y.noSwiping&&(R?Xse(L,k):k.closest(L))){r.allowClick=!0;return}if(y.swipeHandler&&!k.closest(y.swipeHandler))return;S.currentX=m.pageX,S.currentY=m.pageY;const q=S.currentX,G=S.currentY;if(!JJ(r,m,q))return;Object.assign(v,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),S.startX=q,S.startY=G,v.touchStartTime=af(),r.allowClick=!0,r.updateSize(),r.swipeDirection=void 0,y.threshold>0&&(v.allowThresholdMove=!1);let ee=!0;k.matches(v.focusableElements)&&(ee=!1,k.nodeName==="SELECT"&&(v.isTouched=!1)),d.activeElement&&d.activeElement.matches(v.focusableElements)&&d.activeElement!==k&&d.activeElement.blur();const X=ee&&r.allowTouchMove&&y.touchStartPreventDefault;(y.touchStartForcePreventDefault||X)&&!k.isContentEditable&&m.preventDefault(),y.freeMode&&y.freeMode.enabled&&r.freeMode&&r.animating&&!y.cssMode&&r.freeMode.onTouchStart(),r.emit("touchStart",m)}function Kse(l){const r=Ll(),d=this,m=d.touchEventsData,{params:v,touches:y,rtlTranslate:S,enabled:T}=d;if(!T||!v.simulateTouch&&l.pointerType==="mouse")return;let k=l;if(k.originalEvent&&(k=k.originalEvent),k.type==="pointermove"&&(m.touchId!==null||k.pointerId!==m.pointerId))return;let N;if(k.type==="touchmove"){if(N=[...k.changedTouches].filter(ze=>ze.identifier===m.touchId)[0],!N||N.identifier!==m.touchId)return}else N=k;if(!m.isTouched){m.startMoving&&m.isScrolling&&d.emit("touchMoveOpposite",k);return}const D=N.pageX,L=N.pageY;if(k.preventedByNestedSwiper){y.startX=D,y.startY=L;return}if(!d.allowTouchMove){k.target.matches(m.focusableElements)||(d.allowClick=!1),m.isTouched&&(Object.assign(y,{startX:D,startY:L,currentX:D,currentY:L}),m.touchStartTime=af());return}if(v.touchReleaseOnEdges&&!v.loop){if(d.isVertical()){if(L<y.startY&&d.translate<=d.maxTranslate()||L>y.startY&&d.translate>=d.minTranslate()){m.isTouched=!1,m.isMoved=!1;return}}else if(D<y.startX&&d.translate<=d.maxTranslate()||D>y.startX&&d.translate>=d.minTranslate())return}if(r.activeElement&&k.target===r.activeElement&&k.target.matches(m.focusableElements)){m.isMoved=!0,d.allowClick=!1;return}m.allowTouchCallbacks&&d.emit("touchMove",k),y.previousX=y.currentX,y.previousY=y.currentY,y.currentX=D,y.currentY=L;const R=y.currentX-y.startX,q=y.currentY-y.startY;if(d.params.threshold&&Math.sqrt(R**2+q**2)<d.params.threshold)return;if(typeof m.isScrolling>"u"){let ze;d.isHorizontal()&&y.currentY===y.startY||d.isVertical()&&y.currentX===y.startX?m.isScrolling=!1:R*R+q*q>=25&&(ze=Math.atan2(Math.abs(q),Math.abs(R))*180/Math.PI,m.isScrolling=d.isHorizontal()?ze>v.touchAngle:90-ze>v.touchAngle)}if(m.isScrolling&&d.emit("touchMoveOpposite",k),typeof m.startMoving>"u"&&(y.currentX!==y.startX||y.currentY!==y.startY)&&(m.startMoving=!0),m.isScrolling||k.type==="touchmove"&&m.preventTouchMoveFromPointerMove){m.isTouched=!1;return}if(!m.startMoving)return;d.allowClick=!1,!v.cssMode&&k.cancelable&&k.preventDefault(),v.touchMoveStopPropagation&&!v.nested&&k.stopPropagation();let G=d.isHorizontal()?R:q,ee=d.isHorizontal()?y.currentX-y.previousX:y.currentY-y.previousY;v.oneWayMovement&&(G=Math.abs(G)*(S?1:-1),ee=Math.abs(ee)*(S?1:-1)),y.diff=G,G*=v.touchRatio,S&&(G=-G,ee=-ee);const X=d.touchesDirection;d.swipeDirection=G>0?"prev":"next",d.touchesDirection=ee>0?"prev":"next";const re=d.params.loop&&!v.cssMode,J=d.touchesDirection==="next"&&d.allowSlideNext||d.touchesDirection==="prev"&&d.allowSlidePrev;if(!m.isMoved){if(re&&J&&d.loopFix({direction:d.swipeDirection}),m.startTranslate=d.getTranslate(),d.setTransition(0),d.animating){const ze=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});d.wrapperEl.dispatchEvent(ze)}m.allowMomentumBounce=!1,v.grabCursor&&(d.allowSlideNext===!0||d.allowSlidePrev===!0)&&d.setGrabCursor(!0),d.emit("sliderFirstMove",k)}let F;if(new Date().getTime(),m.isMoved&&m.allowThresholdMove&&X!==d.touchesDirection&&re&&J&&Math.abs(G)>=1){Object.assign(y,{startX:D,startY:L,currentX:D,currentY:L,startTranslate:m.currentTranslate}),m.loopSwapReset=!0,m.startTranslate=m.currentTranslate;return}d.emit("sliderMove",k),m.isMoved=!0,m.currentTranslate=G+m.startTranslate;let ce=!0,Re=v.resistanceRatio;if(v.touchReleaseOnEdges&&(Re=0),G>0?(re&&J&&!F&&m.allowThresholdMove&&m.currentTranslate>(v.centeredSlides?d.minTranslate()-d.slidesSizesGrid[d.activeIndex+1]-(v.slidesPerView!=="auto"&&d.slides.length-v.slidesPerView>=2?d.slidesSizesGrid[d.activeIndex+1]+d.params.spaceBetween:0)-d.params.spaceBetween:d.minTranslate())&&d.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),m.currentTranslate>d.minTranslate()&&(ce=!1,v.resistance&&(m.currentTranslate=d.minTranslate()-1+(-d.minTranslate()+m.startTranslate+G)**Re))):G<0&&(re&&J&&!F&&m.allowThresholdMove&&m.currentTranslate<(v.centeredSlides?d.maxTranslate()+d.slidesSizesGrid[d.slidesSizesGrid.length-1]+d.params.spaceBetween+(v.slidesPerView!=="auto"&&d.slides.length-v.slidesPerView>=2?d.slidesSizesGrid[d.slidesSizesGrid.length-1]+d.params.spaceBetween:0):d.maxTranslate())&&d.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:d.slides.length-(v.slidesPerView==="auto"?d.slidesPerViewDynamic():Math.ceil(parseFloat(v.slidesPerView,10)))}),m.currentTranslate<d.maxTranslate()&&(ce=!1,v.resistance&&(m.currentTranslate=d.maxTranslate()+1-(d.maxTranslate()-m.startTranslate-G)**Re))),ce&&(k.preventedByNestedSwiper=!0),!d.allowSlideNext&&d.swipeDirection==="next"&&m.currentTranslate<m.startTranslate&&(m.currentTranslate=m.startTranslate),!d.allowSlidePrev&&d.swipeDirection==="prev"&&m.currentTranslate>m.startTranslate&&(m.currentTranslate=m.startTranslate),!d.allowSlidePrev&&!d.allowSlideNext&&(m.currentTranslate=m.startTranslate),v.threshold>0)if(Math.abs(G)>v.threshold||m.allowThresholdMove){if(!m.allowThresholdMove){m.allowThresholdMove=!0,y.startX=y.currentX,y.startY=y.currentY,m.currentTranslate=m.startTranslate,y.diff=d.isHorizontal()?y.currentX-y.startX:y.currentY-y.startY;return}}else{m.currentTranslate=m.startTranslate;return}!v.followFinger||v.cssMode||((v.freeMode&&v.freeMode.enabled&&d.freeMode||v.watchSlidesProgress)&&(d.updateActiveIndex(),d.updateSlidesClasses()),v.freeMode&&v.freeMode.enabled&&d.freeMode&&d.freeMode.onTouchMove(),d.updateProgress(m.currentTranslate),d.setTranslate(m.currentTranslate))}function Jse(l){const r=this,d=r.touchEventsData;let m=l;m.originalEvent&&(m=m.originalEvent);let v;if(m.type==="touchend"||m.type==="touchcancel"){if(v=[...m.changedTouches].filter(Re=>Re.identifier===d.touchId)[0],!v||v.identifier!==d.touchId)return}else{if(d.touchId!==null||m.pointerId!==d.pointerId)return;v=m}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(m.type)&&!(["pointercancel","contextmenu"].includes(m.type)&&(r.browser.isSafari||r.browser.isWebView)))return;d.pointerId=null,d.touchId=null;const{params:S,touches:T,rtlTranslate:k,slidesGrid:N,enabled:D}=r;if(!D||!S.simulateTouch&&m.pointerType==="mouse")return;if(d.allowTouchCallbacks&&r.emit("touchEnd",m),d.allowTouchCallbacks=!1,!d.isTouched){d.isMoved&&S.grabCursor&&r.setGrabCursor(!1),d.isMoved=!1,d.startMoving=!1;return}S.grabCursor&&d.isMoved&&d.isTouched&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!1);const L=af(),R=L-d.touchStartTime;if(r.allowClick){const Re=m.path||m.composedPath&&m.composedPath();r.updateClickedSlide(Re&&Re[0]||m.target,Re),r.emit("tap click",m),R<300&&L-d.lastClickTime<300&&r.emit("doubleTap doubleClick",m)}if(d.lastClickTime=af(),sy(()=>{r.destroyed||(r.allowClick=!0)}),!d.isTouched||!d.isMoved||!r.swipeDirection||T.diff===0&&!d.loopSwapReset||d.currentTranslate===d.startTranslate&&!d.loopSwapReset){d.isTouched=!1,d.isMoved=!1,d.startMoving=!1;return}d.isTouched=!1,d.isMoved=!1,d.startMoving=!1;let q;if(S.followFinger?q=k?r.translate:-r.translate:q=-d.currentTranslate,S.cssMode)return;if(S.freeMode&&S.freeMode.enabled){r.freeMode.onTouchEnd({currentPos:q});return}const G=q>=-r.maxTranslate()&&!r.params.loop;let ee=0,X=r.slidesSizesGrid[0];for(let Re=0;Re<N.length;Re+=Re<S.slidesPerGroupSkip?1:S.slidesPerGroup){const ze=Re<S.slidesPerGroupSkip-1?1:S.slidesPerGroup;typeof N[Re+ze]<"u"?(G||q>=N[Re]&&q<N[Re+ze])&&(ee=Re,X=N[Re+ze]-N[Re]):(G||q>=N[Re])&&(ee=Re,X=N[N.length-1]-N[N.length-2])}let re=null,J=null;S.rewind&&(r.isBeginning?J=S.virtual&&S.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1:r.isEnd&&(re=0));const F=(q-N[ee])/X,ce=ee<S.slidesPerGroupSkip-1?1:S.slidesPerGroup;if(R>S.longSwipesMs){if(!S.longSwipes){r.slideTo(r.activeIndex);return}r.swipeDirection==="next"&&(F>=S.longSwipesRatio?r.slideTo(S.rewind&&r.isEnd?re:ee+ce):r.slideTo(ee)),r.swipeDirection==="prev"&&(F>1-S.longSwipesRatio?r.slideTo(ee+ce):J!==null&&F<0&&Math.abs(F)>S.longSwipesRatio?r.slideTo(J):r.slideTo(ee))}else{if(!S.shortSwipes){r.slideTo(r.activeIndex);return}r.navigation&&(m.target===r.navigation.nextEl||m.target===r.navigation.prevEl)?m.target===r.navigation.nextEl?r.slideTo(ee+ce):r.slideTo(ee):(r.swipeDirection==="next"&&r.slideTo(re!==null?re:ee+ce),r.swipeDirection==="prev"&&r.slideTo(J!==null?J:ee))}}function QJ(){const l=this,{params:r,el:d}=l;if(d&&d.offsetWidth===0)return;r.breakpoints&&l.setBreakpoint();const{allowSlideNext:m,allowSlidePrev:v,snapGrid:y}=l,S=l.virtual&&l.params.virtual.enabled;l.allowSlideNext=!0,l.allowSlidePrev=!0,l.updateSize(),l.updateSlides(),l.updateSlidesClasses();const T=S&&r.loop;(r.slidesPerView==="auto"||r.slidesPerView>1)&&l.isEnd&&!l.isBeginning&&!l.params.centeredSlides&&!T?l.slideTo(l.slides.length-1,0,!1,!0):l.params.loop&&!S?l.slideToLoop(l.realIndex,0,!1,!0):l.slideTo(l.activeIndex,0,!1,!0),l.autoplay&&l.autoplay.running&&l.autoplay.paused&&(clearTimeout(l.autoplay.resizeTimeout),l.autoplay.resizeTimeout=setTimeout(()=>{l.autoplay&&l.autoplay.running&&l.autoplay.paused&&l.autoplay.resume()},500)),l.allowSlidePrev=v,l.allowSlideNext=m,l.params.watchOverflow&&y!==l.snapGrid&&l.checkOverflow()}function Qse(l){const r=this;r.enabled&&(r.allowClick||(r.params.preventClicks&&l.preventDefault(),r.params.preventClicksPropagation&&r.animating&&(l.stopPropagation(),l.stopImmediatePropagation())))}function ere(){const l=this,{wrapperEl:r,rtlTranslate:d,enabled:m}=l;if(!m)return;l.previousTranslate=l.translate,l.isHorizontal()?l.translate=-r.scrollLeft:l.translate=-r.scrollTop,l.translate===0&&(l.translate=0),l.updateActiveIndex(),l.updateSlidesClasses();let v;const y=l.maxTranslate()-l.minTranslate();y===0?v=0:v=(l.translate-l.minTranslate())/y,v!==l.progress&&l.updateProgress(d?-l.translate:l.translate),l.emit("setTranslate",l.translate,!1)}function tre(l){const r=this;c$(r,l.target),!(r.params.cssMode||r.params.slidesPerView!=="auto"&&!r.params.autoHeight)&&r.update()}function nre(){const l=this;l.documentTouchHandlerProceeded||(l.documentTouchHandlerProceeded=!0,l.params.touchReleaseOnEdges&&(l.el.style.touchAction="auto"))}const See=(l,r)=>{const d=Ll(),{params:m,el:v,wrapperEl:y,device:S}=l,T=!!m.nested,k=r==="on"?"addEventListener":"removeEventListener",N=r;!v||typeof v=="string"||(d[k]("touchstart",l.onDocumentTouchStart,{passive:!1,capture:T}),v[k]("touchstart",l.onTouchStart,{passive:!1}),v[k]("pointerdown",l.onTouchStart,{passive:!1}),d[k]("touchmove",l.onTouchMove,{passive:!1,capture:T}),d[k]("pointermove",l.onTouchMove,{passive:!1,capture:T}),d[k]("touchend",l.onTouchEnd,{passive:!0}),d[k]("pointerup",l.onTouchEnd,{passive:!0}),d[k]("pointercancel",l.onTouchEnd,{passive:!0}),d[k]("touchcancel",l.onTouchEnd,{passive:!0}),d[k]("pointerout",l.onTouchEnd,{passive:!0}),d[k]("pointerleave",l.onTouchEnd,{passive:!0}),d[k]("contextmenu",l.onTouchEnd,{passive:!0}),(m.preventClicks||m.preventClicksPropagation)&&v[k]("click",l.onClick,!0),m.cssMode&&y[k]("scroll",l.onScroll),m.updateOnWindowResize?l[N](S.ios||S.android?"resize orientationchange observerUpdate":"resize observerUpdate",QJ,!0):l[N]("observerUpdate",QJ,!0),v[k]("load",l.onLoad,{capture:!0}))};function ore(){const l=this,{params:r}=l;l.onTouchStart=Yse.bind(l),l.onTouchMove=Kse.bind(l),l.onTouchEnd=Jse.bind(l),l.onDocumentTouchStart=nre.bind(l),r.cssMode&&(l.onScroll=ere.bind(l)),l.onClick=Qse.bind(l),l.onLoad=tre.bind(l),See(l,"on")}function sre(){See(this,"off")}var rre={attachEvents:ore,detachEvents:sre};const eQ=(l,r)=>l.grid&&r.grid&&r.grid.rows>1;function ire(){const l=this,{realIndex:r,initialized:d,params:m,el:v}=l,y=m.breakpoints;if(!y||y&&Object.keys(y).length===0)return;const S=l.getBreakpoint(y,l.params.breakpointsBase,l.el);if(!S||l.currentBreakpoint===S)return;const k=(S in y?y[S]:void 0)||l.originalParams,N=eQ(l,m),D=eQ(l,k),L=l.params.grabCursor,R=k.grabCursor,q=m.enabled;N&&!D?(v.classList.remove(`${m.containerModifierClass}grid`,`${m.containerModifierClass}grid-column`),l.emitContainerClasses()):!N&&D&&(v.classList.add(`${m.containerModifierClass}grid`),(k.grid.fill&&k.grid.fill==="column"||!k.grid.fill&&m.grid.fill==="column")&&v.classList.add(`${m.containerModifierClass}grid-column`),l.emitContainerClasses()),L&&!R?l.unsetGrabCursor():!L&&R&&l.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(F=>{if(typeof k[F]>"u")return;const ce=m[F]&&m[F].enabled,Re=k[F]&&k[F].enabled;ce&&!Re&&l[F].disable(),!ce&&Re&&l[F].enable()});const G=k.direction&&k.direction!==m.direction,ee=m.loop&&(k.slidesPerView!==m.slidesPerView||G),X=m.loop;G&&d&&l.changeDirection(),md(l.params,k);const re=l.params.enabled,J=l.params.loop;Object.assign(l,{allowTouchMove:l.params.allowTouchMove,allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev}),q&&!re?l.disable():!q&&re&&l.enable(),l.currentBreakpoint=S,l.emit("_beforeBreakpoint",k),d&&(ee?(l.loopDestroy(),l.loopCreate(r),l.updateSlides()):!X&&J?(l.loopCreate(r),l.updateSlides()):X&&!J&&l.loopDestroy()),l.emit("breakpoint",k)}function are(l,r,d){if(r===void 0&&(r="window"),!l||r==="container"&&!d)return;let m=!1;const v=ta(),y=r==="window"?v.innerHeight:d.clientHeight,S=Object.keys(l).map(T=>{if(typeof T=="string"&&T.indexOf("@")===0){const k=parseFloat(T.substr(1));return{value:y*k,point:T}}return{value:T,point:T}});S.sort((T,k)=>parseInt(T.value,10)-parseInt(k.value,10));for(let T=0;T<S.length;T+=1){const{point:k,value:N}=S[T];r==="window"?v.matchMedia(`(min-width: ${N}px)`).matches&&(m=k):N<=d.clientWidth&&(m=k)}return m||"max"}var lre={setBreakpoint:ire,getBreakpoint:are};function cre(l,r){const d=[];return l.forEach(m=>{typeof m=="object"?Object.keys(m).forEach(v=>{m[v]&&d.push(r+v)}):typeof m=="string"&&d.push(r+m)}),d}function ure(){const l=this,{classNames:r,params:d,rtl:m,el:v,device:y}=l,S=cre(["initialized",d.direction,{"free-mode":l.params.freeMode&&d.freeMode.enabled},{autoheight:d.autoHeight},{rtl:m},{grid:d.grid&&d.grid.rows>1},{"grid-column":d.grid&&d.grid.rows>1&&d.grid.fill==="column"},{android:y.android},{ios:y.ios},{"css-mode":d.cssMode},{centered:d.cssMode&&d.centeredSlides},{"watch-progress":d.watchSlidesProgress}],d.containerModifierClass);r.push(...S),v.classList.add(...r),l.emitContainerClasses()}function dre(){const l=this,{el:r,classNames:d}=l;!r||typeof r=="string"||(r.classList.remove(...d),l.emitContainerClasses())}var fre={addClasses:ure,removeClasses:dre};function mre(){const l=this,{isLocked:r,params:d}=l,{slidesOffsetBefore:m}=d;if(m){const v=l.slides.length-1,y=l.slidesGrid[v]+l.slidesSizesGrid[v]+m*2;l.isLocked=l.size>y}else l.isLocked=l.snapGrid.length===1;d.allowSlideNext===!0&&(l.allowSlideNext=!l.isLocked),d.allowSlidePrev===!0&&(l.allowSlidePrev=!l.isLocked),r&&r!==l.isLocked&&(l.isEnd=!1),r!==l.isLocked&&l.emit(l.isLocked?"lock":"unlock")}var hre={checkOverflow:mre},tQ={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function pre(l,r){return function(m){m===void 0&&(m={});const v=Object.keys(m)[0],y=m[v];if(typeof y!="object"||y===null){md(r,m);return}if(l[v]===!0&&(l[v]={enabled:!0}),v==="navigation"&&l[v]&&l[v].enabled&&!l[v].prevEl&&!l[v].nextEl&&(l[v].auto=!0),["pagination","scrollbar"].indexOf(v)>=0&&l[v]&&l[v].enabled&&!l[v].el&&(l[v].auto=!0),!(v in l&&"enabled"in y)){md(r,m);return}typeof l[v]=="object"&&!("enabled"in l[v])&&(l[v].enabled=!0),l[v]||(l[v]={enabled:!1}),md(r,m)}}const OX={eventsEmitter:fse,update:Cse,translate:Ose,transition:Nse,slide:zse,loop:jse,grabCursor:Gse,events:rre,breakpoints:lre,checkOverflow:hre,classes:fre},DX={};class fd{constructor(){let r,d;for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];v.length===1&&v[0].constructor&&Object.prototype.toString.call(v[0]).slice(8,-1)==="Object"?d=v[0]:[r,d]=v,d||(d={}),d=md({},d),r&&!d.el&&(d.el=r);const S=Ll();if(d.el&&typeof d.el=="string"&&S.querySelectorAll(d.el).length>1){const D=[];return S.querySelectorAll(d.el).forEach(L=>{const R=md({},d,{el:L});D.push(new fd(R))}),D}const T=this;T.__swiper__=!0,T.support=bee(),T.device=yee({userAgent:d.userAgent}),T.browser=cse(),T.eventsListeners={},T.eventsAnyListeners=[],T.modules=[...T.__modules__],d.modules&&Array.isArray(d.modules)&&T.modules.push(...d.modules);const k={};T.modules.forEach(D=>{D({params:d,swiper:T,extendParams:pre(d,k),on:T.on.bind(T),once:T.once.bind(T),off:T.off.bind(T),emit:T.emit.bind(T)})});const N=md({},tQ,k);return T.params=md({},N,DX,d),T.originalParams=md({},T.params),T.passedParams=md({},d),T.params&&T.params.on&&Object.keys(T.params.on).forEach(D=>{T.on(D,T.params.on[D])}),T.params&&T.params.onAny&&T.onAny(T.params.onAny),Object.assign(T,{enabled:T.params.enabled,el:r,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return T.params.direction==="horizontal"},isVertical(){return T.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:T.params.allowSlideNext,allowSlidePrev:T.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:T.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:T.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),T.emit("_swiper"),T.params.init&&T.init(),T}getDirectionLabel(r){return this.isHorizontal()?r:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[r]}getSlideIndex(r){const{slidesEl:d,params:m}=this,v=Nl(d,`.${m.slideClass}, swiper-slide`),y=zO(v[0]);return zO(r)-y}getSlideIndexByData(r){return this.getSlideIndex(this.slides.filter(d=>d.getAttribute("data-swiper-slide-index")*1===r)[0])}recalcSlides(){const r=this,{slidesEl:d,params:m}=r;r.slides=Nl(d,`.${m.slideClass}, swiper-slide`)}enable(){const r=this;r.enabled||(r.enabled=!0,r.params.grabCursor&&r.setGrabCursor(),r.emit("enable"))}disable(){const r=this;r.enabled&&(r.enabled=!1,r.params.grabCursor&&r.unsetGrabCursor(),r.emit("disable"))}setProgress(r,d){const m=this;r=Math.min(Math.max(r,0),1);const v=m.minTranslate(),S=(m.maxTranslate()-v)*r+v;m.translateTo(S,typeof d>"u"?0:d),m.updateActiveIndex(),m.updateSlidesClasses()}emitContainerClasses(){const r=this;if(!r.params._emitClasses||!r.el)return;const d=r.el.className.split(" ").filter(m=>m.indexOf("swiper")===0||m.indexOf(r.params.containerModifierClass)===0);r.emit("_containerClasses",d.join(" "))}getSlideClasses(r){const d=this;return d.destroyed?"":r.className.split(" ").filter(m=>m.indexOf("swiper-slide")===0||m.indexOf(d.params.slideClass)===0).join(" ")}emitSlidesClasses(){const r=this;if(!r.params._emitClasses||!r.el)return;const d=[];r.slides.forEach(m=>{const v=r.getSlideClasses(m);d.push({slideEl:m,classNames:v}),r.emit("_slideClass",m,v)}),r.emit("_slideClasses",d)}slidesPerViewDynamic(r,d){r===void 0&&(r="current"),d===void 0&&(d=!1);const m=this,{params:v,slides:y,slidesGrid:S,slidesSizesGrid:T,size:k,activeIndex:N}=m;let D=1;if(typeof v.slidesPerView=="number")return v.slidesPerView;if(v.centeredSlides){let L=y[N]?Math.ceil(y[N].swiperSlideSize):0,R;for(let q=N+1;q<y.length;q+=1)y[q]&&!R&&(L+=Math.ceil(y[q].swiperSlideSize),D+=1,L>k&&(R=!0));for(let q=N-1;q>=0;q-=1)y[q]&&!R&&(L+=y[q].swiperSlideSize,D+=1,L>k&&(R=!0))}else if(r==="current")for(let L=N+1;L<y.length;L+=1)(d?S[L]+T[L]-S[N]<k:S[L]-S[N]<k)&&(D+=1);else for(let L=N-1;L>=0;L-=1)S[N]-S[L]<k&&(D+=1);return D}update(){const r=this;if(!r||r.destroyed)return;const{snapGrid:d,params:m}=r;m.breakpoints&&r.setBreakpoint(),[...r.el.querySelectorAll('[loading="lazy"]')].forEach(S=>{S.complete&&c$(r,S)}),r.updateSize(),r.updateSlides(),r.updateProgress(),r.updateSlidesClasses();function v(){const S=r.rtlTranslate?r.translate*-1:r.translate,T=Math.min(Math.max(S,r.maxTranslate()),r.minTranslate());r.setTranslate(T),r.updateActiveIndex(),r.updateSlidesClasses()}let y;if(m.freeMode&&m.freeMode.enabled&&!m.cssMode)v(),m.autoHeight&&r.updateAutoHeight();else{if((m.slidesPerView==="auto"||m.slidesPerView>1)&&r.isEnd&&!m.centeredSlides){const S=r.virtual&&m.virtual.enabled?r.virtual.slides:r.slides;y=r.slideTo(S.length-1,0,!1,!0)}else y=r.slideTo(r.activeIndex,0,!1,!0);y||v()}m.watchOverflow&&d!==r.snapGrid&&r.checkOverflow(),r.emit("update")}changeDirection(r,d){d===void 0&&(d=!0);const m=this,v=m.params.direction;return r||(r=v==="horizontal"?"vertical":"horizontal"),r===v||r!=="horizontal"&&r!=="vertical"||(m.el.classList.remove(`${m.params.containerModifierClass}${v}`),m.el.classList.add(`${m.params.containerModifierClass}${r}`),m.emitContainerClasses(),m.params.direction=r,m.slides.forEach(y=>{r==="vertical"?y.style.width="":y.style.height=""}),m.emit("changeDirection"),d&&m.update()),m}changeLanguageDirection(r){const d=this;d.rtl&&r==="rtl"||!d.rtl&&r==="ltr"||(d.rtl=r==="rtl",d.rtlTranslate=d.params.direction==="horizontal"&&d.rtl,d.rtl?(d.el.classList.add(`${d.params.containerModifierClass}rtl`),d.el.dir="rtl"):(d.el.classList.remove(`${d.params.containerModifierClass}rtl`),d.el.dir="ltr"),d.update())}mount(r){const d=this;if(d.mounted)return!0;let m=r||d.params.el;if(typeof m=="string"&&(m=document.querySelector(m)),!m)return!1;m.swiper=d,m.parentNode&&m.parentNode.host&&m.parentNode.host.nodeName===d.params.swiperElementNodeName.toUpperCase()&&(d.isElement=!0);const v=()=>`.${(d.params.wrapperClass||"").trim().split(" ").join(".")}`;let S=m&&m.shadowRoot&&m.shadowRoot.querySelector?m.shadowRoot.querySelector(v()):Nl(m,v())[0];return!S&&d.params.createElements&&(S=hd("div",d.params.wrapperClass),m.append(S),Nl(m,`.${d.params.slideClass}`).forEach(T=>{S.append(T)})),Object.assign(d,{el:m,wrapperEl:S,slidesEl:d.isElement&&!m.parentNode.host.slideSlots?m.parentNode.host:S,hostEl:d.isElement?m.parentNode.host:m,mounted:!0,rtl:m.dir.toLowerCase()==="rtl"||rb(m,"direction")==="rtl",rtlTranslate:d.params.direction==="horizontal"&&(m.dir.toLowerCase()==="rtl"||rb(m,"direction")==="rtl"),wrongRTL:rb(S,"display")==="-webkit-box"}),!0}init(r){const d=this;if(d.initialized||d.mount(r)===!1)return d;d.emit("beforeInit"),d.params.breakpoints&&d.setBreakpoint(),d.addClasses(),d.updateSize(),d.updateSlides(),d.params.watchOverflow&&d.checkOverflow(),d.params.grabCursor&&d.enabled&&d.setGrabCursor(),d.params.loop&&d.virtual&&d.params.virtual.enabled?d.slideTo(d.params.initialSlide+d.virtual.slidesBefore,0,d.params.runCallbacksOnInit,!1,!0):d.slideTo(d.params.initialSlide,0,d.params.runCallbacksOnInit,!1,!0),d.params.loop&&d.loopCreate(),d.attachEvents();const v=[...d.el.querySelectorAll('[loading="lazy"]')];return d.isElement&&v.push(...d.hostEl.querySelectorAll('[loading="lazy"]')),v.forEach(y=>{y.complete?c$(d,y):y.addEventListener("load",S=>{c$(d,S.target)})}),qX(d),d.initialized=!0,qX(d),d.emit("init"),d.emit("afterInit"),d}destroy(r,d){r===void 0&&(r=!0),d===void 0&&(d=!0);const m=this,{params:v,el:y,wrapperEl:S,slides:T}=m;return typeof m.params>"u"||m.destroyed||(m.emit("beforeDestroy"),m.initialized=!1,m.detachEvents(),v.loop&&m.loopDestroy(),d&&(m.removeClasses(),y&&typeof y!="string"&&y.removeAttribute("style"),S&&S.removeAttribute("style"),T&&T.length&&T.forEach(k=>{k.classList.remove(v.slideVisibleClass,v.slideFullyVisibleClass,v.slideActiveClass,v.slideNextClass,v.slidePrevClass),k.removeAttribute("style"),k.removeAttribute("data-swiper-slide-index")})),m.emit("destroy"),Object.keys(m.eventsListeners).forEach(k=>{m.off(k)}),r!==!1&&(m.el&&typeof m.el!="string"&&(m.el.swiper=null),ese(m)),m.destroyed=!0),null}static extendDefaults(r){md(DX,r)}static get extendedDefaults(){return DX}static get defaults(){return tQ}static installModule(r){fd.prototype.__modules__||(fd.prototype.__modules__=[]);const d=fd.prototype.__modules__;typeof r=="function"&&d.indexOf(r)<0&&d.push(r)}static use(r){return Array.isArray(r)?(r.forEach(d=>fd.installModule(d)),fd):(fd.installModule(r),fd)}}Object.keys(OX).forEach(l=>{Object.keys(OX[l]).forEach(r=>{fd.prototype[r]=OX[l][r]})});fd.use([use,dse]);function gre(l){let{swiper:r,extendParams:d,on:m,emit:v}=l;d({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let y;const S=Ll();r.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const T=S.createElement("div");function k(G,ee){const X=r.params.virtual;if(X.cache&&r.virtual.cache[ee])return r.virtual.cache[ee];let re;return X.renderSlide?(re=X.renderSlide.call(r,G,ee),typeof re=="string"&&(T.innerHTML=re,re=T.children[0])):r.isElement?re=hd("swiper-slide"):re=hd("div",r.params.slideClass),re.setAttribute("data-swiper-slide-index",ee),X.renderSlide||(re.innerHTML=G),X.cache&&(r.virtual.cache[ee]=re),re}function N(G,ee){const{slidesPerView:X,slidesPerGroup:re,centeredSlides:J,loop:F,initialSlide:ce}=r.params;if(ee&&!F&&ce>0)return;const{addSlidesBefore:Re,addSlidesAfter:ze}=r.params.virtual,{from:ie,to:He,slides:Ze,slidesGrid:Fe,offset:he}=r.virtual;r.params.cssMode||r.updateActiveIndex();const xe=r.activeIndex||0;let Be;r.rtlTranslate?Be="right":Be=r.isHorizontal()?"left":"top";let Me,Oe;J?(Me=Math.floor(X/2)+re+ze,Oe=Math.floor(X/2)+re+Re):(Me=X+(re-1)+ze,Oe=(F?X:re)+Re);let P=xe-Oe,et=xe+Me;F||(P=Math.max(P,0),et=Math.min(et,Ze.length-1));let _e=(r.slidesGrid[P]||0)-(r.slidesGrid[0]||0);F&&xe>=Oe?(P-=Oe,J||(_e+=r.slidesGrid[0])):F&&xe<Oe&&(P=-Oe,J&&(_e+=r.slidesGrid[0])),Object.assign(r.virtual,{from:P,to:et,offset:_e,slidesGrid:r.slidesGrid,slidesBefore:Oe,slidesAfter:Me});function $t(){r.updateSlides(),r.updateProgress(),r.updateSlidesClasses(),v("virtualUpdate")}if(ie===P&&He===et&&!G){r.slidesGrid!==Fe&&_e!==he&&r.slides.forEach(rn=>{rn.style[Be]=`${_e-Math.abs(r.cssOverflowAdjustment())}px`}),r.updateProgress(),v("virtualUpdate");return}if(r.params.virtual.renderExternal){r.params.virtual.renderExternal.call(r,{offset:_e,from:P,to:et,slides:function(){const Ue=[];for(let wt=P;wt<=et;wt+=1)Ue.push(Ze[wt]);return Ue}()}),r.params.virtual.renderExternalUpdate?$t():v("virtualUpdate");return}const dt=[],Ve=[],Ot=rn=>{let Ue=rn;return rn<0?Ue=Ze.length+rn:Ue>=Ze.length&&(Ue=Ue-Ze.length),Ue};if(G)r.slides.filter(rn=>rn.matches(`.${r.params.slideClass}, swiper-slide`)).forEach(rn=>{rn.remove()});else for(let rn=ie;rn<=He;rn+=1)if(rn<P||rn>et){const Ue=Ot(rn);r.slides.filter(wt=>wt.matches(`.${r.params.slideClass}[data-swiper-slide-index="${Ue}"], swiper-slide[data-swiper-slide-index="${Ue}"]`)).forEach(wt=>{wt.remove()})}const jt=F?-Ze.length:0,Hn=F?Ze.length*2:Ze.length;for(let rn=jt;rn<Hn;rn+=1)if(rn>=P&&rn<=et){const Ue=Ot(rn);typeof He>"u"||G?Ve.push(Ue):(rn>He&&Ve.push(Ue),rn<ie&&dt.push(Ue))}if(Ve.forEach(rn=>{r.slidesEl.append(k(Ze[rn],rn))}),F)for(let rn=dt.length-1;rn>=0;rn-=1){const Ue=dt[rn];r.slidesEl.prepend(k(Ze[Ue],Ue))}else dt.sort((rn,Ue)=>Ue-rn),dt.forEach(rn=>{r.slidesEl.prepend(k(Ze[rn],rn))});Nl(r.slidesEl,".swiper-slide, swiper-slide").forEach(rn=>{rn.style[Be]=`${_e-Math.abs(r.cssOverflowAdjustment())}px`}),$t()}function D(G){if(typeof G=="object"&&"length"in G)for(let ee=0;ee<G.length;ee+=1)G[ee]&&r.virtual.slides.push(G[ee]);else r.virtual.slides.push(G);N(!0)}function L(G){const ee=r.activeIndex;let X=ee+1,re=1;if(Array.isArray(G)){for(let J=0;J<G.length;J+=1)G[J]&&r.virtual.slides.unshift(G[J]);X=ee+G.length,re=G.length}else r.virtual.slides.unshift(G);if(r.params.virtual.cache){const J=r.virtual.cache,F={};Object.keys(J).forEach(ce=>{const Re=J[ce],ze=Re.getAttribute("data-swiper-slide-index");ze&&Re.setAttribute("data-swiper-slide-index",parseInt(ze,10)+re),F[parseInt(ce,10)+re]=Re}),r.virtual.cache=F}N(!0),r.slideTo(X,0)}function R(G){if(typeof G>"u"||G===null)return;let ee=r.activeIndex;if(Array.isArray(G))for(let X=G.length-1;X>=0;X-=1)r.params.virtual.cache&&(delete r.virtual.cache[G[X]],Object.keys(r.virtual.cache).forEach(re=>{re>G&&(r.virtual.cache[re-1]=r.virtual.cache[re],r.virtual.cache[re-1].setAttribute("data-swiper-slide-index",re-1),delete r.virtual.cache[re])})),r.virtual.slides.splice(G[X],1),G[X]<ee&&(ee-=1),ee=Math.max(ee,0);else r.params.virtual.cache&&(delete r.virtual.cache[G],Object.keys(r.virtual.cache).forEach(X=>{X>G&&(r.virtual.cache[X-1]=r.virtual.cache[X],r.virtual.cache[X-1].setAttribute("data-swiper-slide-index",X-1),delete r.virtual.cache[X])})),r.virtual.slides.splice(G,1),G<ee&&(ee-=1),ee=Math.max(ee,0);N(!0),r.slideTo(ee,0)}function q(){r.virtual.slides=[],r.params.virtual.cache&&(r.virtual.cache={}),N(!0),r.slideTo(0,0)}m("beforeInit",()=>{if(!r.params.virtual.enabled)return;let G;if(typeof r.passedParams.virtual.slides>"u"){const ee=[...r.slidesEl.children].filter(X=>X.matches(`.${r.params.slideClass}, swiper-slide`));ee&&ee.length&&(r.virtual.slides=[...ee],G=!0,ee.forEach((X,re)=>{X.setAttribute("data-swiper-slide-index",re),r.virtual.cache[re]=X,X.remove()}))}G||(r.virtual.slides=r.params.virtual.slides),r.classNames.push(`${r.params.containerModifierClass}virtual`),r.params.watchSlidesProgress=!0,r.originalParams.watchSlidesProgress=!0,N(!1,!0)}),m("setTranslate",()=>{r.params.virtual.enabled&&(r.params.cssMode&&!r._immediateVirtual?(clearTimeout(y),y=setTimeout(()=>{N()},100)):N())}),m("init update resize",()=>{r.params.virtual.enabled&&r.params.cssMode&&RO(r.wrapperEl,"--swiper-virtual-size",`${r.virtualSize}px`)}),Object.assign(r.virtual,{appendSlide:D,prependSlide:L,removeSlide:R,removeAllSlides:q,update:N})}function vre(l){let{swiper:r,extendParams:d,on:m,emit:v}=l;const y=Ll(),S=ta();r.keyboard={enabled:!1},d({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function T(D){if(!r.enabled)return;const{rtlTranslate:L}=r;let R=D;R.originalEvent&&(R=R.originalEvent);const q=R.keyCode||R.charCode,G=r.params.keyboard.pageUpDown,ee=G&&q===33,X=G&&q===34,re=q===37,J=q===39,F=q===38,ce=q===40;if(!r.allowSlideNext&&(r.isHorizontal()&&J||r.isVertical()&&ce||X)||!r.allowSlidePrev&&(r.isHorizontal()&&re||r.isVertical()&&F||ee))return!1;if(!(R.shiftKey||R.altKey||R.ctrlKey||R.metaKey)&&!(y.activeElement&&y.activeElement.nodeName&&(y.activeElement.nodeName.toLowerCase()==="input"||y.activeElement.nodeName.toLowerCase()==="textarea"))){if(r.params.keyboard.onlyInViewport&&(ee||X||re||J||F||ce)){let Re=!1;if(J0(r.el,`.${r.params.slideClass}, swiper-slide`).length>0&&J0(r.el,`.${r.params.slideActiveClass}`).length===0)return;const ze=r.el,ie=ze.clientWidth,He=ze.clientHeight,Ze=S.innerWidth,Fe=S.innerHeight,he=w$(ze);L&&(he.left-=ze.scrollLeft);const xe=[[he.left,he.top],[he.left+ie,he.top],[he.left,he.top+He],[he.left+ie,he.top+He]];for(let Be=0;Be<xe.length;Be+=1){const Me=xe[Be];if(Me[0]>=0&&Me[0]<=Ze&&Me[1]>=0&&Me[1]<=Fe){if(Me[0]===0&&Me[1]===0)continue;Re=!0}}if(!Re)return}r.isHorizontal()?((ee||X||re||J)&&(R.preventDefault?R.preventDefault():R.returnValue=!1),((X||J)&&!L||(ee||re)&&L)&&r.slideNext(),((ee||re)&&!L||(X||J)&&L)&&r.slidePrev()):((ee||X||F||ce)&&(R.preventDefault?R.preventDefault():R.returnValue=!1),(X||ce)&&r.slideNext(),(ee||F)&&r.slidePrev()),v("keyPress",q)}}function k(){r.keyboard.enabled||(y.addEventListener("keydown",T),r.keyboard.enabled=!0)}function N(){r.keyboard.enabled&&(y.removeEventListener("keydown",T),r.keyboard.enabled=!1)}m("init",()=>{r.params.keyboard.enabled&&k()}),m("destroy",()=>{r.keyboard.enabled&&N()}),Object.assign(r.keyboard,{enable:k,disable:N})}function bre(l){let{swiper:r,extendParams:d,on:m,emit:v}=l;const y=ta();d({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),r.mousewheel={enabled:!1};let S,T=af(),k;const N=[];function D(F){let ie=0,He=0,Ze=0,Fe=0;return"detail"in F&&(He=F.detail),"wheelDelta"in F&&(He=-F.wheelDelta/120),"wheelDeltaY"in F&&(He=-F.wheelDeltaY/120),"wheelDeltaX"in F&&(ie=-F.wheelDeltaX/120),"axis"in F&&F.axis===F.HORIZONTAL_AXIS&&(ie=He,He=0),Ze=ie*10,Fe=He*10,"deltaY"in F&&(Fe=F.deltaY),"deltaX"in F&&(Ze=F.deltaX),F.shiftKey&&!Ze&&(Ze=Fe,Fe=0),(Ze||Fe)&&F.deltaMode&&(F.deltaMode===1?(Ze*=40,Fe*=40):(Ze*=800,Fe*=800)),Ze&&!ie&&(ie=Ze<1?-1:1),Fe&&!He&&(He=Fe<1?-1:1),{spinX:ie,spinY:He,pixelX:Ze,pixelY:Fe}}function L(){r.enabled&&(r.mouseEntered=!0)}function R(){r.enabled&&(r.mouseEntered=!1)}function q(F){return r.params.mousewheel.thresholdDelta&&F.delta<r.params.mousewheel.thresholdDelta||r.params.mousewheel.thresholdTime&&af()-T<r.params.mousewheel.thresholdTime?!1:F.delta>=6&&af()-T<60?!0:(F.direction<0?(!r.isEnd||r.params.loop)&&!r.animating&&(r.slideNext(),v("scroll",F.raw)):(!r.isBeginning||r.params.loop)&&!r.animating&&(r.slidePrev(),v("scroll",F.raw)),T=new y.Date().getTime(),!1)}function G(F){const ce=r.params.mousewheel;if(F.direction<0){if(r.isEnd&&!r.params.loop&&ce.releaseOnEdges)return!0}else if(r.isBeginning&&!r.params.loop&&ce.releaseOnEdges)return!0;return!1}function ee(F){let ce=F,Re=!0;if(!r.enabled||F.target.closest(`.${r.params.mousewheel.noMousewheelClass}`))return;const ze=r.params.mousewheel;r.params.cssMode&&ce.preventDefault();let ie=r.el;r.params.mousewheel.eventsTarget!=="container"&&(ie=document.querySelector(r.params.mousewheel.eventsTarget));const He=ie&&ie.contains(ce.target);if(!r.mouseEntered&&!He&&!ze.releaseOnEdges)return!0;ce.originalEvent&&(ce=ce.originalEvent);let Ze=0;const Fe=r.rtlTranslate?-1:1,he=D(ce);if(ze.forceToAxis)if(r.isHorizontal())if(Math.abs(he.pixelX)>Math.abs(he.pixelY))Ze=-he.pixelX*Fe;else return!0;else if(Math.abs(he.pixelY)>Math.abs(he.pixelX))Ze=-he.pixelY;else return!0;else Ze=Math.abs(he.pixelX)>Math.abs(he.pixelY)?-he.pixelX*Fe:-he.pixelY;if(Ze===0)return!0;ze.invert&&(Ze=-Ze);let xe=r.getTranslate()+Ze*ze.sensitivity;if(xe>=r.minTranslate()&&(xe=r.minTranslate()),xe<=r.maxTranslate()&&(xe=r.maxTranslate()),Re=r.params.loop?!0:!(xe===r.minTranslate()||xe===r.maxTranslate()),Re&&r.params.nested&&ce.stopPropagation(),!r.params.freeMode||!r.params.freeMode.enabled){const Be={time:af(),delta:Math.abs(Ze),direction:Math.sign(Ze),raw:F};N.length>=2&&N.shift();const Me=N.length?N[N.length-1]:void 0;if(N.push(Be),Me?(Be.direction!==Me.direction||Be.delta>Me.delta||Be.time>Me.time+150)&&q(Be):q(Be),G(Be))return!0}else{const Be={time:af(),delta:Math.abs(Ze),direction:Math.sign(Ze)},Me=k&&Be.time<k.time+500&&Be.delta<=k.delta&&Be.direction===k.direction;if(!Me){k=void 0;let Oe=r.getTranslate()+Ze*ze.sensitivity;const P=r.isBeginning,et=r.isEnd;if(Oe>=r.minTranslate()&&(Oe=r.minTranslate()),Oe<=r.maxTranslate()&&(Oe=r.maxTranslate()),r.setTransition(0),r.setTranslate(Oe),r.updateProgress(),r.updateActiveIndex(),r.updateSlidesClasses(),(!P&&r.isBeginning||!et&&r.isEnd)&&r.updateSlidesClasses(),r.params.loop&&r.loopFix({direction:Be.direction<0?"next":"prev",byMousewheel:!0}),r.params.freeMode.sticky){clearTimeout(S),S=void 0,N.length>=15&&N.shift();const _e=N.length?N[N.length-1]:void 0,$t=N[0];if(N.push(Be),_e&&(Be.delta>_e.delta||Be.direction!==_e.direction))N.splice(0);else if(N.length>=15&&Be.time-$t.time<500&&$t.delta-Be.delta>=1&&Be.delta<=6){const dt=Ze>0?.8:.2;k=Be,N.splice(0),S=sy(()=>{r.destroyed||!r.params||r.slideToClosest(r.params.speed,!0,void 0,dt)},0)}S||(S=sy(()=>{if(r.destroyed||!r.params)return;const dt=.5;k=Be,N.splice(0),r.slideToClosest(r.params.speed,!0,void 0,dt)},500))}if(Me||v("scroll",ce),r.params.autoplay&&r.params.autoplayDisableOnInteraction&&r.autoplay.stop(),ze.releaseOnEdges&&(Oe===r.minTranslate()||Oe===r.maxTranslate()))return!0}}return ce.preventDefault?ce.preventDefault():ce.returnValue=!1,!1}function X(F){let ce=r.el;r.params.mousewheel.eventsTarget!=="container"&&(ce=document.querySelector(r.params.mousewheel.eventsTarget)),ce[F]("mouseenter",L),ce[F]("mouseleave",R),ce[F]("wheel",ee)}function re(){return r.params.cssMode?(r.wrapperEl.removeEventListener("wheel",ee),!0):r.mousewheel.enabled?!1:(X("addEventListener"),r.mousewheel.enabled=!0,!0)}function J(){return r.params.cssMode?(r.wrapperEl.addEventListener(event,ee),!0):r.mousewheel.enabled?(X("removeEventListener"),r.mousewheel.enabled=!1,!0):!1}m("init",()=>{!r.params.mousewheel.enabled&&r.params.cssMode&&J(),r.params.mousewheel.enabled&&re()}),m("destroy",()=>{r.params.cssMode&&re(),r.mousewheel.enabled&&J()}),Object.assign(r.mousewheel,{enable:re,disable:J})}function EY(l,r,d,m){return l.params.createElements&&Object.keys(m).forEach(v=>{if(!d[v]&&d.auto===!0){let y=Nl(l.el,`.${m[v]}`)[0];y||(y=hd("div",m[v]),y.className=m[v],l.el.append(y)),d[v]=y,r[v]=y}}),d}function yre(l){let{swiper:r,extendParams:d,on:m,emit:v}=l;d({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),r.navigation={nextEl:null,prevEl:null};function y(G){let ee;return G&&typeof G=="string"&&r.isElement&&(ee=r.el.querySelector(G),ee)?ee:(G&&(typeof G=="string"&&(ee=[...document.querySelectorAll(G)]),r.params.uniqueNavElements&&typeof G=="string"&&ee&&ee.length>1&&r.el.querySelectorAll(G).length===1?ee=r.el.querySelector(G):ee&&ee.length===1&&(ee=ee[0])),G&&!ee?G:ee)}function S(G,ee){const X=r.params.navigation;G=Ns(G),G.forEach(re=>{re&&(re.classList[ee?"add":"remove"](...X.disabledClass.split(" ")),re.tagName==="BUTTON"&&(re.disabled=ee),r.params.watchOverflow&&r.enabled&&re.classList[r.isLocked?"add":"remove"](X.lockClass))})}function T(){const{nextEl:G,prevEl:ee}=r.navigation;if(r.params.loop){S(ee,!1),S(G,!1);return}S(ee,r.isBeginning&&!r.params.rewind),S(G,r.isEnd&&!r.params.rewind)}function k(G){G.preventDefault(),!(r.isBeginning&&!r.params.loop&&!r.params.rewind)&&(r.slidePrev(),v("navigationPrev"))}function N(G){G.preventDefault(),!(r.isEnd&&!r.params.loop&&!r.params.rewind)&&(r.slideNext(),v("navigationNext"))}function D(){const G=r.params.navigation;if(r.params.navigation=EY(r,r.originalParams.navigation,r.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(G.nextEl||G.prevEl))return;let ee=y(G.nextEl),X=y(G.prevEl);Object.assign(r.navigation,{nextEl:ee,prevEl:X}),ee=Ns(ee),X=Ns(X);const re=(J,F)=>{J&&J.addEventListener("click",F==="next"?N:k),!r.enabled&&J&&J.classList.add(...G.lockClass.split(" "))};ee.forEach(J=>re(J,"next")),X.forEach(J=>re(J,"prev"))}function L(){let{nextEl:G,prevEl:ee}=r.navigation;G=Ns(G),ee=Ns(ee);const X=(re,J)=>{re.removeEventListener("click",J==="next"?N:k),re.classList.remove(...r.params.navigation.disabledClass.split(" "))};G.forEach(re=>X(re,"next")),ee.forEach(re=>X(re,"prev"))}m("init",()=>{r.params.navigation.enabled===!1?q():(D(),T())}),m("toEdge fromEdge lock unlock",()=>{T()}),m("destroy",()=>{L()}),m("enable disable",()=>{let{nextEl:G,prevEl:ee}=r.navigation;if(G=Ns(G),ee=Ns(ee),r.enabled){T();return}[...G,...ee].filter(X=>!!X).forEach(X=>X.classList.add(r.params.navigation.lockClass))}),m("click",(G,ee)=>{let{nextEl:X,prevEl:re}=r.navigation;X=Ns(X),re=Ns(re);const J=ee.target;let F=re.includes(J)||X.includes(J);if(r.isElement&&!F){const ce=ee.path||ee.composedPath&&ee.composedPath();ce&&(F=ce.find(Re=>X.includes(Re)||re.includes(Re)))}if(r.params.navigation.hideOnClick&&!F){if(r.pagination&&r.params.pagination&&r.params.pagination.clickable&&(r.pagination.el===J||r.pagination.el.contains(J)))return;let ce;X.length?ce=X[0].classList.contains(r.params.navigation.hiddenClass):re.length&&(ce=re[0].classList.contains(r.params.navigation.hiddenClass)),v(ce===!0?"navigationShow":"navigationHide"),[...X,...re].filter(Re=>!!Re).forEach(Re=>Re.classList.toggle(r.params.navigation.hiddenClass))}});const R=()=>{r.el.classList.remove(...r.params.navigation.navigationDisabledClass.split(" ")),D(),T()},q=()=>{r.el.classList.add(...r.params.navigation.navigationDisabledClass.split(" ")),L()};Object.assign(r.navigation,{enable:R,disable:q,update:T,init:D,destroy:L})}function sg(l){return l===void 0&&(l=""),`.${l.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function wre(l){let{swiper:r,extendParams:d,on:m,emit:v}=l;const y="swiper-pagination";d({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:J=>J,formatFractionTotal:J=>J,bulletClass:`${y}-bullet`,bulletActiveClass:`${y}-bullet-active`,modifierClass:`${y}-`,currentClass:`${y}-current`,totalClass:`${y}-total`,hiddenClass:`${y}-hidden`,progressbarFillClass:`${y}-progressbar-fill`,progressbarOppositeClass:`${y}-progressbar-opposite`,clickableClass:`${y}-clickable`,lockClass:`${y}-lock`,horizontalClass:`${y}-horizontal`,verticalClass:`${y}-vertical`,paginationDisabledClass:`${y}-disabled`}}),r.pagination={el:null,bullets:[]};let S,T=0;function k(){return!r.params.pagination.el||!r.pagination.el||Array.isArray(r.pagination.el)&&r.pagination.el.length===0}function N(J,F){const{bulletActiveClass:ce}=r.params.pagination;J&&(J=J[`${F==="prev"?"previous":"next"}ElementSibling`],J&&(J.classList.add(`${ce}-${F}`),J=J[`${F==="prev"?"previous":"next"}ElementSibling`],J&&J.classList.add(`${ce}-${F}-${F}`)))}function D(J,F,ce){if(J=J%ce,F=F%ce,F===J+1)return"next";if(F===J-1)return"previous"}function L(J){const F=J.target.closest(sg(r.params.pagination.bulletClass));if(!F)return;J.preventDefault();const ce=zO(F)*r.params.slidesPerGroup;if(r.params.loop){if(r.realIndex===ce)return;const Re=D(r.realIndex,ce,r.slides.length);Re==="next"?r.slideNext():Re==="previous"?r.slidePrev():r.slideToLoop(ce)}else r.slideTo(ce)}function R(){const J=r.rtl,F=r.params.pagination;if(k())return;let ce=r.pagination.el;ce=Ns(ce);let Re,ze;const ie=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:r.slides.length,He=r.params.loop?Math.ceil(ie/r.params.slidesPerGroup):r.snapGrid.length;if(r.params.loop?(ze=r.previousRealIndex||0,Re=r.params.slidesPerGroup>1?Math.floor(r.realIndex/r.params.slidesPerGroup):r.realIndex):typeof r.snapIndex<"u"?(Re=r.snapIndex,ze=r.previousSnapIndex):(ze=r.previousIndex||0,Re=r.activeIndex||0),F.type==="bullets"&&r.pagination.bullets&&r.pagination.bullets.length>0){const Ze=r.pagination.bullets;let Fe,he,xe;if(F.dynamicBullets&&(S=ZX(Ze[0],r.isHorizontal()?"width":"height"),ce.forEach(Be=>{Be.style[r.isHorizontal()?"width":"height"]=`${S*(F.dynamicMainBullets+4)}px`}),F.dynamicMainBullets>1&&ze!==void 0&&(T+=Re-(ze||0),T>F.dynamicMainBullets-1?T=F.dynamicMainBullets-1:T<0&&(T=0)),Fe=Math.max(Re-T,0),he=Fe+(Math.min(Ze.length,F.dynamicMainBullets)-1),xe=(he+Fe)/2),Ze.forEach(Be=>{const Me=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Oe=>`${F.bulletActiveClass}${Oe}`)].map(Oe=>typeof Oe=="string"&&Oe.includes(" ")?Oe.split(" "):Oe).flat();Be.classList.remove(...Me)}),ce.length>1)Ze.forEach(Be=>{const Me=zO(Be);Me===Re?Be.classList.add(...F.bulletActiveClass.split(" ")):r.isElement&&Be.setAttribute("part","bullet"),F.dynamicBullets&&(Me>=Fe&&Me<=he&&Be.classList.add(...`${F.bulletActiveClass}-main`.split(" ")),Me===Fe&&N(Be,"prev"),Me===he&&N(Be,"next"))});else{const Be=Ze[Re];if(Be&&Be.classList.add(...F.bulletActiveClass.split(" ")),r.isElement&&Ze.forEach((Me,Oe)=>{Me.setAttribute("part",Oe===Re?"bullet-active":"bullet")}),F.dynamicBullets){const Me=Ze[Fe],Oe=Ze[he];for(let P=Fe;P<=he;P+=1)Ze[P]&&Ze[P].classList.add(...`${F.bulletActiveClass}-main`.split(" "));N(Me,"prev"),N(Oe,"next")}}if(F.dynamicBullets){const Be=Math.min(Ze.length,F.dynamicMainBullets+4),Me=(S*Be-S)/2-xe*S,Oe=J?"right":"left";Ze.forEach(P=>{P.style[r.isHorizontal()?Oe:"top"]=`${Me}px`})}}ce.forEach((Ze,Fe)=>{if(F.type==="fraction"&&(Ze.querySelectorAll(sg(F.currentClass)).forEach(he=>{he.textContent=F.formatFractionCurrent(Re+1)}),Ze.querySelectorAll(sg(F.totalClass)).forEach(he=>{he.textContent=F.formatFractionTotal(He)})),F.type==="progressbar"){let he;F.progressbarOpposite?he=r.isHorizontal()?"vertical":"horizontal":he=r.isHorizontal()?"horizontal":"vertical";const xe=(Re+1)/He;let Be=1,Me=1;he==="horizontal"?Be=xe:Me=xe,Ze.querySelectorAll(sg(F.progressbarFillClass)).forEach(Oe=>{Oe.style.transform=`translate3d(0,0,0) scaleX(${Be}) scaleY(${Me})`,Oe.style.transitionDuration=`${r.params.speed}ms`})}F.type==="custom"&&F.renderCustom?(Ze.innerHTML=F.renderCustom(r,Re+1,He),Fe===0&&v("paginationRender",Ze)):(Fe===0&&v("paginationRender",Ze),v("paginationUpdate",Ze)),r.params.watchOverflow&&r.enabled&&Ze.classList[r.isLocked?"add":"remove"](F.lockClass)})}function q(){const J=r.params.pagination;if(k())return;const F=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:r.grid&&r.params.grid.rows>1?r.slides.length/Math.ceil(r.params.grid.rows):r.slides.length;let ce=r.pagination.el;ce=Ns(ce);let Re="";if(J.type==="bullets"){let ze=r.params.loop?Math.ceil(F/r.params.slidesPerGroup):r.snapGrid.length;r.params.freeMode&&r.params.freeMode.enabled&&ze>F&&(ze=F);for(let ie=0;ie<ze;ie+=1)J.renderBullet?Re+=J.renderBullet.call(r,ie,J.bulletClass):Re+=`<${J.bulletElement} ${r.isElement?'part="bullet"':""} class="${J.bulletClass}"></${J.bulletElement}>`}J.type==="fraction"&&(J.renderFraction?Re=J.renderFraction.call(r,J.currentClass,J.totalClass):Re=`<span class="${J.currentClass}"></span> / <span class="${J.totalClass}"></span>`),J.type==="progressbar"&&(J.renderProgressbar?Re=J.renderProgressbar.call(r,J.progressbarFillClass):Re=`<span class="${J.progressbarFillClass}"></span>`),r.pagination.bullets=[],ce.forEach(ze=>{J.type!=="custom"&&(ze.innerHTML=Re||""),J.type==="bullets"&&r.pagination.bullets.push(...ze.querySelectorAll(sg(J.bulletClass)))}),J.type!=="custom"&&v("paginationRender",ce[0])}function G(){r.params.pagination=EY(r,r.originalParams.pagination,r.params.pagination,{el:"swiper-pagination"});const J=r.params.pagination;if(!J.el)return;let F;typeof J.el=="string"&&r.isElement&&(F=r.el.querySelector(J.el)),!F&&typeof J.el=="string"&&(F=[...document.querySelectorAll(J.el)]),F||(F=J.el),!(!F||F.length===0)&&(r.params.uniqueNavElements&&typeof J.el=="string"&&Array.isArray(F)&&F.length>1&&(F=[...r.el.querySelectorAll(J.el)],F.length>1&&(F=F.filter(ce=>J0(ce,".swiper")[0]===r.el)[0])),Array.isArray(F)&&F.length===1&&(F=F[0]),Object.assign(r.pagination,{el:F}),F=Ns(F),F.forEach(ce=>{J.type==="bullets"&&J.clickable&&ce.classList.add(...(J.clickableClass||"").split(" ")),ce.classList.add(J.modifierClass+J.type),ce.classList.add(r.isHorizontal()?J.horizontalClass:J.verticalClass),J.type==="bullets"&&J.dynamicBullets&&(ce.classList.add(`${J.modifierClass}${J.type}-dynamic`),T=0,J.dynamicMainBullets<1&&(J.dynamicMainBullets=1)),J.type==="progressbar"&&J.progressbarOpposite&&ce.classList.add(J.progressbarOppositeClass),J.clickable&&ce.addEventListener("click",L),r.enabled||ce.classList.add(J.lockClass)}))}function ee(){const J=r.params.pagination;if(k())return;let F=r.pagination.el;F&&(F=Ns(F),F.forEach(ce=>{ce.classList.remove(J.hiddenClass),ce.classList.remove(J.modifierClass+J.type),ce.classList.remove(r.isHorizontal()?J.horizontalClass:J.verticalClass),J.clickable&&(ce.classList.remove(...(J.clickableClass||"").split(" ")),ce.removeEventListener("click",L))})),r.pagination.bullets&&r.pagination.bullets.forEach(ce=>ce.classList.remove(...J.bulletActiveClass.split(" ")))}m("changeDirection",()=>{if(!r.pagination||!r.pagination.el)return;const J=r.params.pagination;let{el:F}=r.pagination;F=Ns(F),F.forEach(ce=>{ce.classList.remove(J.horizontalClass,J.verticalClass),ce.classList.add(r.isHorizontal()?J.horizontalClass:J.verticalClass)})}),m("init",()=>{r.params.pagination.enabled===!1?re():(G(),q(),R())}),m("activeIndexChange",()=>{typeof r.snapIndex>"u"&&R()}),m("snapIndexChange",()=>{R()}),m("snapGridLengthChange",()=>{q(),R()}),m("destroy",()=>{ee()}),m("enable disable",()=>{let{el:J}=r.pagination;J&&(J=Ns(J),J.forEach(F=>F.classList[r.enabled?"remove":"add"](r.params.pagination.lockClass)))}),m("lock unlock",()=>{R()}),m("click",(J,F)=>{const ce=F.target,Re=Ns(r.pagination.el);if(r.params.pagination.el&&r.params.pagination.hideOnClick&&Re&&Re.length>0&&!ce.classList.contains(r.params.pagination.bulletClass)){if(r.navigation&&(r.navigation.nextEl&&ce===r.navigation.nextEl||r.navigation.prevEl&&ce===r.navigation.prevEl))return;const ze=Re[0].classList.contains(r.params.pagination.hiddenClass);v(ze===!0?"paginationShow":"paginationHide"),Re.forEach(ie=>ie.classList.toggle(r.params.pagination.hiddenClass))}});const X=()=>{r.el.classList.remove(r.params.pagination.paginationDisabledClass);let{el:J}=r.pagination;J&&(J=Ns(J),J.forEach(F=>F.classList.remove(r.params.pagination.paginationDisabledClass))),G(),q(),R()},re=()=>{r.el.classList.add(r.params.pagination.paginationDisabledClass);let{el:J}=r.pagination;J&&(J=Ns(J),J.forEach(F=>F.classList.add(r.params.pagination.paginationDisabledClass))),ee()};Object.assign(r.pagination,{enable:X,disable:re,render:q,update:R,init:G,destroy:ee})}function Sre(l){let{swiper:r,extendParams:d,on:m,emit:v}=l;const y=Ll();let S=!1,T=null,k=null,N,D,L,R;d({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),r.scrollbar={el:null,dragEl:null};function q(){if(!r.params.scrollbar.el||!r.scrollbar.el)return;const{scrollbar:xe,rtlTranslate:Be}=r,{dragEl:Me,el:Oe}=xe,P=r.params.scrollbar,et=r.params.loop?r.progressLoop:r.progress;let _e=D,$t=(L-D)*et;Be?($t=-$t,$t>0?(_e=D-$t,$t=0):-$t+D>L&&(_e=L+$t)):$t<0?(_e=D+$t,$t=0):$t+D>L&&(_e=L-$t),r.isHorizontal()?(Me.style.transform=`translate3d(${$t}px, 0, 0)`,Me.style.width=`${_e}px`):(Me.style.transform=`translate3d(0px, ${$t}px, 0)`,Me.style.height=`${_e}px`),P.hide&&(clearTimeout(T),Oe.style.opacity=1,T=setTimeout(()=>{Oe.style.opacity=0,Oe.style.transitionDuration="400ms"},1e3))}function G(xe){!r.params.scrollbar.el||!r.scrollbar.el||(r.scrollbar.dragEl.style.transitionDuration=`${xe}ms`)}function ee(){if(!r.params.scrollbar.el||!r.scrollbar.el)return;const{scrollbar:xe}=r,{dragEl:Be,el:Me}=xe;Be.style.width="",Be.style.height="",L=r.isHorizontal()?Me.offsetWidth:Me.offsetHeight,R=r.size/(r.virtualSize+r.params.slidesOffsetBefore-(r.params.centeredSlides?r.snapGrid[0]:0)),r.params.scrollbar.dragSize==="auto"?D=L*R:D=parseInt(r.params.scrollbar.dragSize,10),r.isHorizontal()?Be.style.width=`${D}px`:Be.style.height=`${D}px`,R>=1?Me.style.display="none":Me.style.display="",r.params.scrollbar.hide&&(Me.style.opacity=0),r.params.watchOverflow&&r.enabled&&xe.el.classList[r.isLocked?"add":"remove"](r.params.scrollbar.lockClass)}function X(xe){return r.isHorizontal()?xe.clientX:xe.clientY}function re(xe){const{scrollbar:Be,rtlTranslate:Me}=r,{el:Oe}=Be;let P;P=(X(xe)-w$(Oe)[r.isHorizontal()?"left":"top"]-(N!==null?N:D/2))/(L-D),P=Math.max(Math.min(P,1),0),Me&&(P=1-P);const et=r.minTranslate()+(r.maxTranslate()-r.minTranslate())*P;r.updateProgress(et),r.setTranslate(et),r.updateActiveIndex(),r.updateSlidesClasses()}function J(xe){const Be=r.params.scrollbar,{scrollbar:Me,wrapperEl:Oe}=r,{el:P,dragEl:et}=Me;S=!0,N=xe.target===et?X(xe)-xe.target.getBoundingClientRect()[r.isHorizontal()?"left":"top"]:null,xe.preventDefault(),xe.stopPropagation(),Oe.style.transitionDuration="100ms",et.style.transitionDuration="100ms",re(xe),clearTimeout(k),P.style.transitionDuration="0ms",Be.hide&&(P.style.opacity=1),r.params.cssMode&&(r.wrapperEl.style["scroll-snap-type"]="none"),v("scrollbarDragStart",xe)}function F(xe){const{scrollbar:Be,wrapperEl:Me}=r,{el:Oe,dragEl:P}=Be;S&&(xe.preventDefault&&xe.cancelable?xe.preventDefault():xe.returnValue=!1,re(xe),Me.style.transitionDuration="0ms",Oe.style.transitionDuration="0ms",P.style.transitionDuration="0ms",v("scrollbarDragMove",xe))}function ce(xe){const Be=r.params.scrollbar,{scrollbar:Me,wrapperEl:Oe}=r,{el:P}=Me;S&&(S=!1,r.params.cssMode&&(r.wrapperEl.style["scroll-snap-type"]="",Oe.style.transitionDuration=""),Be.hide&&(clearTimeout(k),k=sy(()=>{P.style.opacity=0,P.style.transitionDuration="400ms"},1e3)),v("scrollbarDragEnd",xe),Be.snapOnRelease&&r.slideToClosest())}function Re(xe){const{scrollbar:Be,params:Me}=r,Oe=Be.el;if(!Oe)return;const P=Oe,et=Me.passiveListeners?{passive:!1,capture:!1}:!1,_e=Me.passiveListeners?{passive:!0,capture:!1}:!1;if(!P)return;const $t=xe==="on"?"addEventListener":"removeEventListener";P[$t]("pointerdown",J,et),y[$t]("pointermove",F,et),y[$t]("pointerup",ce,_e)}function ze(){!r.params.scrollbar.el||!r.scrollbar.el||Re("on")}function ie(){!r.params.scrollbar.el||!r.scrollbar.el||Re("off")}function He(){const{scrollbar:xe,el:Be}=r;r.params.scrollbar=EY(r,r.originalParams.scrollbar,r.params.scrollbar,{el:"swiper-scrollbar"});const Me=r.params.scrollbar;if(!Me.el)return;let Oe;if(typeof Me.el=="string"&&r.isElement&&(Oe=r.el.querySelector(Me.el)),!Oe&&typeof Me.el=="string"){if(Oe=y.querySelectorAll(Me.el),!Oe.length)return}else Oe||(Oe=Me.el);r.params.uniqueNavElements&&typeof Me.el=="string"&&Oe.length>1&&Be.querySelectorAll(Me.el).length===1&&(Oe=Be.querySelector(Me.el)),Oe.length>0&&(Oe=Oe[0]),Oe.classList.add(r.isHorizontal()?Me.horizontalClass:Me.verticalClass);let P;Oe&&(P=Oe.querySelector(sg(r.params.scrollbar.dragClass)),P||(P=hd("div",r.params.scrollbar.dragClass),Oe.append(P))),Object.assign(xe,{el:Oe,dragEl:P}),Me.draggable&&ze(),Oe&&Oe.classList[r.enabled?"remove":"add"](...eb(r.params.scrollbar.lockClass))}function Ze(){const xe=r.params.scrollbar,Be=r.scrollbar.el;Be&&Be.classList.remove(...eb(r.isHorizontal()?xe.horizontalClass:xe.verticalClass)),ie()}m("changeDirection",()=>{if(!r.scrollbar||!r.scrollbar.el)return;const xe=r.params.scrollbar;let{el:Be}=r.scrollbar;Be=Ns(Be),Be.forEach(Me=>{Me.classList.remove(xe.horizontalClass,xe.verticalClass),Me.classList.add(r.isHorizontal()?xe.horizontalClass:xe.verticalClass)})}),m("init",()=>{r.params.scrollbar.enabled===!1?he():(He(),ee(),q())}),m("update resize observerUpdate lock unlock changeDirection",()=>{ee()}),m("setTranslate",()=>{q()}),m("setTransition",(xe,Be)=>{G(Be)}),m("enable disable",()=>{const{el:xe}=r.scrollbar;xe&&xe.classList[r.enabled?"remove":"add"](...eb(r.params.scrollbar.lockClass))}),m("destroy",()=>{Ze()});const Fe=()=>{r.el.classList.remove(...eb(r.params.scrollbar.scrollbarDisabledClass)),r.scrollbar.el&&r.scrollbar.el.classList.remove(...eb(r.params.scrollbar.scrollbarDisabledClass)),He(),ee(),q()},he=()=>{r.el.classList.add(...eb(r.params.scrollbar.scrollbarDisabledClass)),r.scrollbar.el&&r.scrollbar.el.classList.add(...eb(r.params.scrollbar.scrollbarDisabledClass)),Ze()};Object.assign(r.scrollbar,{enable:Fe,disable:he,updateSize:ee,setTranslate:q,init:He,destroy:Ze})}function xre(l){let{swiper:r,extendParams:d,on:m}=l;d({parallax:{enabled:!1}});const v="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",y=(k,N)=>{const{rtl:D}=r,L=D?-1:1,R=k.getAttribute("data-swiper-parallax")||"0";let q=k.getAttribute("data-swiper-parallax-x"),G=k.getAttribute("data-swiper-parallax-y");const ee=k.getAttribute("data-swiper-parallax-scale"),X=k.getAttribute("data-swiper-parallax-opacity"),re=k.getAttribute("data-swiper-parallax-rotate");if(q||G?(q=q||"0",G=G||"0"):r.isHorizontal()?(q=R,G="0"):(G=R,q="0"),q.indexOf("%")>=0?q=`${parseInt(q,10)*N*L}%`:q=`${q*N*L}px`,G.indexOf("%")>=0?G=`${parseInt(G,10)*N}%`:G=`${G*N}px`,typeof X<"u"&&X!==null){const F=X-(X-1)*(1-Math.abs(N));k.style.opacity=F}let J=`translate3d(${q}, ${G}, 0px)`;if(typeof ee<"u"&&ee!==null){const F=ee-(ee-1)*(1-Math.abs(N));J+=` scale(${F})`}if(re&&typeof re<"u"&&re!==null){const F=re*N*-1;J+=` rotate(${F}deg)`}k.style.transform=J},S=()=>{const{el:k,slides:N,progress:D,snapGrid:L,isElement:R}=r,q=Nl(k,v);r.isElement&&q.push(...Nl(r.hostEl,v)),q.forEach(G=>{y(G,D)}),N.forEach((G,ee)=>{let X=G.progress;r.params.slidesPerGroup>1&&r.params.slidesPerView!=="auto"&&(X+=Math.ceil(ee/2)-D*(L.length-1)),X=Math.min(Math.max(X,-1),1),G.querySelectorAll(`${v}, [data-swiper-parallax-rotate]`).forEach(re=>{y(re,X)})})},T=function(k){k===void 0&&(k=r.params.speed);const{el:N,hostEl:D}=r,L=[...N.querySelectorAll(v)];r.isElement&&L.push(...D.querySelectorAll(v)),L.forEach(R=>{let q=parseInt(R.getAttribute("data-swiper-parallax-duration"),10)||k;k===0&&(q=0),R.style.transitionDuration=`${q}ms`})};m("beforeInit",()=>{r.params.parallax.enabled&&(r.params.watchSlidesProgress=!0,r.originalParams.watchSlidesProgress=!0)}),m("init",()=>{r.params.parallax.enabled&&S()}),m("setTranslate",()=>{r.params.parallax.enabled&&S()}),m("setTransition",(k,N)=>{r.params.parallax.enabled&&T(N)})}function Cre(l){let{swiper:r,extendParams:d,on:m,emit:v}=l;const y=ta();d({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),r.zoom={enabled:!1};let S=1,T=!1,k,N;const D=[],L={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},R={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},q={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let G=1;Object.defineProperty(r.zoom,"scale",{get(){return G},set(Ve){if(G!==Ve){const Ot=L.imageEl,jt=L.slideEl;v("zoomChange",Ve,Ot,jt)}G=Ve}});function ee(){if(D.length<2)return 1;const Ve=D[0].pageX,Ot=D[0].pageY,jt=D[1].pageX,Hn=D[1].pageY;return Math.sqrt((jt-Ve)**2+(Hn-Ot)**2)}function X(){const Ve=r.params.zoom,Ot=L.imageWrapEl.getAttribute("data-swiper-zoom")||Ve.maxRatio;if(Ve.limitToOriginalSize&&L.imageEl&&L.imageEl.naturalWidth){const jt=L.imageEl.naturalWidth/L.imageEl.offsetWidth;return Math.min(jt,Ot)}return Ot}function re(){if(D.length<2)return{x:null,y:null};const Ve=L.imageEl.getBoundingClientRect();return[(D[0].pageX+(D[1].pageX-D[0].pageX)/2-Ve.x-y.scrollX)/S,(D[0].pageY+(D[1].pageY-D[0].pageY)/2-Ve.y-y.scrollY)/S]}function J(){return r.isElement?"swiper-slide":`.${r.params.slideClass}`}function F(Ve){const Ot=J();return!!(Ve.target.matches(Ot)||r.slides.filter(jt=>jt.contains(Ve.target)).length>0)}function ce(Ve){const Ot=`.${r.params.zoom.containerClass}`;return!!(Ve.target.matches(Ot)||[...r.hostEl.querySelectorAll(Ot)].filter(jt=>jt.contains(Ve.target)).length>0)}function Re(Ve){if(Ve.pointerType==="mouse"&&D.splice(0,D.length),!F(Ve))return;const Ot=r.params.zoom;if(k=!1,N=!1,D.push(Ve),!(D.length<2)){if(k=!0,L.scaleStart=ee(),!L.slideEl){L.slideEl=Ve.target.closest(`.${r.params.slideClass}, swiper-slide`),L.slideEl||(L.slideEl=r.slides[r.activeIndex]);let jt=L.slideEl.querySelector(`.${Ot.containerClass}`);if(jt&&(jt=jt.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),L.imageEl=jt,jt?L.imageWrapEl=J0(L.imageEl,`.${Ot.containerClass}`)[0]:L.imageWrapEl=void 0,!L.imageWrapEl){L.imageEl=void 0;return}L.maxRatio=X()}if(L.imageEl){const[jt,Hn]=re();L.originX=jt,L.originY=Hn,L.imageEl.style.transitionDuration="0ms"}T=!0}}function ze(Ve){if(!F(Ve))return;const Ot=r.params.zoom,jt=r.zoom,Hn=D.findIndex(rn=>rn.pointerId===Ve.pointerId);Hn>=0&&(D[Hn]=Ve),!(D.length<2)&&(N=!0,L.scaleMove=ee(),L.imageEl&&(jt.scale=L.scaleMove/L.scaleStart*S,jt.scale>L.maxRatio&&(jt.scale=L.maxRatio-1+(jt.scale-L.maxRatio+1)**.5),jt.scale<Ot.minRatio&&(jt.scale=Ot.minRatio+1-(Ot.minRatio-jt.scale+1)**.5),L.imageEl.style.transform=`translate3d(0,0,0) scale(${jt.scale})`))}function ie(Ve){if(!F(Ve)||Ve.pointerType==="mouse"&&Ve.type==="pointerout")return;const Ot=r.params.zoom,jt=r.zoom,Hn=D.findIndex(rn=>rn.pointerId===Ve.pointerId);Hn>=0&&D.splice(Hn,1),!(!k||!N)&&(k=!1,N=!1,L.imageEl&&(jt.scale=Math.max(Math.min(jt.scale,L.maxRatio),Ot.minRatio),L.imageEl.style.transitionDuration=`${r.params.speed}ms`,L.imageEl.style.transform=`translate3d(0,0,0) scale(${jt.scale})`,S=jt.scale,T=!1,jt.scale>1&&L.slideEl?L.slideEl.classList.add(`${Ot.zoomedSlideClass}`):jt.scale<=1&&L.slideEl&&L.slideEl.classList.remove(`${Ot.zoomedSlideClass}`),jt.scale===1&&(L.originX=0,L.originY=0,L.slideEl=void 0)))}let He;function Ze(){r.touchEventsData.preventTouchMoveFromPointerMove=!1}function Fe(){clearTimeout(He),r.touchEventsData.preventTouchMoveFromPointerMove=!0,He=setTimeout(()=>{Ze()})}function he(Ve){const Ot=r.device;if(!L.imageEl||R.isTouched)return;Ot.android&&Ve.cancelable&&Ve.preventDefault(),R.isTouched=!0;const jt=D.length>0?D[0]:Ve;R.touchesStart.x=jt.pageX,R.touchesStart.y=jt.pageY}function xe(Ve){if(!F(Ve)||!ce(Ve))return;const Ot=r.zoom;if(!L.imageEl||!R.isTouched||!L.slideEl)return;R.isMoved||(R.width=L.imageEl.offsetWidth||L.imageEl.clientWidth,R.height=L.imageEl.offsetHeight||L.imageEl.clientHeight,R.startX=jX(L.imageWrapEl,"x")||0,R.startY=jX(L.imageWrapEl,"y")||0,L.slideWidth=L.slideEl.offsetWidth,L.slideHeight=L.slideEl.offsetHeight,L.imageWrapEl.style.transitionDuration="0ms");const jt=R.width*Ot.scale,Hn=R.height*Ot.scale;if(R.minX=Math.min(L.slideWidth/2-jt/2,0),R.maxX=-R.minX,R.minY=Math.min(L.slideHeight/2-Hn/2,0),R.maxY=-R.minY,R.touchesCurrent.x=D.length>0?D[0].pageX:Ve.pageX,R.touchesCurrent.y=D.length>0?D[0].pageY:Ve.pageY,Math.max(Math.abs(R.touchesCurrent.x-R.touchesStart.x),Math.abs(R.touchesCurrent.y-R.touchesStart.y))>5&&(r.allowClick=!1),!R.isMoved&&!T){if(r.isHorizontal()&&(Math.floor(R.minX)===Math.floor(R.startX)&&R.touchesCurrent.x<R.touchesStart.x||Math.floor(R.maxX)===Math.floor(R.startX)&&R.touchesCurrent.x>R.touchesStart.x)){R.isTouched=!1,Ze();return}if(!r.isHorizontal()&&(Math.floor(R.minY)===Math.floor(R.startY)&&R.touchesCurrent.y<R.touchesStart.y||Math.floor(R.maxY)===Math.floor(R.startY)&&R.touchesCurrent.y>R.touchesStart.y)){R.isTouched=!1,Ze();return}}Ve.cancelable&&Ve.preventDefault(),Ve.stopPropagation(),Fe(),R.isMoved=!0;const Ue=(Ot.scale-S)/(L.maxRatio-r.params.zoom.minRatio),{originX:wt,originY:U}=L;R.currentX=R.touchesCurrent.x-R.touchesStart.x+R.startX+Ue*(R.width-wt*2),R.currentY=R.touchesCurrent.y-R.touchesStart.y+R.startY+Ue*(R.height-U*2),R.currentX<R.minX&&(R.currentX=R.minX+1-(R.minX-R.currentX+1)**.8),R.currentX>R.maxX&&(R.currentX=R.maxX-1+(R.currentX-R.maxX+1)**.8),R.currentY<R.minY&&(R.currentY=R.minY+1-(R.minY-R.currentY+1)**.8),R.currentY>R.maxY&&(R.currentY=R.maxY-1+(R.currentY-R.maxY+1)**.8),q.prevPositionX||(q.prevPositionX=R.touchesCurrent.x),q.prevPositionY||(q.prevPositionY=R.touchesCurrent.y),q.prevTime||(q.prevTime=Date.now()),q.x=(R.touchesCurrent.x-q.prevPositionX)/(Date.now()-q.prevTime)/2,q.y=(R.touchesCurrent.y-q.prevPositionY)/(Date.now()-q.prevTime)/2,Math.abs(R.touchesCurrent.x-q.prevPositionX)<2&&(q.x=0),Math.abs(R.touchesCurrent.y-q.prevPositionY)<2&&(q.y=0),q.prevPositionX=R.touchesCurrent.x,q.prevPositionY=R.touchesCurrent.y,q.prevTime=Date.now(),L.imageWrapEl.style.transform=`translate3d(${R.currentX}px, ${R.currentY}px,0)`}function Be(){const Ve=r.zoom;if(!L.imageEl)return;if(!R.isTouched||!R.isMoved){R.isTouched=!1,R.isMoved=!1;return}R.isTouched=!1,R.isMoved=!1;let Ot=300,jt=300;const Hn=q.x*Ot,rn=R.currentX+Hn,Ue=q.y*jt,wt=R.currentY+Ue;q.x!==0&&(Ot=Math.abs((rn-R.currentX)/q.x)),q.y!==0&&(jt=Math.abs((wt-R.currentY)/q.y));const U=Math.max(Ot,jt);R.currentX=rn,R.currentY=wt;const as=R.width*Ve.scale,Dn=R.height*Ve.scale;R.minX=Math.min(L.slideWidth/2-as/2,0),R.maxX=-R.minX,R.minY=Math.min(L.slideHeight/2-Dn/2,0),R.maxY=-R.minY,R.currentX=Math.max(Math.min(R.currentX,R.maxX),R.minX),R.currentY=Math.max(Math.min(R.currentY,R.maxY),R.minY),L.imageWrapEl.style.transitionDuration=`${U}ms`,L.imageWrapEl.style.transform=`translate3d(${R.currentX}px, ${R.currentY}px,0)`}function Me(){const Ve=r.zoom;L.slideEl&&r.activeIndex!==r.slides.indexOf(L.slideEl)&&(L.imageEl&&(L.imageEl.style.transform="translate3d(0,0,0) scale(1)"),L.imageWrapEl&&(L.imageWrapEl.style.transform="translate3d(0,0,0)"),L.slideEl.classList.remove(`${r.params.zoom.zoomedSlideClass}`),Ve.scale=1,S=1,L.slideEl=void 0,L.imageEl=void 0,L.imageWrapEl=void 0,L.originX=0,L.originY=0)}function Oe(Ve){const Ot=r.zoom,jt=r.params.zoom;if(!L.slideEl){Ve&&Ve.target&&(L.slideEl=Ve.target.closest(`.${r.params.slideClass}, swiper-slide`)),L.slideEl||(r.params.virtual&&r.params.virtual.enabled&&r.virtual?L.slideEl=Nl(r.slidesEl,`.${r.params.slideActiveClass}`)[0]:L.slideEl=r.slides[r.activeIndex]);let oe=L.slideEl.querySelector(`.${jt.containerClass}`);oe&&(oe=oe.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),L.imageEl=oe,oe?L.imageWrapEl=J0(L.imageEl,`.${jt.containerClass}`)[0]:L.imageWrapEl=void 0}if(!L.imageEl||!L.imageWrapEl)return;r.params.cssMode&&(r.wrapperEl.style.overflow="hidden",r.wrapperEl.style.touchAction="none"),L.slideEl.classList.add(`${jt.zoomedSlideClass}`);let Hn,rn,Ue,wt,U,as,Dn,Cs,Vo,Zo,It,zn,nn,$e,Tr,ar,hn,Gr;typeof R.touchesStart.x>"u"&&Ve?(Hn=Ve.pageX,rn=Ve.pageY):(Hn=R.touchesStart.x,rn=R.touchesStart.y);const Gs=typeof Ve=="number"?Ve:null;S===1&&Gs&&(Hn=void 0,rn=void 0,R.touchesStart.x=void 0,R.touchesStart.y=void 0);const V=X();Ot.scale=Gs||V,S=Gs||V,Ve&&!(S===1&&Gs)?(hn=L.slideEl.offsetWidth,Gr=L.slideEl.offsetHeight,Ue=w$(L.slideEl).left+y.scrollX,wt=w$(L.slideEl).top+y.scrollY,U=Ue+hn/2-Hn,as=wt+Gr/2-rn,Vo=L.imageEl.offsetWidth||L.imageEl.clientWidth,Zo=L.imageEl.offsetHeight||L.imageEl.clientHeight,It=Vo*Ot.scale,zn=Zo*Ot.scale,nn=Math.min(hn/2-It/2,0),$e=Math.min(Gr/2-zn/2,0),Tr=-nn,ar=-$e,Dn=U*Ot.scale,Cs=as*Ot.scale,Dn<nn&&(Dn=nn),Dn>Tr&&(Dn=Tr),Cs<$e&&(Cs=$e),Cs>ar&&(Cs=ar)):(Dn=0,Cs=0),Gs&&Ot.scale===1&&(L.originX=0,L.originY=0),L.imageWrapEl.style.transitionDuration="300ms",L.imageWrapEl.style.transform=`translate3d(${Dn}px, ${Cs}px,0)`,L.imageEl.style.transitionDuration="300ms",L.imageEl.style.transform=`translate3d(0,0,0) scale(${Ot.scale})`}function P(){const Ve=r.zoom,Ot=r.params.zoom;if(!L.slideEl){r.params.virtual&&r.params.virtual.enabled&&r.virtual?L.slideEl=Nl(r.slidesEl,`.${r.params.slideActiveClass}`)[0]:L.slideEl=r.slides[r.activeIndex];let jt=L.slideEl.querySelector(`.${Ot.containerClass}`);jt&&(jt=jt.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),L.imageEl=jt,jt?L.imageWrapEl=J0(L.imageEl,`.${Ot.containerClass}`)[0]:L.imageWrapEl=void 0}!L.imageEl||!L.imageWrapEl||(r.params.cssMode&&(r.wrapperEl.style.overflow="",r.wrapperEl.style.touchAction=""),Ve.scale=1,S=1,R.touchesStart.x=void 0,R.touchesStart.y=void 0,L.imageWrapEl.style.transitionDuration="300ms",L.imageWrapEl.style.transform="translate3d(0,0,0)",L.imageEl.style.transitionDuration="300ms",L.imageEl.style.transform="translate3d(0,0,0) scale(1)",L.slideEl.classList.remove(`${Ot.zoomedSlideClass}`),L.slideEl=void 0,L.originX=0,L.originY=0)}function et(Ve){const Ot=r.zoom;Ot.scale&&Ot.scale!==1?P():Oe(Ve)}function _e(){const Ve=r.params.passiveListeners?{passive:!0,capture:!1}:!1,Ot=r.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:Ve,activeListenerWithCapture:Ot}}function $t(){const Ve=r.zoom;if(Ve.enabled)return;Ve.enabled=!0;const{passiveListener:Ot,activeListenerWithCapture:jt}=_e();r.wrapperEl.addEventListener("pointerdown",Re,Ot),r.wrapperEl.addEventListener("pointermove",ze,jt),["pointerup","pointercancel","pointerout"].forEach(Hn=>{r.wrapperEl.addEventListener(Hn,ie,Ot)}),r.wrapperEl.addEventListener("pointermove",xe,jt)}function dt(){const Ve=r.zoom;if(!Ve.enabled)return;Ve.enabled=!1;const{passiveListener:Ot,activeListenerWithCapture:jt}=_e();r.wrapperEl.removeEventListener("pointerdown",Re,Ot),r.wrapperEl.removeEventListener("pointermove",ze,jt),["pointerup","pointercancel","pointerout"].forEach(Hn=>{r.wrapperEl.removeEventListener(Hn,ie,Ot)}),r.wrapperEl.removeEventListener("pointermove",xe,jt)}m("init",()=>{r.params.zoom.enabled&&$t()}),m("destroy",()=>{dt()}),m("touchStart",(Ve,Ot)=>{r.zoom.enabled&&he(Ot)}),m("touchEnd",(Ve,Ot)=>{r.zoom.enabled&&Be()}),m("doubleTap",(Ve,Ot)=>{!r.animating&&r.params.zoom.enabled&&r.zoom.enabled&&r.params.zoom.toggle&&et(Ot)}),m("transitionEnd",()=>{r.zoom.enabled&&r.params.zoom.enabled&&Me()}),m("slideChange",()=>{r.zoom.enabled&&r.params.zoom.enabled&&r.params.cssMode&&Me()}),Object.assign(r.zoom,{enable:$t,disable:dt,in:Oe,out:P,toggle:et})}function Ere(l){let{swiper:r,extendParams:d,on:m}=l;d({controller:{control:void 0,inverse:!1,by:"slide"}}),r.controller={control:void 0};function v(N,D){const L=function(){let ee,X,re;return(J,F)=>{for(X=-1,ee=J.length;ee-X>1;)re=ee+X>>1,J[re]<=F?X=re:ee=re;return ee}}();this.x=N,this.y=D,this.lastIndex=N.length-1;let R,q;return this.interpolate=function(ee){return ee?(q=L(this.x,ee),R=q-1,(ee-this.x[R])*(this.y[q]-this.y[R])/(this.x[q]-this.x[R])+this.y[R]):0},this}function y(N){r.controller.spline=r.params.loop?new v(r.slidesGrid,N.slidesGrid):new v(r.snapGrid,N.snapGrid)}function S(N,D){const L=r.controller.control;let R,q;const G=r.constructor;function ee(X){if(X.destroyed)return;const re=r.rtlTranslate?-r.translate:r.translate;r.params.controller.by==="slide"&&(y(X),q=-r.controller.spline.interpolate(-re)),(!q||r.params.controller.by==="container")&&(R=(X.maxTranslate()-X.minTranslate())/(r.maxTranslate()-r.minTranslate()),(Number.isNaN(R)||!Number.isFinite(R))&&(R=1),q=(re-r.minTranslate())*R+X.minTranslate()),r.params.controller.inverse&&(q=X.maxTranslate()-q),X.updateProgress(q),X.setTranslate(q,r),X.updateActiveIndex(),X.updateSlidesClasses()}if(Array.isArray(L))for(let X=0;X<L.length;X+=1)L[X]!==D&&L[X]instanceof G&&ee(L[X]);else L instanceof G&&D!==L&&ee(L)}function T(N,D){const L=r.constructor,R=r.controller.control;let q;function G(ee){ee.destroyed||(ee.setTransition(N,r),N!==0&&(ee.transitionStart(),ee.params.autoHeight&&sy(()=>{ee.updateAutoHeight()}),BO(ee.wrapperEl,()=>{R&&ee.transitionEnd()})))}if(Array.isArray(R))for(q=0;q<R.length;q+=1)R[q]!==D&&R[q]instanceof L&&G(R[q]);else R instanceof L&&D!==R&&G(R)}function k(){r.controller.control&&r.controller.spline&&(r.controller.spline=void 0,delete r.controller.spline)}m("beforeInit",()=>{if(typeof window<"u"&&(typeof r.params.controller.control=="string"||r.params.controller.control instanceof HTMLElement)){(typeof r.params.controller.control=="string"?[...document.querySelectorAll(r.params.controller.control)]:[r.params.controller.control]).forEach(D=>{if(r.controller.control||(r.controller.control=[]),D&&D.swiper)r.controller.control.push(D.swiper);else if(D){const L=`${r.params.eventsPrefix}init`,R=q=>{r.controller.control.push(q.detail[0]),r.update(),D.removeEventListener(L,R)};D.addEventListener(L,R)}});return}r.controller.control=r.params.controller.control}),m("update",()=>{k()}),m("resize",()=>{k()}),m("observerUpdate",()=>{k()}),m("setTranslate",(N,D,L)=>{!r.controller.control||r.controller.control.destroyed||r.controller.setTranslate(D,L)}),m("setTransition",(N,D,L)=>{!r.controller.control||r.controller.control.destroyed||r.controller.setTransition(D,L)}),Object.assign(r.controller,{setTranslate:S,setTransition:T})}function Tre(l){let{swiper:r,extendParams:d,on:m}=l;d({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),r.a11y={clicked:!1};let v=null,y,S,T=new Date().getTime();function k(et){const _e=v;_e.length!==0&&(_e.innerHTML="",_e.innerHTML=et)}function N(et){const _e=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(et).replace(/x/g,_e)}function D(et){et=Ns(et),et.forEach(_e=>{_e.setAttribute("tabIndex","0")})}function L(et){et=Ns(et),et.forEach(_e=>{_e.setAttribute("tabIndex","-1")})}function R(et,_e){et=Ns(et),et.forEach($t=>{$t.setAttribute("role",_e)})}function q(et,_e){et=Ns(et),et.forEach($t=>{$t.setAttribute("aria-roledescription",_e)})}function G(et,_e){et=Ns(et),et.forEach($t=>{$t.setAttribute("aria-controls",_e)})}function ee(et,_e){et=Ns(et),et.forEach($t=>{$t.setAttribute("aria-label",_e)})}function X(et,_e){et=Ns(et),et.forEach($t=>{$t.setAttribute("id",_e)})}function re(et,_e){et=Ns(et),et.forEach($t=>{$t.setAttribute("aria-live",_e)})}function J(et){et=Ns(et),et.forEach(_e=>{_e.setAttribute("aria-disabled",!0)})}function F(et){et=Ns(et),et.forEach(_e=>{_e.setAttribute("aria-disabled",!1)})}function ce(et){if(et.keyCode!==13&&et.keyCode!==32)return;const _e=r.params.a11y,$t=et.target;if(!(r.pagination&&r.pagination.el&&($t===r.pagination.el||r.pagination.el.contains(et.target))&&!et.target.matches(sg(r.params.pagination.bulletClass)))){if(r.navigation&&r.navigation.prevEl&&r.navigation.nextEl){const dt=Ns(r.navigation.prevEl);Ns(r.navigation.nextEl).includes($t)&&(r.isEnd&&!r.params.loop||r.slideNext(),r.isEnd?k(_e.lastSlideMessage):k(_e.nextSlideMessage)),dt.includes($t)&&(r.isBeginning&&!r.params.loop||r.slidePrev(),r.isBeginning?k(_e.firstSlideMessage):k(_e.prevSlideMessage))}r.pagination&&$t.matches(sg(r.params.pagination.bulletClass))&&$t.click()}}function Re(){if(r.params.loop||r.params.rewind||!r.navigation)return;const{nextEl:et,prevEl:_e}=r.navigation;_e&&(r.isBeginning?(J(_e),L(_e)):(F(_e),D(_e))),et&&(r.isEnd?(J(et),L(et)):(F(et),D(et)))}function ze(){return r.pagination&&r.pagination.bullets&&r.pagination.bullets.length}function ie(){return ze()&&r.params.pagination.clickable}function He(){const et=r.params.a11y;ze()&&r.pagination.bullets.forEach(_e=>{r.params.pagination.clickable&&(D(_e),r.params.pagination.renderBullet||(R(_e,"button"),ee(_e,et.paginationBulletMessage.replace(/\{\{index\}\}/,zO(_e)+1)))),_e.matches(sg(r.params.pagination.bulletActiveClass))?_e.setAttribute("aria-current","true"):_e.removeAttribute("aria-current")})}const Ze=(et,_e,$t)=>{D(et),et.tagName!=="BUTTON"&&(R(et,"button"),et.addEventListener("keydown",ce)),ee(et,$t),G(et,_e)},Fe=et=>{S&&S!==et.target&&!S.contains(et.target)&&(y=!0),r.a11y.clicked=!0},he=()=>{y=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{r.destroyed||(r.a11y.clicked=!1)})})},xe=et=>{T=new Date().getTime()},Be=et=>{if(r.a11y.clicked||!r.params.a11y.scrollOnFocus||new Date().getTime()-T<100)return;const _e=et.target.closest(`.${r.params.slideClass}, swiper-slide`);if(!_e||!r.slides.includes(_e))return;S=_e;const $t=r.slides.indexOf(_e)===r.activeIndex,dt=r.params.watchSlidesProgress&&r.visibleSlides&&r.visibleSlides.includes(_e);$t||dt||et.sourceCapabilities&&et.sourceCapabilities.firesTouchEvents||(r.isHorizontal()?r.el.scrollLeft=0:r.el.scrollTop=0,requestAnimationFrame(()=>{y||(r.params.loop?r.slideToLoop(parseInt(_e.getAttribute("data-swiper-slide-index")),0):r.slideTo(r.slides.indexOf(_e),0),y=!1)}))},Me=()=>{const et=r.params.a11y;et.itemRoleDescriptionMessage&&q(r.slides,et.itemRoleDescriptionMessage),et.slideRole&&R(r.slides,et.slideRole);const _e=r.slides.length;et.slideLabelMessage&&r.slides.forEach(($t,dt)=>{const Ve=r.params.loop?parseInt($t.getAttribute("data-swiper-slide-index"),10):dt,Ot=et.slideLabelMessage.replace(/\{\{index\}\}/,Ve+1).replace(/\{\{slidesLength\}\}/,_e);ee($t,Ot)})},Oe=()=>{const et=r.params.a11y;r.el.append(v);const _e=r.el;et.containerRoleDescriptionMessage&&q(_e,et.containerRoleDescriptionMessage),et.containerMessage&&ee(_e,et.containerMessage),et.containerRole&&R(_e,et.containerRole);const $t=r.wrapperEl,dt=et.id||$t.getAttribute("id")||`swiper-wrapper-${N(16)}`,Ve=r.params.autoplay&&r.params.autoplay.enabled?"off":"polite";X($t,dt),re($t,Ve),Me();let{nextEl:Ot,prevEl:jt}=r.navigation?r.navigation:{};Ot=Ns(Ot),jt=Ns(jt),Ot&&Ot.forEach(rn=>Ze(rn,dt,et.nextSlideMessage)),jt&&jt.forEach(rn=>Ze(rn,dt,et.prevSlideMessage)),ie()&&Ns(r.pagination.el).forEach(Ue=>{Ue.addEventListener("keydown",ce)}),Ll().addEventListener("visibilitychange",xe),r.el.addEventListener("focus",Be,!0),r.el.addEventListener("focus",Be,!0),r.el.addEventListener("pointerdown",Fe,!0),r.el.addEventListener("pointerup",he,!0)};function P(){v&&v.remove();let{nextEl:et,prevEl:_e}=r.navigation?r.navigation:{};et=Ns(et),_e=Ns(_e),et&&et.forEach(dt=>dt.removeEventListener("keydown",ce)),_e&&_e.forEach(dt=>dt.removeEventListener("keydown",ce)),ie()&&Ns(r.pagination.el).forEach(Ve=>{Ve.removeEventListener("keydown",ce)}),Ll().removeEventListener("visibilitychange",xe),r.el&&typeof r.el!="string"&&(r.el.removeEventListener("focus",Be,!0),r.el.removeEventListener("pointerdown",Fe,!0),r.el.removeEventListener("pointerup",he,!0))}m("beforeInit",()=>{v=hd("span",r.params.a11y.notificationClass),v.setAttribute("aria-live","assertive"),v.setAttribute("aria-atomic","true")}),m("afterInit",()=>{r.params.a11y.enabled&&Oe()}),m("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{r.params.a11y.enabled&&Me()}),m("fromEdge toEdge afterInit lock unlock",()=>{r.params.a11y.enabled&&Re()}),m("paginationUpdate",()=>{r.params.a11y.enabled&&He()}),m("destroy",()=>{r.params.a11y.enabled&&P()})}function _re(l){let{swiper:r,extendParams:d,on:m}=l;d({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let v=!1,y={};const S=q=>q.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),T=q=>{const G=ta();let ee;q?ee=new URL(q):ee=G.location;const X=ee.pathname.slice(1).split("/").filter(ce=>ce!==""),re=X.length,J=X[re-2],F=X[re-1];return{key:J,value:F}},k=(q,G)=>{const ee=ta();if(!v||!r.params.history.enabled)return;let X;r.params.url?X=new URL(r.params.url):X=ee.location;const re=r.virtual&&r.params.virtual.enabled?r.slidesEl.querySelector(`[data-swiper-slide-index="${G}"]`):r.slides[G];let J=S(re.getAttribute("data-history"));if(r.params.history.root.length>0){let ce=r.params.history.root;ce[ce.length-1]==="/"&&(ce=ce.slice(0,ce.length-1)),J=`${ce}/${q?`${q}/`:""}${J}`}else X.pathname.includes(q)||(J=`${q?`${q}/`:""}${J}`);r.params.history.keepQuery&&(J+=X.search);const F=ee.history.state;F&&F.value===J||(r.params.history.replaceState?ee.history.replaceState({value:J},null,J):ee.history.pushState({value:J},null,J))},N=(q,G,ee)=>{if(G)for(let X=0,re=r.slides.length;X<re;X+=1){const J=r.slides[X];if(S(J.getAttribute("data-history"))===G){const ce=r.getSlideIndex(J);r.slideTo(ce,q,ee)}}else r.slideTo(0,q,ee)},D=()=>{y=T(r.params.url),N(r.params.speed,y.value,!1)},L=()=>{const q=ta();if(r.params.history){if(!q.history||!q.history.pushState){r.params.history.enabled=!1,r.params.hashNavigation.enabled=!0;return}if(v=!0,y=T(r.params.url),!y.key&&!y.value){r.params.history.replaceState||q.addEventListener("popstate",D);return}N(0,y.value,r.params.runCallbacksOnInit),r.params.history.replaceState||q.addEventListener("popstate",D)}},R=()=>{const q=ta();r.params.history.replaceState||q.removeEventListener("popstate",D)};m("init",()=>{r.params.history.enabled&&L()}),m("destroy",()=>{r.params.history.enabled&&R()}),m("transitionEnd _freeModeNoMomentumRelease",()=>{v&&k(r.params.history.key,r.activeIndex)}),m("slideChange",()=>{v&&r.params.cssMode&&k(r.params.history.key,r.activeIndex)})}function kre(l){let{swiper:r,extendParams:d,emit:m,on:v}=l,y=!1;const S=Ll(),T=ta();d({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(R,q){if(r.virtual&&r.params.virtual.enabled){const G=r.slides.filter(X=>X.getAttribute("data-hash")===q)[0];return G?parseInt(G.getAttribute("data-swiper-slide-index"),10):0}return r.getSlideIndex(Nl(r.slidesEl,`.${r.params.slideClass}[data-hash="${q}"], swiper-slide[data-hash="${q}"]`)[0])}}});const k=()=>{m("hashChange");const R=S.location.hash.replace("#",""),q=r.virtual&&r.params.virtual.enabled?r.slidesEl.querySelector(`[data-swiper-slide-index="${r.activeIndex}"]`):r.slides[r.activeIndex],G=q?q.getAttribute("data-hash"):"";if(R!==G){const ee=r.params.hashNavigation.getSlideIndex(r,R);if(typeof ee>"u"||Number.isNaN(ee))return;r.slideTo(ee)}},N=()=>{if(!y||!r.params.hashNavigation.enabled)return;const R=r.virtual&&r.params.virtual.enabled?r.slidesEl.querySelector(`[data-swiper-slide-index="${r.activeIndex}"]`):r.slides[r.activeIndex],q=R?R.getAttribute("data-hash")||R.getAttribute("data-history"):"";r.params.hashNavigation.replaceState&&T.history&&T.history.replaceState?(T.history.replaceState(null,null,`#${q}`||""),m("hashSet")):(S.location.hash=q||"",m("hashSet"))},D=()=>{if(!r.params.hashNavigation.enabled||r.params.history&&r.params.history.enabled)return;y=!0;const R=S.location.hash.replace("#","");if(R){const G=r.params.hashNavigation.getSlideIndex(r,R);r.slideTo(G||0,0,r.params.runCallbacksOnInit,!0)}r.params.hashNavigation.watchState&&T.addEventListener("hashchange",k)},L=()=>{r.params.hashNavigation.watchState&&T.removeEventListener("hashchange",k)};v("init",()=>{r.params.hashNavigation.enabled&&D()}),v("destroy",()=>{r.params.hashNavigation.enabled&&L()}),v("transitionEnd _freeModeNoMomentumRelease",()=>{y&&N()}),v("slideChange",()=>{y&&r.params.cssMode&&N()})}function Are(l){let{swiper:r,extendParams:d,on:m,emit:v,params:y}=l;r.autoplay={running:!1,paused:!1,timeLeft:0},d({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let S,T,k=y&&y.autoplay?y.autoplay.delay:3e3,N=y&&y.autoplay?y.autoplay.delay:3e3,D,L=new Date().getTime(),R,q,G,ee,X,re,J;function F(_e){!r||r.destroyed||!r.wrapperEl||_e.target===r.wrapperEl&&(r.wrapperEl.removeEventListener("transitionend",F),!(J||_e.detail&&_e.detail.bySwiperTouchMove)&&Fe())}const ce=()=>{if(r.destroyed||!r.autoplay.running)return;r.autoplay.paused?R=!0:R&&(N=D,R=!1);const _e=r.autoplay.paused?D:L+N-new Date().getTime();r.autoplay.timeLeft=_e,v("autoplayTimeLeft",_e,_e/k),T=requestAnimationFrame(()=>{ce()})},Re=()=>{let _e;return r.virtual&&r.params.virtual.enabled?_e=r.slides.filter(dt=>dt.classList.contains("swiper-slide-active"))[0]:_e=r.slides[r.activeIndex],_e?parseInt(_e.getAttribute("data-swiper-autoplay"),10):void 0},ze=_e=>{if(r.destroyed||!r.autoplay.running)return;cancelAnimationFrame(T),ce();let $t=typeof _e>"u"?r.params.autoplay.delay:_e;k=r.params.autoplay.delay,N=r.params.autoplay.delay;const dt=Re();!Number.isNaN(dt)&&dt>0&&typeof _e>"u"&&($t=dt,k=dt,N=dt),D=$t;const Ve=r.params.speed,Ot=()=>{!r||r.destroyed||(r.params.autoplay.reverseDirection?!r.isBeginning||r.params.loop||r.params.rewind?(r.slidePrev(Ve,!0,!0),v("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(r.slides.length-1,Ve,!0,!0),v("autoplay")):!r.isEnd||r.params.loop||r.params.rewind?(r.slideNext(Ve,!0,!0),v("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(0,Ve,!0,!0),v("autoplay")),r.params.cssMode&&(L=new Date().getTime(),requestAnimationFrame(()=>{ze()})))};return $t>0?(clearTimeout(S),S=setTimeout(()=>{Ot()},$t)):requestAnimationFrame(()=>{Ot()}),$t},ie=()=>{L=new Date().getTime(),r.autoplay.running=!0,ze(),v("autoplayStart")},He=()=>{r.autoplay.running=!1,clearTimeout(S),cancelAnimationFrame(T),v("autoplayStop")},Ze=(_e,$t)=>{if(r.destroyed||!r.autoplay.running)return;clearTimeout(S),_e||(re=!0);const dt=()=>{v("autoplayPause"),r.params.autoplay.waitForTransition?r.wrapperEl.addEventListener("transitionend",F):Fe()};if(r.autoplay.paused=!0,$t){X&&(D=r.params.autoplay.delay),X=!1,dt();return}D=(D||r.params.autoplay.delay)-(new Date().getTime()-L),!(r.isEnd&&D<0&&!r.params.loop)&&(D<0&&(D=0),dt())},Fe=()=>{r.isEnd&&D<0&&!r.params.loop||r.destroyed||!r.autoplay.running||(L=new Date().getTime(),re?(re=!1,ze(D)):ze(),r.autoplay.paused=!1,v("autoplayResume"))},he=()=>{if(r.destroyed||!r.autoplay.running)return;const _e=Ll();_e.visibilityState==="hidden"&&(re=!0,Ze(!0)),_e.visibilityState==="visible"&&Fe()},xe=_e=>{_e.pointerType==="mouse"&&(re=!0,J=!0,!(r.animating||r.autoplay.paused)&&Ze(!0))},Be=_e=>{_e.pointerType==="mouse"&&(J=!1,r.autoplay.paused&&Fe())},Me=()=>{r.params.autoplay.pauseOnMouseEnter&&(r.el.addEventListener("pointerenter",xe),r.el.addEventListener("pointerleave",Be))},Oe=()=>{r.el&&typeof r.el!="string"&&(r.el.removeEventListener("pointerenter",xe),r.el.removeEventListener("pointerleave",Be))},P=()=>{Ll().addEventListener("visibilitychange",he)},et=()=>{Ll().removeEventListener("visibilitychange",he)};m("init",()=>{r.params.autoplay.enabled&&(Me(),P(),ie())}),m("destroy",()=>{Oe(),et(),r.autoplay.running&&He()}),m("_freeModeStaticRelease",()=>{(G||re)&&Fe()}),m("_freeModeNoMomentumRelease",()=>{r.params.autoplay.disableOnInteraction?He():Ze(!0,!0)}),m("beforeTransitionStart",(_e,$t,dt)=>{r.destroyed||!r.autoplay.running||(dt||!r.params.autoplay.disableOnInteraction?Ze(!0,!0):He())}),m("sliderFirstMove",()=>{if(!(r.destroyed||!r.autoplay.running)){if(r.params.autoplay.disableOnInteraction){He();return}q=!0,G=!1,re=!1,ee=setTimeout(()=>{re=!0,G=!0,Ze(!0)},200)}}),m("touchEnd",()=>{if(!(r.destroyed||!r.autoplay.running||!q)){if(clearTimeout(ee),clearTimeout(S),r.params.autoplay.disableOnInteraction){G=!1,q=!1;return}G&&r.params.cssMode&&Fe(),G=!1,q=!1}}),m("slideChange",()=>{r.destroyed||!r.autoplay.running||(X=!0)}),Object.assign(r.autoplay,{start:ie,stop:He,pause:Ze,resume:Fe})}function Ore(l){let{swiper:r,extendParams:d,on:m}=l;d({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let v=!1,y=!1;r.thumbs={swiper:null};function S(){const N=r.thumbs.swiper;if(!N||N.destroyed)return;const D=N.clickedIndex,L=N.clickedSlide;if(L&&L.classList.contains(r.params.thumbs.slideThumbActiveClass)||typeof D>"u"||D===null)return;let R;N.params.loop?R=parseInt(N.clickedSlide.getAttribute("data-swiper-slide-index"),10):R=D,r.params.loop?r.slideToLoop(R):r.slideTo(R)}function T(){const{thumbs:N}=r.params;if(v)return!1;v=!0;const D=r.constructor;if(N.swiper instanceof D)r.thumbs.swiper=N.swiper,Object.assign(r.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(r.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),r.thumbs.swiper.update();else if(IO(N.swiper)){const L=Object.assign({},N.swiper);Object.assign(L,{watchSlidesProgress:!0,slideToClickedSlide:!1}),r.thumbs.swiper=new D(L),y=!0}return r.thumbs.swiper.el.classList.add(r.params.thumbs.thumbsContainerClass),r.thumbs.swiper.on("tap",S),!0}function k(N){const D=r.thumbs.swiper;if(!D||D.destroyed)return;const L=D.params.slidesPerView==="auto"?D.slidesPerViewDynamic():D.params.slidesPerView;let R=1;const q=r.params.thumbs.slideThumbActiveClass;if(r.params.slidesPerView>1&&!r.params.centeredSlides&&(R=r.params.slidesPerView),r.params.thumbs.multipleActiveThumbs||(R=1),R=Math.floor(R),D.slides.forEach(X=>X.classList.remove(q)),D.params.loop||D.params.virtual&&D.params.virtual.enabled)for(let X=0;X<R;X+=1)Nl(D.slidesEl,`[data-swiper-slide-index="${r.realIndex+X}"]`).forEach(re=>{re.classList.add(q)});else for(let X=0;X<R;X+=1)D.slides[r.realIndex+X]&&D.slides[r.realIndex+X].classList.add(q);const G=r.params.thumbs.autoScrollOffset,ee=G&&!D.params.loop;if(r.realIndex!==D.realIndex||ee){const X=D.activeIndex;let re,J;if(D.params.loop){const F=D.slides.filter(ce=>ce.getAttribute("data-swiper-slide-index")===`${r.realIndex}`)[0];re=D.slides.indexOf(F),J=r.activeIndex>r.previousIndex?"next":"prev"}else re=r.realIndex,J=re>r.previousIndex?"next":"prev";ee&&(re+=J==="next"?G:-1*G),D.visibleSlidesIndexes&&D.visibleSlidesIndexes.indexOf(re)<0&&(D.params.centeredSlides?re>X?re=re-Math.floor(L/2)+1:re=re+Math.floor(L/2)-1:re>X&&D.params.slidesPerGroup,D.slideTo(re,N?0:void 0))}}m("beforeInit",()=>{const{thumbs:N}=r.params;if(!(!N||!N.swiper))if(typeof N.swiper=="string"||N.swiper instanceof HTMLElement){const D=Ll(),L=()=>{const q=typeof N.swiper=="string"?D.querySelector(N.swiper):N.swiper;if(q&&q.swiper)N.swiper=q.swiper,T(),k(!0);else if(q){const G=`${r.params.eventsPrefix}init`,ee=X=>{N.swiper=X.detail[0],q.removeEventListener(G,ee),T(),k(!0),N.swiper.update(),r.update()};q.addEventListener(G,ee)}return q},R=()=>{if(r.destroyed)return;L()||requestAnimationFrame(R)};requestAnimationFrame(R)}else T(),k(!0)}),m("slideChange update resize observerUpdate",()=>{k()}),m("setTransition",(N,D)=>{const L=r.thumbs.swiper;!L||L.destroyed||L.setTransition(D)}),m("beforeDestroy",()=>{const N=r.thumbs.swiper;!N||N.destroyed||y&&N.destroy()}),Object.assign(r.thumbs,{init:T,update:k})}function Dre(l){let{swiper:r,extendParams:d,emit:m,once:v}=l;d({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function y(){if(r.params.cssMode)return;const k=r.getTranslate();r.setTranslate(k),r.setTransition(0),r.touchEventsData.velocities.length=0,r.freeMode.onTouchEnd({currentPos:r.rtl?r.translate:-r.translate})}function S(){if(r.params.cssMode)return;const{touchEventsData:k,touches:N}=r;k.velocities.length===0&&k.velocities.push({position:N[r.isHorizontal()?"startX":"startY"],time:k.touchStartTime}),k.velocities.push({position:N[r.isHorizontal()?"currentX":"currentY"],time:af()})}function T(k){let{currentPos:N}=k;if(r.params.cssMode)return;const{params:D,wrapperEl:L,rtlTranslate:R,snapGrid:q,touchEventsData:G}=r,X=af()-G.touchStartTime;if(N<-r.minTranslate()){r.slideTo(r.activeIndex);return}if(N>-r.maxTranslate()){r.slides.length<q.length?r.slideTo(q.length-1):r.slideTo(r.slides.length-1);return}if(D.freeMode.momentum){if(G.velocities.length>1){const He=G.velocities.pop(),Ze=G.velocities.pop(),Fe=He.position-Ze.position,he=He.time-Ze.time;r.velocity=Fe/he,r.velocity/=2,Math.abs(r.velocity)<D.freeMode.minimumVelocity&&(r.velocity=0),(he>150||af()-He.time>300)&&(r.velocity=0)}else r.velocity=0;r.velocity*=D.freeMode.momentumVelocityRatio,G.velocities.length=0;let re=1e3*D.freeMode.momentumRatio;const J=r.velocity*re;let F=r.translate+J;R&&(F=-F);let ce=!1,Re;const ze=Math.abs(r.velocity)*20*D.freeMode.momentumBounceRatio;let ie;if(F<r.maxTranslate())D.freeMode.momentumBounce?(F+r.maxTranslate()<-ze&&(F=r.maxTranslate()-ze),Re=r.maxTranslate(),ce=!0,G.allowMomentumBounce=!0):F=r.maxTranslate(),D.loop&&D.centeredSlides&&(ie=!0);else if(F>r.minTranslate())D.freeMode.momentumBounce?(F-r.minTranslate()>ze&&(F=r.minTranslate()+ze),Re=r.minTranslate(),ce=!0,G.allowMomentumBounce=!0):F=r.minTranslate(),D.loop&&D.centeredSlides&&(ie=!0);else if(D.freeMode.sticky){let He;for(let Ze=0;Ze<q.length;Ze+=1)if(q[Ze]>-F){He=Ze;break}Math.abs(q[He]-F)<Math.abs(q[He-1]-F)||r.swipeDirection==="next"?F=q[He]:F=q[He-1],F=-F}if(ie&&v("transitionEnd",()=>{r.loopFix()}),r.velocity!==0){if(R?re=Math.abs((-F-r.translate)/r.velocity):re=Math.abs((F-r.translate)/r.velocity),D.freeMode.sticky){const He=Math.abs((R?-F:F)-r.translate),Ze=r.slidesSizesGrid[r.activeIndex];He<Ze?re=D.speed:He<2*Ze?re=D.speed*1.5:re=D.speed*2.5}}else if(D.freeMode.sticky){r.slideToClosest();return}D.freeMode.momentumBounce&&ce?(r.updateProgress(Re),r.setTransition(re),r.setTranslate(F),r.transitionStart(!0,r.swipeDirection),r.animating=!0,BO(L,()=>{!r||r.destroyed||!G.allowMomentumBounce||(m("momentumBounce"),r.setTransition(D.speed),setTimeout(()=>{r.setTranslate(Re),BO(L,()=>{!r||r.destroyed||r.transitionEnd()})},0))})):r.velocity?(m("_freeModeNoMomentumRelease"),r.updateProgress(F),r.setTransition(re),r.setTranslate(F),r.transitionStart(!0,r.swipeDirection),r.animating||(r.animating=!0,BO(L,()=>{!r||r.destroyed||r.transitionEnd()}))):r.updateProgress(F),r.updateActiveIndex(),r.updateSlidesClasses()}else if(D.freeMode.sticky){r.slideToClosest();return}else D.freeMode&&m("_freeModeNoMomentumRelease");(!D.freeMode.momentum||X>=D.longSwipesMs)&&(m("_freeModeStaticRelease"),r.updateProgress(),r.updateActiveIndex(),r.updateSlidesClasses())}Object.assign(r,{freeMode:{onTouchStart:y,onTouchMove:S,onTouchEnd:T}})}function Mre(l){let{swiper:r,extendParams:d,on:m}=l;d({grid:{rows:1,fill:"column"}});let v,y,S,T;const k=()=>{let ee=r.params.spaceBetween;return typeof ee=="string"&&ee.indexOf("%")>=0?ee=parseFloat(ee.replace("%",""))/100*r.size:typeof ee=="string"&&(ee=parseFloat(ee)),ee},N=ee=>{const{slidesPerView:X}=r.params,{rows:re,fill:J}=r.params.grid,F=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:ee.length;S=Math.floor(F/re),Math.floor(F/re)===F/re?v=F:v=Math.ceil(F/re)*re,X!=="auto"&&J==="row"&&(v=Math.max(v,X*re)),y=v/re},D=()=>{r.slides&&r.slides.forEach(ee=>{ee.swiperSlideGridSet&&(ee.style.height="",ee.style[r.getDirectionLabel("margin-top")]="")})},L=(ee,X,re)=>{const{slidesPerGroup:J}=r.params,F=k(),{rows:ce,fill:Re}=r.params.grid,ze=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:re.length;let ie,He,Ze;if(Re==="row"&&J>1){const Fe=Math.floor(ee/(J*ce)),he=ee-ce*J*Fe,xe=Fe===0?J:Math.min(Math.ceil((ze-Fe*ce*J)/ce),J);Ze=Math.floor(he/xe),He=he-Ze*xe+Fe*J,ie=He+Ze*v/ce,X.style.order=ie}else Re==="column"?(He=Math.floor(ee/ce),Ze=ee-He*ce,(He>S||He===S&&Ze===ce-1)&&(Ze+=1,Ze>=ce&&(Ze=0,He+=1))):(Ze=Math.floor(ee/y),He=ee-Ze*y);X.row=Ze,X.column=He,X.style.height=`calc((100% - ${(ce-1)*F}px) / ${ce})`,X.style[r.getDirectionLabel("margin-top")]=Ze!==0?F&&`${F}px`:"",X.swiperSlideGridSet=!0},R=(ee,X)=>{const{centeredSlides:re,roundLengths:J}=r.params,F=k(),{rows:ce}=r.params.grid;if(r.virtualSize=(ee+F)*v,r.virtualSize=Math.ceil(r.virtualSize/ce)-F,r.params.cssMode||(r.wrapperEl.style[r.getDirectionLabel("width")]=`${r.virtualSize+F}px`),re){const Re=[];for(let ze=0;ze<X.length;ze+=1){let ie=X[ze];J&&(ie=Math.floor(ie)),X[ze]<r.virtualSize+X[0]&&Re.push(ie)}X.splice(0,X.length),X.push(...Re)}},q=()=>{T=r.params.grid&&r.params.grid.rows>1},G=()=>{const{params:ee,el:X}=r,re=ee.grid&&ee.grid.rows>1;T&&!re?(X.classList.remove(`${ee.containerModifierClass}grid`,`${ee.containerModifierClass}grid-column`),S=1,r.emitContainerClasses()):!T&&re&&(X.classList.add(`${ee.containerModifierClass}grid`),ee.grid.fill==="column"&&X.classList.add(`${ee.containerModifierClass}grid-column`),r.emitContainerClasses()),T=re};m("init",q),m("update",G),r.grid={initSlides:N,unsetSlides:D,updateSlide:L,updateWrapperSize:R}}function Pre(l){const r=this,{params:d,slidesEl:m}=r;d.loop&&r.loopDestroy();const v=y=>{if(typeof y=="string"){const S=document.createElement("div");S.innerHTML=y,m.append(S.children[0]),S.innerHTML=""}else m.append(y)};if(typeof l=="object"&&"length"in l)for(let y=0;y<l.length;y+=1)l[y]&&v(l[y]);else v(l);r.recalcSlides(),d.loop&&r.loopCreate(),(!d.observer||r.isElement)&&r.update()}function Nre(l){const r=this,{params:d,activeIndex:m,slidesEl:v}=r;d.loop&&r.loopDestroy();let y=m+1;const S=T=>{if(typeof T=="string"){const k=document.createElement("div");k.innerHTML=T,v.prepend(k.children[0]),k.innerHTML=""}else v.prepend(T)};if(typeof l=="object"&&"length"in l){for(let T=0;T<l.length;T+=1)l[T]&&S(l[T]);y=m+l.length}else S(l);r.recalcSlides(),d.loop&&r.loopCreate(),(!d.observer||r.isElement)&&r.update(),r.slideTo(y,0,!1)}function Lre(l,r){const d=this,{params:m,activeIndex:v,slidesEl:y}=d;let S=v;m.loop&&(S-=d.loopedSlides,d.loopDestroy(),d.recalcSlides());const T=d.slides.length;if(l<=0){d.prependSlide(r);return}if(l>=T){d.appendSlide(r);return}let k=S>l?S+1:S;const N=[];for(let D=T-1;D>=l;D-=1){const L=d.slides[D];L.remove(),N.unshift(L)}if(typeof r=="object"&&"length"in r){for(let D=0;D<r.length;D+=1)r[D]&&y.append(r[D]);k=S>l?S+r.length:S}else y.append(r);for(let D=0;D<N.length;D+=1)y.append(N[D]);d.recalcSlides(),m.loop&&d.loopCreate(),(!m.observer||d.isElement)&&d.update(),m.loop?d.slideTo(k+d.loopedSlides,0,!1):d.slideTo(k,0,!1)}function Ire(l){const r=this,{params:d,activeIndex:m}=r;let v=m;d.loop&&(v-=r.loopedSlides,r.loopDestroy());let y=v,S;if(typeof l=="object"&&"length"in l){for(let T=0;T<l.length;T+=1)S=l[T],r.slides[S]&&r.slides[S].remove(),S<y&&(y-=1);y=Math.max(y,0)}else S=l,r.slides[S]&&r.slides[S].remove(),S<y&&(y-=1),y=Math.max(y,0);r.recalcSlides(),d.loop&&r.loopCreate(),(!d.observer||r.isElement)&&r.update(),d.loop?r.slideTo(y+r.loopedSlides,0,!1):r.slideTo(y,0,!1)}function Rre(){const l=this,r=[];for(let d=0;d<l.slides.length;d+=1)r.push(d);l.removeSlide(r)}function Bre(l){let{swiper:r}=l;Object.assign(r,{appendSlide:Pre.bind(r),prependSlide:Nre.bind(r),addSlide:Lre.bind(r),removeSlide:Ire.bind(r),removeAllSlides:Rre.bind(r)})}function px(l){const{effect:r,swiper:d,on:m,setTranslate:v,setTransition:y,overwriteParams:S,perspective:T,recreateShadows:k,getEffectParams:N}=l;m("beforeInit",()=>{if(d.params.effect!==r)return;d.classNames.push(`${d.params.containerModifierClass}${r}`),T&&T()&&d.classNames.push(`${d.params.containerModifierClass}3d`);const L=S?S():{};Object.assign(d.params,L),Object.assign(d.originalParams,L)}),m("setTranslate",()=>{d.params.effect===r&&v()}),m("setTransition",(L,R)=>{d.params.effect===r&&y(R)}),m("transitionEnd",()=>{if(d.params.effect===r&&k){if(!N||!N().slideShadows)return;d.slides.forEach(L=>{L.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(R=>R.remove())}),k()}});let D;m("virtualUpdate",()=>{d.params.effect===r&&(d.slides.length||(D=!0),requestAnimationFrame(()=>{D&&d.slides&&d.slides.length&&(v(),D=!1)}))})}function GO(l,r){const d=ly(r);return d!==r&&(d.style.backfaceVisibility="hidden",d.style["-webkit-backface-visibility"]="hidden"),d}function V$(l){let{swiper:r,duration:d,transformElements:m,allSlides:v}=l;const{activeIndex:y}=r,S=T=>T.parentElement?T.parentElement:r.slides.filter(N=>N.shadowRoot&&N.shadowRoot===T.parentNode)[0];if(r.params.virtualTranslate&&d!==0){let T=!1,k;v?k=m:k=m.filter(N=>{const D=N.classList.contains("swiper-slide-transform")?S(N):N;return r.getSlideIndex(D)===y}),k.forEach(N=>{BO(N,()=>{if(T||!r||r.destroyed)return;T=!0,r.animating=!1;const D=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});r.wrapperEl.dispatchEvent(D)})})}}function $re(l){let{swiper:r,extendParams:d,on:m}=l;d({fadeEffect:{crossFade:!1}}),px({effect:"fade",swiper:r,on:m,setTranslate:()=>{const{slides:S}=r,T=r.params.fadeEffect;for(let k=0;k<S.length;k+=1){const N=r.slides[k];let L=-N.swiperSlideOffset;r.params.virtualTranslate||(L-=r.translate);let R=0;r.isHorizontal()||(R=L,L=0);const q=r.params.fadeEffect.crossFade?Math.max(1-Math.abs(N.progress),0):1+Math.min(Math.max(N.progress,-1),0),G=GO(T,N);G.style.opacity=q,G.style.transform=`translate3d(${L}px, ${R}px, 0px)`}},setTransition:S=>{const T=r.slides.map(k=>ly(k));T.forEach(k=>{k.style.transitionDuration=`${S}ms`}),V$({swiper:r,duration:S,transformElements:T,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!r.params.cssMode})})}function Fre(l){let{swiper:r,extendParams:d,on:m}=l;d({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const v=(k,N,D)=>{let L=D?k.querySelector(".swiper-slide-shadow-left"):k.querySelector(".swiper-slide-shadow-top"),R=D?k.querySelector(".swiper-slide-shadow-right"):k.querySelector(".swiper-slide-shadow-bottom");L||(L=hd("div",`swiper-slide-shadow-cube swiper-slide-shadow-${D?"left":"top"}`.split(" ")),k.append(L)),R||(R=hd("div",`swiper-slide-shadow-cube swiper-slide-shadow-${D?"right":"bottom"}`.split(" ")),k.append(R)),L&&(L.style.opacity=Math.max(-N,0)),R&&(R.style.opacity=Math.max(N,0))};px({effect:"cube",swiper:r,on:m,setTranslate:()=>{const{el:k,wrapperEl:N,slides:D,width:L,height:R,rtlTranslate:q,size:G,browser:ee}=r,X=z$(r),re=r.params.cubeEffect,J=r.isHorizontal(),F=r.virtual&&r.params.virtual.enabled;let ce=0,Re;re.shadow&&(J?(Re=r.wrapperEl.querySelector(".swiper-cube-shadow"),Re||(Re=hd("div","swiper-cube-shadow"),r.wrapperEl.append(Re)),Re.style.height=`${L}px`):(Re=k.querySelector(".swiper-cube-shadow"),Re||(Re=hd("div","swiper-cube-shadow"),k.append(Re))));for(let ie=0;ie<D.length;ie+=1){const He=D[ie];let Ze=ie;F&&(Ze=parseInt(He.getAttribute("data-swiper-slide-index"),10));let Fe=Ze*90,he=Math.floor(Fe/360);q&&(Fe=-Fe,he=Math.floor(-Fe/360));const xe=Math.max(Math.min(He.progress,1),-1);let Be=0,Me=0,Oe=0;Ze%4===0?(Be=-he*4*G,Oe=0):(Ze-1)%4===0?(Be=0,Oe=-he*4*G):(Ze-2)%4===0?(Be=G+he*4*G,Oe=G):(Ze-3)%4===0&&(Be=-G,Oe=3*G+G*4*he),q&&(Be=-Be),J||(Me=Be,Be=0);const P=`rotateX(${X(J?0:-Fe)}deg) rotateY(${X(J?Fe:0)}deg) translate3d(${Be}px, ${Me}px, ${Oe}px)`;xe<=1&&xe>-1&&(ce=Ze*90+xe*90,q&&(ce=-Ze*90-xe*90)),He.style.transform=P,re.slideShadows&&v(He,xe,J)}if(N.style.transformOrigin=`50% 50% -${G/2}px`,N.style["-webkit-transform-origin"]=`50% 50% -${G/2}px`,re.shadow)if(J)Re.style.transform=`translate3d(0px, ${L/2+re.shadowOffset}px, ${-L/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${re.shadowScale})`;else{const ie=Math.abs(ce)-Math.floor(Math.abs(ce)/90)*90,He=1.5-(Math.sin(ie*2*Math.PI/360)/2+Math.cos(ie*2*Math.PI/360)/2),Ze=re.shadowScale,Fe=re.shadowScale/He,he=re.shadowOffset;Re.style.transform=`scale3d(${Ze}, 1, ${Fe}) translate3d(0px, ${R/2+he}px, ${-R/2/Fe}px) rotateX(-89.99deg)`}const ze=(ee.isSafari||ee.isWebView)&&ee.needPerspectiveFix?-G/2:0;N.style.transform=`translate3d(0px,0,${ze}px) rotateX(${X(r.isHorizontal()?0:ce)}deg) rotateY(${X(r.isHorizontal()?-ce:0)}deg)`,N.style.setProperty("--swiper-cube-translate-z",`${ze}px`)},setTransition:k=>{const{el:N,slides:D}=r;if(D.forEach(L=>{L.style.transitionDuration=`${k}ms`,L.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(R=>{R.style.transitionDuration=`${k}ms`})}),r.params.cubeEffect.shadow&&!r.isHorizontal()){const L=N.querySelector(".swiper-cube-shadow");L&&(L.style.transitionDuration=`${k}ms`)}},recreateShadows:()=>{const k=r.isHorizontal();r.slides.forEach(N=>{const D=Math.max(Math.min(N.progress,1),-1);v(N,D,k)})},getEffectParams:()=>r.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function cx(l,r,d){const m=`swiper-slide-shadow${d?`-${d}`:""}${l?` swiper-slide-shadow-${l}`:""}`,v=ly(r);let y=v.querySelector(`.${m.split(" ").join(".")}`);return y||(y=hd("div",m.split(" ")),v.append(y)),y}function Hre(l){let{swiper:r,extendParams:d,on:m}=l;d({flipEffect:{slideShadows:!0,limitRotation:!0}});const v=(k,N)=>{let D=r.isHorizontal()?k.querySelector(".swiper-slide-shadow-left"):k.querySelector(".swiper-slide-shadow-top"),L=r.isHorizontal()?k.querySelector(".swiper-slide-shadow-right"):k.querySelector(".swiper-slide-shadow-bottom");D||(D=cx("flip",k,r.isHorizontal()?"left":"top")),L||(L=cx("flip",k,r.isHorizontal()?"right":"bottom")),D&&(D.style.opacity=Math.max(-N,0)),L&&(L.style.opacity=Math.max(N,0))};px({effect:"flip",swiper:r,on:m,setTranslate:()=>{const{slides:k,rtlTranslate:N}=r,D=r.params.flipEffect,L=z$(r);for(let R=0;R<k.length;R+=1){const q=k[R];let G=q.progress;r.params.flipEffect.limitRotation&&(G=Math.max(Math.min(q.progress,1),-1));const ee=q.swiperSlideOffset;let re=-180*G,J=0,F=r.params.cssMode?-ee-r.translate:-ee,ce=0;r.isHorizontal()?N&&(re=-re):(ce=F,F=0,J=-re,re=0),q.style.zIndex=-Math.abs(Math.round(G))+k.length,D.slideShadows&&v(q,G);const Re=`translate3d(${F}px, ${ce}px, 0px) rotateX(${L(J)}deg) rotateY(${L(re)}deg)`,ze=GO(D,q);ze.style.transform=Re}},setTransition:k=>{const N=r.slides.map(D=>ly(D));N.forEach(D=>{D.style.transitionDuration=`${k}ms`,D.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(L=>{L.style.transitionDuration=`${k}ms`})}),V$({swiper:r,duration:k,transformElements:N})},recreateShadows:()=>{r.params.flipEffect,r.slides.forEach(k=>{let N=k.progress;r.params.flipEffect.limitRotation&&(N=Math.max(Math.min(k.progress,1),-1)),v(k,N)})},getEffectParams:()=>r.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!r.params.cssMode})})}function zre(l){let{swiper:r,extendParams:d,on:m}=l;d({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),px({effect:"coverflow",swiper:r,on:m,setTranslate:()=>{const{width:S,height:T,slides:k,slidesSizesGrid:N}=r,D=r.params.coverflowEffect,L=r.isHorizontal(),R=r.translate,q=L?-R+S/2:-R+T/2,G=L?D.rotate:-D.rotate,ee=D.depth,X=z$(r);for(let re=0,J=k.length;re<J;re+=1){const F=k[re],ce=N[re],Re=F.swiperSlideOffset,ze=(q-Re-ce/2)/ce,ie=typeof D.modifier=="function"?D.modifier(ze):ze*D.modifier;let He=L?G*ie:0,Ze=L?0:G*ie,Fe=-ee*Math.abs(ie),he=D.stretch;typeof he=="string"&&he.indexOf("%")!==-1&&(he=parseFloat(D.stretch)/100*ce);let xe=L?0:he*ie,Be=L?he*ie:0,Me=1-(1-D.scale)*Math.abs(ie);Math.abs(Be)<.001&&(Be=0),Math.abs(xe)<.001&&(xe=0),Math.abs(Fe)<.001&&(Fe=0),Math.abs(He)<.001&&(He=0),Math.abs(Ze)<.001&&(Ze=0),Math.abs(Me)<.001&&(Me=0);const Oe=`translate3d(${Be}px,${xe}px,${Fe}px)  rotateX(${X(Ze)}deg) rotateY(${X(He)}deg) scale(${Me})`,P=GO(D,F);if(P.style.transform=Oe,F.style.zIndex=-Math.abs(Math.round(ie))+1,D.slideShadows){let et=L?F.querySelector(".swiper-slide-shadow-left"):F.querySelector(".swiper-slide-shadow-top"),_e=L?F.querySelector(".swiper-slide-shadow-right"):F.querySelector(".swiper-slide-shadow-bottom");et||(et=cx("coverflow",F,L?"left":"top")),_e||(_e=cx("coverflow",F,L?"right":"bottom")),et&&(et.style.opacity=ie>0?ie:0),_e&&(_e.style.opacity=-ie>0?-ie:0)}}},setTransition:S=>{r.slides.map(k=>ly(k)).forEach(k=>{k.style.transitionDuration=`${S}ms`,k.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(N=>{N.style.transitionDuration=`${S}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function Vre(l){let{swiper:r,extendParams:d,on:m}=l;d({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const v=T=>typeof T=="string"?T:`${T}px`;px({effect:"creative",swiper:r,on:m,setTranslate:()=>{const{slides:T,wrapperEl:k,slidesSizesGrid:N}=r,D=r.params.creativeEffect,{progressMultiplier:L}=D,R=r.params.centeredSlides,q=z$(r);if(R){const G=N[0]/2-r.params.slidesOffsetBefore||0;k.style.transform=`translateX(calc(50% - ${G}px))`}for(let G=0;G<T.length;G+=1){const ee=T[G],X=ee.progress,re=Math.min(Math.max(ee.progress,-D.limitProgress),D.limitProgress);let J=re;R||(J=Math.min(Math.max(ee.originalProgress,-D.limitProgress),D.limitProgress));const F=ee.swiperSlideOffset,ce=[r.params.cssMode?-F-r.translate:-F,0,0],Re=[0,0,0];let ze=!1;r.isHorizontal()||(ce[1]=ce[0],ce[0]=0);let ie={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};re<0?(ie=D.next,ze=!0):re>0&&(ie=D.prev,ze=!0),ce.forEach((Me,Oe)=>{ce[Oe]=`calc(${Me}px + (${v(ie.translate[Oe])} * ${Math.abs(re*L)}))`}),Re.forEach((Me,Oe)=>{let P=ie.rotate[Oe]*Math.abs(re*L);Re[Oe]=P}),ee.style.zIndex=-Math.abs(Math.round(X))+T.length;const He=ce.join(", "),Ze=`rotateX(${q(Re[0])}deg) rotateY(${q(Re[1])}deg) rotateZ(${q(Re[2])}deg)`,Fe=J<0?`scale(${1+(1-ie.scale)*J*L})`:`scale(${1-(1-ie.scale)*J*L})`,he=J<0?1+(1-ie.opacity)*J*L:1-(1-ie.opacity)*J*L,xe=`translate3d(${He}) ${Ze} ${Fe}`;if(ze&&ie.shadow||!ze){let Me=ee.querySelector(".swiper-slide-shadow");if(!Me&&ie.shadow&&(Me=cx("creative",ee)),Me){const Oe=D.shadowPerProgress?re*(1/D.limitProgress):re;Me.style.opacity=Math.min(Math.max(Math.abs(Oe),0),1)}}const Be=GO(D,ee);Be.style.transform=xe,Be.style.opacity=he,ie.origin&&(Be.style.transformOrigin=ie.origin)}},setTransition:T=>{const k=r.slides.map(N=>ly(N));k.forEach(N=>{N.style.transitionDuration=`${T}ms`,N.querySelectorAll(".swiper-slide-shadow").forEach(D=>{D.style.transitionDuration=`${T}ms`})}),V$({swiper:r,duration:T,transformElements:k,allSlides:!0})},perspective:()=>r.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!r.params.cssMode})})}function Ure(l){let{swiper:r,extendParams:d,on:m}=l;d({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),px({effect:"cards",swiper:r,on:m,setTranslate:()=>{const{slides:S,activeIndex:T,rtlTranslate:k}=r,N=r.params.cardsEffect,{startTranslate:D,isTouched:L}=r.touchEventsData,R=k?-r.translate:r.translate;for(let q=0;q<S.length;q+=1){const G=S[q],ee=G.progress,X=Math.min(Math.max(ee,-4),4);let re=G.swiperSlideOffset;r.params.centeredSlides&&!r.params.cssMode&&(r.wrapperEl.style.transform=`translateX(${r.minTranslate()}px)`),r.params.centeredSlides&&r.params.cssMode&&(re-=S[0].swiperSlideOffset);let J=r.params.cssMode?-re-r.translate:-re,F=0;const ce=-100*Math.abs(X);let Re=1,ze=-N.perSlideRotate*X,ie=N.perSlideOffset-Math.abs(X)*.75;const He=r.virtual&&r.params.virtual.enabled?r.virtual.from+q:q,Ze=(He===T||He===T-1)&&X>0&&X<1&&(L||r.params.cssMode)&&R<D,Fe=(He===T||He===T+1)&&X<0&&X>-1&&(L||r.params.cssMode)&&R>D;if(Ze||Fe){const Me=(1-Math.abs((Math.abs(X)-.5)/.5))**.5;ze+=-28*X*Me,Re+=-.5*Me,ie+=96*Me,F=`${-25*Me*Math.abs(X)}%`}if(X<0?J=`calc(${J}px ${k?"-":"+"} (${ie*Math.abs(X)}%))`:X>0?J=`calc(${J}px ${k?"-":"+"} (-${ie*Math.abs(X)}%))`:J=`${J}px`,!r.isHorizontal()){const Me=F;F=J,J=Me}const he=X<0?`${1+(1-Re)*X}`:`${1-(1-Re)*X}`,xe=`
        translate3d(${J}, ${F}, ${ce}px)
        rotateZ(${N.rotate?k?-ze:ze:0}deg)
        scale(${he})
      `;if(N.slideShadows){let Me=G.querySelector(".swiper-slide-shadow");Me||(Me=cx("cards",G)),Me&&(Me.style.opacity=Math.min(Math.max((Math.abs(X)-.5)/.5,0),1))}G.style.zIndex=-Math.abs(Math.round(ee))+S.length;const Be=GO(N,G);Be.style.transform=xe}},setTransition:S=>{const T=r.slides.map(k=>ly(k));T.forEach(k=>{k.style.transitionDuration=`${S}ms`,k.querySelectorAll(".swiper-slide-shadow").forEach(N=>{N.style.transitionDuration=`${S}ms`})}),V$({swiper:r,duration:S,transformElements:T})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!r.params.cssMode})})}const Wre=[gre,vre,bre,yre,wre,Sre,xre,Cre,Ere,Tre,_re,kre,Are,Ore,Dre,Mre,Bre,$re,Fre,Hre,zre,Vre,Ure];fd.use(Wre);var xee={exports:{}};(function(l){(function(){var r=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},d=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},m=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},v=function(e,n){return y(function(o,i){return e.eq(n(o),n(i))})},y=function(e){return{eq:e}},S=y(function(e,n){return e===n}),T=S,k=function(e){return y(function(n,o){if(n.length!==o.length)return!1;for(var i=n.length,c=0;c<i;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},N=function(e,n){return v(k(e),function(o){return m(o,n)})},D=function(e){return y(function(n,o){var i=Object.keys(n),c=Object.keys(o);if(!N(T).eq(i,c))return!1;for(var f=i.length,p=0;p<f;p++){var w=i[p];if(!e.eq(n[w],o[w]))return!1}return!0})},L=y(function(e,n){if(e===n)return!0;var o=r(e),i=r(n);return o!==i?!1:d(o)?e===n:o==="array"?k(L).eq(e,n):o==="object"?D(L).eq(e,n):!1});const R=Object.getPrototypeOf,q=(e,n,o)=>{var i;return o(e,n.prototype)?!0:((i=e.constructor)===null||i===void 0?void 0:i.name)===n.name},G=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&q(e,String,(o,i)=>i.isPrototypeOf(o))?"string":n},ee=e=>n=>G(n)===e,X=e=>n=>typeof n===e,re=e=>n=>e===n,J=(e,n)=>ce(e)&&q(e,n,(o,i)=>R(o)===i),F=ee("string"),ce=ee("object"),Re=e=>J(e,Object),ze=ee("array"),ie=re(null),He=X("boolean"),Ze=re(void 0),Fe=e=>e==null,he=e=>!Fe(e),xe=X("function"),Be=X("number"),Me=(e,n)=>{if(ze(e)){for(let o=0,i=e.length;o<i;++o)if(!n(e[o]))return!1;return!0}return!1},Oe=()=>{},P=(e,n)=>(...o)=>e(n.apply(null,o)),et=(e,n)=>o=>e(n(o)),_e=e=>()=>e,$t=e=>e,dt=(e,n)=>e===n;function Ve(e,...n){return(...o)=>{const i=n.concat(o);return e.apply(null,i)}}const Ot=e=>n=>!e(n),jt=e=>()=>{throw new Error(e)},Hn=e=>e(),rn=e=>{e()},Ue=_e(!1),wt=_e(!0);class U{constructor(n,o){this.tag=n,this.value=o}static some(n){return new U(!0,n)}static none(){return U.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?U.some(n(this.value)):U.none()}bind(n){return this.tag?n(this.value):U.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:U.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return he(n)?U.some(n):U.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}U.singletonNone=new U(!1);const as=Array.prototype.slice,Dn=Array.prototype.indexOf,Cs=Array.prototype.push,Vo=(e,n)=>Dn.call(e,n),Zo=(e,n)=>{const o=Vo(e,n);return o===-1?U.none():U.some(o)},It=(e,n)=>Vo(e,n)>-1,zn=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(n(c,o))return!0}return!1},nn=(e,n)=>{const o=e.length,i=new Array(o);for(let c=0;c<o;c++){const f=e[c];i[c]=n(f,c)}return i},$e=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];n(c,o)}},Tr=(e,n)=>{for(let o=e.length-1;o>=0;o--){const i=e[o];n(i,o)}},ar=(e,n)=>{const o=[],i=[];for(let c=0,f=e.length;c<f;c++){const p=e[c];(n(p,c)?o:i).push(p)}return{pass:o,fail:i}},hn=(e,n)=>{const o=[];for(let i=0,c=e.length;i<c;i++){const f=e[i];n(f,i)&&o.push(f)}return o},Gr=(e,n,o)=>(Tr(e,(i,c)=>{o=n(o,i,c)}),o),Gs=(e,n,o)=>($e(e,(i,c)=>{o=n(o,i,c)}),o),V=(e,n,o)=>{for(let i=0,c=e.length;i<c;i++){const f=e[i];if(n(f,i))return U.some(f);if(o(f,i))break}return U.none()},oe=(e,n)=>V(e,n,Ue),Ce=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(n(c,o))return U.some(o)}return U.none()},Le=e=>{const n=[];for(let o=0,i=e.length;o<i;++o){if(!ze(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Cs.apply(n,e[o])}return n},qe=(e,n)=>Le(nn(e,n)),bt=(e,n)=>{for(let o=0,i=e.length;o<i;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},ht=e=>{const n=as.call(e,0);return n.reverse(),n},Et=(e,n)=>hn(e,o=>!It(n,o)),tn=(e,n)=>{const o={};for(let i=0,c=e.length;i<c;i++){const f=e[i];o[String(f)]=n(f,i)}return o},qt=(e,n)=>{const o=as.call(e,0);return o.sort(n),o},Vn=(e,n)=>n>=0&&n<e.length?U.some(e[n]):U.none(),kn=e=>Vn(e,0),Un=e=>Vn(e,e.length-1),Kn=xe(Array.from)?Array.from:e=>as.call(e),So=(e,n)=>{for(let o=0;o<e.length;o++){const i=n(e[o],o);if(i.isSome())return i}return U.none()},ls=(e,n)=>{const o=[],i=xe(n)?c=>zn(o,f=>n(f,c)):c=>It(o,c);for(let c=0,f=e.length;c<f;c++){const p=e[c];i(p)||o.push(p)}return o},Lo=Object.keys,Js=Object.hasOwnProperty,_t=(e,n)=>{const o=Lo(e);for(let i=0,c=o.length;i<c;i++){const f=o[i],p=e[f];n(p,f)}},Gn=(e,n)=>Ws(e,(o,i)=>({k:i,v:n(o,i)})),Ws=(e,n)=>{const o={};return _t(e,(i,c)=>{const f=n(i,c);o[f.k]=f.v}),o},Xs=e=>(n,o)=>{e[o]=n},Fi=(e,n,o,i)=>{_t(e,(c,f)=>{(n(c,f)?o:i)(c,f)})},ii=(e,n)=>{const o={},i={};return Fi(e,n,Xs(o),Xs(i)),{t:o,f:i}},Ys=(e,n)=>{const o={};return Fi(e,n,Xs(o),Oe),o},lr=(e,n)=>{const o=[];return _t(e,(i,c)=>{o.push(n(i,c))}),o},cl=e=>lr(e,$t),Fo=(e,n)=>wn(e,n)?U.from(e[n]):U.none(),wn=(e,n)=>Js.call(e,n),ai=(e,n)=>wn(e,n)&&e[n]!==void 0&&e[n]!==null,Il=(e,n,o=L)=>D(o).eq(e,n),Xo=e=>{const n={};return $e(e,o=>{n[o]={}}),Lo(n)},zs=e=>e.length!==void 0,li=Array.isArray,Qs=e=>{if(li(e))return e;{const n=[];for(let o=0,i=e.length;o<i;o++)n[o]=e[o];return n}},Wa=(e,n,o)=>{if(!e)return!1;if(o=o||e,zs(e)){for(let i=0,c=e.length;i<c;i++)if(n.call(o,e[i],i,e)===!1)return!1}else for(const i in e)if(wn(e,i)&&n.call(o,e[i],i,e)===!1)return!1;return!0},ya=(e,n)=>{const o=[];return Wa(e,(i,c)=>{o.push(n(i,c,e))}),o},ja=(e,n)=>{const o=[];return Wa(e,(i,c)=>{(!n||n(i,c,e))&&o.push(i)}),o},_r=(e,n)=>{if(e){for(let o=0,i=e.length;o<i;o++)if(e[o]===n)return o}return-1},ve=(e,n,o,i)=>{let c=Ze(o)?e[0]:o;for(let f=0;f<e.length;f++)c=n.call(i,c,e[f],f);return c},be=(e,n,o)=>{for(let i=0,c=e.length;i<c;i++)if(n.call(o,e[i],i,e))return i;return-1},We=e=>e[e.length-1],Qe=e=>{let n=!1,o;return(...i)=>(n||(n=!0,o=e.apply(null,i)),o)},cn=(e,n,o,i)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,f=e.isiOS()&&!c,p=e.isiOS()||e.isAndroid(),w=p||i("(pointer:coarse)"),x=c||!f&&p&&i("(min-device-width:768px)"),O=f||p&&!x,$=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,H=!O&&!x&&!$;return{isiPad:_e(c),isiPhone:_e(f),isTablet:_e(x),isPhone:_e(O),isTouch:_e(w),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:_e($),isDesktop:_e(H)}},En=(e,n)=>{for(let o=0;o<e.length;o++){const i=e[o];if(i.test(n))return i}},qn=(e,n)=>{const o=En(e,n);if(!o)return{major:0,minor:0};const i=c=>Number(n.replace(o,"$"+c));return po(i(1),i(2))},gs=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?pt():qn(e,o)},pt=()=>po(0,0),po=(e,n)=>({major:e,minor:n}),As={nu:po,detect:gs,unknown:pt},cr=(e,n)=>So(n.brands,o=>{const i=o.brand.toLowerCase();return oe(e,c=>{var f;return i===((f=c.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(c=>({current:c.name,version:As.nu(parseInt(o.version,10),0)}))}),ci=(e,n)=>{const o=String(n).toLowerCase();return oe(e,i=>i.search(o))},ul=(e,n)=>ci(e,n).map(o=>{const i=As.detect(o.versionRegexes,n);return{current:o.name,version:i}}),bc=(e,n)=>ci(e,n).map(o=>{const i=As.detect(o.versionRegexes,n);return{current:o.name,version:i}}),Ti=(e,n)=>e.substring(n),wa=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,kr=(e,n)=>es(e,n)?Ti(e,n.length):e,Qo=(e,n,o=0,i)=>{const c=e.indexOf(n,o);return c!==-1?Ze(i)?!0:c+n.length<=i:!1},es=(e,n)=>wa(e,n,0),Sa=(e,n)=>wa(e,n,e.length-n.length),Xr=e=>n=>n.replace(e,""),$r=Xr(/^\s+|\s+$/g),Qc=Xr(/^\s+/g),hi=Xr(/\s+$/g),To=e=>e.length>0,Ar=e=>!To(e),Es=(e,n)=>n<=0?"":new Array(n+1).join(e),Lu=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?U.none():U.some(o)},yc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,js=e=>n=>Qo(n,e),dl=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Qo(e,"edge/")&&Qo(e,"chrome")&&Qo(e,"safari")&&Qo(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yc],search:e=>Qo(e,"chrome")&&!Qo(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Qo(e,"msie")||Qo(e,"trident")},{name:"Opera",versionRegexes:[yc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:js("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:js("firefox")},{name:"Safari",versionRegexes:[yc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Qo(e,"safari")||Qo(e,"mobile/"))&&Qo(e,"applewebkit")}],uf=[{name:"Windows",search:js("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Qo(e,"iphone")||Qo(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:js("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:js("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:js("linux"),versionRegexes:[]},{name:"Solaris",search:js("sunos"),versionRegexes:[]},{name:"FreeBSD",search:js("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:js("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],_i={browsers:_e(dl),oses:_e(uf)},Uo="Edge",Rl="Chromium",Fr="IE",wc="Opera",eu="Firefox",Or="Safari",xa=()=>Ra({current:void 0,version:As.unknown()}),Ra=e=>{const n=e.current,o=e.version,i=c=>()=>n===c;return{current:n,version:o,isEdge:i(Uo),isChromium:i(Rl),isIE:i(Fr),isOpera:i(wc),isFirefox:i(eu),isSafari:i(Or)}},na={unknown:xa,nu:Ra,edge:_e(Uo),chromium:_e(Rl),ie:_e(Fr),opera:_e(wc),firefox:_e(eu),safari:_e(Or)},df="Windows",Bl="iOS",tu="Android",ui="Linux",pi="macOS",Iu="Solaris",Sd="FreeBSD",fl="ChromeOS",ff=()=>Hr({current:void 0,version:As.unknown()}),Hr=e=>{const n=e.current,o=e.version,i=c=>()=>n===c;return{current:n,version:o,isWindows:i(df),isiOS:i(Bl),isAndroid:i(tu),isMacOS:i(pi),isLinux:i(ui),isSolaris:i(Iu),isFreeBSD:i(Sd),isChromeOS:i(fl)}},ml={unknown:ff,nu:Hr,windows:_e(df),ios:_e(Bl),android:_e(tu),linux:_e(ui),macos:_e(pi),solaris:_e(Iu),freebsd:_e(Sd),chromeos:_e(fl)},$l={detect:(e,n,o)=>{const i=_i.browsers(),c=_i.oses(),f=n.bind(x=>cr(i,x)).orThunk(()=>ul(i,e)).fold(na.unknown,na.nu),p=bc(c,e).fold(ml.unknown,ml.nu),w=cn(p,f,e,o);return{browser:f,os:p,deviceType:w}}},mf=e=>window.matchMedia(e).matches;let Ru=Qe(()=>$l.detect(window.navigator.userAgent,U.from(window.navigator.userAgentData),mf));const gi=()=>Ru(),oa=window.navigator.userAgent,Hi=gi(),Ca=Hi.browser,sa=Hi.os,vn=Hi.deviceType,nu=oa.indexOf("Windows Phone")!==-1,Mn={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ca.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ca.isIE(),windowsPhone:nu,browser:{current:Ca.current,version:Ca.version,isChromium:Ca.isChromium,isEdge:Ca.isEdge,isFirefox:Ca.isFirefox,isIE:Ca.isIE,isOpera:Ca.isOpera,isSafari:Ca.isSafari},os:{current:sa.current,version:sa.version,isAndroid:sa.isAndroid,isChromeOS:sa.isChromeOS,isFreeBSD:sa.isFreeBSD,isiOS:sa.isiOS,isLinux:sa.isLinux,isMacOS:sa.isMacOS,isSolaris:sa.isSolaris,isWindows:sa.isWindows},deviceType:{isDesktop:vn.isDesktop,isiPad:vn.isiPad,isiPhone:vn.isiPhone,isPhone:vn.isPhone,isTablet:vn.isTablet,isTouch:vn.isTouch,isWebView:vn.isWebView}},vr=/^\s*|\s*$/g,Fl=e=>Fe(e)?"":(""+e).replace(vr,""),W=(e,n)=>n?n==="array"&&li(e)?!0:typeof e===n:e!==void 0,ae=(e,n,o={})=>{const i=F(e)?e.split(n||","):e||[];let c=i.length;for(;c--;)o[i[c]]={};return o},we=wn,Ge=(e,...n)=>{for(let o=0;o<n.length;o++){const i=n[o];for(const c in i)if(wn(i,c)){const f=i[c];f!==void 0&&(e[c]=f)}}return e},gt=function(e,n,o,i){i=i||this,e&&(o&&(e=e[o]),Wa(e,(c,f)=>n.call(i,c,f,o)===!1?!1:(gt(c,n,o,i),!0)))},Tt={trim:Fl,isArray:li,is:W,toArray:Qs,makeMap:ae,each:Wa,map:ya,grep:ja,inArray:_r,hasOwn:we,extend:Ge,walk:gt,resolve:(e,n=window)=>{const o=e.split(".");for(let i=0,c=o.length;i<c&&(n=n[o[i]],!!n);i++);return n},explode:(e,n)=>ze(e)?e:e===""?[]:ya(e.split(n||","),Fl),_addCacheSuffix:e=>{const n=Mn.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},vs=(e,n,o=dt)=>e.exists(i=>o(i,n)),Yr=(e,n,o=dt)=>Zn(e,n,o).getOr(e.isNone()&&n.isNone()),Hl=e=>{const n=[],o=i=>{n.push(i)};for(let i=0;i<e.length;i++)e[i].each(o);return n},Zn=(e,n,o)=>e.isSome()&&n.isSome()?U.some(o(e.getOrDie(),n.getOrDie())):U.none(),zi=(e,n,o,i)=>e.isSome()&&n.isSome()&&o.isSome()?U.some(i(e.getOrDie(),n.getOrDie(),o.getOrDie())):U.none(),ou=(e,n)=>e?U.some(n):U.none(),hf=typeof window<"u"?window:Function("return this;")(),fs=(e,n)=>{let o=n??hf;for(let i=0;i<e.length&&o!==void 0&&o!==null;++i)o=o[e[i]];return o},Za=(e,n)=>{const o=e.split(".");return fs(o,n)},fm=(e,n)=>Za(e,n),su=(e,n)=>{const o=fm(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Os=Object.getPrototypeOf,pf=e=>su("HTMLElement",e),gf=e=>{const n=Za("ownerDocument.defaultView",e);return ce(e)&&(pf(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Os(e).constructor.name))},Vi=8,vf=9,hl=11,Cd=1,ki=3,ho=e=>e.dom.nodeName.toLowerCase(),ig=e=>e.dom.nodeType,Ui=e=>n=>ig(n)===e,Bu=e=>ig(e)===Vi||ho(e)==="#comment",bf=e=>Ai(e)&&gf(e.dom),Ai=Ui(Cd),Wi=Ui(ki),ag=Ui(vf),Ah=Ui(hl),ru=e=>n=>Ai(n)&&ho(n)===e,lg=(e,n,o)=>{if(F(o)||He(o)||Be(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},zr=(e,n,o)=>{lg(e.dom,n,o)},Sc=(e,n)=>{const o=e.dom;_t(n,(i,c)=>{lg(o,c,i)})},ra=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},Vr=(e,n)=>U.from(ra(e,n)),Ea=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Ur=(e,n)=>{e.dom.removeAttribute(n)},cg=e=>{const n=e.dom.attributes;return n==null||n.length===0},Oh=e=>Gs(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),mm=(e,n)=>{const o=ra(e,n);return o===void 0||o===""?[]:o.split(" ")},hm=(e,n,o)=>{const c=mm(e,n).concat([o]);return zr(e,n,c.join(" ")),!0},yf=(e,n,o)=>{const i=hn(mm(e,n),c=>c!==o);return i.length>0?zr(e,n,i.join(" ")):Ur(e,n),!1},$u=e=>e.dom.classList!==void 0,Dh=e=>mm(e,"class"),Fu=(e,n)=>hm(e,"class",n),ug=(e,n)=>yf(e,"class",n),dg=(e,n)=>It(Dh(e),n)?ug(e,n):Fu(e,n),iu=(e,n)=>{$u(e)?e.dom.classList.add(n):Fu(e,n)},pm=e=>{($u(e)?e.dom.classList:Dh(e)).length===0&&Ur(e,"class")},Hu=(e,n)=>{$u(e)?e.dom.classList.remove(n):ug(e,n),pm(e)},wf=(e,n)=>{const o=$u(e)?e.dom.classList.toggle(n):dg(e,n);return pm(e),o},Sf=(e,n)=>$u(e)&&e.dom.classList.contains(n),gm=(e,n)=>{const i=(n||document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return au(i.childNodes[0])},ia=(e,n)=>{const i=(n||document).createElement(e);return au(i)},Mh=(e,n)=>{const i=(n||document).createTextNode(e);return au(i)},au=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ye={fromHtml:gm,fromTag:ia,fromText:Mh,fromDom:au,fromPoint:(e,n,o)=>U.from(e.dom.elementFromPoint(n,o)).map(au)},xf=(e,n)=>{const o=[],i=f=>(o.push(f),n(f));let c=n(e);do c=c.bind(i);while(c.isSome());return o},zl=(e,n)=>{const o=e.dom;if(o.nodeType!==Cd)return!1;{const i=o;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},fg=e=>e.nodeType!==Cd&&e.nodeType!==vf&&e.nodeType!==hl||e.childElementCount===0,cb=(e,n)=>{const o=n===void 0?document:n.dom;return fg(o)?[]:nn(o.querySelectorAll(e),ye.fromDom)},Ed=(e,n)=>{const o=n===void 0?document:n.dom;return fg(o)?U.none():U.from(o.querySelector(e)).map(ye.fromDom)},so=(e,n)=>e.dom===n.dom,Oi=(e,n)=>{const o=e.dom,i=n.dom;return o===i?!1:o.contains(i)},xc=e=>ye.fromDom(e.dom.ownerDocument),Vl=e=>ag(e)?e:xc(e),Ph=e=>ye.fromDom(Vl(e).dom.documentElement),Cf=e=>ye.fromDom(Vl(e).dom.defaultView),Dr=e=>U.from(e.dom.parentNode).map(ye.fromDom),qa=e=>U.from(e.dom.parentElement).map(ye.fromDom),Ul=(e,n)=>{const o=xe(n)?n:Ue;let i=e.dom;const c=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const f=i.parentNode,p=ye.fromDom(f);if(c.push(p),o(p)===!0)break;i=f}return c},Nh=e=>{const n=o=>hn(o,i=>!so(e,i));return Dr(e).map(Kr).map(n).getOr([])},Cc=e=>U.from(e.dom.previousSibling).map(ye.fromDom),Di=e=>U.from(e.dom.nextSibling).map(ye.fromDom),Lh=e=>ht(xf(e,Cc)),Td=e=>xf(e,Di),Kr=e=>nn(e.dom.childNodes,ye.fromDom),Ta=(e,n)=>{const o=e.dom.childNodes;return U.from(o[n]).map(ye.fromDom)},ji=e=>Ta(e,0),zu=e=>Ta(e,e.dom.childNodes.length-1),_d=e=>e.dom.childNodes.length,mg=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return ye.fromDom(n)},Ef=e=>Ah(e)&&he(e.dom.host),Wl=e=>ye.fromDom(e.dom.getRootNode()),Tf=e=>Ef(e)?e:mg(Vl(e)),ub=e=>Ef(e)?e:ye.fromDom(Vl(e).dom.body),jl=e=>{const n=Wl(e);return Ef(n)?U.some(n):U.none()},hg=e=>ye.fromDom(e.dom.host),pg=e=>{if(he(e.target)){const n=ye.fromDom(e.target);if(Ai(n)&&bm(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return kn(o)}}return U.from(e.target)},bm=e=>he(e.dom.shadowRoot),Vu=e=>{const n=Wi(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return jl(ye.fromDom(n)).fold(()=>o.body.contains(n),et(Vu,hg))};var Ih=(e,n,o,i,c)=>e(o,i)?U.some(o):xe(c)&&c(o)?U.none():n(o,i,c);const Vs=(e,n,o)=>{let i=e.dom;const c=xe(o)?o:Ue;for(;i.parentNode;){i=i.parentNode;const f=ye.fromDom(i);if(n(f))return U.some(f);if(c(f))break}return U.none()},Ks=(e,n,o)=>Ih((c,f)=>f(c),Vs,e,n,o),lu=(e,n)=>{const o=e.dom;return o.parentNode?_f(ye.fromDom(o.parentNode),i=>!so(e,i)&&n(i)):U.none()},_f=(e,n)=>{const o=c=>n(ye.fromDom(c));return oe(e.dom.childNodes,o).map(ye.fromDom)},kf=(e,n)=>{const o=i=>{for(let c=0;c<i.childNodes.length;c++){const f=ye.fromDom(i.childNodes[c]);if(n(f))return U.some(f);const p=o(i.childNodes[c]);if(p.isSome())return p}return U.none()};return o(e.dom)},ur=(e,n,o)=>Vs(e,i=>zl(i,n),o),un=(e,n)=>Ed(n,e),Ec=(e,n,o)=>Ih((c,f)=>zl(c,f),ur,e,n,o),Af=e=>Ec(e,"[contenteditable]"),_a=(e,n=!1)=>Vu(e)?e.dom.isContentEditable:Af(e).fold(_e(n),o=>cs(o)==="true"),cs=e=>e.dom.contentEditable,kd=e=>e.style!==void 0&&xe(e.style.getPropertyValue),Rh=(e,n,o)=>{if(!F(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);kd(e)&&e.style.setProperty(n,o)},Zl=(e,n)=>{kd(e)&&e.style.removeProperty(n)},db=(e,n,o)=>{const i=e.dom;Rh(i,n,o)},Xn=(e,n)=>{const o=e.dom;_t(n,(i,c)=>{Rh(o,c,i)})},dr=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!Vu(e)?Uu(o,n):c},Uu=(e,n)=>kd(e)?e.style.getPropertyValue(n):"",Ad=(e,n)=>{const o=e.dom,i=Uu(o,n);return U.from(i).filter(c=>c.length>0)},ym=e=>{const n={},o=e.dom;if(kd(o))for(let i=0;i<o.style.length;i++){const c=o.style.item(i);n[c]=o.style[c]}return n},gg=(e,n)=>{const o=e.dom;Zl(o,n),vs(Vr(e,"style").map($r),"")&&Ur(e,"style")},Od=e=>e.dom.offsetWidth,Mi=(e,n)=>{Dr(e).each(i=>{i.dom.insertBefore(n.dom,e.dom)})},pl=(e,n)=>{Di(e).fold(()=>{Dr(e).each(c=>{Mr(c,n)})},i=>{Mi(i,n)})},wm=(e,n)=>{ji(e).fold(()=>{Mr(e,n)},i=>{e.dom.insertBefore(n.dom,i.dom)})},Mr=(e,n)=>{e.dom.appendChild(n.dom)},Bh=(e,n)=>{Mi(e,n),Mr(n,e)},Is=(e,n)=>{$e(n,(o,i)=>{const c=i===0?e:n[i-1];pl(c,o)})},ka=(e,n)=>{$e(n,o=>{Mr(e,o)})},Dd=e=>{e.dom.textContent="",$e(Kr(e),n=>{ms(n)})},ms=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Tc=e=>{const n=Kr(e);n.length>0&&Is(e,n),ms(e)},fb=(e,n)=>{const i=(n||document).createElement("div");return i.innerHTML=e,Kr(ye.fromDom(i))},Sm=e=>nn(e,ye.fromDom),Us=e=>e.dom.innerHTML,Of=(e,n)=>{const i=xc(e).dom,c=ye.fromDom(i.createDocumentFragment()),f=fb(n,i);ka(c,f),Dd(e),Mr(e,c)},Ga=e=>{const n=ye.fromTag("div"),o=ye.fromDom(e.dom.cloneNode(!0));return Mr(n,o),Us(n)},Df=(e,n,o,i,c,f,p)=>({target:e,x:n,y:o,stop:i,prevent:c,kill:f,raw:p}),xm=e=>{const n=ye.fromDom(pg(e).getOr(e.target)),o=()=>e.stopPropagation(),i=()=>e.preventDefault(),c=P(i,o);return Df(n,e.clientX,e.clientY,o,i,c,e)},Cm=(e,n)=>o=>{e(o)&&n(xm(o))},Mf=(e,n,o,i,c)=>{const f=Cm(o,i);return e.dom.addEventListener(n,f,c),{unbind:Ve(B,e,n,f,c)}},A=(e,n,o,i)=>Mf(e,n,o,i,!1),B=(e,n,o,i)=>{e.dom.removeEventListener(n,o,i)},K=(e,n)=>({left:e,top:n,translate:(i,c)=>K(e+i,n+c)}),pe=K,Ee=e=>{const n=e.getBoundingClientRect();return pe(n.left,n.top)},St=(e,n)=>e!==void 0?e:n!==void 0?n:0,xn=e=>{const n=e.dom.ownerDocument,o=n.body,i=n.defaultView,c=n.documentElement;if(o===e.dom)return pe(o.offsetLeft,o.offsetTop);const f=St(i==null?void 0:i.pageYOffset,c.scrollTop),p=St(i==null?void 0:i.pageXOffset,c.scrollLeft),w=St(c.clientTop,o.clientTop),x=St(c.clientLeft,o.clientLeft);return Wn(e).translate(p-x,f-w)},Wn=e=>{const n=e.dom,i=n.ownerDocument.body;return i===n?pe(i.offsetLeft,i.offsetTop):Vu(e)?Ee(n):pe(0,0)},Bn=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return pe(o,i)},pn=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},Ko=(e,n)=>{gi().browser.isSafari()&&xe(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Jr=e=>{const n=e===void 0?window:e;return gi().browser.isFirefox()?U.none():U.from(n.visualViewport)},Ba=(e,n,o,i)=>({x:e,y:n,width:o,height:i,right:e+o,bottom:n+i}),cu=e=>{const n=e===void 0?window:e,o=n.document,i=Bn(ye.fromDom(o));return Jr(n).fold(()=>{const c=n.document.documentElement,f=c.clientWidth,p=c.clientHeight;return Ba(i.left,i.top,f,p)},c=>Ba(Math.max(c.pageLeft,i.left),Math.max(c.pageTop,i.top),c.width,c.height))},Em=(e,n)=>hn(Kr(e),n),mb=(e,n)=>{let o=[];return $e(Kr(e),i=>{n(i)&&(o=o.concat([i])),o=o.concat(mb(i,n))}),o},Zi=(e,n)=>cb(n,e),hb=(e,n,o)=>Vs(e,n,o).isSome(),yx=(e,n)=>lu(e,n).isSome(),pb=(e,n)=>kf(e,n).isSome();class Pr{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,i,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let f=n[i];if(f)return f;for(let p=n.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(f=p[i],f)return f}}}findPreviousNode(n,o){if(n){const i=n.previousSibling;if(this.rootNode&&i===this.rootNode)return;if(i){if(!o){for(let f=i.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return i}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const Md="\uFEFF",Wr=" ",gb=e=>e===Md,qi=e=>e.replace(/\uFEFF/g,""),Y=/^[ \t\r\n]*$/,_=e=>Y.test(e),j=e=>{for(const n of e)if(!gb(n))return!1;return!0},me=e=>" \f	\v".indexOf(e)!==-1,Ye=e=>e===`
`||e==="\r",nt=(e,n)=>n<e.length&&n>=0?Ye(e[n]):!1,xt=(e,n=4,o=!0,i=!0)=>{const c=Es(" ",n),f=e.replace(/\t/g,c);return Gs(f,(w,x)=>me(x)||x===Wr?w.pcIsSpace||w.str===""&&o||w.str.length===f.length-1&&i||nt(f,w.str.length+1)?{pcIsSpace:!1,str:w.str+Wr}:{pcIsSpace:!0,str:w.str+" "}:{pcIsSpace:Ye(x),str:w.str+x},{pcIsSpace:!1,str:""}).str},Ft=e=>n=>!!n&&n.nodeType===e,an=e=>!!e&&!Object.getPrototypeOf(e),at=Ft(1),Tn=e=>at(e)&&bf(ye.fromDom(e)),An=e=>at(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Po=e=>{const n=e.toLowerCase();return o=>he(o)&&o.nodeName.toLowerCase()===n},Jn=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const i=o.nodeName.toLowerCase();return It(n,i)}return!1}},Oo=(e,n)=>{const o=n.toLowerCase().split(" ");return i=>{if(at(i)){const c=i.ownerDocument.defaultView;if(c)for(let f=0;f<o.length;f++){const p=c.getComputedStyle(i,null);if((p?p.getPropertyValue(e):null)===o[f])return!0}}return!1}},yo=e=>n=>at(n)&&n.hasAttribute(e),xo=e=>at(e)&&e.hasAttribute("data-mce-bogus"),Rs=e=>at(e)&&e.getAttribute("data-mce-bogus")==="all",hs=e=>at(e)&&e.tagName==="TABLE",Jo=e=>n=>!!(Tn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Yn=Jn(["textarea","input"]),ot=Ft(3),Co=Ft(4),Ts=Ft(7),_o=Ft(8),_s=Ft(9),Wo=Ft(11),ao=Po("br"),Xa=Po("img"),it=Jo("true"),lo=Jo("false"),$a=Jn(["td","th"]),Ro=Jn(["td","th","caption"]),fr=Jn(["video","audio","object","embed"]),uu=Po("li"),Pi=Po("details"),Gi=Po("summary"),bs={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Aa=(e,n,o)=>{const i=ye.fromDom(n),c=ye.fromDom(e),f=o.getWhitespaceElements();return hb(c,w=>wn(f,ho(w)),Ve(so,i))},br=e=>at(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),go=(e,n)=>at(e)&&wn(n.getNonEmptyElements(),e.nodeName),gl=yo("data-mce-bookmark"),Tm=e=>qa(ye.fromDom(e)).exists(n=>!_a(n)),Qr=(e,n,o)=>_(e.data)&&!Aa(e,n,o),$h=(e,n,o,i)=>ot(e)&&!Qr(e,n,o)&&(!i.includeZwsp||!j(e.data)),du=(e,n,o,i)=>xe(i.isContent)&&i.isContent(n)||go(n,e)||gl(n)||br(n)||$h(n,o,e,i)||lo(n)||it(n)&&Tm(n),fu=(e,n,o)=>{const i={...bs,...o};if(i.checkRootAsContent&&du(e,n,n,i))return!1;let c=n.firstChild,f=0;if(!c)return!0;const p=new Pr(c,n);do{if(i.skipBogus&&at(c)){const w=c.getAttribute("data-mce-bogus");if(w){c=p.next(w==="all");continue}}if(_o(c)){c=p.next(!0);continue}if(ao(c)){f++,c=p.next();continue}if(du(e,c,n,i))return!1;c=p.next()}while(c);return f<=1},Ds=(e,n,o)=>fu(e,n.dom,{checkRootAsContent:!0,...o}),dy=(e,n,o)=>du(e,n,n,{includeZwsp:bs.includeZwsp,...o}),Ie=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},vl=e=>{const n=Ie(U.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(U.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:w=>{o(),n.set(U.some(w))}}},vg=e=>{const n=Ie(U.none()),o=()=>n.get().each(w=>clearInterval(w));return{clear:()=>{o(),n.set(U.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:w=>{o(),n.set(U.some(setInterval(w,e)))}}},Xi=()=>{const e=vl(Oe);return{...e,on:o=>e.get().each(o)}},_c=e=>{const n=e.toLowerCase();return n==="svg"?"svg":n==="math"?"math":"html"},yr=e=>_c(e)!=="html",ks=e=>yr(e.nodeName),Fh=e=>_c(e.nodeName),Pd=["svg","math"],bg=()=>{const e=Xi(),n=()=>e.get().map(Fh).getOr("html");return{track:c=>(ks(c)?e.set(c):e.get().exists(f=>!f.contains(c))&&e.clear(),n()),current:n,reset:()=>{e.clear()}}},Hh="data-mce-block",bl=e=>hn(Lo(e),n=>!/[A-Z]/.test(n)),yg=e=>nn(bl(e),n=>{const o=CSS.escape(n);return`${o}:`+nn(Pd,i=>`not(${i} ${o})`).join(":")}).join(","),vb=(e,n)=>he(n.querySelector(e))?(n.setAttribute(Hh,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(Hh),!1),bb=(e,n)=>{const o=yg(e.getTransparentElements()),i=yg(e.getBlockElements());return hn(n.querySelectorAll(o),c=>vb(i,c))},fy=(e,n,o)=>{var i;const c=o?"lastChild":"firstChild";for(let f=n[c];f;f=f[c])if(fu(e,f,{checkRootAsContent:!0})){(i=f.parentNode)===null||i===void 0||i.removeChild(f);return}},wx=(e,n,o)=>{const i=document.createRange(),c=n.parentNode;if(c){i.setStartBefore(n),i.setEndBefore(o);const f=i.extractContents();fy(e,f,!0),i.setStartAfter(o),i.setEndAfter(n);const p=i.extractContents();fy(e,p,!1),fu(e,f,{checkRootAsContent:!0})||c.insertBefore(f,n),fu(e,o,{checkRootAsContent:!0})||c.insertBefore(o,n),fu(e,p,{checkRootAsContent:!0})||c.insertBefore(p,n),c.removeChild(n)}},Wu=(e,n,o)=>{const i=e.getBlockElements(),c=ye.fromDom(n),f=w=>ho(w)in i,p=w=>so(w,c);$e(Sm(o),w=>{Vs(w,f,p).each(x=>{const O=Em(w,$=>f($)&&!e.isValidChild(ho(x),ho($)));if(O.length>0){const $=qa(x);$e(O,H=>{Vs(H,f,p).each(Z=>{wx(e,Z.dom,H.dom)})}),$.each(H=>bb(e,H.dom))}})})},Pf=(e,n,o)=>{$e([...o,..._m(e,n)?[n]:[]],i=>$e(Zi(ye.fromDom(i),i.nodeName.toLowerCase()),c=>{Y$(e,c.dom)&&Tc(c)}))},Sx=(e,n)=>{const o=bb(e,n);Wu(e,n,o),Pf(e,n,o)},G$=(e,n)=>{if(wg(e,n)){const o=yg(e.getBlockElements());vb(o,n)}},X$=(e,n,o)=>{const i=f=>so(f,ye.fromDom(n)),c=Ul(ye.fromDom(o),i);Vn(c,c.length-2).filter(Ai).fold(()=>Sx(e,n),f=>Sx(e,f.dom))},my=e=>e.hasAttribute(Hh),hy=(e,n)=>wn(e.getTransparentElements(),n),wg=(e,n)=>at(n)&&hy(e,n.nodeName),_m=(e,n)=>wg(e,n)&&my(n),Y$=(e,n)=>wg(e,n)&&!my(n),km=(e,n)=>n.type===1&&hy(e,n.name)&&F(n.attr(Hh)),K$=gi().browser,nD=e=>oe(e,Ai),J$=e=>K$.isFirefox()&&ho(e)==="table"?nD(Kr(e)).filter(n=>ho(n)==="caption").bind(n=>nD(Td(n)).map(o=>{const i=o.dom.offsetTop,c=n.dom.offsetTop,f=n.dom.offsetHeight;return i<=c?-f:0})).getOr(0):0,oD=(e,n)=>e.children&&It(e.children,n),Yi=(e,n,o)=>{let i=0,c=0;const f=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&dr(ye.fromDom(e),"position")==="static"){const w=n.getBoundingClientRect();return i=w.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,c=w.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:i,y:c}}let p=n;for(;p&&p!==o&&p.nodeType&&!oD(p,o);){const w=p;i+=w.offsetLeft||0,c+=w.offsetTop||0,p=w.offsetParent}for(p=n.parentNode;p&&p!==o&&p.nodeType&&!oD(p,o);)i-=p.scrollLeft||0,c-=p.scrollTop||0,p=p.parentNode;c+=J$(ye.fromDom(n))}return{x:i,y:c}},Nd=(e,n={})=>{let o=0;const i={},c=ye.fromDom(e),f=Vl(c),p=Se=>{n.referrerPolicy=Se},w=Se=>{n.contentCssCors=Se},x=Se=>{Mr(Tf(c),Se)},O=Se=>{const Pe=Tf(c);un(Pe,"#"+Se).each(ms)},$=Se=>Fo(i,Se).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),H=Se=>new Promise((Pe,De)=>{let je;const yt=Tt._addCacheSuffix(Se),Nt=$(yt);i[yt]=Nt,Nt.count++;const Zt=(Jt,fn)=>{$e(Jt,rn),Nt.status=fn,Nt.passed=[],Nt.failed=[],je&&(je.onload=null,je.onerror=null,je=null)},ct=()=>Zt(Nt.passed,2),Ke=()=>Zt(Nt.failed,3);if(Pe&&Nt.passed.push(Pe),De&&Nt.failed.push(De),Nt.status===1)return;if(Nt.status===2){ct();return}if(Nt.status===3){Ke();return}Nt.status=1;const vt=ye.fromTag("link",f.dom);Sc(vt,{rel:"stylesheet",type:"text/css",id:Nt.id}),n.contentCssCors&&zr(vt,"crossOrigin","anonymous"),n.referrerPolicy&&zr(vt,"referrerpolicy",n.referrerPolicy),je=vt.dom,je.onload=ct,je.onerror=Ke,x(vt),zr(vt,"href",yt)}),Z=(Se,Pe)=>{const De=$(Se);i[Se]=De,De.count++;const je=ye.fromTag("style",f.dom);Sc(je,{rel:"stylesheet",type:"text/css",id:De.id}),je.dom.innerHTML=Pe,x(je)},ne=Se=>Promise.allSettled(nn(Se,De=>H(De).then(_e(De)))).then(De=>{const je=ar(De,yt=>yt.status==="fulfilled");return je.fail.length>0?Promise.reject(nn(je.fail,yt=>yt.reason)):nn(je.pass,yt=>yt.value)}),ue=Se=>{const Pe=Tt._addCacheSuffix(Se);Fo(i,Pe).each(De=>{--De.count===0&&(delete i[Pe],O(De.id))})};return{load:H,loadRawCss:Z,loadAll:ne,unload:ue,unloadRawCss:Se=>{Fo(i,Se).each(Pe=>{--Pe.count===0&&(delete i[Se],O(Pe.id))})},unloadAll:Se=>{$e(Se,Pe=>{ue(Pe)})},_setReferrerPolicy:p,_setContentCssCors:w}},Am=(()=>{const e=new WeakMap;return{forElement:(o,i)=>{const f=Wl(o).dom;return U.from(e.get(f)).getOrThunk(()=>{const p=Nd(f,i);return e.set(f,p),p})}}})(),sD=e=>e.nodeName.toLowerCase()==="span",yl=(e,n)=>he(e)&&(dy(n,e)||n.isInline(e.nodeName.toLowerCase())),gy=(e,n,o)=>{const i=new Pr(e,n).prev(!1),c=new Pr(e,n).next(!1),f=Ze(i)||yl(i,o),p=Ze(c)||yl(c,o);return f&&p},yb=e=>sD(e)&&e.getAttribute("data-mce-type")==="bookmark",xx=(e,n,o)=>ot(e)&&e.data.length>0&&gy(e,n,o),Ld=e=>at(e)?e.childNodes.length>0:!1,ju=e=>Wo(e)||_s(e),vy=(e,n,o,i)=>{var c;const f=i||n;if(at(n)&&yb(n))return n;const p=n.childNodes;for(let w=p.length-1;w>=0;w--)vy(e,p[w],o,f);if(at(n)){const w=n.childNodes;w.length===1&&yb(w[0])&&((c=n.parentNode)===null||c===void 0||c.insertBefore(w[0],n))}return!ju(n)&&!dy(o,n)&&!Ld(n)&&!xx(n,f,o)&&e.remove(n),n},Zu=Tt.makeMap,by=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Id=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sg=/[<>&\"\']/g,zh=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Q$={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},qu={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},eF={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},tF=e=>{const n=ye.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},wr=(e,n)=>{const o={};if(e){const i=e.split(",");n=n||10;for(let c=0;c<i.length;c+=2){const f=String.fromCharCode(parseInt(i[c],n));if(!qu[f]){const p="&"+i[c+1]+";";o[f]=p,o[p]=f}}return o}else return},Cx=wr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Nf=(e,n)=>e.replace(n?by:Id,o=>qu[o]||o),wb=e=>(""+e).replace(Sg,n=>qu[n]||n),yy=(e,n)=>e.replace(n?by:Id,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":qu[o]||"&#"+o.charCodeAt(0)+";"),Lf=(e,n,o)=>{const i=o||Cx;return e.replace(n?by:Id,c=>qu[c]||i[c]||c)},Gu={encodeRaw:Nf,encodeAllRaw:wb,encodeNumeric:yy,encodeNamed:Lf,getEncodeFunc:(e,n)=>{const o=wr(n)||Cx,i=(p,w)=>p.replace(w?by:Id,x=>qu[x]!==void 0?qu[x]:o[x]!==void 0?o[x]:x.length>1?"&#"+((x.charCodeAt(0)-55296)*1024+(x.charCodeAt(1)-56320)+65536)+";":"&#"+x.charCodeAt(0)+";"),c=(p,w)=>Lf(p,w,o),f=Zu(e.replace(/\+/g,","));return f.named&&f.numeric?i:f.named?n?c:Lf:f.numeric?yy:Nf},decode:e=>e.replace(zh,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Q$[o]||String.fromCharCode(o)):eF[n]||Cx[n]||tF(n))},aa=(e,n)=>(e=Tt.trim(e),e?e.split(n||" "):[]),Sb=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Ex=e=>ce(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Sy=e=>{const n=o=>ze(o)?nn(o,n):Ex(o)?new RegExp(o.source,o.flags):ce(o)?Gn(o,n):o;return n(e)},nF=e=>{const n=/^(~)?(.+)$/;return qe(aa(e,","),o=>{const i=n.exec(o);if(i){const f=i[1]==="~"?"span":"div",p=i[2];return[{cloneName:f,name:p}]}else return[]})},rD=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),xy=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const i=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:i}},xg=e=>{const{blockContent:n,phrasingContent:o,flowContent:i}=xy(e),c=f=>Object.freeze(f.split(" "));return Object.freeze({blockContent:c(n),phrasingContent:c(o),flowContent:c(i)})},Xu={html4:Qe(()=>xg("html4")),html5:Qe(()=>xg("html5")),"html5-strict":Qe(()=>xg("html5-strict"))},Rd=(e,n)=>{const{blockContent:o,phrasingContent:i,flowContent:c}=Xu[e]();return n==="blocks"?U.some(o):n==="phrasing"?U.some(i):n==="flow"?U.some(c):U.none()},Vh=e=>{const n=rD(e),{phrasingContent:o,flowContent:i}=xy(e),c={},f=(x,O,$)=>{c[x]={attributes:tn(O,_e({})),attributesOrder:O,children:tn($,_e({}))}},p=(x,O="",$="")=>{const H=aa($),Z=aa(x);let ne=Z.length;const ue=[...n,...aa(O)];for(;ne--;)f(Z[ne],ue.slice(),H)},w=(x,O)=>{const $=aa(x),H=aa(O);let Z=$.length;for(;Z--;){const ne=c[$[Z]];for(let ue=0,se=H.length;ue<se;ue++)ne.attributes[H[ue]]={},ne.attributesOrder.push(H[ue])}};return e!=="html5-strict"&&($e(aa("acronym applet basefont big font strike tt"),$=>{p($,"",o)}),$e(aa("center dir isindex noframes"),$=>{p($,"",i)})),p("html","manifest","head body"),p("head","","base command link meta noscript script style title"),p("title hr noscript br"),p("base","href target"),p("link","href rel media hreflang type sizes hreflang"),p("meta","name http-equiv content charset"),p("style","media type scoped"),p("script","src async defer type charset"),p("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),p("dd div","",i),p("address dt caption","",e==="html4"?o:i),p("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),p("blockquote","cite",i),p("ol","reversed start type","li"),p("ul","","li"),p("li","value",i),p("dl","","dt dd"),p("a","href target rel media hreflang type",e==="html4"?o:i),p("q","cite",o),p("ins del","cite datetime",i),p("img","src sizes srcset alt usemap ismap width height"),p("iframe","src name width height",i),p("embed","src type width height"),p("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),p("param","name value"),p("map","name",[i,"area"].join(" ")),p("area","alt coords shape href target rel media hreflang type"),p("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),p("colgroup","span","col"),p("col","span"),p("tbody thead tfoot","","tr"),p("tr","","td th"),p("td","colspan rowspan headers",i),p("th","colspan rowspan headers scope abbr",i),p("form","accept-charset action autocomplete enctype method name novalidate target",i),p("fieldset","disabled form name",[i,"legend"].join(" ")),p("label","form for",o),p("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),p("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:o),p("select","disabled form multiple name required size","option optgroup"),p("optgroup","disabled label","option"),p("option","disabled label selected value"),p("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),p("menu","type label",[i,"li"].join(" ")),p("noscript","",i),e!=="html4"&&(p("wbr"),p("ruby","",[o,"rt rp"].join(" ")),p("figcaption","",i),p("mark rt rp bdi","",o),p("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),p("canvas","width height",i),p("data","value",o),p("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),p("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),p("picture","","img source"),p("source","src srcset type media sizes"),p("track","kind src srclang label default"),p("datalist","",[o,"option"].join(" ")),p("article section nav aside main header footer","",i),p("hgroup","","h1 h2 h3 h4 h5 h6"),p("figure","",[i,"figcaption"].join(" ")),p("time","datetime",o),p("dialog","open",i),p("command","type label icon disabled checked radiogroup command"),p("output","for form name",o),p("progress","value max",o),p("meter","value min max low high optimum",o),p("details","open",[i,"summary"].join(" ")),p("keygen","autofocus challenge disabled form keytype name"),f("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(w("script","language xml:space"),w("style","xml:space"),w("object","declare classid code codebase codetype archive standby align border hspace vspace"),w("embed","align name hspace vspace"),w("param","valuetype type"),w("a","charset name rev shape coords"),w("br","clear"),w("applet","codebase archive code object alt name width height align hspace vspace"),w("img","name longdesc align border hspace vspace"),w("iframe","longdesc frameborder marginwidth marginheight scrolling align"),w("font basefont","size color face"),w("input","usemap align"),w("select"),w("textarea"),w("h1 h2 h3 h4 h5 h6 div p legend caption","align"),w("ul","type compact"),w("li","type"),w("ol dl menu dir","compact"),w("pre","width xml:space"),w("hr","align noshade size width"),w("isindex","prompt"),w("table","summary width frame rules cellspacing cellpadding align bgcolor"),w("col","width align char charoff valign"),w("colgroup","width align char charoff valign"),w("thead","align char charoff valign"),w("tr","align char charoff valign bgcolor"),w("th","axis align char charoff valign nowrap bgcolor width height"),w("form","accept"),w("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),w("tfoot","align char charoff valign"),w("tbody","align char charoff valign"),w("area","nohref"),w("body","background bgcolor text link vlink alink")),e!=="html4"&&(w("input button select textarea","autofocus"),w("input textarea","placeholder"),w("a","download"),w("link script img","crossorigin"),w("img","loading"),w("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&$e([c.video,c.audio],x=>{delete x.children.audio,delete x.children.video}),$e(aa("a form meter progress dfn"),x=>{c[x]&&delete c[x].children[x]}),delete c.caption.children.table,delete c.script,c},iD=e=>e==="-"?"remove":"add",Cg=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return U.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},Tx=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return qe(aa(e,","),o=>{const i=n.exec(o);if(i){const c=i[1],f=c?iD(c):"replace",p=i[2],w=qe(aa(i[3],"|"),x=>Cg(x).toArray());return[{operation:f,name:p,validChildren:w}]}else return[]})},aD=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/,{attributes:c,attributesOrder:f}=n;return $e(aa(e,"|"),p=>{const w=o.exec(p);if(w){const x={},O=w[1],$=w[2].replace(/[\\:]:/g,":"),H=w[3],Z=w[4];if(O==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push($),x.required=!0),O==="-"){delete c[$],f.splice(Tt.inArray(f,$),1);return}if(H&&(H==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:$,value:Z}),x.defaultValue=Z):H==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:$,value:Z}),x.forcedValue=Z):H==="<"&&(x.validValues=Tt.makeMap(Z,"?"))),i.test($)){const ne=x;n.attributePatterns=n.attributePatterns||[],ne.pattern=Sb($),n.attributePatterns.push(ne)}else c[$]||f.push($),c[$]=x}})},lD=(e,n)=>{_t(e.attributes,(o,i)=>{n.attributes[i]=o}),n.attributesOrder.push(...e.attributesOrder)},cD=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return qe(aa(n,","),i=>{const c=o.exec(i);if(c){const f=c[1],p=c[2],w=c[3],x=c[4],O=c[5],$={attributes:{},attributesOrder:[]};if(e.each(H=>lD(H,$)),f==="#"?$.paddEmpty=!0:f==="-"&&($.removeEmpty=!0),x==="!"&&($.removeEmptyAttrs=!0),O&&aD(O,$),w&&($.outputName=p),p==="@")if(e.isNone())e=U.some($);else return[];return[w?{name:p,element:$,aliasName:w}:{name:p,element:$}]}else return[]})},Eg={},Uh=Tt.makeMap,Qn=Tt.each,Sn=Tt.extend,Om=Tt.explode,Cy=(e,n={})=>{const o=Uh(e," ",Uh(e.toUpperCase()," "));return Sn(o,n)},Ey=e=>Cy("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),_x=(e,n)=>{if(e){const o={};return F(e)&&(e={"*":e}),Qn(e,(i,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?Uh(i,/[, ]/):Om(i,/[, ]/)}),o}else return},If=(e={})=>{var n;const o={},i={};let c=[];const f={},p={},w=(mn,wo,Hs)=>{const sr=e[mn];if(sr)return Uh(sr,/[, ]/,Uh(sr.toUpperCase(),/[, ]/));{let Sr=Eg[mn];return Sr||(Sr=Cy(wo,Hs),Eg[mn]=Sr),Sr}},x=(n=e.schema)!==null&&n!==void 0?n:"html5",O=Vh(x);e.verify_html===!1&&(e.valid_elements="*[*]");const $=_x(e.valid_styles),H=_x(e.invalid_styles,"map"),Z=_x(e.valid_classes,"map"),ne=w("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ue=w("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),se=w("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),fe=w("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Se="td th iframe video audio object script code",Pe=w("non_empty_elements",Se+" pre svg textarea summary",se),De=w("move_caret_before_on_enter_elements",Se+" table",se),je="h1 h2 h3 h4 h5 h6",yt=w("text_block_elements",je+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Nt=w("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",yt),Zt=w("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),ct=w("transparent_elements","a ins del canvas map"),Ke=w("wrap_block_elements","pre "+je);Qn("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),mn=>{p[mn]=new RegExp("</"+mn+"[^>]*>","gi")});const vt=mn=>{const wo=U.from(o["@"]),Hs=/[*?+]/;$e(cD(wo,mn??""),({name:sr,element:Sr,aliasName:mi})=>{if(mi&&(o[mi]=Sr),Hs.test(sr)){const xr=Sr;xr.pattern=Sb(sr),c.push(xr)}else o[sr]=Sr})},Jt=mn=>{c=[],$e(Lo(o),wo=>{delete o[wo]}),vt(mn)},fn=(mn,wo)=>{var Hs,sr;delete Eg.text_block_elements,delete Eg.block_elements;const Sr=wo.extends?!nl(wo.extends):!1,mi=wo.extends;if(i[mn]=mi?i[mi]:{},f[mn]=mi??mn,Pe[mn.toUpperCase()]={},Pe[mn]={},Sr||(Nt[mn.toUpperCase()]={},Nt[mn]={}),mi&&!o[mn]&&o[mi]){const xr=Sy(o[mi]);delete xr.removeEmptyAttrs,delete xr.removeEmpty,o[mn]=xr}else o[mn]={attributesOrder:[],attributes:{}};if(ze(wo.attributes)){const xr=pa=>{Cr.attributesOrder.push(pa),Cr.attributes[pa]={}},Cr=(Hs=o[mn])!==null&&Hs!==void 0?Hs:{};delete Cr.attributesDefault,delete Cr.attributesForced,delete Cr.attributePatterns,delete Cr.attributesRequired,Cr.attributesOrder=[],Cr.attributes={},$e(wo.attributes,pa=>{const Zc=rD(x);Cg(pa).each(({preset:qc,name:Gc})=>{qc?Gc==="global"&&$e(Zc,xr):xr(Gc)})}),o[mn]=Cr}if(He(wo.padEmpty)){const xr=(sr=o[mn])!==null&&sr!==void 0?sr:{};xr.paddEmpty=wo.padEmpty,o[mn]=xr}if(ze(wo.children)){const xr={},Cr=Zc=>{xr[Zc]={}},pa=Zc=>{Rd(x,Zc).each(qc=>{$e(qc,Cr)})};$e(wo.children,Zc=>{Cg(Zc).each(({preset:qc,name:Gc})=>{qc?pa(Gc):Cr(Gc)})}),i[mn]=xr}mi&&_t(i,(xr,Cr)=>{xr[mi]&&(i[Cr]=xr=Sn({},i[Cr]),xr[mn]=xr[mi])})},ro=mn=>{$e(nF(mn??""),({name:wo,cloneName:Hs})=>{fn(wo,{extends:Hs})})},uo=mn=>{ce(mn)?_t(mn,(wo,Hs)=>fn(Hs,wo)):F(mn)&&ro(mn)},zo=mn=>{$e(Tx(mn??""),({operation:wo,name:Hs,validChildren:sr})=>{const Sr=wo==="replace"?{"#comment":{}}:i[Hs],mi=Cr=>{wo==="remove"?delete Sr[Cr]:Sr[Cr]={}},xr=Cr=>{Rd(x,Cr).each(pa=>{$e(pa,mi)})};$e(sr,({preset:Cr,name:pa})=>{Cr?xr(pa):mi(pa)}),i[Hs]=Sr})},Yo=mn=>{const wo=o[mn];if(wo)return wo;let Hs=c.length;for(;Hs--;){const sr=c[Hs];if(sr.pattern.test(mn))return sr}},or=()=>{e.valid_elements?(Jt(e.valid_elements),Qn(O,(mn,wo)=>{i[wo]=mn.children})):(Qn(O,(mn,wo)=>{o[wo]={attributes:mn.attributes,attributesOrder:mn.attributesOrder},i[wo]=mn.children}),Qn(aa("strong/b em/i"),mn=>{const wo=aa(mn,"/");o[wo[1]].outputName=wo[0]}),Qn(Zt,(mn,wo)=>{o[wo]&&(e.padd_empty_block_inline_children&&(o[wo].paddInEmptyBlock=!0),o[wo].removeEmpty=!0)}),Qn(aa("ol ul blockquote a table tbody"),mn=>{o[mn]&&(o[mn].removeEmpty=!0)}),Qn(aa("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),mn=>{o[mn]&&(o[mn].paddEmpty=!0)}),Qn(aa("span"),mn=>{o[mn].removeEmptyAttrs=!0})),delete o.svg,uo(e.custom_elements),zo(e.valid_children),vt(e.extended_valid_elements),zo("+ol[ul|ol],+ul[ul|ol]"),Qn({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(mn,wo)=>{o[wo]&&(o[wo].parentsRequired=aa(mn))}),e.invalid_elements&&Qn(Om(e.invalid_elements),mn=>{o[mn]&&delete o[mn]}),Yo("span")||vt("span[!data-mce-type|*]")},Ir=_e($),ss=_e(H),Rt=_e(Z),ln=_e(fe),Mo=_e(Nt),Vt=_e(yt),yn=_e(Zt),to=_e(Object.seal(se)),Ut=_e(ue),no=_e(Pe),fo=_e(De),si=_e(ne),jo=_e(ct),qr=_e(Ke),jc=_e(Object.seal(p)),ud=(mn,wo)=>{const Hs=i[mn.toLowerCase()];return!!(Hs&&Hs[wo.toLowerCase()])},Na=(mn,wo)=>{const Hs=Yo(mn);if(Hs)if(wo){if(Hs.attributes[wo])return!0;const sr=Hs.attributePatterns;if(sr){let Sr=sr.length;for(;Sr--;)if(sr[Sr].pattern.test(wo))return!0}}else return!0;return!1},nl=mn=>wn(Mo(),mn),mc=mn=>!es(mn,"#")&&Na(mn)&&!nl(mn),ol=mn=>wn(qr(),mn)||mc(mn),hc=_e(f);return or(),{type:x,children:i,elements:o,getValidStyles:Ir,getValidClasses:Rt,getBlockElements:Mo,getInvalidStyles:ss,getVoidElements:to,getTextBlockElements:Vt,getTextInlineElements:yn,getBoolAttrs:ln,getElementRule:Yo,getSelfClosingElements:Ut,getNonEmptyElements:no,getMoveCaretBeforeOnEnterElements:fo,getWhitespaceElements:si,getTransparentElements:jo,getSpecialElements:jc,isValidChild:ud,isValid:Na,isBlock:nl,isInline:mc,isWrapper:ol,getCustomElements:hc,addValidElements:vt,setValidElements:Jt,addCustomElements:uo,addValidChildren:zo}},Bs=e=>({value:uD(e)}),uD=e=>kr(e,"#").toUpperCase(),kx=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},oF=e=>{const n=kx(e.red)+kx(e.green)+kx(e.blue);return Bs(n)},mt=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Ty=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,sF=(e,n,o,i)=>({red:e,green:n,blue:o,alpha:i}),xb=(e,n,o,i)=>{const c=parseInt(e,10),f=parseInt(n,10),p=parseInt(o,10),w=parseFloat(i);return sF(c,f,p,w)},rF=e=>mt.test(e)?"rgb":Ty.test(e)?"rgba":"other",Wh=e=>{const n=mt.exec(e);if(n!==null)return U.some(xb(n[1],n[2],n[3],"1"));const o=Ty.exec(e);return o!==null?U.some(xb(o[1],o[2],o[3],o[4])):U.none()},Ax=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Yu=e=>Wh(e).map(oF).map(n=>"#"+n.value).getOr(e),Ox=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,f={};let p,w;const x=Md;n&&(p=n.getValidStyles(),w=n.getInvalidStyles());const O=(`\\" \\' \\; \\: ; : `+x).split(" ");for(let H=0;H<O.length;H++)f[O[H]]=x+H,f[x+H]=O[H];const $={parse:H=>{const Z={};let ne=!1;const ue=e.url_converter,se=e.url_converter_scope||$,fe=(ct,Ke,vt)=>{const Jt=Z[ct+"-top"+Ke];if(!Jt)return;const fn=Z[ct+"-right"+Ke];if(!fn)return;const ro=Z[ct+"-bottom"+Ke];if(!ro)return;const uo=Z[ct+"-left"+Ke];if(!uo)return;const zo=[Jt,fn,ro,uo];let Yo=zo.length-1;for(;Yo--&&zo[Yo]===zo[Yo+1];);Yo>-1&&vt||(Z[ct+Ke]=Yo===-1?zo[0]:zo.join(" "),delete Z[ct+"-top"+Ke],delete Z[ct+"-right"+Ke],delete Z[ct+"-bottom"+Ke],delete Z[ct+"-left"+Ke])},Se=ct=>{const Ke=Z[ct];if(!Ke)return;const vt=Ke.indexOf(",")>-1?[Ke]:Ke.split(" ");let Jt=vt.length;for(;Jt--;)if(vt[Jt]!==vt[0])return!1;return Z[ct]=vt[0],!0},Pe=(ct,Ke,vt,Jt)=>{Se(Ke)&&Se(vt)&&Se(Jt)&&(Z[ct]=Z[Ke]+" "+Z[vt]+" "+Z[Jt],delete Z[Ke],delete Z[vt],delete Z[Jt])},De=ct=>(ne=!0,f[ct]),je=(ct,Ke)=>(ne&&(ct=ct.replace(/\uFEFF[0-9]/g,vt=>f[vt])),Ke||(ct=ct.replace(/\\([\'\";:])/g,"$1")),ct),yt=ct=>String.fromCharCode(parseInt(ct.slice(1),16)),Nt=ct=>ct.replace(/\\[0-9a-f]+/gi,yt),Zt=(ct,Ke,vt,Jt,fn,ro)=>{if(fn=fn||ro,fn)return fn=je(fn),"'"+fn.replace(/\'/g,"\\'")+"'";if(Ke=je(Ke||vt||Jt||""),!e.allow_script_urls){const uo=Ke.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(uo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(uo))return""}return ue&&(Ke=ue.call(se,Ke,"style")),"url('"+Ke.replace(/\'/g,"\\'")+"')"};if(H){H=H.replace(/[\u0000-\u001F]/g,""),H=H.replace(/\\[\"\';:\uFEFF]/g,De).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ke=>Ke.replace(/[;:]/g,De));let ct;for(;ct=i.exec(H);){i.lastIndex=ct.index+ct[0].length;let Ke=ct[1].replace(c,"").toLowerCase(),vt=ct[2].replace(c,"");if(Ke&&vt){if(Ke=Nt(Ke),vt=Nt(vt),Ke.indexOf(x)!==-1||Ke.indexOf('"')!==-1||!e.allow_script_urls&&(Ke==="behavior"||/expression\s*\(|\/\*|\*\//.test(vt)))continue;Ke==="font-weight"&&vt==="700"?vt="bold":(Ke==="color"||Ke==="background-color")&&(vt=vt.toLowerCase()),rF(vt)==="rgb"&&Wh(vt).each(Jt=>{vt=Yu(Ax(Jt)).toLowerCase()}),vt=vt.replace(o,Zt),Z[Ke]=ne?je(vt,!0):vt}}fe("border","",!0),fe("border","-width"),fe("border","-color"),fe("border","-style"),fe("padding",""),fe("margin",""),Pe("border","border-width","border-style","border-color"),Z.border==="medium none"&&delete Z.border,Z["border-image"]==="none"&&delete Z["border-image"]}return Z},serialize:(H,Z)=>{let ne="";const ue=(fe,Se)=>{const Pe=Se[fe];if(Pe)for(let De=0,je=Pe.length;De<je;De++){const yt=Pe[De],Nt=H[yt];Nt&&(ne+=(ne.length>0?" ":"")+yt+": "+Nt+";")}},se=(fe,Se)=>{if(!w||!Se)return!0;let Pe=w["*"];return Pe&&Pe[fe]?!1:(Pe=w[Se],!(Pe&&Pe[fe]))};return Z&&p?(ue("*",p),ue(Z,p)):_t(H,(fe,Se)=>{fe&&se(Se,Z)&&(ne+=(ne.length>0?" ":"")+Se+": "+fe+";")}),ne}};return $},Tg={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},$s=e=>e instanceof Event||xe(e.initEvent),Bd=e=>e.isDefaultPrevented===wt||e.isDefaultPrevented===Ue,dD=e=>Fe(e.preventDefault)||$s(e),$d=(e,n)=>{const o=n??{};for(const i in e)wn(Tg,i)||(o[i]=e[i]);return he(e.composedPath)&&(o.composedPath=()=>e.composedPath()),he(e.getModifierState)&&(o.getModifierState=i=>e.getModifierState(i)),he(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},Dx=(e,n,o,i)=>{var c;const f=$d(n,i);return f.type=e,Fe(f.target)&&(f.target=(c=f.srcElement)!==null&&c!==void 0?c:o),dD(n)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=wt,xe(n.preventDefault)&&n.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=wt,xe(n.stopPropagation)&&n.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=wt,f.stopPropagation()},Bd(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?wt:Ue,f.isPropagationStopped=f.cancelBubble===!0?wt:Ue,f.isImmediatePropagationStopped=Ue)),f},Mx="mce-data-",Px=/^(?:mouse|contextmenu)|click/,Nx=(e,n,o,i)=>{e.addEventListener(n,o,i||!1)},wl=(e,n,o,i)=>{e.removeEventListener(n,o,i||!1)},iF=e=>he(e)&&Px.test(e.type),Cb=(e,n)=>{const o=Dx(e.type,e,document,n);if(iF(e)&&Ze(e.pageX)&&!Ze(e.clientX)){const i=o.target.ownerDocument||document,c=i.documentElement,f=i.body,p=o;p.pageX=e.clientX+(c&&c.scrollLeft||f&&f.scrollLeft||0)-(c&&c.clientLeft||f&&f.clientLeft||0),p.pageY=e.clientY+(c&&c.scrollTop||f&&f.scrollTop||0)-(c&&c.clientTop||f&&f.clientTop||0)}return o},Lx=(e,n,o)=>{const i=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const f=()=>i.readyState==="complete"||i.readyState==="interactive"&&i.body,p=()=>{wl(e,"DOMContentLoaded",p),wl(e,"load",p),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};f()?p():Nx(e,"DOMContentLoaded",p),o.domLoaded||Nx(e,"load",p)};class jh{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Mx+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,i,c){const f=this;let p;const w=window,x=Z=>{f.executeHandlers(Cb(Z||w.event),O)};if(!n||ot(n)||_o(n))return i;let O;n[f.expando]?O=n[f.expando]:(O=f.count++,n[f.expando]=O,f.events[O]={}),c=c||n;const $=o.split(" ");let H=$.length;for(;H--;){let Z=$[H],ne=x,ue=!1,se=!1;if(Z==="DOMContentLoaded"&&(Z="ready"),f.domLoaded&&Z==="ready"&&n.readyState==="complete"){i.call(c,Cb({type:Z}));continue}!f.hasFocusIn&&(Z==="focusin"||Z==="focusout")&&(ue=!0,se=Z==="focusin"?"focus":"blur",ne=fe=>{const Se=Cb(fe||w.event);Se.type=Se.type==="focus"?"focusin":"focusout",f.executeHandlers(Se,O)}),p=f.events[O][Z],p?Z==="ready"&&f.domLoaded?i(Cb({type:Z})):p.push({func:i,scope:c}):(f.events[O][Z]=p=[{func:i,scope:c}],p.fakeName=se,p.capture=ue,p.nativeHandler=ne,Z==="ready"?Lx(n,ne,f):Nx(n,se||Z,ne,ue))}return n=p=null,i}unbind(n,o,i){if(!n||ot(n)||_o(n))return this;const c=n[this.expando];if(c){let f=this.events[c];if(o){const p=o.split(" ");let w=p.length;for(;w--;){const x=p[w],O=f[x];if(O){if(i){let $=O.length;for(;$--;)if(O[$].func===i){const H=O.nativeHandler,Z=O.fakeName,ne=O.capture,ue=O.slice(0,$).concat(O.slice($+1));ue.nativeHandler=H,ue.fakeName=Z,ue.capture=ne,f[x]=ue}}(!i||O.length===0)&&(delete f[x],wl(n,O.fakeName||x,O.nativeHandler,O.capture))}}}else _t(f,(p,w)=>{wl(n,p.fakeName||w,p.nativeHandler,p.capture)}),f={};for(const p in f)if(wn(f,p))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,i){return this.dispatch(n,o,i)}dispatch(n,o,i){if(!n||ot(n)||_o(n))return this;const c=Cb({type:o,target:n},i);do{const f=n[this.expando];f&&this.executeHandlers(c,f),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||ot(n)||_o(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let i=o.length;for(;i--;)n=o[i],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const i=this.events[o],c=i&&i[n.type];if(c)for(let f=0,p=c.length;f<p;f++){const w=c[f];if(w&&w.func.call(w.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}jh.Event=new jh;const Ix=Tt.each,aF=Tt.grep,Rx="data-mce-style",fD=Tt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Sl=(e,n,o)=>{Fe(o)||o===""?Ur(e,n):zr(e,n,o)},xl=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),At=(e,n)=>{let o=0;if(e)for(let i=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const f=c.nodeType;n&&ot(c)&&(f===i||!c.data.length)||(o++,i=f)}return o},mD=(e,n)=>{const o=ra(n,"style"),i=e.serialize(e.parse(o),ho(n));Sl(n,Rx,i)},Ni=(e,n)=>Be(e)?wn(fD,n)?e+"":e+"px":e,hD=(e,n,o)=>{const i=xl(n);Fe(o)||o===""?gg(e,i):db(e,i,Ni(o,i))},pD=(e,n,o)=>{const i=n.keep_values,c={set:(p,w,x)=>{const O=ye.fromDom(p);xe(n.url_converter)&&he(w)&&(w=n.url_converter.call(n.url_converter_scope||o(),String(w),x,p));const $="data-mce-"+x;Sl(O,$,w),Sl(O,x,w)},get:(p,w)=>{const x=ye.fromDom(p);return ra(x,"data-mce-"+w)||ra(x,w)}},f={style:{set:(p,w)=>{const x=ye.fromDom(p);i&&Sl(x,Rx,w),Ur(x,"style"),F(w)&&Xn(x,e.parse(w))},get:p=>{const w=ye.fromDom(p),x=ra(w,Rx)||ra(w,"style");return e.serialize(e.parse(x),ho(w))}}};return i&&(f.href=f.src=c),f},Fs=(e,n={})=>{const o={},i=window,c={};let f=0;const p=!0,w=!0,x=Am.forElement(ye.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),O=[],$=n.schema?n.schema:If({}),H=Ox({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),Z=n.ownEvents?new jh:jh.Event,ne=$.getBlockElements(),ue=Xe=>F(Xe)?wn(ne,Xe):at(Xe)&&(wn(ne,Xe.nodeName)||_m($,Xe)),se=Xe=>Xe&&e&&F(Xe)?e.getElementById(Xe):Xe,fe=Xe=>{const Je=se(Xe);return he(Je)?ye.fromDom(Je):null},Se=(Xe,Je,Lt="")=>{let Dt;const _n=fe(Xe);if(he(_n)&&Ai(_n)){const vo=j0[Je];vo&&vo.get?Dt=vo.get(_n.dom,Je):Dt=ra(_n,Je)}return he(Dt)?Dt:Lt},Pe=Xe=>{const Je=se(Xe);return Fe(Je)?[]:Je.attributes},De=(Xe,Je,Lt)=>{ln(Xe,Dt=>{if(at(Dt)){const _n=ye.fromDom(Dt),vo=Lt===""?null:Lt,qs=ra(_n,Je),Xc=j0[Je];Xc&&Xc.set?Xc.set(_n.dom,vo,Je):Sl(_n,Je,vo),qs!==vo&&n.onSetAttrib&&n.onSetAttrib({attrElm:_n.dom,attrName:Je,attrValue:vo})}})},je=(Xe,Je)=>Xe.cloneNode(Je),yt=()=>n.root_element||e.body,Nt=Xe=>{const Je=cu(Xe);return{x:Je.x,y:Je.y,w:Je.width,h:Je.height}},Zt=(Xe,Je)=>Yi(e.body,se(Xe),Je),ct=(Xe,Je,Lt)=>{ln(Xe,Dt=>{const _n=ye.fromDom(Dt);hD(_n,Je,Lt),n.update_styles&&mD(H,_n)})},Ke=(Xe,Je)=>{ln(Xe,Lt=>{const Dt=ye.fromDom(Lt);_t(Je,(_n,vo)=>{hD(Dt,vo,_n)}),n.update_styles&&mD(H,Dt)})},vt=(Xe,Je,Lt)=>{const Dt=se(Xe);if(!(Fe(Dt)||!Tn(Dt)&&!An(Dt)))return Lt?dr(ye.fromDom(Dt),xl(Je)):(Je=Je.replace(/-(\D)/g,(_n,vo)=>vo.toUpperCase()),Je==="float"&&(Je="cssFloat"),Dt.style?Dt.style[Je]:void 0)},Jt=Xe=>{const Je=se(Xe);if(!Je)return{w:0,h:0};let Lt=vt(Je,"width"),Dt=vt(Je,"height");return(!Lt||Lt.indexOf("px")===-1)&&(Lt="0"),(!Dt||Dt.indexOf("px")===-1)&&(Dt="0"),{w:parseInt(Lt,10)||Je.offsetWidth||Je.clientWidth,h:parseInt(Dt,10)||Je.offsetHeight||Je.clientHeight}},fn=Xe=>{const Je=se(Xe),Lt=Zt(Je),Dt=Jt(Je);return{x:Lt.x,y:Lt.y,w:Dt.w,h:Dt.h}},ro=(Xe,Je)=>{if(!Xe)return!1;const Lt=ze(Xe)?Xe:[Xe];return zn(Lt,Dt=>zl(ye.fromDom(Dt),Je))},uo=(Xe,Je,Lt,Dt)=>{const _n=[];let vo=se(Xe);Dt=Dt===void 0;const qs=Lt||(yt().nodeName!=="BODY"?yt().parentNode:null);if(F(Je))if(Je==="*")Je=at;else{const Xc=Je;Je=Kv=>ro(Kv,Xc)}for(;vo&&!(vo===qs||Fe(vo.nodeType)||_s(vo)||Wo(vo));){if(!Je||Je(vo))if(Dt)_n.push(vo);else return[vo];vo=vo.parentNode}return Dt?_n:null},zo=(Xe,Je,Lt)=>{const Dt=uo(Xe,Je,Lt,!1);return Dt&&Dt.length>0?Dt[0]:null},Yo=(Xe,Je,Lt)=>{let Dt=Je;if(Xe){F(Je)&&(Dt=_n=>ro(_n,Je));for(let _n=Xe[Lt];_n;_n=_n[Lt])if(xe(Dt)&&Dt(_n))return _n}return null},or=(Xe,Je)=>Yo(Xe,Je,"nextSibling"),Ir=(Xe,Je)=>Yo(Xe,Je,"previousSibling"),ss=Xe=>xe(Xe.querySelectorAll),Rt=(Xe,Je)=>{var Lt,Dt;const _n=(Dt=(Lt=se(Je))!==null&&Lt!==void 0?Lt:n.root_element)!==null&&Dt!==void 0?Dt:e;return ss(_n)?Kn(_n.querySelectorAll(Xe)):[]},ln=function(Xe,Je,Lt){const Dt=Lt??this;if(ze(Xe)){const _n=[];return Ix(Xe,(vo,qs)=>{const Xc=se(vo);Xc&&_n.push(Je.call(Dt,Xc,qs))}),_n}else{const _n=se(Xe);return _n?Je.call(Dt,_n):!1}},Mo=(Xe,Je)=>{ln(Xe,Lt=>{_t(Je,(Dt,_n)=>{De(Lt,_n,Dt)})})},Vt=(Xe,Je)=>{ln(Xe,Lt=>{const Dt=ye.fromDom(Lt);Of(Dt,Je)})},yn=(Xe,Je,Lt,Dt,_n)=>ln(Xe,vo=>{const qs=F(Je)?e.createElement(Je):Je;return he(Lt)&&Mo(qs,Lt),Dt&&(!F(Dt)&&Dt.nodeType?qs.appendChild(Dt):F(Dt)&&Vt(qs,Dt)),_n?qs:vo.appendChild(qs)}),to=(Xe,Je,Lt)=>yn(e.createElement(Xe),Xe,Je,Lt,!0),Ut=Gu.decode,no=Gu.encodeAllRaw,fo=(Xe,Je,Lt="")=>{let Dt="<"+Xe;for(const _n in Je)ai(Je,_n)&&(Dt+=" "+_n+'="'+no(Je[_n])+'"');return Ar(Lt)&&wn($.getVoidElements(),Xe)?Dt+" />":Dt+">"+Lt+"</"+Xe+">"},si=Xe=>{const Je=e.createElement("div"),Lt=e.createDocumentFragment();Lt.appendChild(Je),Xe&&(Je.innerHTML=Xe);let Dt;for(;Dt=Je.firstChild;)Lt.appendChild(Dt);return Lt.removeChild(Je),Lt},jo=(Xe,Je)=>ln(Xe,Lt=>{const Dt=ye.fromDom(Lt);return Je&&$e(Kr(Dt),_n=>{Wi(_n)&&_n.dom.length===0?ms(_n):Mi(Dt,_n)}),ms(Dt),Dt.dom}),qr=Xe=>ln(Xe,Je=>{const Lt=Je.attributes;for(let Dt=Lt.length-1;Dt>=0;Dt--)Je.removeAttributeNode(Lt.item(Dt))}),jc=Xe=>H.parse(Xe),ud=(Xe,Je)=>H.serialize(Xe,Je),Na=Xe=>{if(ef!==Fs.DOM&&e===document){if(o[Xe])return;o[Xe]=!0}let Je=e.getElementById("mceDefaultStyles");if(!Je){Je=e.createElement("style"),Je.id="mceDefaultStyles",Je.type="text/css";const Lt=e.head;Lt.firstChild?Lt.insertBefore(Je,Lt.firstChild):Lt.appendChild(Je)}Je.styleSheet?Je.styleSheet.cssText+=Xe:Je.appendChild(e.createTextNode(Xe))},nl=Xe=>{Xe||(Xe=""),$e(Xe.split(","),Je=>{c[Je]=!0,x.load(Je).catch(Oe)})},mc=(Xe,Je,Lt)=>{ln(Xe,Dt=>{if(at(Dt)){const _n=ye.fromDom(Dt),vo=Je.split(" ");$e(vo,qs=>{he(Lt)?(Lt?iu:Hu)(_n,qs):wf(_n,qs)})}})},ol=(Xe,Je)=>{mc(Xe,Je,!0)},hc=(Xe,Je)=>{mc(Xe,Je,!1)},mn=(Xe,Je)=>{const Lt=fe(Xe),Dt=Je.split(" ");return he(Lt)&&bt(Dt,_n=>Sf(Lt,_n))},wo=Xe=>{ln(Xe,Je=>gg(ye.fromDom(Je),"display"))},Hs=Xe=>{ln(Xe,Je=>db(ye.fromDom(Je),"display","none"))},sr=Xe=>{const Je=fe(Xe);return he(Je)&&vs(Ad(Je,"display"),"none")},Sr=Xe=>(Xe||"mce_")+f++,mi=Xe=>{const Je=fe(Xe);return he(Je)?at(Je.dom)?Je.dom.outerHTML:Ga(Je):""},xr=(Xe,Je)=>{ln(Xe,Lt=>{at(Lt)&&(Lt.outerHTML=Je)})},Cr=(Xe,Je)=>{const Lt=se(Je);return ln(Xe,Dt=>{const _n=Lt==null?void 0:Lt.parentNode,vo=Lt==null?void 0:Lt.nextSibling;return _n&&(vo?_n.insertBefore(Dt,vo):_n.appendChild(Dt)),Dt})},pa=(Xe,Je,Lt)=>ln(Je,Dt=>{var _n;const vo=ze(Je)?Xe.cloneNode(!0):Xe;return Lt&&Ix(aF(Dt.childNodes),qs=>{vo.appendChild(qs)}),(_n=Dt.parentNode)===null||_n===void 0||_n.replaceChild(vo,Dt),Dt}),Zc=(Xe,Je)=>{if(Xe.nodeName!==Je.toUpperCase()){const Lt=to(Je);return Ix(Pe(Xe),Dt=>{De(Lt,Dt.nodeName,Se(Xe,Dt.nodeName))}),pa(Lt,Xe,!0),Lt}else return Xe},qc=(Xe,Je)=>{let Lt=Xe;for(;Lt;){let Dt=Je;for(;Dt&&Lt!==Dt;)Dt=Dt.parentNode;if(Lt===Dt)break;Lt=Lt.parentNode}return!Lt&&Xe.ownerDocument?Xe.ownerDocument.documentElement:Lt},Gc=(Xe,Je,Lt)=>Re(Je)?fu($,Xe,{...Lt,isContent:_n=>{const vo=_n.nodeName.toLowerCase();return!!Je[vo]}}):fu($,Xe,Lt),Pl=()=>e.createRange(),Jd=(Xe,Je,Lt)=>{let Dt=Pl(),_n,vo;if(Xe&&Je&&Xe.parentNode&&Je.parentNode){const qs=Xe.parentNode;return Dt.setStart(qs,At(Xe)),Dt.setEnd(Je.parentNode,At(Je)),_n=Dt.extractContents(),Dt=Pl(),Dt.setStart(Je.parentNode,At(Je)+1),Dt.setEnd(qs,At(Xe)+1),vo=Dt.extractContents(),qs.insertBefore(vy(ef,_n,$),Xe),Lt?qs.insertBefore(Lt,Xe):qs.insertBefore(Je,Xe),qs.insertBefore(vy(ef,vo,$),Xe),jo(Xe),Lt||Je}else return},lm=(Xe,Je,Lt,Dt)=>{if(ze(Xe)){let _n=Xe.length;const vo=[];for(;_n--;)vo[_n]=lm(Xe[_n],Je,Lt,Dt);return vo}else return n.collect&&(Xe===e||Xe===i)&&O.push([Xe,Je,Lt,Dt]),Z.bind(Xe,Je,Lt,Dt||ef)},Qp=(Xe,Je,Lt)=>{if(ze(Xe)){let Dt=Xe.length;const _n=[];for(;Dt--;)_n[Dt]=Qp(Xe[Dt],Je,Lt);return _n}else{if(O.length>0&&(Xe===e||Xe===i)){let Dt=O.length;for(;Dt--;){const[_n,vo,qs]=O[Dt];Xe===_n&&(!Je||Je===vo)&&(!Lt||Lt===qs)&&Z.unbind(_n,vo,qs)}}return Z.unbind(Xe,Je,Lt)}},XS=(Xe,Je,Lt)=>Z.dispatch(Xe,Je,Lt),Qd=(Xe,Je,Lt)=>Z.dispatch(Xe,Je,Lt),Yv=Xe=>{if(Xe&&Tn(Xe)){const Je=Xe.getAttribute("data-mce-contenteditable");return Je&&Je!=="inherit"?Je:Xe.contentEditable!=="inherit"?Xe.contentEditable:null}else return null},ef={doc:e,settings:n,win:i,files:c,stdMode:p,boxModel:w,styleSheetLoader:x,boundEvents:O,styles:H,schema:$,events:Z,isBlock:ue,root:null,clone:je,getRoot:yt,getViewPort:Nt,getRect:fn,getSize:Jt,getParent:zo,getParents:uo,get:se,getNext:or,getPrev:Ir,select:Rt,is:ro,add:yn,create:to,createHTML:fo,createFragment:si,remove:jo,setStyle:ct,getStyle:vt,setStyles:Ke,removeAllAttribs:qr,setAttrib:De,setAttribs:Mo,getAttrib:Se,getPos:Zt,parseStyle:jc,serializeStyle:ud,addStyle:Na,loadCSS:nl,addClass:ol,removeClass:hc,hasClass:mn,toggleClass:mc,show:wo,hide:Hs,isHidden:sr,uniqueId:Sr,setHTML:Vt,getOuterHTML:mi,setOuterHTML:xr,decode:Ut,encode:no,insertAfter:Cr,replace:pa,rename:Zc,findCommonAncestor:qc,run:ln,getAttribs:Pe,isEmpty:Gc,createRng:Pl,nodeIndex:At,split:Jd,bind:lm,unbind:Qp,fire:Qd,dispatch:XS,getContentEditable:Yv,getContentEditableParent:Xe=>{const Je=yt();let Lt=null;for(let Dt=Xe;Dt&&Dt!==Je&&(Lt=Yv(Dt),Lt===null);Dt=Dt.parentNode);return Lt},isEditable:Xe=>{if(he(Xe)){const Je=at(Xe)?Xe:Xe.parentElement;return he(Je)&&Tn(Je)&&_a(ye.fromDom(Je))}else return!1},destroy:()=>{if(O.length>0){let Xe=O.length;for(;Xe--;){const[Je,Lt,Dt]=O[Xe];Z.unbind(Je,Lt,Dt)}}_t(c,(Xe,Je)=>{x.unload(Je),delete c[Je]})},isChildOf:(Xe,Je)=>Xe===Je||Je.contains(Xe),dumpRng:Xe=>"startContainer: "+Xe.startContainer.nodeName+", startOffset: "+Xe.startOffset+", endContainer: "+Xe.endContainer.nodeName+", endOffset: "+Xe.endOffset},j0=pD(H,n,_e(ef));return ef};Fs.DOM=Fs(document),Fs.nodeIndex=At;const Bx=Fs.DOM,lF=0,cF=1,Rf=2,_y=3;class Fd{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,i)=>{const c=Bx;let f;const p=()=>{c.remove(O),f&&(f.onerror=f.onload=f=null)},w=()=>{p(),o()},x=()=>{p(),i("Failed to load script: "+n)},O=c.uniqueId();f=document.createElement("script"),f.id=O,f.type="text/javascript",f.src=Tt._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=w,f.onerror=x,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(n){return this.states[n]===Rf}markDone(n){this.states[n]=Rf}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=lF),new Promise((c,f)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:f})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,i=(x,O)=>{Fo(o.scriptLoadedCallbacks,O).each($=>{$e($,H=>H[x](O))}),delete o.scriptLoadedCallbacks[O]},c=x=>{const O=hn(x,$=>$.status==="rejected");return O.length>0?Promise.reject(qe(O,({reason:$})=>ze($)?$:[$])):Promise.resolve()},f=x=>Promise.allSettled(nn(x,O=>o.states[O]===Rf?(i("resolve",O),Promise.resolve()):o.states[O]===_y?(i("reject",O),Promise.reject(O)):(o.states[O]=cF,o.loadScript(O).then(()=>{o.states[O]=Rf,i("resolve",O);const $=o.queue;return $.length>0?(o.queue=[],f($).then(c)):Promise.resolve()},()=>(o.states[O]=_y,i("reject",O),Promise.reject(O)))))),p=x=>(o.loading=!0,f(x).then(O=>{o.loading=!1;const $=o.queueLoadedCallbacks.shift();return U.from($).each(rn),c(O)})),w=Xo(n);return o.loading?new Promise((x,O)=>{o.queueLoadedCallbacks.push(()=>{p(w).then(x,O)})}):p(w)}}Fd.ScriptLoader=new Fd;const gD=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},uF=e=>ce(e)&&wn(e,"raw"),Nr=e=>ze(e)&&e.length>1,_g={},er=Ie("en"),vD=()=>Fo(_g,er.get()),vi={getData:()=>Gn(_g,e=>({...e})),setCode:e=>{e&&er.set(e)},getCode:()=>er.get(),add:(e,n)=>{let o=_g[e];o||(_g[e]=o={});const i=nn(Lo(n),c=>c.toLowerCase());_t(n,(c,f)=>{const p=f.toLowerCase();p!==f&&gD(i,p)?(wn(n,p)||(o[p]=c),o[f]=c):o[p]=c})},translate:e=>{const n=vD().getOr({}),o=p=>xe(p)?Object.prototype.toString.call(p):i(p)?"":""+p,i=p=>p===""||p===null||p===void 0,c=p=>{const w=o(p);return wn(n,w)?o(n[w]):Fo(n,w.toLowerCase()).map(o).getOr(w)},f=p=>p.replace(/{context:\w+}$/,"");if(i(e))return"";if(uF(e))return o(e.raw);if(Nr(e)){const p=e.slice(1),w=c(e[0]).replace(/\{([0-9]+)\}/g,(x,O)=>wn(p,O)?o(p[O]):x);return f(w)}return f(c(e))},isRtl:()=>vD().bind(e=>Fo(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>wn(_g,e)},Fa=()=>{const e=[],n={},o={},i=[],c=(se,fe)=>{const Se=hn(i,Pe=>Pe.name===se&&Pe.state===fe);$e(Se,Pe=>Pe.resolve())},f=se=>wn(n,se),p=se=>wn(o,se),w=se=>{if(o[se])return o[se].instance},x=(se,fe)=>{const Se=vi.getCode(),Pe=","+(fe||"")+",";!Se||fe&&Pe.indexOf(","+Se+",")===-1||Fd.ScriptLoader.add(n[se]+"/langs/"+Se+".js")},O=(se,fe)=>{Fa.languageLoad!==!1&&(f(se)?x(se,fe):ue(se,"loaded").then(()=>x(se,fe)))},$=(se,fe)=>(e.push(fe),o[se]={instance:fe},c(se,"added"),fe),H=se=>{delete n[se],delete o[se]},Z=(se,fe)=>F(fe)?F(se)?{prefix:"",resource:fe,suffix:""}:{prefix:se.prefix,resource:fe,suffix:se.suffix}:fe,ne=(se,fe)=>{if(n[se])return Promise.resolve();let Se=F(fe)?fe:fe.prefix+fe.resource+fe.suffix;Se.indexOf("/")!==0&&Se.indexOf("://")===-1&&(Se=Fa.baseURL+"/"+Se),n[se]=Se.substring(0,Se.lastIndexOf("/"));const Pe=()=>(c(se,"loaded"),Promise.resolve());return o[se]?Pe():Fd.ScriptLoader.add(Se).then(Pe)},ue=(se,fe="added")=>fe==="added"&&p(se)||fe==="loaded"&&f(se)?Promise.resolve():new Promise(Se=>{i.push({name:se,state:fe,resolve:Se})});return{items:e,urls:n,lookup:o,get:w,requireLangPack:O,add:$,remove:H,createUrl:Z,load:ne,waitFor:ue}};Fa.languageLoad=!0,Fa.baseURL="",Fa.PluginManager=Fa(),Fa.ThemeManager=Fa(),Fa.ModelManager=Fa();const Eb=(e,n)=>{let o=null;return{cancel:()=>{ie(o)||(clearTimeout(o),o=null)},throttle:(...f)=>{ie(o)&&(o=setTimeout(()=>{o=null,e.apply(null,f)},n))}}},Tb=(e,n)=>{let o=null;const i=()=>{ie(o)||(clearTimeout(o),o=null)};return{cancel:i,throttle:(...f)=>{i(),o=setTimeout(()=>{o=null,e.apply(null,f)},n)}}},bD=(e,n,o)=>ur(e,n,o).isSome(),_b=_e("mce-annotation"),Zh=_e("data-mce-annotation"),Ag=_e("data-mce-annotation-uid"),Og=_e("data-mce-annotation-active"),Dg=_e("data-mce-annotation-classes"),qh=_e("data-mce-annotation-attrs"),ky=e=>n=>so(n,e),Ay=(e,n)=>{const o=e.selection.getRng(),i=ye.fromDom(o.startContainer),c=ye.fromDom(e.getBody()),f=n.fold(()=>"."+_b(),x=>`[${Zh()}="${x}"]`),p=Ta(i,o.startOffset).getOr(i);return Ec(p,f,ky(c)).bind(x=>Vr(x,`${Ag()}`).bind(O=>Vr(x,`${Zh()}`).map($=>{const H=wD(e,O);return{uid:O,name:$,elements:H}})))},fF=e=>Ai(e)&&Sf(e,_b()),yD=(e,n)=>Ea(e,"data-mce-bogus")||bD(e,'[data-mce-bogus="all"]',ky(n)),wD=(e,n)=>{const o=ye.fromDom(e.getBody()),i=Zi(o,`[${Ag()}="${n}"]`);return hn(i,c=>!yD(c,o))},SD=(e,n)=>{const o=ye.fromDom(e.getBody()),i=Zi(o,`[${Zh()}="${n}"]`),c={};return $e(i,f=>{if(!yD(f,o)){const p=ra(f,Ag()),w=Fo(c,p).getOr([]);c[p]=w.concat([f])}}),c},$x=(e,n)=>{const o=Ie({}),i=()=>({listeners:[],previous:Xi()}),c=(H,Z)=>{f(H,ne=>(Z(ne),ne))},f=(H,Z)=>{const ne=o.get(),ue=Fo(ne,H).getOrThunk(i),se=Z(ue);ne[H]=se,o.set(ne)},p=(H,Z,ne)=>{c(H,ue=>{$e(ue.listeners,se=>se(!0,H,{uid:Z,nodes:nn(ne,fe=>fe.dom)}))})},w=H=>{c(H,Z=>{$e(Z.listeners,ne=>ne(!1,H))})},x=(H,Z)=>{$e(wD(e,H),ne=>{Z?zr(ne,Og(),"true"):Ur(ne,Og())})},O=Tb(()=>{const H=qt(n.getNames());$e(H,Z=>{f(Z,ne=>{const ue=ne.previous.get();return Ay(e,U.some(Z)).fold(()=>{ue.each(se=>{w(Z),ne.previous.clear(),x(se,!1)})},({uid:se,name:fe,elements:Se})=>{vs(ue,se)||(ue.each(Pe=>x(Pe,!1)),p(fe,se,Se),ne.previous.set(se),x(se,!0))}),{previous:ne.previous,listeners:ne.listeners}})})},30);return e.on("remove",()=>{O.cancel()}),e.on("NodeChange",()=>{O.throttle()}),{addListener:(H,Z)=>{f(H,ne=>({previous:ne.previous,listeners:ne.listeners.concat([Z])}))}}},xD=(e,n)=>{const o=Zh(),i=f=>U.from(f.attr(o)).bind(n.lookup),c=f=>{var p,w;f.attr(Ag(),null),f.attr(Zh(),null),f.attr(Og(),null);const x=U.from(f.attr(qh())).map(Z=>Z.split(",")).getOr([]),O=U.from(f.attr(Dg())).map(Z=>Z.split(",")).getOr([]);$e(x,Z=>f.attr(Z,null));const $=(w=(p=f.attr("class"))===null||p===void 0?void 0:p.split(" "))!==null&&w!==void 0?w:[],H=Et($,[_b()].concat(O));f.attr("class",H.length>0?H.join(" "):null),f.attr(Dg(),null),f.attr(qh(),null)};e.serializer.addTempAttr(Og()),e.serializer.addAttributeFilter(o,f=>{for(const p of f)i(p).each(w=>{w.persistent===!1&&(p.name==="span"?p.unwrap():c(p))})})},mF=()=>{const e={};return{register:(c,f)=>{e[c]={name:c,settings:f}},lookup:c=>Fo(e,c).map(f=>f.settings),getNames:()=>Lo(e)}},CD=(e,n,o)=>Math.min(Math.max(e,n),o),ED=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Oy=0;const kb=e=>{const o=new Date().getTime(),i=Math.floor(ED()*1e9);return Oy++,e+"_"+i+Oy+String(o)},hF=(e,n)=>{$e(n,o=>{iu(e,o)})},pF=(e,n)=>{$e(n,o=>{Hu(e,o)})},TD=(e,n)=>ye.fromDom(e.dom.cloneNode(n)),Gh=e=>TD(e,!1),Fx=e=>TD(e,!0),Hx=(e,n)=>{const o=ye.fromTag(n),i=Oh(e);return Sc(o,i),o},_D=(e,n)=>{const o=Hx(e,n);pl(e,o);const i=Kr(e);return ka(o,i),ms(e),o},zx=(e,n,o=Ue)=>{const i=new Pr(e,n),c=f=>{let p;do p=i[f]();while(p&&!ot(p)&&!o(p));return U.from(p).filter(ot)};return{current:()=>U.from(i.current()).filter(ot),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},Xh=(e,n)=>{const o=n||(p=>e.isBlock(p)||ao(p)||lo(p)),i=(p,w,x,O)=>{if(ot(p)){const $=O(p,w,p.data);if($!==-1)return U.some({container:p,offset:$})}return x().bind($=>i($.container,$.offset,x,O))};return{backwards:(p,w,x,O)=>{const $=zx(p,O??e.getRoot(),o);return i(p,w,()=>$.prev().map(H=>({container:H,offset:H.length})),x).getOrNull()},forwards:(p,w,x,O)=>{const $=zx(p,O??e.getRoot(),o);return i(p,w,()=>$.next().map(H=>({container:H,offset:0})),x).getOrNull()}}},Vx=((e,n)=>{const o=f=>{if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return i(f).getOr("")},i=f=>e(f)?U.from(f.dom.nodeValue):U.none();return{get:o,getOption:i,set:(f,p)=>{if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=p}}})(Wi,"text"),Dm=e=>Vx.get(e),kD=e=>Vx.getOption(e),Ux=(e,n)=>Vx.set(e,n),gF=["td","th"],vF=["thead","tbody","tfoot"],UY=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],WY=["li","dd","dt"],jY=["ul","ol","dl"],bF=["pre","script","textarea","style"],Ab=e=>{let n;return o=>(n=n||tn(e,wt),wn(n,ho(o)))},yF=e=>ho(e)==="table",Yh=e=>Ai(e)&&ho(e)==="br",Dy=Ab(UY),Mm=Ab(jY),Mg=Ab(WY),AD=Ab(vF),Ob=Ab(gF),My=Ab(bF),wF=e=>{const n=[];let o=e.dom;for(;o;)n.push(ye.fromDom(o)),o=o.lastChild;return n},Pm=e=>{const n=Zi(e,"br"),o=hn(wF(e).slice(-1),Yh);n.length===o.length&&$e(o,ms)},Kh=()=>{const e=ye.fromTag("br");return zr(e,"data-mce-bogus","1"),e},Ac=e=>{Dd(e),Mr(e,Kh())},Wx=(e,n)=>{zu(e).each(o=>{Cc(o).each(i=>{n.isBlock(ho(e))&&Yh(o)&&n.isBlock(ho(i))&&ms(o)})})},bi=Md,Py=gb,ql=qi,SF=e=>e.insertContent(bi,{preserve_zwsp:!0}),xF=at,Nm=ot,Pg=e=>(Nm(e)&&(e=e.parentNode),xF(e)&&e.hasAttribute("data-mce-caret")),Bf=e=>Nm(e)&&Py(e.data),El=e=>Pg(e)||Bf(e),OD=e=>e.firstChild!==e.lastChild||!ao(e.firstChild),CF=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(bi),f=e.parentNode;if(n){const p=e.previousSibling;if(Nm(p)){if(El(p))return p;if(Eo(p))return p.splitText(p.data.length-1)}f==null||f.insertBefore(c,e)}else{const p=e.nextSibling;if(Nm(p)){if(El(p))return p;if(Qh(p))return p.splitText(1),p}e.nextSibling?f==null||f.insertBefore(c,e.nextSibling):f==null||f.appendChild(c)}return c},jx=e=>{const n=e.container();return ot(n)?n.data.charAt(e.offset())===bi||e.isAtStart()&&Bf(n.previousSibling):!1},Ng=e=>{const n=e.container();return ot(n)?n.data.charAt(e.offset()-1)===bi||e.isAtEnd()&&Bf(n.nextSibling):!1},Jh=(e,n,o)=>{var i;const f=((i=n.ownerDocument)!==null&&i!==void 0?i:document).createElement(e);f.setAttribute("data-mce-caret",o?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(Kh().dom);const p=n.parentNode;return o?p==null||p.insertBefore(f,n):n.nextSibling?p==null||p.insertBefore(f,n.nextSibling):p==null||p.appendChild(f),f},Qh=e=>Nm(e)&&e.data[0]===bi,Eo=e=>Nm(e)&&e.data[e.data.length-1]===bi,Tl=e=>{var n;const o=e.getElementsByTagName("br"),i=o[o.length-1];xo(i)&&((n=i.parentNode)===null||n===void 0||n.removeChild(i))},$f=e=>e&&e.hasAttribute("data-mce-caret")?(Tl(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Ny=e=>Pg(e.startContainer),ps=Math.round,Lm=e=>e?{left:ps(e.left),top:ps(e.top),bottom:ps(e.bottom),right:ps(e.right),width:ps(e.width),height:ps(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Zx=(e,n)=>(e=Lm(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),EF=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,TF=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Db=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:TF(n.top-e.bottom,e,n)},Ms=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:TF(n.bottom-e.top,e,n),_F=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,kF=e=>Gs(e,(n,o)=>n.fold(()=>U.some(o),i=>{const c=Math.min(o.left,i.left),f=Math.min(o.top,i.top),p=Math.max(o.right,i.right),w=Math.max(o.bottom,i.bottom);return U.some({top:f,right:p,bottom:w,left:c,width:p-c,height:w-f})}),U.none()),DD=(e,n,o)=>{const i=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-i)*(n-i)+(o-c)*(o-c))},Lg=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),_l=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Im=(e,n)=>{if(at(e)&&e.hasChildNodes()){const o=e.childNodes,i=CD(n,0,o.length-1);return o[i]}else return e},MD=(e,n)=>{if(!(n<0&&at(e)&&e.hasChildNodes()))return Im(e,n)},Kt=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),PD=e=>F(e)&&e.charCodeAt(0)>=768&&Kt.test(e),AF=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},OF=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},qx=it,DF=lo,Gx=ao,Mb=ot,Ig=Jn(["script","style","textarea"]),ND=Jn(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ly=Jn(["table"]),MF=El,Gl=e=>MF(e)?!1:Mb(e)?!Ig(e.parentNode):ND(e)||Gx(e)||Ly(e)||Xx(e),LD=e=>at(e)&&e.getAttribute("unselectable")==="true",Xx=e=>!LD(e)&&DF(e),ID=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(Xx(o))return!1;if(qx(o))return!0}return!0},Iy=e=>Xx(e)?!Gs(Kn(e.getElementsByTagName("*")),(n,o)=>n||qx(o),!1):!1,PF=e=>ND(e)||Iy(e),RD=(e,n)=>Gl(e)&&ID(e,n),BD=at,$D=Gl,FD=Oo("display","block table"),NF=Oo("float","left right"),Pb=OF(BD,$D,Ot(NF)),LF=Ot(Oo("white-space","pre pre-line pre-wrap")),Nb=ot,Lb=ao,HD=Fs.nodeIndex,Ry=MD,Yx=e=>e?e.createRange():Fs.DOM.createRng(),Kx=e=>F(e)&&/[\r\n\t ]/.test(e),zD=e=>!!e.setStart&&!!e.setEnd,Jx=e=>{const n=e.startContainer,o=e.startOffset;if(Kx(e.toString())&&LF(n.parentNode)&&ot(n)){const i=n.data;if(Kx(i[o-1])||Kx(i[o+1]))return!0}return!1},IF=e=>{const n=e.ownerDocument,o=Yx(n),i=n.createTextNode(Wr),c=e.parentNode;c.insertBefore(i,e),o.setStart(i,0),o.setEnd(i,1);const f=Lm(o.getBoundingClientRect());return c.removeChild(i),f},RF=e=>{const n=e.startContainer,o=e.endContainer,i=e.startOffset,c=e.endOffset;if(n===o&&ot(o)&&i===0&&c===1){const f=e.cloneRange();return f.setEndAfter(o),Bm(f)}else return null},Rm=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Bm=e=>{var n;let o;const i=e.getClientRects();return i.length>0?o=Lm(i[0]):o=Lm(e.getBoundingClientRect()),!zD(e)&&Lb(e)&&Rm(o)?IF(e):Rm(o)&&zD(e)&&(n=RF(e))!==null&&n!==void 0?n:o},ep=(e,n)=>{const o=Zx(e,n);return o.width=1,o.right=o.left+1,o},BF=e=>{const n=[],o=p=>{p.height!==0&&(n.length>0&&EF(p,n[n.length-1])||n.push(p))},i=(p,w)=>{const x=Yx(p.ownerDocument);if(w<p.data.length){if(PD(p.data[w]))return;if(PD(p.data[w-1])&&(x.setStart(p,w),x.setEnd(p,w+1),!Jx(x))){o(ep(Bm(x),!1));return}}w>0&&(x.setStart(p,w-1),x.setEnd(p,w),Jx(x)||o(ep(Bm(x),!1))),w<p.data.length&&(x.setStart(p,w),x.setEnd(p,w+1),Jx(x)||o(ep(Bm(x),!0)))},c=e.container(),f=e.offset();if(Nb(c))return i(c,f),n;if(BD(c))if(e.isAtEnd()){const p=Ry(c,f);Nb(p)&&i(p,p.data.length),Pb(p)&&!Lb(p)&&o(ep(Bm(p),!1))}else{const p=Ry(c,f);if(Nb(p)&&i(p,0),Pb(p)&&e.isAtEnd())return o(ep(Bm(p),!1)),n;const w=Ry(e.container(),e.offset()-1);Pb(w)&&!Lb(w)&&(FD(w)||FD(p)||!Pb(p))&&o(ep(Bm(w),!1)),Pb(p)&&o(ep(Bm(p),!0))}return n},lt=(e,n,o)=>{const i=()=>(Nb(e),n===0),c=()=>Nb(e)?n>=e.data.length:n>=e.childNodes.length,f=()=>{const $=Yx(e.ownerDocument);return $.setStart(e,n),$.setEnd(e,n),$},p=()=>(o||(o=BF(lt(e,n))),o),w=()=>p().length>0,x=$=>$&&e===$.container()&&n===$.offset(),O=$=>Ry(e,$?n-1:n);return{container:_e(e),offset:_e(n),toRange:f,getClientRects:p,isVisible:w,isAtStart:i,isAtEnd:c,isEqual:x,getNode:O}};lt.fromRangeStart=e=>lt(e.startContainer,e.startOffset),lt.fromRangeEnd=e=>lt(e.endContainer,e.endOffset),lt.after=e=>lt(e.parentNode,HD(e)+1),lt.before=e=>lt(e.parentNode,HD(e)),lt.isAbove=(e,n)=>Zn(kn(n.getClientRects()),Un(e.getClientRects()),Db).getOr(!1),lt.isBelow=(e,n)=>Zn(Un(n.getClientRects()),kn(e.getClientRects()),Ms).getOr(!1),lt.isAtStart=e=>e?e.isAtStart():!1,lt.isAtEnd=e=>e?e.isAtEnd():!1,lt.isTextPosition=e=>e?ot(e.container()):!1,lt.isElementPosition=e=>!lt.isTextPosition(e);const By=(e,n)=>{ot(n)&&n.data.length===0&&e.remove(n)},Ff=(e,n,o)=>{n.insertNode(o),By(e,o.previousSibling),By(e,o.nextSibling)},tp=(e,n,o)=>{const i=U.from(o.firstChild),c=U.from(o.lastChild);n.insertNode(o),i.each(f=>By(e,f.previousSibling)),c.each(f=>By(e,f.nextSibling))},Qx=(e,n,o)=>{Wo(o)?tp(e,n,o):Ff(e,n,o)},mu=ot,eC=xo,tC=Fs.nodeIndex,VD=e=>{const n=e.parentNode;return eC(n)?VD(n):n},nC=e=>e?ve(e.childNodes,(n,o)=>(eC(o)&&o.nodeName!=="BR"?n=n.concat(nC(o)):n.push(o),n),[]):[],UD=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&mu(o);)n+=o.data.length;return n},WD=e=>n=>e===n,$F=e=>{let n,o;n=nC(VD(e)),o=be(n,WD(e),e),n=n.slice(0,o+1);const i=ve(n,(c,f,p)=>(mu(f)&&mu(n[p-1])&&c++,c),0);return n=ja(n,Jn([e.nodeName])),o=be(n,WD(e),e),o-i},jD=e=>(mu(e)?"text()":e.nodeName.toLowerCase())+"["+$F(e)+"]",FF=(e,n,o)=>{const i=[];for(let c=n.parentNode;c&&c!==e;c=c.parentNode)i.push(c);return i},ZD=(e,n)=>{let o=[],i=n.container(),c=n.offset(),f;if(mu(i))f=UD(i,c);else{const w=i.childNodes;c>=w.length?(f="after",c=w.length-1):f="before",i=w[c]}o.push(jD(i));let p=FF(e,i);return p=ja(p,Ot(xo)),o=o.concat(ya(p,w=>jD(w))),o.reverse().join("/")+","+f},HF=(e,n,o)=>{let i=nC(e);return i=ja(i,(c,f)=>!mu(c)||!mu(i[f-1])),i=ja(i,Jn([n])),i[o]},zF=(e,n)=>{let o=e,i=0;for(;mu(o);){const c=o.data.length;if(n>=i&&n<=i+c){e=o,n=n-i;break}if(!mu(o.nextSibling)){e=o,n=c;break}i+=c,o=o.nextSibling}return mu(e)&&n>e.data.length&&(n=e.data.length),lt(e,n)},qD=(e,n)=>{if(!n)return null;const o=n.split(","),i=o[0].split("/"),c=o.length>1?o[1]:"before",f=ve(i,(p,w)=>{const x=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(w);return x?(x[1]==="text()"&&(x[1]="#text"),HF(p,x[1],parseInt(x[2],10))):null},e);if(!f)return null;if(!mu(f)&&f.parentNode){let p;return c==="after"?p=tC(f)+1:p=tC(f),lt(f.parentNode,p)}return zF(f,parseInt(c,10))},$y=lo,VF=(e,n,o)=>{let i=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&ot(c);c=c.previousSibling)i+=e(c.data).length;return i},GD=(e,n,o,i,c)=>{const f=c?i.startContainer:i.endContainer;let p=c?i.startOffset:i.endOffset;const w=[],x=e.getRoot();if(ot(f))w.push(o?VF(n,f,p):p);else{let O=0;const $=f.childNodes;p>=$.length&&$.length&&(O=1,p=Math.max(0,$.length-1)),w.push(e.nodeIndex($[p],o)+O)}for(let O=f;O&&O!==x;O=O.parentNode)w.push(e.nodeIndex(O,o));return w},UF=(e,n,o,i)=>{const c=n.dom,f=GD(c,e,o,i,!0),p=n.isForward(),w=Ny(i)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:f,forward:p,...w};{const x=GD(c,e,o,i,!1);return{start:f,end:x,forward:p,...w}}},oC=(e,n,o)=>{let i=0;return Tt.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;i++;return}}),i},tr=(e,n)=>{let o=n?e.startContainer:e.endContainer,i=n?e.startOffset:e.endOffset;if(at(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?i:i-1,c.length-1)],o&&(i=n?0:o.childNodes.length,n?e.setStart(o,i):e.setEnd(o,i))}},sC=e=>(tr(e,!0),tr(e,!1),e),XD=(e,n)=>{if(at(e)&&(e=Im(e,n),$y(e)))return e;if(El(e)){ot(e)&&Pg(e)&&(e=e.parentNode);let o=e.previousSibling;if($y(o)||(o=e.nextSibling,$y(o)))return o}},WF=e=>XD(e.startContainer,e.startOffset)||XD(e.endContainer,e.endOffset),Fy=(e,n,o)=>{const i=o.getNode(),c=o.getRng();if(i.nodeName==="IMG"||$y(i)){const p=i.nodeName;return{name:p,index:oC(o.dom,p,i)}}const f=WF(c);if(f){const p=f.tagName;return{name:p,index:oC(o.dom,p,f)}}return UF(e,o,n,c)},la=e=>{const n=e.getRng();return{start:ZD(e.dom.getRoot(),lt.fromRangeStart(n)),end:ZD(e.dom.getRoot(),lt.fromRangeEnd(n)),forward:e.isForward()}},Xl=e=>({rng:e.getRng(),forward:e.isForward()}),rC=(e,n,o)=>{const i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",i,"&#xFEFF;"):e.create("span",i)},iC=(e,n)=>{const o=e.dom;let i=e.getRng();const c=o.uniqueId(),f=e.isCollapsed(),p=e.getNode(),w=p.nodeName,x=e.isForward();if(w==="IMG")return{name:w,index:oC(o,w,p)};const O=sC(i.cloneRange());if(!f){O.collapse(!1);const H=rC(o,c+"_end",n);Qx(o,O,H)}i=sC(i),i.collapse(!0);const $=rC(o,c+"_start",n);return Qx(o,i,$),e.moveToBookmark({id:c,keep:!0,forward:x}),{id:c,forward:x}},YD=(e,n,o=!1)=>n===2?Fy(ql,o,e):n===3?la(e):n?Xl(e):iC(e,!1),aC=Ve(Fy,$t,!0),lC=e=>{const n=f=>f(e),o=_e(e),i=()=>c,c={tag:!0,inner:e,fold:(f,p)=>p(e),isValue:wt,isError:Ue,map:f=>Ya.value(f(e)),mapError:i,bind:n,exists:n,forall:n,getOr:o,or:i,getOrThunk:o,orThunk:i,getOrDie:o,each:f=>{f(e)},toOptional:()=>U.some(e)};return c},KD=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(i,c)=>i(e),isValue:Ue,isError:wt,map:n,mapError:i=>Ya.error(i(e)),bind:n,exists:Ue,forall:wt,getOr:$t,or:$t,getOrThunk:Hn,orThunk:Hn,getOrDie:jt(String(e)),each:Oe,toOptional:U.none};return o},Ya={value:lC,error:KD,fromOption:(e,n)=>e.fold(()=>KD(n),lC)},Hd={generate:e=>{if(!ze(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return $e(e,(i,c)=>{const f=Lo(i);if(f.length!==1)throw new Error("one and only one name per case");const p=f[0],w=i[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ze(w))throw new Error("case arguments must be an array");n.push(p),o[p]=(...x)=>{const O=x.length;if(O!==w.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+w.length+" ("+w+"), got "+O);return{fold:(...H)=>{if(H.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+H.length);return H[c].apply(null,x)},match:H=>{const Z=Lo(H);if(n.length!==Z.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+Z.join(","));if(!bt(n,ue=>It(Z,ue)))throw new Error("Not all branches were specified when using match. Specified: "+Z.join(", ")+`
Required: `+n.join(", "));return H[p].apply(null,x)},log:H=>{console.log(H,{constructors:n,constructor:p,params:x})}}}}),o}};Hd.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const cC=e=>{const n=[],o=[];return $e(e,i=>{i.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},Zs=e=>e.type==="inline-command"||e.type==="inline-format",zd=e=>e.type==="block-command"||e.type==="block-format",Ib=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,ZF=e=>{var n;const o=c=>Ya.error({message:c,pattern:e}),i=(c,f,p)=>{if(e.format!==void 0){let w;if(ze(e.format)){if(!bt(e.format,F))return o(c+" pattern has non-string items in the `format` array");w=e.format}else if(F(e.format))w=[e.format];else return o(c+" pattern has non-string `format` parameter");return Ya.value(f(w))}else return e.cmd!==void 0?F(e.cmd)?Ya.value(p(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!ce(e))return o("Raw pattern is not an object");if(!F(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!F(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,f=e.end;return f.length===0&&(f=c,c=""),i("Inline",p=>({type:"inline-format",start:c,end:f,format:p}),(p,w)=>({type:"inline-command",start:c,end:f,cmd:p,value:w}))}else{if(e.replacement!==void 0)return F(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):Ya.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):i("Block",f=>({type:"block-format",start:e.start,format:f[0],trigger:c}),(f,p)=>({type:"block-command",start:e.start,cmd:f,value:p,trigger:c}))}}},uC=e=>hn(e,zd),JD=e=>hn(e,Zs),op=(e,n)=>({inlinePatterns:JD(e),blockPatterns:uC(e),dynamicPatternsLookup:n}),yi=(e,n)=>({...e,blockPatterns:hn(e.blockPatterns,o=>Ib(o,n))}),Hf=e=>{const n=cC(nn(e,ZF));return $e(n.errors,o=>console.error(o.message,o.pattern)),n.values},qF=e=>n=>{const o=e(n);return Hf(o)},dC=gi().deviceType,GF=dC.isTouch(),Hy=Fs.DOM,fC=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Gs(n,(o,i)=>{const c=i.split("="),f=c[0],p=c.length>1?c[1]:f;return o[$r(f)]=$r(p),o},{})},zy=e=>J(e,RegExp),Yt=e=>n=>n.options.get(e),Rb=e=>F(e)||ce(e),mC=(e,n="")=>o=>{const i=F(o);if(i)if(o.indexOf("=")!==-1){const c=fC(o);return{value:Fo(c,e.id).getOr(n),valid:i}}else return{value:o,valid:i};else return{valid:!1,message:"Must be a string."}},QD=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:mC(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:mC(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const i=F(o)&&To(o);return i?{value:o,valid:i}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const i=It(["block","linebreak","invert","default"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>He(o)?{valid:!0,value:o}:F(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const i=o===!1||F(o)||Me(o,F);return i?F(o)?{value:nn(o.split(","),$r),valid:i}:ze(o)?{value:o,valid:i}:o===!1?{value:[],valid:i}:{value:o,valid:i}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:wC(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const i=F(o)||Me(o,F);return i?{value:ze(o)?o:nn(o.split(","),$r),valid:i}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const i=He(o)||F(o);return i?o===!1||dC.isiPhone()||dC.isiPad()?{value:"",valid:i}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:i}:{valid:!1,message:"Must be boolean or a string"}},default:!GF}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||F(o)||xe(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const i=o===!1||F(o);return i?{value:o===!1?"":o,valid:i}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:Rb}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:Rb}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:Rb}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:Rb}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>F(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>Me(o,ce)||o===!1?{value:Hf(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>xe(o)?{value:qF(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>Me(o,zy)?{value:o,valid:!0}:zy(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const i=It(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const i=It(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:vi.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Hy.getAttrib(e.getElement(),"placeholder")})})},e4=Yt("iframe_attrs"),XF=Yt("doctype"),Li=Yt("document_base_url"),YF=Yt("body_id"),$m=Yt("body_class"),hC=Yt("content_security_policy"),t4=Yt("br_in_pre"),ca=Yt("forced_root_block"),sp=Yt("forced_root_block_attrs"),pC=Yt("newline_behavior"),n4=Yt("br_newline_selector"),KF=Yt("no_newline_selector"),JF=Yt("keep_styles"),ei=Yt("end_container_on_empty_block"),jr=Yt("automatic_uploads"),Ii=Yt("images_reuse_filename"),Ki=Yt("images_replace_blob_uris"),di=Yt("icons"),ti=Yt("icons_url"),gC=Yt("images_upload_url"),vC=Yt("images_upload_base_path"),o4=Yt("images_upload_credentials"),s4=Yt("images_upload_handler"),r4=Yt("content_css_cors"),Vy=Yt("referrer_policy"),Uy=Yt("language"),bC=Yt("language_url"),i4=Yt("indent_use_margin"),ZY=Yt("indentation"),QF=Yt("content_css"),e6=Yt("content_style"),Ka=Yt("font_css"),qY=Yt("directionality"),t6=Yt("inline_boundaries_selector"),Oc=Yt("object_resizing"),Wy=Yt("resize_img_proportional"),Bb=Yt("placeholder"),Ju=Yt("event_root"),Ha=Yt("service_message"),Fm=Yt("theme"),yC=Yt("theme_url"),jy=Yt("model"),a4=Yt("model_url"),rp=Yt("inline_boundaries"),n6=Yt("formats"),l4=Yt("preview_styles"),o6=Yt("format_empty_lines"),s6=Yt("format_noneditable_selector"),r6=Yt("custom_ui_selector"),wC=Yt("inline"),i6=Yt("hidden_input"),SC=Yt("submit_patch"),a6=Yt("add_form_submit_trigger"),c4=Yt("add_unload_trigger"),l6=Yt("custom_undo_redo_levels"),Zy=Yt("disable_nodechange"),u4=Yt("readonly"),c6=Yt("editable_root"),d4=Yt("content_css_cors"),qy=Yt("plugins"),u6=Yt("external_plugins"),f4=Yt("block_unsupported_drop"),za=Yt("visual"),xC=Yt("visual_table_class"),CC=Yt("visual_anchor_class"),EC=Yt("iframe_aria_text"),Gy=Yt("setup"),d6=Yt("init_instance_callback"),f6=Yt("urlconverter_callback"),m6=Yt("auto_focus"),h6=Yt("browser_spellcheck"),p6=Yt("protect"),g6=Yt("paste_block_drop"),Xy=Yt("paste_data_images"),v6=Yt("paste_preprocess"),b6=Yt("paste_postprocess"),y6=Yt("newdocument_content"),w6=Yt("paste_webkit_styles"),S6=Yt("paste_remove_styles_if_webkit"),x6=Yt("paste_merge_formats"),C6=Yt("smart_paste"),m4=Yt("paste_as_text"),h4=Yt("paste_tab_spaces"),Rg=Yt("allow_html_data_urls"),p4=Yt("text_patterns"),E6=Yt("text_patterns_lookup"),g4=Yt("noneditable_class"),T6=Yt("editable_class"),hu=Yt("noneditable_regexp"),Yy=Yt("preserve_cdata"),Ky=Yt("highlight_on_focus"),Jy=Yt("xss_sanitization"),_6=Yt("init_content_sync"),zf=e=>e.options.isSet("text_patterns_lookup"),TC=e=>Tt.explode(e.options.get("font_size_style_values")),k6=e=>Tt.explode(e.options.get("font_size_classes")),Hm=e=>e.options.get("encoding")==="xml",$b=e=>Tt.explode(e.options.get("images_file_types")),A6=Yt("table_tab_navigation"),O6=Yt("details_initial_state"),D6=Yt("details_serialized_state"),v4=Yt("sandbox_iframes"),Qy=e=>e.options.get("sandbox_iframes_exclusions"),M6=Yt("convert_unsafe_embeds"),P6=Yt("license_key"),b4=Yt("api_key"),N6=at,_C=ot,y4=e=>{const n=e.parentNode;n&&n.removeChild(e)},w4=e=>{const n=ql(e);return{count:e.length-n.length,text:n}},S4=e=>{let n;for(;(n=e.data.lastIndexOf(bi))!==-1;)e.deleteData(n,1)},kC=(e,n)=>(ip(e),n),AC=(e,n)=>{const o=w4(e.data.substr(0,n.offset())),i=w4(e.data.substr(n.offset()));return(o.text+i.text).length>0?(S4(e),lt(e,n.offset()-o.count)):n},x4=(e,n)=>{const o=n.container(),i=Zo(Kn(o.childNodes),e).map(c=>c<n.offset()?lt(o,n.offset()-1):n).getOr(n);return ip(e),i},L6=(e,n)=>_C(e)&&n.container()===e?AC(e,n):kC(e,n),I6=(e,n)=>n.container()===e.parentNode?x4(e,n):kC(e,n),R6=(e,n)=>lt.isTextPosition(n)?L6(e,n):I6(e,n),ip=e=>{N6(e)&&El(e)&&(OD(e)?e.removeAttribute("data-mce-caret"):y4(e)),_C(e)&&(S4(e),e.data.length===0&&y4(e))},GY=lo,ew=fr,OC=$a,B6="*[contentEditable=false],video,audio,embed,object",C4=(e,n,o)=>{const i=Zx(n.getBoundingClientRect(),o);let c,f;if(e.tagName==="BODY"){const w=e.ownerDocument.documentElement;c=e.scrollLeft||w.scrollLeft,f=e.scrollTop||w.scrollTop}else{const w=e.getBoundingClientRect();c=e.scrollLeft-w.left,f=e.scrollTop-w.top}i.left+=c,i.right+=c,i.top+=f,i.bottom+=f,i.width=1;let p=n.offsetWidth-n.clientWidth;return p>0&&(o&&(p*=-1),i.left+=p,i.right+=p),i},$6=e=>{var n,o;const i=Zi(ye.fromDom(e),B6);for(let c=0;c<i.length;c++){const f=i[c].dom;let p=f.previousSibling;if(Eo(p)){const w=p.data;w.length===1?(n=p.parentNode)===null||n===void 0||n.removeChild(p):p.deleteData(w.length-1,1)}p=f.nextSibling,Qh(p)&&(p.data.length===1?(o=p.parentNode)===null||o===void 0||o.removeChild(p):p.deleteData(0,1))}},F6=(e,n,o,i)=>{const c=Xi();let f,p;const w=ca(e),x=e.dom,O=(se,fe)=>{let Se;if($(),OC(fe))return null;if(o(fe)){const Pe=Jh(w,fe,se),De=C4(n,fe,se);x.setStyle(Pe,"top",De.top),x.setStyle(Pe,"caret-color","transparent"),p=Pe;const je=x.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});x.setStyles(je,{...De}),x.add(n,je),c.set({caret:je,element:fe,before:se}),se&&x.addClass(je,"mce-visual-caret-before"),H(),Se=fe.ownerDocument.createRange(),Se.setStart(Pe,0),Se.setEnd(Pe,0)}else return p=CF(fe,se),Se=fe.ownerDocument.createRange(),Fb(p.nextSibling)?(Se.setStart(p,0),Se.setEnd(p,0)):(Se.setStart(p,1),Se.setEnd(p,1)),Se;return Se},$=()=>{$6(n),p&&(ip(p),p=null),c.on(se=>{x.remove(se.caret),c.clear()}),f&&(clearInterval(f),f=void 0)},H=()=>{f=setInterval(()=>{c.on(se=>{i()?x.toggleClass(se.caret,"mce-visual-caret-hidden"):x.addClass(se.caret,"mce-visual-caret-hidden")})},500)};return{show:O,hide:$,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(se=>{const fe=C4(n,se.element,se.before);x.setStyles(se.caret,{...fe})})},destroy:()=>clearInterval(f)}},E4=()=>Mn.browser.isFirefox(),Fb=e=>GY(e)||ew(e),zm=e=>(Fb(e)||hs(e)&&E4())&&qa(ye.fromDom(e)).exists(_a),H6=it,DC=lo,z6=fr,T4=Oo("display","block table table-cell table-caption list-item"),_4=El,k4=Pg,V6=at,Hb=ot,U6=Gl,Bg=e=>e>0,Vm=e=>e<0,zb=(e,n)=>{let o;for(;o=e(n);)if(!k4(o))return o;return null},$g=(e,n,o,i,c)=>{const f=new Pr(e,i),p=DC(e)||k4(e);let w;if(Vm(n)){if(p&&(w=zb(f.prev.bind(f),!0),o(w)))return w;for(;w=zb(f.prev.bind(f),c);)if(o(w))return w}if(Bg(n)){if(p&&(w=zb(f.next.bind(f),!0),o(w)))return w;for(;w=zb(f.next.bind(f),c);)if(o(w))return w}return null},W6=(e,n)=>{const o=c=>H6(c.dom),i=c=>c.dom===n;return Vs(ye.fromDom(e),o,i).map(c=>c.dom).getOr(n)},Um=(e,n)=>{for(;e&&e!==n;){if(T4(e))return e;e=e.parentNode}return null},Yl=(e,n,o)=>Um(e.container(),o)===Um(n.container(),o),tw=(e,n)=>{if(!n)return U.none();const o=n.container(),i=n.offset();return V6(o)?U.from(o.childNodes[i+e]):U.none()},A4=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},j6=(e,n,o)=>Um(n,e)===Um(o,e),O4=(e,n,o)=>{const i=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let f=c[i];if(f&&_4(f)&&(f=f[i]),DC(f)||z6(f)){if(j6(n,f,c))return f;break}if(U6(f))break;c=c.parentNode}return null},Fg=Ve(A4,!0),Hg=Ve(A4,!1),ua=(e,n,o)=>{let i;const c=Ve(O4,!0,n),f=Ve(O4,!1,n),p=o.startContainer,w=o.startOffset;if(Pg(p)){const x=Hb(p)?p.parentNode:p,O=x.getAttribute("data-mce-caret");if(O==="before"&&(i=x.nextSibling,zm(i)))return Fg(i);if(O==="after"&&(i=x.previousSibling,zm(i)))return Hg(i)}if(!o.collapsed)return o;if(ot(p)){if(_4(p)){if(e===1){if(i=f(p),i)return Fg(i);if(i=c(p),i)return Hg(i)}if(e===-1){if(i=c(p),i)return Hg(i);if(i=f(p),i)return Fg(i)}return o}if(Eo(p)&&w>=p.data.length-1)return e===1&&(i=f(p),i)?Fg(i):o;if(Qh(p)&&w<=1)return e===-1&&(i=c(p),i)?Hg(i):o;if(w===p.data.length)return i=f(p),i?Fg(i):o;if(w===0)return i=c(p),i?Hg(i):o}return o},D4=(e,n)=>tw(e?0:-1,n).filter(DC),Vb=(e,n,o)=>{const i=ua(e,n,o);return e===-1?lt.fromRangeStart(i):lt.fromRangeEnd(i)},nw=e=>U.from(e.getNode()).map(ye.fromDom),M4=e=>U.from(e.getNode(!0)).map(ye.fromDom),MC=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},ow=(e,n)=>{const o=Yl(e,n);return!o&&ao(e.getNode())?!0:o};var wi;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(wi||(wi={}));const Z6=lo,Vf=ot,P4=at,PC=ao,Uf=Gl,N4=PF,Ub=RD,NC=(e,n)=>{const o=[];let i=e;for(;i&&i!==n;)o.push(i),i=i.parentNode;return o},LC=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,L4=(e,n)=>{if(Bg(e)){if(Uf(n.previousSibling)&&!Vf(n.previousSibling))return lt.before(n);if(Vf(n))return lt(n,0)}if(Vm(e)){if(Uf(n.nextSibling)&&!Vf(n.nextSibling))return lt.after(n);if(Vf(n))return lt(n,n.data.length)}return Vm(e)?PC(n)?lt.before(n):lt.after(n):lt.before(n)},q6=(e,n)=>{const o=n.nextSibling;return o&&Uf(o)?Vf(o)?lt(o,0):lt.before(o):zg(wi.Forwards,lt.after(n),e)},zg=(e,n,o)=>{let i,c,f,p;if(!P4(o)||!n)return null;if(n.isEqual(lt.after(o))&&o.lastChild){if(p=lt.after(o.lastChild),Vm(e)&&Uf(o.lastChild)&&P4(o.lastChild))return PC(o.lastChild)?lt.before(o.lastChild):p}else p=n;const w=p.container();let x=p.offset();if(Vf(w)){if(Vm(e)&&x>0)return lt(w,--x);if(Bg(e)&&x<w.length)return lt(w,++x);i=w}else{if(Vm(e)&&x>0&&(c=LC(w,x-1),Uf(c)))return!N4(c)&&(f=$g(c,e,Ub,c),f)?Vf(f)?lt(f,f.data.length):lt.after(f):Vf(c)?lt(c,c.data.length):lt.before(c);if(Bg(e)&&x<w.childNodes.length&&(c=LC(w,x),Uf(c)))return PC(c)?q6(o,c):!N4(c)&&(f=$g(c,e,Ub,c),f)?Vf(f)?lt(f,0):lt.before(f):Vf(c)?lt(c,0):lt.after(c);i=c||p.getNode()}if(i&&(Bg(e)&&p.isAtEnd()||Vm(e)&&p.isAtStart())&&(i=$g(i,e,wt,o,!0),Ub(i,o)))return L4(e,i);c=i&&$g(i,e,Ub,o);const O=We(hn(NC(w,o),Z6));return O&&(!c||!O.contains(c))?(Bg(e)?p=lt.after(O):p=lt.before(O),p):c?L4(e,c):null},Qu=e=>({next:n=>zg(wi.Forwards,n,e),prev:n=>zg(wi.Backwards,n,e)}),I4=(e,n,o)=>{const i=e?lt.before(o):lt.after(o);return Kl(e,n,i)},R4=e=>ao(e)?lt.before(e):lt.after(e),IC=e=>lt.isTextPosition(e)?e.offset()===0:Gl(e.getNode()),RC=e=>{if(lt.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return Gl(e.getNode(!0))},BC=(e,n)=>!lt.isTextPosition(e)&&!lt.isTextPosition(n)&&e.getNode()===n.getNode(!0),B4=e=>!lt.isTextPosition(e)&&ao(e.getNode()),$4=(e,n,o)=>e?!BC(n,o)&&!B4(n)&&RC(n)&&IC(o):!BC(o,n)&&IC(n)&&RC(o),Kl=(e,n,o)=>{const i=Qu(n);return U.from(e?i.next(o):i.prev(o))},ap=(e,n,o)=>Kl(e,n,o).bind(i=>Yl(o,i,n)&&$4(e,o,i)?Kl(e,n,i):U.some(i)),F4=(e,n,o,i)=>ap(e,n,o).bind(c=>i(c)?F4(e,n,c,i):U.some(c)),Vg=(e,n)=>{const o=e?n.firstChild:n.lastChild;return ot(o)?U.some(lt(o,e?0:o.data.length)):o?Gl(o)?U.some(e?lt.before(o):R4(o)):I4(e,n,o):U.none()},Ja=Ve(Kl,!0),kl=Ve(Kl,!1),Oa=Ve(Vg,!0),pu=Ve(Vg,!1),$C="_mce_caret",Dc=e=>at(e)&&e.id===$C,lp=(e,n)=>{let o=n;for(;o&&o!==e;){if(Dc(o))return o;o=o.parentNode}return null},G6=e=>F(e.start),H4=e=>wn(e,"rng"),XY=e=>wn(e,"id"),X6=e=>wn(e,"name"),z4=e=>Tt.isArray(e.start),FC=e=>!X6(e)&&He(e.forward)?e.forward:!0,V4=(e,n)=>(at(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),da=(e,n)=>{const o=U.from(qD(e.getRoot(),n.start)),i=U.from(qD(e.getRoot(),n.end));return Zn(o,i,(c,f)=>{const p=e.createRng();return p.setStart(c.container(),c.offset()),p.setEnd(f.container(),f.offset()),{range:p,forward:FC(n)}})},HC=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(bi);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},Wb=e=>!e.hasChildNodes(),jb=(e,n)=>pu(e).fold(Ue,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),zC=(e,n,o)=>Wb(n)&&lp(e,n)?(HC(n,o),!0):!1,sw=(e,n,o,i)=>{const c=o[n?"start":"end"],f=e.getRoot();if(c){let p=f,w=c[0];for(let x=c.length-1;p&&x>=1;x--){const O=p.childNodes;if(zC(f,p,i))return!0;if(c[x]>O.length-1)return zC(f,p,i)?!0:jb(p,i);p=O[c[x]]}ot(p)&&(w=Math.min(c[0],p.data.length)),at(p)&&(w=Math.min(c[0],p.childNodes.length)),n?i.setStart(p,w):i.setEnd(p,w)}return!0},rw=e=>ot(e)&&e.data.length>0,U4=(e,n,o)=>{const i=e.get(o.id+"_"+n),c=i==null?void 0:i.parentNode,f=o.keep;if(i&&c){let p,w;if(n==="start"?f?i.hasChildNodes()?(p=i.firstChild,w=1):rw(i.nextSibling)?(p=i.nextSibling,w=0):rw(i.previousSibling)?(p=i.previousSibling,w=i.previousSibling.data.length):(p=c,w=e.nodeIndex(i)+1):(p=c,w=e.nodeIndex(i)):f?i.hasChildNodes()?(p=i.firstChild,w=1):rw(i.previousSibling)?(p=i.previousSibling,w=i.previousSibling.data.length):(p=c,w=e.nodeIndex(i)):(p=c,w=e.nodeIndex(i)),!f){const x=i.previousSibling,O=i.nextSibling;Tt.each(Tt.grep(i.childNodes),H=>{ot(H)&&(H.data=H.data.replace(/\uFEFF/g,""))});let $;for(;$=e.get(o.id+"_"+n);)e.remove($,!0);if(ot(O)&&ot(x)&&!Mn.browser.isOpera()){const H=x.data.length;x.appendData(O.data),e.remove(O),p=x,w=H}}return U.some(lt(p,w))}else return U.none()},Y6=(e,n)=>{const o=e.createRng();return sw(e,!0,n,o)&&sw(e,!1,n,o)?U.some({range:o,forward:FC(n)}):U.none()},K6=(e,n)=>{const o=U4(e,"start",n),i=U4(e,"end",n);return Zn(o,i.or(o),(c,f)=>{const p=e.createRng();return p.setStart(V4(e,c.container()),c.offset()),p.setEnd(V4(e,f.container()),f.offset()),{range:p,forward:FC(n)}})},cp=(e,n)=>U.from(e.select(n.name)[n.index]).map(o=>{const i=e.createRng();return i.selectNode(o),{range:i,forward:!0}}),W4=(e,n)=>{const o=e.dom;if(n){if(z4(n))return Y6(o,n);if(G6(n))return da(o,n);if(XY(n))return K6(o,n);if(X6(n))return cp(o,n);if(H4(n))return U.some({range:n.rng,forward:FC(n)})}return U.none()},j4=(e,n,o)=>YD(e,n,o),Wf=(e,n)=>{W4(e,n).each(({range:o,forward:i})=>{e.setRng(o,i)})},Jl=e=>at(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",up=(e=>n=>e===n)(Wr),Wm=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,VC=e=>!Wm(e)&&!up(e)&&!gb(e),iw=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},q4=e=>qe(e,n=>{const o=_l(n);return o?[ye.fromDom(o)]:[]}),J6=e=>iw(e).length>1,Q6=e=>hn(q4(e),Ob),G4=e=>Zi(e,"td[data-mce-selected],th[data-mce-selected]"),UC=(e,n)=>{const o=G4(n);return o.length>0?o:Q6(e)},Ug=e=>UC(iw(e.selection.getSel()),ye.fromDom(e.getBody())),Zb=(e,n)=>ur(e,"table",n),eH=e=>{const n=e.startContainer,o=e.startOffset;return ot(n)?o===0?U.some(ye.fromDom(n)):U.none():U.from(n.childNodes[o]).map(ye.fromDom)},tH=e=>{const n=e.endContainer,o=e.endOffset;return ot(n)?o===n.data.length?U.some(ye.fromDom(n)):U.none():U.from(n.childNodes[o-1]).map(ye.fromDom)},WC=e=>ji(e).fold(_e([e]),n=>[e].concat(WC(n))),jC=e=>zu(e).fold(_e([e]),n=>ho(n)==="br"?Cc(n).map(o=>[e].concat(jC(o))).getOr([]):[e].concat(jC(n))),aw=(e,n)=>Zn(eH(n),tH(n),(o,i)=>{const c=oe(WC(e),Ve(so,o)),f=oe(jC(e),Ve(so,i));return c.isSome()&&f.isSome()}).getOr(!1),ZC=(e,n,o,i)=>{const c=o,f=new Pr(o,c),p=Ys(e.schema.getMoveCaretBeforeOnEnterElements(),(x,O)=>!It(["td","th","table"],O.toLowerCase()));let w=o;do{if(ot(w)&&Tt.trim(w.data).length!==0){i?n.setStart(w,0):n.setEnd(w,w.data.length);return}if(p[w.nodeName]){i?n.setStartBefore(w):w.nodeName==="BR"?n.setEndBefore(w):n.setEndAfter(w);return}}while(w=i?f.next():f.prev());c.nodeName==="BODY"&&(i?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},qC=e=>{const n=e.selection.getSel();return he(n)&&n.rangeCount>0},GC=(e,n)=>{const o=Ug(e);o.length>0?$e(o,i=>{const c=i.dom,f=e.dom.createRng();f.setStartBefore(c),f.setEndAfter(c),n(f,!0)}):n(e.selection.getRng(),!1)},X4=(e,n,o)=>{const i=iC(e,n);o(i),e.moveToBookmark(i)},lw=e=>Be(e==null?void 0:e.nodeType),XC=e=>at(e)&&!Jl(e)&&!Dc(e)&&!xo(e),Do=(e,n)=>{if(XC(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),i=parseInt(o,10);return!isNaN(i)&&i>0}else return!1},jf=(e,n,o)=>{const{selection:i,dom:c}=e,f=i.getNode(),p=lo(f);X4(i,!0,()=>{n()}),p&&lo(f)&&c.isChildOf(f,e.getBody())?e.selection.select(f):o(i.getStart())&&Wg(c,i)},Wg=(e,n)=>{var o,i;const c=n.getRng(),{startContainer:f,startOffset:p}=c,w=n.getNode();if(!Do(e,w)&&at(f)){const x=f.childNodes,O=e.getRoot();let $;if(p<x.length){const H=x[p];$=new Pr(H,(o=e.getParent(H,e.isBlock))!==null&&o!==void 0?o:O)}else{const H=x[x.length-1];$=new Pr(H,(i=e.getParent(H,e.isBlock))!==null&&i!==void 0?i:O),$.next(!0)}for(let H=$.current();H;H=$.next()){if(e.getContentEditable(H)==="false")return;if(ot(H)&&!KC(H)){c.setStart(H,0),n.setRng(c);return}}}},cw=(e,n,o)=>{if(e){const i=n?"nextSibling":"previousSibling";for(e=e[i];e;e=e[i])if(at(e)||!KC(e))return e}},YC=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||_m(e,n),jm=(e,n,o)=>e.schema.isValidChild(n,o),KC=(e,n=!1)=>{if(he(e)&&ot(e)){const o=n?e.data.replace(/ /g," "):e.data;return _(o)}else return!1},JC=e=>he(e)&&ot(e)&&e.length===0,QC=(e,n)=>{const o="[data-mce-cef-wrappable]",i=s6(e),c=Ar(i)?o:`${o},${i}`;return zl(ye.fromDom(n),c)},eE=(e,n)=>{const o=e.dom;return XC(n)&&o.getContentEditable(n)==="false"&&QC(e,n)&&o.select('[contenteditable="true"]',n).length===0},dp=(e,n)=>xe(e)?e(n):(he(n)&&(e=e.replace(/%(\w+)/g,(o,i)=>n[i]||o)),e),Y4=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),K4=(e,n)=>{if(Fe(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=Yu(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},uw=(e,n,o)=>{const i=e.getStyle(n,o);return K4(i,o)},nH=(e,n)=>{let o;return e.getParent(n,i=>at(i)?(o=e.getStyle(i,"text-decoration"),!!o&&o!=="none"):!1),o},dw=(e,n,o)=>e.getParents(n,o,e.getRoot()),fw=(e,n,o)=>{const i=e.formatter.get(n);return he(i)&&zn(i,o)},oH=(e,n)=>fw(e,n,i=>{const c=f=>xe(f)||f.length>1&&f.charAt(0)==="%";return zn(["styles","attributes"],f=>Fo(i,f).exists(p=>{const w=ze(p)?p:cl(p);return zn(w,c)}))}),J4=(e,n,o)=>{const i=["inline","block","selector","attributes","styles","classes"],c=f=>Ys(f,(p,w)=>zn(i,x=>x===w));return fw(e,n,f=>{const p=c(f);return fw(e,o,w=>{const x=c(w);return Il(p,x)})})},Zf=e=>ai(e,"block"),sH=e=>Zf(e)&&e.wrapper===!0,Q4=e=>Zf(e)&&e.wrapper!==!0,Mc=e=>ai(e,"selector"),Si=e=>ai(e,"inline"),rH=e=>Mc(e)&&Si(e)&&vs(Fo(e,"mixed"),!0),tE=e=>Mc(e)&&e.expand!==!1&&!Si(e),iH=e=>{const n=[];let o=e;for(;o;){if(ot(o)&&o.data!==bi||o.childNodes.length>1)return[];at(o)&&n.push(o),o=o.firstChild}return n},eM=e=>iH(e).length>0,nE=e=>Dc(e.dom)&&eM(e.dom),jg=Jl,tM=dw,nM=KC,aH=YC,lH=e=>ao(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,oM=(e,n)=>{let o=n;for(;o;){if(at(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},sM=(e,n,o,i)=>{const c=n.data;if(e){for(let f=o;f>0;f--)if(i(c.charAt(f-1)))return f}else for(let f=o;f<c.length;f++)if(i(c.charAt(f)))return f;return-1},Xt=(e,n,o)=>sM(e,n,o,i=>up(i)||Wm(i)),xi=(e,n,o)=>sM(e,n,o,VC),qb=(e,n,o,i,c,f)=>{let p;const w=e.getParent(o,e.isBlock)||n,x=($,H,Z)=>{const ne=Xh(e),ue=c?ne.backwards:ne.forwards;return U.from(ue($,H,(se,fe)=>jg(se.parentNode)?-1:(p=se,Z(c,se,fe)),w))};return x(o,i,Xt).bind($=>f?x($.container,$.offset+(c?-1:0),xi):U.some($)).orThunk(()=>p?U.some({container:p,offset:c?0:p.length}):U.none())},Ci=(e,n,o,i,c)=>{const f=i[c];ot(i)&&Ar(i.data)&&f&&(i=f);const p=tM(e,i);for(let w=0;w<p.length;w++)for(let x=0;x<n.length;x++){const O=n[x];if(!(he(O.collapsed)&&O.collapsed!==o.collapsed)&&Mc(O)&&e.is(p[w],O.selector))return p[w]}return i},Pc=(e,n,o,i)=>{var c;let f=o;const p=e.getRoot(),w=n[0];if(Zf(w)&&(f=w.wrapper?null:e.getParent(o,w.block,p)),!f){const x=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:p;f=e.getParent(ot(o)?o.parentNode:o,O=>O!==p&&aH(e.schema,O),x)}if(f&&Zf(w)&&w.wrapper&&(f=tM(e,f,"ul,ol").reverse()[0]||f),!f)for(f=o;f&&f[i]&&!e.isBlock(f[i])&&(f=f[i],!Y4(f,"br")););return f||o},oE=(e,n,o,i)=>{const c=o.parentNode;return he(o[i])?!1:c===n||Fe(c)||e.isBlock(c)?!0:oE(e,n,c,i)},fp=(e,n,o,i,c)=>{let f=o;const p=c?"previousSibling":"nextSibling",w=e.getRoot();if(ot(o)&&!nM(o)&&(c?i>0:i<o.data.length))return o;for(;f;){if(!n[0].block_expand&&e.isBlock(f))return f;for(let x=f[p];x;x=x[p]){const O=ot(x)&&!oE(e,w,x,p);if(!jg(x)&&!lH(x)&&!nM(x,O))return f}if(f===w||f.parentNode===w){o=f;break}f=f.parentNode}return o},mw=e=>jg(e.parentNode)||jg(e),mp=(e,n,o,i=!1)=>{let{startContainer:c,startOffset:f,endContainer:p,endOffset:w}=n;const x=o[0];return at(c)&&c.hasChildNodes()&&(c=Im(c,f),ot(c)&&(f=0)),at(p)&&p.hasChildNodes()&&(p=Im(p,n.collapsed?w:w-1),ot(p)&&(w=p.data.length)),c=oM(e,c),p=oM(e,p),mw(c)&&(c=jg(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,ot(c)&&(f=n.collapsed?c.length:0)),mw(p)&&(p=jg(p)?p:p.parentNode,n.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,ot(p)&&(w=n.collapsed?0:p.length)),n.collapsed&&(qb(e,e.getRoot(),c,f,!0,i).each(({container:H,offset:Z})=>{c=H,f=Z}),qb(e,e.getRoot(),p,w,!1,i).each(({container:H,offset:Z})=>{p=H,w=Z})),(Si(x)||x.block_expand)&&((!Si(x)||!ot(c)||f===0)&&(c=fp(e,o,c,f,!0)),(!Si(x)||!ot(p)||w===p.data.length)&&(p=fp(e,o,p,w,!1))),tE(x)&&(c=Ci(e,o,n,c,"previousSibling"),p=Ci(e,o,n,p,"nextSibling")),(Zf(x)||Mc(x))&&(c=Pc(e,o,c,"previousSibling"),p=Pc(e,o,p,"nextSibling"),Zf(x)&&(e.isBlock(c)||(c=fp(e,o,c,f,!0),ot(c)&&(f=0)),e.isBlock(p)||(p=fp(e,o,p,w,!1),ot(p)&&(w=p.data.length)))),at(c)&&c.parentNode&&(f=e.nodeIndex(c),c=c.parentNode),at(p)&&p.parentNode&&(w=e.nodeIndex(p)+1,p=p.parentNode),{startContainer:c,startOffset:f,endContainer:p,endOffset:w}},Gb=(e,n,o)=>{var i;const c=n.startOffset,f=Im(n.startContainer,c),p=n.endOffset,w=Im(n.endContainer,p-1),x=fe=>{const Se=fe[0];ot(Se)&&Se===f&&c>=Se.data.length&&fe.splice(0,1);const Pe=fe[fe.length-1];return p===0&&fe.length>0&&Pe===w&&ot(Pe)&&fe.splice(fe.length-1,1),fe},O=(fe,Se,Pe)=>{const De=[];for(;fe&&fe!==Pe;fe=fe[Se])De.push(fe);return De},$=(fe,Se)=>e.getParent(fe,Pe=>Pe.parentNode===Se,Se),H=(fe,Se,Pe)=>{const De=Pe?"nextSibling":"previousSibling";for(let je=fe,yt=je.parentNode;je&&je!==Se;je=yt){yt=je.parentNode;const Nt=O(je===fe?je:je[De],De);Nt.length&&(Pe||Nt.reverse(),o(x(Nt)))}};if(f===w)return o(x([f]));const Z=(i=e.findCommonAncestor(f,w))!==null&&i!==void 0?i:e.getRoot();if(e.isChildOf(f,w))return H(f,Z,!0);if(e.isChildOf(w,f))return H(w,Z);const ne=$(f,Z)||f,ue=$(w,Z)||w;H(f,ne,!0);const se=O(ne===f?ne:ne.nextSibling,"nextSibling",ue===w?ue.nextSibling:ue);se.length&&o(x(se)),H(w,ue)},rM=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],cH=e=>Wi(e)&&Dm(e)===bi,uH=(e,n,o,i)=>Dr(n).fold(()=>"skipping",c=>i==="br"||cH(n)?"valid":fF(n)?"existing":Dc(n.dom)?"caret":zn(rM,f=>zl(n,f))?"valid-block":!jm(e,o,i)||!jm(e,ho(c),o)?"invalid-child":"valid"),dH=(e,n)=>{const o=mp(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},sE=(e,n,o,i,c,f)=>{const{uid:p=n,...w}=o;iu(e,_b()),zr(e,`${Ag()}`,p),zr(e,`${Zh()}`,i);const{attributes:x={},classes:O=[]}=c(p,w);if(Sc(e,x),hF(e,O),f){O.length>0&&zr(e,`${Dg()}`,O.join(","));const $=Lo(x);$.length>0&&zr(e,`${qh()}`,$.join(","))}},fH=e=>{Hu(e,_b()),Ur(e,`${Ag()}`),Ur(e,`${Zh()}`),Ur(e,`${Og()}`);const n=Vr(e,`${qh()}`).map(i=>i.split(",")).getOr([]),o=Vr(e,`${Dg()}`).map(i=>i.split(",")).getOr([]);$e(n,i=>Ur(e,i)),pF(e,o),Ur(e,`${Dg()}`),Ur(e,`${qh()}`)},rE=(e,n,o,i,c)=>{const f=ye.fromTag("span",e);return sE(f,n,o,i,c,!1),f},hw=(e,n,o,i,c,f)=>{const p=[],w=rE(e.getDoc(),o,f,i,c),x=Xi(),O=()=>{x.clear()},$=()=>x.get().getOrThunk(()=>{const ue=Gh(w);return p.push(ue),x.set(ue),ue}),H=ue=>{$e(ue,Z)},Z=ue=>{switch(uH(e,ue,"span",ho(ue))){case"invalid-child":{O();const fe=Kr(ue);H(fe),O();break}case"valid-block":{O(),sE(ue,o,f,i,c,!0);break}case"valid":{const fe=$();Bh(ue,fe);break}}},ne=ue=>{const se=nn(ue,ye.fromDom);H(se)};return Gb(e.dom,n,ue=>{O(),ne(ue)}),p},pw=(e,n,o,i)=>{e.undoManager.transact(()=>{const c=e.selection,f=c.getRng(),p=Ug(e).length>0,w=kb("mce-annotation");if(f.collapsed&&!p&&dH(e,f),c.getRng().collapsed&&!p){const x=rE(e.getDoc(),w,i,n,o.decorate);Of(x,Wr),c.getRng().insertNode(x.dom),c.select(x.dom)}else X4(c,!1,()=>{GC(e,x=>{hw(e,x,w,n,o.decorate,i)})})})},gw=e=>{const n=mF();xD(e,n);const o=$x(e,n),i=ru("span"),c=f=>{$e(f,p=>{i(p)?Tc(p):fH(p)})};return{register:(f,p)=>{n.register(f,p)},annotate:(f,p)=>{n.lookup(f).each(w=>{pw(e,f,w,p)})},annotationChanged:(f,p)=>{o.addListener(f,p)},remove:f=>{Ay(e,U.some(f)).each(({elements:p})=>{const w=e.selection.getBookmark();c(p),e.selection.moveToBookmark(w)})},removeAll:f=>{const p=e.selection.getBookmark();_t(SD(e,f),(w,x)=>{c(w)}),e.selection.moveToBookmark(p)},getAll:f=>{const p=SD(e,f);return Gn(p,w=>nn(w,x=>x.dom))}}},Zm=e=>({getBookmark:Ve(j4,e),moveToBookmark:Ve(Wf,e)});Zm.isBookmarkNode=Jl;const vw=(e,n,o)=>o.collapsed?!1:zn(o.getClientRects(),i=>_F(i,e,n)),mH=(e,n)=>e.dispatch("PreProcess",n),bw=(e,n)=>e.dispatch("PostProcess",n),yw=e=>{e.dispatch("remove")},hH=e=>{e.dispatch("detach")},pH=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},gH=(e,n,o,i,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:i,origin:c})},vH=(e,n,o,i,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:i,origin:c})},iM=e=>{e.dispatch("PreInit")},aM=e=>{e.dispatch("PostRender")},bH=e=>{e.dispatch("Init")},ww=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},Ji=(e,n,o)=>{e.dispatch(n,o)},Nc=(e,n,o,i)=>{e.dispatch("FormatApply",{format:n,node:o,vars:i})},Ql=(e,n,o,i)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:i})},Sw=(e,n)=>e.dispatch("BeforeSetContent",n),xw=(e,n)=>e.dispatch("SetContent",n),yH=(e,n)=>e.dispatch("BeforeGetContent",n),Cw=(e,n)=>e.dispatch("GetContent",n),wH=(e,n)=>{e.dispatch("AutocompleterStart",n)},iE=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},aE=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},lE=e=>{e.dispatch("AutocompleterEnd")},lM=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),cM=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),Ew=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),cE=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),kt={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||kt.metaKeyPressed(e),metaKeyPressed:e=>Mn.os.isMacOS()||Mn.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},ec="data-mce-selected",uM="table,img,figure.image,hr,video,span.mce-preview-object,details",uE=Math.abs,Xb=Math.round,Yb={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},dM=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Tw=(e,n)=>{const o=n.dom,i=n.getDoc(),c=document,f=n.getBody();let p,w,x,O,$,H,Z,ne,ue,se,fe,Se,Pe,De,je,yt,Nt;const Zt=Ut=>he(Ut)&&(Xa(Ut)||o.is(Ut,"figure.image")),ct=Ut=>fr(Ut)||o.hasClass(Ut,"mce-preview-object"),Ke=(Ut,no)=>{if(dM(Ut)){const fo=Ut.touches[0];return Zt(Ut.target)&&!vw(fo.clientX,fo.clientY,no)}else return Zt(Ut.target)&&!vw(Ut.clientX,Ut.clientY,no)},vt=Ut=>{const no=Ut.target;Ke(Ut,n.selection.getRng())&&!Ut.isDefaultPrevented()&&n.selection.select(no)},Jt=Ut=>o.hasClass(Ut,"mce-preview-object")&&he(Ut.firstElementChild)?[Ut,Ut.firstElementChild]:o.is(Ut,"figure.image")?[Ut.querySelector("img")]:[Ut],fn=Ut=>{const no=Oc(n);return!no||Ut.getAttribute("data-mce-resize")==="false"||Ut===n.getBody()?!1:o.hasClass(Ut,"mce-preview-object")&&he(Ut.firstElementChild)?zl(ye.fromDom(Ut.firstElementChild),no):zl(ye.fromDom(Ut),no)},ro=(Ut,no)=>{if(ct(no))return Ut.create("img",{src:Mn.transparentSrc});if(hs(no)){const si=es(O.name,"n")?kn:Un,jo=no.cloneNode(!0);return si(Ut.select("tr",jo)).each(qr=>{const jc=Ut.select("td,th",qr);Ut.setStyle(qr,"height",null),$e(jc,ud=>Ut.setStyle(ud,"height",null))}),jo}else return no.cloneNode(!0)},uo=(Ut,no,fo)=>{if(he(fo)){const si=Jt(Ut);$e(si,jo=>{jo.style[no]||!n.schema.isValid(jo.nodeName.toLowerCase(),no)?o.setStyle(jo,no,fo):o.setAttrib(jo,no,""+fo)})}},zo=(Ut,no,fo)=>{uo(Ut,"width",no),uo(Ut,"height",fo)},Yo=Ut=>{let no,fo,si,jo,qr;no=Ut.screenX-H,fo=Ut.screenY-Z,De=no*O[2]+se,je=fo*O[3]+fe,De=De<5?5:De,je=je<5?5:je,(Zt(p)||ct(p))&&Wy(n)!==!1?si=!kt.modifierPressed(Ut):si=kt.modifierPressed(Ut),si&&(uE(no)>uE(fo)?(je=Xb(De*Se),De=Xb(je/Se)):(De=Xb(je/Se),je=Xb(De*Se))),zo(w,De,je),jo=O.startPos.x+no,qr=O.startPos.y+fo,jo=jo>0?jo:0,qr=qr>0?qr:0,o.setStyles(x,{left:jo,top:qr,display:"block"}),x.innerHTML=De+" &times; "+je,O[2]<0&&w.clientWidth<=De&&o.setStyle(w,"left",ne+(se-De)),O[3]<0&&w.clientHeight<=je&&o.setStyle(w,"top",ue+(fe-je)),no=f.scrollWidth-yt,fo=f.scrollHeight-Nt,no+fo!==0&&o.setStyles(x,{left:jo-no,top:qr-fo}),Pe||(gH(n,p,se,fe,"corner-"+O.name),Pe=!0)},or=()=>{const Ut=Pe;Pe=!1,Ut&&(uo(p,"width",De),uo(p,"height",je)),o.unbind(i,"mousemove",Yo),o.unbind(i,"mouseup",or),c!==i&&(o.unbind(c,"mousemove",Yo),o.unbind(c,"mouseup",or)),o.remove(w),o.remove(x),o.remove($),Ir(p),Ut&&(vH(n,p,De,je,"corner-"+O.name),o.setAttrib(p,"style",o.getAttrib(p,"style"))),n.nodeChanged()},Ir=Ut=>{Vt();const no=o.getPos(Ut,f),fo=no.x,si=no.y,jo=Ut.getBoundingClientRect(),qr=jo.width||jo.right-jo.left,jc=jo.height||jo.bottom-jo.top;p!==Ut&&(Rt(),p=Ut,De=je=0);const ud=n.dispatch("ObjectSelected",{target:Ut});fn(Ut)&&!ud.isDefaultPrevented()?_t(Yb,(Na,nl)=>{const mc=hc=>{const mn=Jt(p)[0];H=hc.screenX,Z=hc.screenY,se=mn.clientWidth,fe=mn.clientHeight,Se=fe/se,O=Na,O.name=nl,O.startPos={x:qr*Na[0]+fo,y:jc*Na[1]+si},yt=f.scrollWidth,Nt=f.scrollHeight,$=o.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles($,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),w=ro(o,p),o.addClass(w,"mce-clonedresizable"),o.setAttrib(w,"data-mce-bogus","all"),w.contentEditable="false",o.setStyles(w,{left:fo,top:si,margin:0}),zo(w,qr,jc),w.removeAttribute(ec),f.appendChild(w),o.bind(i,"mousemove",Yo),o.bind(i,"mouseup",or),c!==i&&(o.bind(c,"mousemove",Yo),o.bind(c,"mouseup",or)),x=o.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},se+" &times; "+fe)};let ol=o.get("mceResizeHandle"+nl);ol&&o.remove(ol),ol=o.add(f,"div",{id:"mceResizeHandle"+nl,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+nl+"-resize; margin:0; padding:0"}),o.bind(ol,"mousedown",hc=>{hc.stopImmediatePropagation(),hc.preventDefault(),mc(hc)}),Na.elm=ol,o.setStyles(ol,{left:qr*Na[0]+fo-ol.offsetWidth/2,top:jc*Na[1]+si-ol.offsetHeight/2})}):Rt(!1)},ss=Eb(Ir,0),Rt=(Ut=!0)=>{ss.cancel(),Vt(),p&&Ut&&p.removeAttribute(ec),_t(Yb,(no,fo)=>{const si=o.get("mceResizeHandle"+fo);si&&(o.unbind(si),o.remove(si))})},ln=(Ut,no)=>o.isChildOf(Ut,no),Mo=Ut=>{if(Pe||n.removed||n.composing)return;const no=Ut.type==="mousedown"?Ut.target:e.getNode(),fo=Ec(ye.fromDom(no),uM).map(jo=>jo.dom).filter(jo=>o.isEditable(jo.parentElement)||jo.nodeName==="IMG"&&o.isEditable(jo)).getOrUndefined(),si=he(fo)?o.getAttrib(fo,ec,"1"):"1";if($e(o.select(`img[${ec}],hr[${ec}]`),jo=>{jo.removeAttribute(ec)}),he(fo)&&ln(fo,f)&&n.hasFocus()){yn();const jo=e.getStart(!0);if(ln(jo,fo)&&ln(e.getEnd(!0),fo)){o.setAttrib(fo,ec,si),ss.throttle(fo);return}}Rt()},Vt=()=>{_t(Yb,Ut=>{Ut.elm&&(o.unbind(Ut.elm),delete Ut.elm)})},yn=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{yn(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Mo),n.on("keyup compositionend",Ut=>{p&&p.nodeName==="TABLE"&&Mo(Ut)}),n.on("hide blur",Rt),n.on("contextmenu longpress",vt,!0)}),n.on("remove",Vt),{isResizable:fn,showResizeRect:Ir,hideResizeRect:Rt,updateResizeRect:Mo,destroy:()=>{ss.cancel(),p=w=$=null}}},SH=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,i)=>{e.setStart(o.dom,i)},o=>{e.setStartAfter(o.dom)})},xH=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,i)=>{e.setEnd(o.dom,i)},o=>{e.setEndAfter(o.dom)})},dE=(e,n,o)=>{const i=e.document.createRange();return SH(i,n),xH(i,o),i},fE=(e,n,o,i,c)=>{const f=e.document.createRange();return f.setStart(n.dom,o),f.setEnd(i.dom,c),f},hp=Hd.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),fM=(e,n,o)=>n(ye.fromDom(o.startContainer),o.startOffset,ye.fromDom(o.endContainer),o.endOffset),mM=(e,n)=>n.match({domRange:o=>({ltr:_e(o),rtl:U.none}),relative:(o,i)=>({ltr:Qe(()=>dE(e,o,i)),rtl:Qe(()=>U.some(dE(e,i,o)))}),exact:(o,i,c,f)=>({ltr:Qe(()=>fE(e,o,i,c,f)),rtl:Qe(()=>U.some(fE(e,c,f,o,i)))})}),CH=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>hp.rtl(ye.fromDom(c.endContainer),c.endOffset,ye.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>fM(e,hp.ltr,o)):fM(e,hp.ltr,o)},EH=(e,n)=>{const o=mM(e,n);return CH(e,o)};hp.ltr,hp.rtl;const Al={create:(e,n,o,i)=>({start:e,soffset:n,finish:o,foffset:i})},Da=(e,n,o)=>{var i;return U.from((i=e.caretPositionFromPoint)===null||i===void 0?void 0:i.call(e,n,o)).bind(c=>{if(c.offsetNode===null)return U.none();const f=e.createRange();return f.setStart(c.offsetNode,c.offset),f.collapse(),U.some(f)})},Zg=(e,n,o)=>{var i;return U.from((i=e.caretRangeFromPoint)===null||i===void 0?void 0:i.call(e,n,o))},KY=(e,n,o)=>e.caretPositionFromPoint?Da(e,n,o):e.caretRangeFromPoint?Zg(e,n,o):U.none(),TH=(e,n,o)=>{const i=e.document;return KY(i,n,o).map(c=>Al.create(ye.fromDom(c.startContainer),c.startOffset,ye.fromDom(c.endContainer),c.endOffset))},mE=Hd.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ko=(e,n,o,i)=>e.fold(n,o,i),_H=e=>e.fold($t,$t,$t),hM=mE.before,hE=mE.on,kH=mE.after,qf={before:hM,on:hE,after:kH,cata:ko,getStart:_H},_w=Hd.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),AH=e=>_w.exact(e.start,e.soffset,e.finish,e.foffset),OH=e=>e.match({domRange:n=>ye.fromDom(n.startContainer),relative:(n,o)=>qf.getStart(n),exact:(n,o,i,c)=>n}),DH=_w.domRange,pE=_w.relative,gE=_w.exact,pM=e=>{const n=OH(e);return Cf(n)},JY=Al.create,qg={domRange:DH,relative:pE,exact:gE,exactFromRange:AH,getWin:pM,range:JY},vE=(e,n)=>{const o=ho(e);return o==="input"?qf.after(e):It(["br","img"],o)?n===0?qf.before(e):qf.after(e):qf.on(e,n)},QY=(e,n)=>{const o=e.fold(qf.before,vE,qf.after),i=n.fold(qf.before,vE,qf.after);return qg.relative(o,i)},gM=(e,n,o,i)=>{const c=vE(e,n),f=vE(o,i);return qg.relative(c,f)},MH=e=>e.match({domRange:n=>{const o=ye.fromDom(n.startContainer),i=ye.fromDom(n.endContainer);return gM(o,n.startOffset,i,n.endOffset)},relative:QY,exact:gM}),On=(e,n)=>{const i=document.createDocumentFragment();return $e(e,c=>{i.appendChild(c.dom)}),ye.fromDom(i)},vM=e=>{const n=qg.getWin(e).dom,o=(c,f,p,w)=>fE(n,c,f,p,w),i=MH(e);return EH(n,i).match({ltr:o,rtl:o})},PH=(e,n,o)=>TH(e,n,o),bM=(e,n,o)=>{const i=Cf(ye.fromDom(o));return PH(i.dom,e,n).map(c=>{const f=o.createRange();return f.setStart(c.start.dom,c.soffset),f.setEnd(c.finish.dom,c.foffset),f}).getOrUndefined()},pp=(e,n)=>he(e)&&he(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,NH=(e,n,o)=>{let i=e;for(;i&&i!==n;){if(o(i))return i;i=i.parentNode}return null},yM=(e,n,o)=>NH(e,n,o)!==null,LH=(e,n,o)=>yM(e,n,i=>i.nodeName===o),IH=(e,n)=>El(e)&&!yM(e,n,Dc),kw=(e,n,o)=>{const i=n.parentNode;if(i){const c=new Pr(n,e.getParent(i,e.isBlock)||e.getRoot());let f;for(;f=c[o?"prev":"next"]();)if(ao(f))return!0}return!1},RH=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},BH=(e,n)=>{let o=n;for(;o&&o!==e;){if(lo(o))return!0;o=o.parentNode}return!1},Aw=(e,n,o,i,c)=>{const f=e.getRoot(),p=e.schema.getNonEmptyElements(),w=c.parentNode;let x,O;if(!w)return U.none();const $=e.getParent(w,e.isBlock)||f;if(i&&ao(c)&&n&&e.isEmpty($))return U.some(lt(w,e.nodeIndex(c)));const H=new Pr(c,$);for(;O=H[i?"prev":"next"]();){if(e.getContentEditableParent(O)==="false"||IH(O,f))return U.none();if(ot(O)&&O.data.length>0)return LH(O,f,"A")?U.none():U.some(lt(O,i?O.data.length:0));if(e.isBlock(O)||p[O.nodeName.toLowerCase()])return U.none();x=O}return _o(x)?U.none():o&&x?U.some(lt(x,0)):U.none()},bE=(e,n,o,i)=>{const c=e.getRoot();let f,p=!1,w=o?i.startContainer:i.endContainer,x=o?i.startOffset:i.endOffset;const O=at(w)&&x===w.childNodes.length,$=e.schema.getNonEmptyElements();let H=o;if(El(w))return U.none();if(at(w)&&x>w.childNodes.length-1&&(H=!1),_s(w)&&(w=c,x=0),w===c){if(H&&(f=w.childNodes[x>0?x-1:0],f&&(El(f)||$[f.nodeName]||hs(f))))return U.none();if(w.hasChildNodes()){if(x=Math.min(!H&&x>0?x-1:x,w.childNodes.length-1),w=w.childNodes[x],x=ot(w)&&O?w.data.length:0,!n&&w===c.lastChild&&hs(w)||BH(c,w)||El(w)||Pi(w))return U.none();if(w.hasChildNodes()&&!hs(w)){f=w;const Z=new Pr(w,c);do{if(lo(f)||El(f)){p=!1;break}if(ot(f)&&f.data.length>0){x=H?0:f.data.length,w=f,p=!0;break}if($[f.nodeName.toLowerCase()]&&!Ro(f)){x=e.nodeIndex(f),w=f.parentNode,H||x++,p=!0;break}}while(f=H?Z.next():Z.prev())}}}return n&&(ot(w)&&x===0&&Aw(e,O,n,!0,w).each(Z=>{w=Z.container(),x=Z.offset(),p=!0}),at(w)&&(f=w.childNodes[x],f||(f=w.childNodes[x-1]),f&&ao(f)&&!RH(f,"A")&&!kw(e,f,!1)&&!kw(e,f,!0)&&Aw(e,O,n,!0,f).each(Z=>{w=Z.container(),x=Z.offset(),p=!0}))),H&&!n&&ot(w)&&x===w.data.length&&Aw(e,O,n,!1,w).each(Z=>{w=Z.container(),x=Z.offset(),p=!0}),p&&w?U.some(lt(w,x)):U.none()},Kb=(e,n)=>{const o=n.collapsed,i=n.cloneRange(),c=lt.fromRangeStart(n);return bE(e,o,!0,i).each(f=>{(!o||!lt.isAbove(c,f))&&i.setStart(f.container(),f.offset())}),o||bE(e,o,!1,i).each(f=>{i.setEnd(f.container(),f.offset())}),o&&i.collapse(!0),pp(n,i)?U.none():U.some(i)},Ow=(e,n)=>e.splitText(n),Dw=e=>{let n=e.startContainer,o=e.startOffset,i=e.endContainer,c=e.endOffset;if(n===i&&ot(n)){if(o>0&&o<n.data.length)if(i=Ow(n,o),n=i.previousSibling,c>o){c=c-o;const f=Ow(i,c).previousSibling;n=i=f,c=f.data.length,o=0}else c=0}else if(ot(n)&&o>0&&o<n.data.length&&(n=Ow(n,o),o=0),ot(i)&&c>0&&c<i.data.length){const f=Ow(i,c).previousSibling;i=f,c=f.data.length}return{startContainer:n,startOffset:o,endContainer:i,endOffset:c}},qm=e=>({walk:(f,p)=>Gb(e,f,p),split:Dw,expand:(f,p={type:"word"})=>{if(p.type==="word"){const w=mp(e,f,[{inline:"span"}]),x=e.createRng();return x.setStart(w.startContainer,w.startOffset),x.setEnd(w.endContainer,w.endOffset),x}return f},normalize:f=>Kb(e,f).fold(Ue,p=>(f.setStart(p.startContainer,p.startOffset),f.setEnd(p.endContainer,p.endOffset),!0))});qm.compareRanges=pp,qm.getCaretRangeFromPoint=bM,qm.getSelectedNode=_l,qm.getNode=Im;const $H=((e,n)=>{const o=(w,x)=>{if(!Be(x)&&!x.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+x);const O=w.dom;kd(O)&&(O.style[e]=x+"px")},i=w=>{const x=n(w);if(x<=0||x===null){const O=dr(w,e);return parseFloat(O)||0}return x},c=i,f=(w,x)=>Gs(x,(O,$)=>{const H=dr(w,$),Z=H===void 0?0:parseInt(H,10);return isNaN(Z)?O:O+Z},0);return{set:o,get:i,getOuter:c,aggregate:f,max:(w,x,O)=>{const $=f(w,O);return x>$?x-$:0}}})("height",e=>{const n=e.dom;return Vu(e)?n.getBoundingClientRect().height:n.offsetHeight}),Ho=e=>$H.get(e),wM=()=>ye.fromDom(document),Vd=(e,n)=>e.view(n).fold(_e([]),i=>{const c=e.owner(i),f=Vd(e,c);return[i].concat(f)}),Ud=(e,n)=>{const o=n.owner(e);return Vd(n,o)};var Mw=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?U.none():U.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(ye.fromDom)},owner:e=>Vl(e)});const Jb=e=>{const n=wM(),o=Bn(n),i=Ud(e,Mw),c=Wn(e),f=Gr(i,(p,w)=>{const x=Wn(w);return{left:p.left+x.left,top:p.top+x.top}},{left:0,top:0});return pe(f.left+c.left+o.left,f.top+c.top+o.top)},Gg=e=>ho(e)==="textarea",Xg=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),FH=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},HH=(e,n)=>{const o=Kr(e);if(o.length===0||Gg(e))return{element:e,offset:n};if(n<o.length&&!Gg(o[n]))return{element:o[n],offset:0};{const i=o[o.length-1];return Gg(i)?{element:e,offset:n}:ho(i)==="img"?{element:i,offset:1}:Wi(i)?{element:i,offset:Dm(i).length}:{element:i,offset:Kr(i).length}}},SM=(e,n)=>{const o=xn(e),i=Ho(e);return{element:e,bottom:o.top+i,height:i,pos:o,cleanup:n}},zH=(e,n)=>{const o=HH(e,n),i=ye.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+bi+"</span>");return Mi(o.element,i),SM(i,()=>ms(i))},Ao=e=>SM(ye.fromDom(e),Oe),gu=(e,n,o,i)=>{No(e,(c,f)=>VH(e,n,o,i),o)},Gm=(e,n,o,i,c)=>{const f={elm:i.element.dom,alignToTop:c};if(Xg(e,f))return;const p=Bn(n).top;o(e,n,p,i,c),FH(e,f)},VH=(e,n,o,i)=>{const c=ye.fromDom(e.getBody()),f=ye.fromDom(e.getDoc());Od(c);const p=zH(ye.fromDom(o.startContainer),o.startOffset);Gm(e,f,n,p,i),p.cleanup()},Yg=(e,n,o,i)=>{const c=ye.fromDom(e.getDoc());Gm(e,c,o,Ao(n),i)},No=(e,n,o)=>{const i=o.startContainer,c=o.startOffset,f=o.endContainer,p=o.endOffset;n(ye.fromDom(i),ye.fromDom(f));const w=e.dom.createRng();w.setStart(i,c),w.setEnd(f,p),e.selection.setRng(o)},wE=(e,n,o,i,c)=>{const f=n.pos;if(i)pn(f.left,f.top,c);else{const p=f.top-o+n.height;pn(-e.getBody().getBoundingClientRect().left,p,c)}},SE=(e,n,o,i,c,f)=>{const p=i+o,w=c.pos.top,x=c.bottom,O=x-w>=i;w<o?wE(e,c,i,f!==!1,n):w>p?wE(e,c,i,O?f!==!1:f===!0,n):x>p&&!O&&wE(e,c,i,f===!0,n)},Pw=(e,n,o,i,c)=>{const f=Cf(n).dom.innerHeight;SE(e,n,o,f,i,c)},xM=(e,n,o,i,c)=>{const f=Cf(n).dom.innerHeight;SE(e,n,o,f,i,c);const p=Jb(i.element),w=cu(window);p.top<w.y?Ko(i.element,c!==!1):p.top>w.bottom&&Ko(i.element,c===!0)},gp=(e,n,o)=>gu(e,Pw,n,o),vp=(e,n,o)=>Yg(e,n,Pw,o),CM=(e,n,o)=>gu(e,xM,n,o),UH=(e,n,o)=>Yg(e,n,xM,o),WH=(e,n,o)=>{(e.inline?vp:UH)(e,n,o)},Qb=(e,n,o)=>{(e.inline?gp:CM)(e,n,o)},Kg=(e,n=!1)=>e.dom.focus({preventScroll:n}),bp=e=>{const n=Wl(e).dom;return e.dom===n.activeElement},xE=(e=wM())=>U.from(e.dom.activeElement).map(ye.fromDom),EM=e=>xE(Wl(e)).filter(n=>e.dom.contains(n.dom)),TM=(e,n)=>{const o=Wi(n)?Dm(n).length:Kr(n).length+1;return e>o?o:e<0?0:e},jH=e=>qg.range(e.start,TM(e.soffset,e.start),e.finish,TM(e.foffset,e.finish)),_M=(e,n)=>!an(n.dom)&&(Oi(e,n)||so(e,n)),CE=e=>n=>_M(e,n.start)&&_M(e,n.finish),tK=e=>e.inline||Mn.browser.isFirefox(),ZH=e=>qg.range(ye.fromDom(e.startContainer),e.startOffset,ye.fromDom(e.endContainer),e.endOffset),kM=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?U.none():U.from(n.getRangeAt(0))).map(ZH)},EE=e=>{const n=Cf(e);return kM(n.dom).filter(CE(e))},TE=(e,n)=>U.from(n).filter(CE(e)).map(jH),_E=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),U.some(n)}catch{return U.none()}},e1=e=>{const n=tK(e)?EE(ye.fromDom(e.getBody())):U.none();e.bookmark=n.isSome()?n:e.bookmark},Nw=e=>(e.bookmark?e.bookmark:U.none()).bind(o=>TE(ye.fromDom(e.getBody()),o)).bind(_E),AM=e=>{Nw(e).each(n=>e.selection.setRng(n))},OM={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},DM=(e,n)=>(Be(n)||(n=0),setTimeout(e,n)),qH=(e,n)=>(Be(n)||(n=0),setInterval(e,n)),nc={setEditorTimeout:(e,n,o)=>DM(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const i=qH(()=>{e.removed?clearInterval(i):n()},o);return i}},MM=e=>e.type==="nodechange"&&e.selectionChange,PM=(e,n)=>{const o=()=>{n.throttle()};Fs.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Fs.DOM.unbind(document,"mouseup",o)})},NM=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},LM=(e,n)=>{NM(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{MM(o)||e1(e)})},GH=e=>{const n=Eb(()=>{e1(e)},0);e.on("init",()=>{e.inline&&PM(e,n),LM(e,n)}),e.on("remove",()=>{n.cancel()})};let Jg;const AE=Fs.DOM,XH=e=>at(e)&&OM.isEditorUIElement(e),OE=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},Lw=(e,n)=>{const o=r6(e);return AE.getParent(n,c=>XH(c)||(o?e.dom.is(c,o):!1))!==null},DE=e=>{try{const n=Wl(ye.fromDom(e.getElement()));return xE(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},YH=(e,n)=>{const o=n.editor;GH(o);const i=(c,f)=>{if(Ky(c)&&c.inline!==!0){const p=ye.fromDom(c.getContainer());f(p,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;OE(DE(o))&&i(o,iu),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{nc.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!OE(DE(o))||c!==o)&&i(o,Hu),!Lw(o,DE(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Jg||(Jg=c=>{const f=e.activeEditor;f&&pg(c).each(p=>{const w=p;w.ownerDocument===document&&w!==document.body&&!Lw(f,w)&&e.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},AE.bind(document,"focusin",Jg))},Iw=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&Jg&&(AE.unbind(document,"focusin",Jg),Jg=null)},IM=e=>{e.on("AddEditor",Ve(YH,e)),e.on("RemoveEditor",Ve(Iw,e))},KH=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),RM=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="false")!==null,BM=e=>e.collapsed?U.from(Im(e.startContainer,e.startOffset)).map(ye.fromDom):U.none(),JH=(e,n)=>BM(n).bind(o=>AD(o)?U.some(o):Oi(e,o)?U.none():U.some(e)),$M=(e,n)=>{JH(ye.fromDom(e.getBody()),n).bind(o=>Oa(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},Rw=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},QH=e=>bp(e)||EM(e).isSome(),e7=e=>he(e.iframeElement)&&bp(ye.fromDom(e.iframeElement)),FM=e=>{const n=e.getBody();return n&&QH(ye.fromDom(n))},HM=e=>{const n=Wl(ye.fromDom(e.getElement()));return xE(n).filter(o=>!OE(o.dom)&&Lw(e,o.dom)).isSome()},Gf=e=>e.inline?FM(e):e7(e),zM=e=>Gf(e)||HM(e),t7=e=>{const n=e.selection,o=e.getBody();let i=n.getRng();e.quirks.refreshContentEditable();const c=p=>{Nw(p).each(w=>{p.selection.setRng(w),i=w})};!Gf(e)&&e.hasEditableRoot()&&c(e);const f=KH(e,n.getNode());if(f&&e.dom.isChildOf(f,o)){RM(e,f)||Rw(o),Rw(f),e.hasEditableRoot()||c(e),$M(e,i),t1(e);return}e.inline||(Mn.browser.isOpera()||Rw(o),e.getWin().focus()),(Mn.browser.isFirefox()||e.inline)&&(Rw(o),$M(e,i)),t1(e)},t1=e=>e.editorManager.setActive(e),n7=(e,n)=>{e.removed||(n?t1(e):t7(e))},ME=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),PE=(e,n,o,i,c)=>{const f=o?n.startContainer:n.endContainer,p=o?n.startOffset:n.endOffset;return U.from(f).map(ye.fromDom).map(w=>!i||!n.collapsed?Ta(w,c(w,p)).getOr(w):w).bind(w=>Ai(w)?U.some(w):Dr(w).filter(Ai)).map(w=>w.dom).getOr(e)},NE=(e,n,o=!1)=>PE(e,n,!0,o,(i,c)=>Math.min(_d(i),c)),VM=(e,n,o=!1)=>PE(e,n,!1,o,(i,c)=>c>0?c-1:c),UM=(e,n)=>{const o=e;for(;e&&ot(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},o7=(e,n)=>{if(!n)return e;let o=n.startContainer,i=n.endContainer;const c=n.startOffset,f=n.endOffset;let p=n.commonAncestorContainer;n.collapsed||(o===i&&f-c<2&&o.hasChildNodes()&&(p=o.childNodes[c]),ot(o)&&ot(i)&&(o.length===c?o=UM(o.nextSibling,!0):o=o.parentNode,f===0?i=UM(i.previousSibling,!1):i=i.parentNode,o&&o===i&&(p=o)));const w=ot(p)?p.parentNode:p;return Tn(w)?w:e},s7=(e,n,o,i)=>{const c=[],f=e.getRoot(),p=e.getParent(o||NE(f,n,n.collapsed),e.isBlock),w=e.getParent(i||VM(f,n,n.collapsed),e.isBlock);if(p&&p!==f&&c.push(p),p&&w&&p!==w){let x;const O=new Pr(p,f);for(;(x=O.next())&&x!==w;)e.isBlock(x)&&c.push(x)}return w&&p!==w&&w!==f&&c.push(w),c},Bw=(e,n,o)=>U.from(n).bind(i=>U.from(i.parentNode).map(c=>{const f=e.nodeIndex(i),p=e.createRng();return p.setStart(c,f),p.setEnd(c,f+1),o&&(ZC(e,p,i,!0),ZC(e,p,i,!1)),p})),$w=(e,n)=>nn(n,o=>{const i=e.dispatch("GetSelectionRange",{range:o});return i.range!==o?i.range:o}),WM={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},n1=(e,n,o)=>{const i=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[i])return e[i];if(e!==n){let f=e[c];if(f)return f;for(let p=e.parent;p&&p!==n;p=p.parent)if(f=p[c],f)return f}},jM=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!_(o))return!1;const i=e.parent;return!(i&&(i.name!=="span"||i.attr("style"))&&/^[ ]+$/.test(o))},ZM=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Va{static create(n,o){const i=new Va(n,WM[n]||1);return o&&_t(o,(c,f)=>{i.attr(f,c)}),i}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const i=this;if(!F(n))return he(n)&&_t(n,(f,p)=>{i.attr(p,f)}),i;const c=i.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let f=c.length;for(;f--;)if(c[f].name===n)return c.splice(f,1),i}return i}if(n in c.map){let f=c.length;for(;f--;)if(c[f].name===n){c[f].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,i}return c.map[n]}}clone(){const n=this,o=new Va(n.name,n.type),i=n.attributes;if(i){const c=[];c.map={};for(let f=0,p=i.length;f<p;f++){const w=i[f];w.name!=="id"&&(c[c.length]={name:w.name,value:w.value},c.map[w.name]=w.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const i=o.next;n.insert(o,n,!0),o=i}n.remove()}remove(){const n=this,o=n.parent,i=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=i,i&&(i.prev=null)):c&&(c.next=i),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):i&&(i.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const i=o.lastChild;return i?(i.next=n,n.prev=i,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,i){n.parent&&n.remove();const c=o.parent||this;return i?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,i=[];for(let c=o.firstChild;c;c=n1(c,o))c.name===n&&i.push(c);return i}children(){const n=this,o=[];for(let i=n.firstChild;i;i=i.next)o.push(i);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=n1(c,n))o.push(c);let i=o.length;for(;i--;){const c=o[i];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},i){var c;const f=this;let p=f.firstChild;if(ZM(f))return!1;if(p)do{if(p.type===1){if(p.attr("data-mce-bogus"))continue;if(n[p.name]||ZM(p))return!1}if(p.type===8||p.type===3&&!jM(p)||p.type===3&&p.parent&&o[p.parent.name]&&_((c=p.value)!==null&&c!==void 0?c:"")||i&&i(p))return!1}while(p=n1(p,f));return!0}walk(n){return n1(this,null,n)}}const r7=Tt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),qM=e=>F(e.nodeValue)&&e.nodeValue.includes(bi),GM=e=>`${e.length===0?"":`${nn(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,i7=(e,n)=>n.querySelectorAll(GM(e)),XM=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>qM(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),YM=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(qM(n)){const o=n.parentNode;return o&&wn(r7,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),a7=e=>XM(e).nextNode()!==null,l7=e=>YM(e).nextNode()!==null,c7=(e,n)=>n.querySelector(GM(e))!==null,u7=(e,n)=>{$e(i7(e,n),o=>{const i=ye.fromDom(o);ra(i,"data-mce-bogus")==="all"?ms(i):$e(e,c=>{Ea(i,c)&&Ur(i,c)})})},o1=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},KM=P(o1,XM),JM=P(o1,YM),QM=(e,n)=>{const o=[{condition:Ve(c7,n),action:Ve(u7,n)},{condition:a7,action:KM},{condition:l7,action:JM}];let i=e,c=!1;return $e(o,({condition:f,action:p})=>{f(i)&&(c||(i=e.cloneNode(!0),c=!0),p(i))}),i},e3=e=>{const n=Zi(e,"[data-mce-bogus]");$e(n,o=>{ra(o,"data-mce-bogus")==="all"?ms(o):Yh(o)?(Mi(o,ye.fromText(Md)),ms(o)):Tc(o)})},t3=e=>{const n=Zi(e,"input");$e(n,o=>{Ur(o,"name")})},d7=(e,n)=>{const o=ca(e),i=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},f7=(e,n)=>{const o=e.getDoc(),i=Wl(ye.fromDom(e.getBody())),c=ye.fromTag("div",o);zr(c,"data-mce-bogus","all"),Xn(c,{position:"fixed",left:"-9999999px",top:"0"}),Of(c,n.innerHTML),e3(c),t3(c);const f=ub(i);Mr(f,c);const p=ql(c.dom.innerText);return ms(c),p},m7=(e,n,o)=>{let i;return n.format==="raw"?i=Tt.trim(ql(QM(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?i=f7(e,o):n.format==="tree"?i=e.serializer.serialize(o,n):i=d7(e,e.serializer.serialize(o,n)),n.format!=="text"&&!My(ye.fromDom(o))&&F(i)?Tt.trim(i):i},n3=(e,n)=>U.from(e.getBody()).fold(_e(n.format==="tree"?new Va("body",11):""),o=>m7(e,n,o)),o3=Tt.makeMap,LE=e=>{const n=[];e=e||{};const o=e.indent,i=o3(e.indent_before||""),c=o3(e.indent_after||""),f=Gu.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format!=="xhtml";return{start:(w,x,O)=>{if(o&&i[w]&&n.length>0){const $=n[n.length-1];$.length>0&&$!==`
`&&n.push(`
`)}if(n.push("<",w),x)for(let $=0,H=x.length;$<H;$++){const Z=x[$];n.push(" ",Z.name,'="',f(Z.value,!0),'"')}if(!O||p?n[n.length]=">":n[n.length]=" />",O&&o&&c[w]&&n.length>0){const $=n[n.length-1];$.length>0&&$!==`
`&&n.push(`
`)}},end:w=>{let x;n.push("</",w,">"),o&&c[w]&&n.length>0&&(x=n[n.length-1],x.length>0&&x!==`
`&&n.push(`
`))},text:(w,x)=>{w.length>0&&(n[n.length]=x?w:f(w))},cdata:w=>{n.push("<![CDATA[",w,"]]>")},comment:w=>{n.push("<!--",w,"-->")},pi:(w,x)=>{x?n.push("<?",w," ",f(x),"?>"):n.push("<?",w,"?>"),o&&n.push(`
`)},doctype:w=>{n.push("<!DOCTYPE",w,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Xf=(e={},n=If())=>{const o=LE(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const f=e.validate,p={3:x=>{var O;o.text((O=x.value)!==null&&O!==void 0?O:"",x.raw)},8:x=>{var O;o.comment((O=x.value)!==null&&O!==void 0?O:"")},7:x=>{o.pi(x.name,x.value)},10:x=>{var O;o.doctype((O=x.value)!==null&&O!==void 0?O:"")},4:x=>{var O;o.cdata((O=x.value)!==null&&O!==void 0?O:"")},11:x=>{let O=x;if(O=O.firstChild)do w(O);while(O=O.next)}};o.reset();const w=x=>{var O;const $=p[x.type];if($)$(x);else{const H=x.name,Z=H in n.getVoidElements();let ne=x.attributes;if(f&&ne&&ne.length>1){const ue=[];ue.map={};const se=n.getElementRule(x.name);if(se){for(let fe=0,Se=se.attributesOrder.length;fe<Se;fe++){const Pe=se.attributesOrder[fe];if(Pe in ne.map){const De=ne.map[Pe];ue.map[Pe]=De,ue.push({name:Pe,value:De})}}for(let fe=0,Se=ne.length;fe<Se;fe++){const Pe=ne[fe].name;if(!(Pe in ue.map)){const De=ne.map[Pe];ue.map[Pe]=De,ue.push({name:Pe,value:De})}}ne=ue}}if(o.start(H,ne,Z),yr(H))F(x.value)&&o.text(x.value,!0),o.end(H);else if(!Z){let ue=x.firstChild;if(ue){(H==="pre"||H==="textarea")&&ue.type===3&&((O=ue.value)===null||O===void 0?void 0:O[0])===`
`&&o.text(`
`,!0);do w(ue);while(ue=ue.next)}o.end(H)}}};return c.type===1&&!e.inner?w(c):c.type===3?p[3](c):p[11](c),o.getContent()}}},s3=new Set;$e(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{s3.add(n)});const r3=new Set;$e(["background-color"],n=>{r3.add(n)});const i3=["font","text-decoration","text-emphasis"],h7=(e,n)=>e.parseStyle(e.getAttrib(n,"style")),Qg=(e,n)=>Lo(h7(e,n)),p7=e=>s3.has(e),g7=e=>r3.has(e),a3=(e,n)=>zn(Qg(e,n),o=>p7(o)),v7=(e,n)=>a3(e,n)&&zn(Qg(e,n),o=>g7(o)),b7=e=>hn(e,n=>zn(i3,o=>es(n,o))),y7=(e,n,o)=>{const i=Qg(e,n),c=Qg(e,o),f=p=>{var w,x;const O=(w=e.getStyle(n,p))!==null&&w!==void 0?w:"",$=(x=e.getStyle(o,p))!==null&&x!==void 0?x:"";return To(O)&&To($)&&O!==$};return zn(i,p=>{const w=x=>zn(x,O=>O===p);if(!w(c)&&w(i3)){const x=b7(c);return zn(x,f)}else return f(p)})},l3=(e,n,o)=>U.from(o.container()).filter(ot).exists(i=>{const c=e?0:-1;return n(i.data.charAt(o.offset()+c))}),IE=Ve(l3,!0,Wm),RE=Ve(l3,!1,Wm),w7=e=>{const n=e.container();return ot(n)&&(n.data.length===0||Py(n.data)&&Zm.isBookmarkNode(n.parentNode))},Xm=(e,n)=>o=>tw(e?0:-1,o).filter(n).isSome(),c3=e=>Xa(e)&&dr(ye.fromDom(e),"display")==="block",u3=e=>lo(e)&&!Rs(e),S7=Xm(!0,c3),bn=Xm(!1,c3),ev=Xm(!0,fr),tv=Xm(!1,fr),d3=Xm(!0,hs),s1=Xm(!1,hs),Ym=Xm(!0,u3),Km=Xm(!1,u3),x7=e=>e.slice(0,-1),C7=(e,n,o)=>Oi(n,e)?x7(Ul(e,i=>o(i)||so(i,n))):[],f3=(e,n)=>C7(e,n,Ue),vu=(e,n)=>[e].concat(f3(e,n)),Fw=(e,n,o)=>F4(e,n,o,w7),nK=e=>n=>e.isBlock(ho(n)),m3=(e,n,o)=>oe(vu(ye.fromDom(n.container()),e),nK(o)),In=(e,n,o,i)=>Fw(e,n.dom,o).forall(c=>m3(n,o,i).fold(()=>!Yl(c,o,n.dom),f=>!Yl(c,o,n.dom)&&Oi(f,ye.fromDom(c.container())))),h3=(e,n,o,i)=>m3(n,o,i).fold(()=>Fw(e,n.dom,o).forall(c=>!Yl(c,o,n.dom)),c=>Fw(e,c.dom,o).isNone()),jn=Ve(h3,!1),BE=Ve(h3,!0),oK=Ve(In,!1),sK=Ve(In,!0),E7=e=>nw(e).exists(Yh),$E=(e,n,o,i)=>{const c=hn(vu(ye.fromDom(o.container()),n),p=>i.isBlock(ho(p))),f=kn(c).getOr(n);return Kl(e,f.dom,o).filter(E7)},p3=(e,n,o)=>nw(n).exists(Yh)||$E(!0,e,n,o).isSome(),Hw=(e,n,o)=>M4(n).exists(Yh)||$E(!1,e,n,o).isSome(),g3=Ve($E,!1),Pn=Ve($E,!0),v3=e=>lt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),b3=(e,n,o)=>{const i=hn(vu(ye.fromDom(n.container()),e),c=>o.isBlock(ho(c)));return kn(i).getOr(e)},y3=(e,n,o)=>v3(n)?RE(n):RE(n)||kl(b3(e,n,o).dom,n).exists(RE),nv=(e,n,o)=>v3(n)?IE(n):IE(n)||Ja(b3(e,n,o).dom,n).exists(IE),w3=e=>It(["pre","pre-wrap"],e),FE=e=>nw(e).bind(n=>Ks(n,Ai)).exists(n=>w3(dr(n,"white-space"))),T7=(e,n)=>kl(e.dom,n).isNone(),_7=(e,n)=>Ja(e.dom,n).isNone(),S3=(e,n,o)=>T7(e,n)||_7(e,n)||jn(e,n,o)||BE(e,n,o)||Hw(e,n,o)||p3(e,n,o),k7=e=>he(e)&&lo(e)&&T4(e),A7=(e,n)=>o=>k7(new Pr(o,e)[n]()),rK=(e,n)=>{const o=Ja(e.dom,n).getOr(n),i=A7(e.dom,"next");return n.isAtEnd()&&(i(n.container())||i(o.container()))},O7=(e,n)=>{const o=kl(e.dom,n).getOr(n),i=A7(e.dom,"prev");return n.isAtStart()&&(i(n.container())||i(o.container()))},x3=(e,n,o)=>FE(n)?!1:S3(e,n,o)||y3(e,n,o)||nv(e,n,o),r1=(e,n,o)=>FE(n)?!1:jn(e,n,o)||oK(e,n,o)||Hw(e,n,o)||y3(e,n,o)||O7(e,n),D7=e=>{const n=e.container(),o=e.offset();return ot(n)&&o<n.data.length?lt(n,o+1):e},ov=(e,n,o)=>FE(n)?!1:BE(e,n,o)||sK(e,n,o)||p3(e,n,o)||nv(e,n,o)||rK(e,n),HE=(e,n,o)=>r1(e,n,o)||ov(e,D7(n),o),eo=(e,n)=>up(e.charAt(n)),zE=(e,n)=>Wm(e.charAt(n)),zw=e=>{const n=e.container();return ot(n)&&Qo(n.data,Wr)},C3=e=>{const n=e.split("");return nn(n,(o,i)=>up(o)&&i>0&&i<n.length-1&&VC(n[i-1])&&VC(n[i+1])?" ":o).join("")},VE=(e,n,o,i)=>{const c=n.data,f=lt(n,0);return!o&&eo(c,0)&&!HE(e,f,i)?(n.data=" "+c.slice(1),!0):o&&zE(c,0)&&r1(e,f,i)?(n.data=Wr+c.slice(1),!0):!1},E3=e=>{const n=e.data,o=C3(n);return o!==n?(e.data=o,!0):!1},UE=(e,n,o,i)=>{const c=n.data,f=lt(n,c.length-1);return!o&&eo(c,c.length-1)&&!HE(e,f,i)?(n.data=c.slice(0,-1)+" ",!0):o&&zE(c,c.length-1)&&ov(e,f,i)?(n.data=c.slice(0,-1)+Wr,!0):!1},T3=(e,n,o)=>{const i=n.container();if(!ot(i))return U.none();if(zw(n)){const c=VE(e,i,!1,o)||E3(i)||UE(e,i,!1,o);return ou(c,n)}else if(HE(e,n,o)){const c=VE(e,i,!0,o)||UE(e,i,!0,o);return ou(c,n)}else return U.none()},M7=e=>{const n=ye.fromDom(e.getBody());e.selection.isCollapsed()&&T3(n,lt.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},WE=(e,n,o,i)=>{if(o===0)return;const c=ye.fromDom(e),f=Vs(c,O=>i.isBlock(ho(O))).getOr(c),p=e.data.slice(n,n+o),w=n+o>=e.data.length&&ov(f,lt(e,e.data.length),i),x=n===0&&r1(f,lt(e,0),i);e.replaceData(n,o,xt(p,4,x,w))},Vw=(e,n,o)=>{const i=e.data.slice(n),c=i.length-Qc(i).length;WE(e,n,c,o)},jE=(e,n,o)=>{const i=e.data.slice(0,n),c=i.length-hi(i).length;WE(e,n-c,c,o)},ZE=(e,n,o,i,c=!0)=>{const f=hi(e.data).length,p=c?e:n,w=c?n:e;return c?p.appendData(w.data):p.insertData(0,w.data),ms(ye.fromDom(w)),i&&Vw(p,f,o),p},P7=(e,n)=>{const o=e.container(),i=e.offset();return!lt.isTextPosition(e)&&o===n.parentNode&&i>lt.before(n).offset()},N7=(e,n)=>P7(n,e)?lt(n.container(),n.offset()-1):n,L7=e=>ot(e)?lt(e,0):lt.before(e),I7=e=>ot(e)?lt(e,e.data.length):lt.after(e),_3=e=>Gl(e.previousSibling)?U.some(I7(e.previousSibling)):e.previousSibling?pu(e.previousSibling):U.none(),Uw=e=>Gl(e.nextSibling)?U.some(L7(e.nextSibling)):e.nextSibling?Oa(e.nextSibling):U.none(),qE=(e,n)=>U.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>kl(e,lt.before(o))).orThunk(()=>Ja(e,lt.after(n))),R7=(e,n)=>Ja(e,lt.after(n)).orThunk(()=>kl(e,lt.before(n))),B7=(e,n)=>_3(n).orThunk(()=>Uw(n)).orThunk(()=>qE(e,n)),$7=(e,n)=>Uw(n).orThunk(()=>_3(n)).orThunk(()=>R7(e,n)),F7=(e,n,o)=>e?$7(n,o):B7(n,o),H7=(e,n,o)=>F7(e,n,o).map(Ve(N7,o)),k3=(e,n,o)=>{o.fold(()=>{e.focus()},i=>{e.selection.setRng(i.toRange(),n)})},z7=e=>n=>n.dom===e,V7=(e,n)=>n&&wn(e.schema.getBlockElements(),ho(n)),A3=(e,n,o)=>{if(Ds(e,n)){const i=ye.fromHtml('<br data-mce-bogus="1">');return o?$e(Kr(n),c=>{nE(c)||ms(c)}):Dd(n),Mr(n,i),U.some(lt.before(i.dom))}else return U.none()},U7=(e,n,o,i)=>{const c=Cc(e).filter(Wi),f=Di(e).filter(Wi);return ms(e),zi(c,f,n,(p,w,x)=>{const O=p.dom,$=w.dom,H=O.data.length;return ZE(O,$,o,i),x.container()===$?lt(O,H):x}).orThunk(()=>(i&&(c.each(p=>jE(p.dom,p.dom.length,o)),f.each(p=>Vw(p.dom,0,o))),n))},W7=(e,n)=>wn(e.schema.getTextInlineElements(),ho(n)),Lc=(e,n,o,i=!0,c=!1)=>{const f=H7(n,e.getBody(),o.dom),p=Vs(o,Ve(V7,e),z7(e.getBody())),w=U7(o,f,e.schema,W7(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):p.bind(x=>A3(e.schema,x,c)).fold(()=>{i&&k3(e,n,w)},x=>{i&&k3(e,n,U.some(x))})},j7=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,O3=e=>j7.test(e),yp=(e,n)=>zl(ye.fromDom(n),t6(e))&&!_m(e.schema,n)&&e.dom.isEditable(n),D3=e=>{var n;return Fs.DOM.getStyle(e,"direction",!0)==="rtl"||O3((n=e.textContent)!==null&&n!==void 0?n:"")},M3=(e,n,o)=>hn(Fs.DOM.getParents(o.container(),"*",n),e),Yf=(e,n,o)=>{const i=M3(e,n,o);return U.from(i[i.length-1])},P3=(e,n,o)=>{const i=Um(n,e),c=Um(o,e);return he(i)&&i===c},N3=e=>jx(e)||Ng(e),mr=(e,n)=>{const o=n.container(),i=n.offset();return e?Bf(o)?ot(o.nextSibling)?lt(o.nextSibling,0):lt.after(o):jx(n)?lt(o,i+1):n:Bf(o)?ot(o.previousSibling)?lt(o.previousSibling,o.previousSibling.data.length):lt.before(o):Ng(n)?lt(o,i-1):n},L3=Ve(mr,!0),I3=Ve(mr,!1),R3=(e,n)=>{const o=i=>i.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},Z7=e=>{e.execCommand("delete")},Ww=e=>R3(e,"Delete"),Jm=e=>R3(e,"ForwardDelete"),q7=e=>n=>vs(Dr(n),e,so),G7=e=>Dy(e)||Mg(e),Ps=(e,n)=>Oi(e,n)?Ks(n,G7,q7(e)):U.none(),sv=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},wp=(e,n,o)=>Zn(Oa(o),pu(o),(i,c)=>{const f=mr(!0,i),p=mr(!1,c),w=mr(!1,n);return e?Ja(o,w).exists(x=>x.isEqual(p)&&n.isEqual(f)):kl(o,w).exists(x=>x.isEqual(f)&&n.isEqual(p))}).getOr(!0),B3=e=>(Bu(e)?Cc(e):zu(e)).bind(B3).orThunk(()=>U.some(e)),Sp=(e,n,o,i=!0)=>{var c;n.deleteContents();const f=B3(o).getOr(o),p=ye.fromDom((c=e.dom.getParent(f.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(p.dom===e.getBody()?sv(e,i):Ds(e.schema,p,{checkRootAsContent:!1})&&(Ac(p),i&&e.selection.setCursorLocation(p.dom,0)),!so(o,p)){const w=vs(Dr(p),o)?[]:Nh(p);$e(w.concat(Kr(o)),x=>{!so(x,p)&&!Oi(x,p)&&Ds(e.schema,x)&&ms(x)})}},Ic=e=>n=>so(e,n),xp=e=>Zi(e,"td,th"),us=(e,n)=>Zb(ye.fromDom(e),n),i1=e=>Zn(e.startTable,e.endTable,(n,o)=>{const i=pb(n,f=>so(f,o)),c=pb(o,f=>so(f,n));return!i&&!c?e:{...e,startTable:i?U.none():e.startTable,endTable:c?U.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),$3=e=>i1(e),F3=(e,n)=>{const o=us(e.startContainer,n),i=us(e.endContainer,n),c=o.isSome(),f=i.isSome(),p=Zn(o,i,so).getOr(!1);return $3({startTable:o,endTable:i,isStartInTable:c,isEndInTable:f,isSameTable:p,isMultiTable:!p&&c&&f})},a1=(e,n)=>({start:e,end:n}),GE=(e,n,o)=>({rng:e,table:n,cells:o}),Cp=Hd.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),rv=(e,n)=>Ec(ye.fromDom(e),"td,th",n),l1=e=>!so(e.start,e.end),jw=(e,n)=>Zb(e.start,n).bind(o=>Zb(e.end,n).bind(i=>ou(so(o,i),o))),H3=(e,n)=>!l1(e)&&jw(e,n).exists(o=>{const i=o.dom.rows;return i.length===1&&i[0].cells.length===1}),z3=(e,n)=>{const o=rv(e.startContainer,n),i=rv(e.endContainer,n);return Zn(o,i,a1)},V3=e=>n=>Zb(n,e).bind(o=>Un(xp(o)).map(i=>a1(n,i))),U3=e=>n=>Zb(n,e).bind(o=>kn(xp(o)).map(i=>a1(i,n))),Zw=e=>n=>jw(n,e).map(o=>GE(n,o,xp(o))),Ep=(e,n,o,i)=>{if(o.collapsed||!e.forall(l1))return U.none();if(n.isSameTable){const c=e.bind(Zw(i));return U.some({start:c,end:c})}else{const c=rv(o.startContainer,i),f=rv(o.endContainer,i),p=c.bind(V3(i)).bind(Zw(i)),w=f.bind(U3(i)).bind(Zw(i));return U.some({start:p,end:w})}},XE=(e,n)=>Ce(e,o=>so(o,n)),c1=e=>Zn(XE(e.cells,e.rng.start),XE(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),X7=(e,n,o)=>e.exists(i=>H3(i,o)&&aw(i.start,n)),W3=(e,n)=>{const{startTable:o,endTable:i}=n,c=e.cloneRange();return o.each(f=>c.setStartAfter(f.dom)),i.each(f=>c.setEndBefore(f.dom)),c},j3=(e,n,o,i)=>Ep(e,n,o,i).bind(({start:c,end:f})=>c.or(f)).bind(c=>{const{isSameTable:f}=n,p=c1(c).getOr([]);if(f&&c.cells.length===p.length)return U.some(Cp.fullTable(c.table));if(p.length>0){if(f)return U.some(Cp.partialTable(p,U.none()));{const w=W3(o,n);return U.some(Cp.partialTable(p,U.some({...n,rng:w})))}}else return U.none()}),Z3=(e,n,o,i)=>Ep(e,n,o,i).bind(({start:c,end:f})=>{const p=c.bind(c1).getOr([]),w=f.bind(c1).getOr([]);if(p.length>0&&w.length>0){const x=W3(o,n);return U.some(Cp.multiTable(p,w,x))}else return U.none()}),q3=(e,n)=>{const o=Ic(e),i=z3(n,o),c=F3(n,o);return X7(i,n,o)?i.map(f=>Cp.singleCellTable(n,f.start)):c.isMultiTable?Z3(i,c,n,o):j3(i,c,n,o)},u1=e=>$e(e,n=>{Ur(n,"contenteditable"),Ac(n)}),G3=(e,n)=>U.from(e.dom.getParent(n,e.dom.isBlock)).map(ye.fromDom),X3=(e,n,o)=>{o.each(i=>{n?ms(i):(Ac(i),e.selection.setCursorLocation(i.dom,0))})},qw=(e,n,o,i)=>{const c=o.cloneRange();i?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),Gw(e,c,n,!1).each(f=>f())},YE=e=>{const n=Ug(e),o=ye.fromDom(e.selection.getNode());$a(o.dom)&&Ds(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&zn(n,i=>so(i,o))&&zr(o,"data-mce-selected","1")},KE=(e,n,o)=>U.some(()=>{const i=e.selection.getRng(),c=o.bind(({rng:f,isStartInTable:p})=>{const w=G3(e,p?f.endContainer:f.startContainer);f.deleteContents(),X3(e,p,w.filter(Ve(Ds,e.schema)));const x=p?n[0]:n[n.length-1];return qw(e,x,i,p),Ds(e.schema,x)?U.none():U.some(p?n.slice(1):n.slice(0,-1))}).getOr(n);u1(c),YE(e)}),Y3=(e,n,o,i)=>U.some(()=>{const c=e.selection.getRng(),f=n[0],p=o[o.length-1];qw(e,f,c,!0),qw(e,p,c,!1);const w=Ds(e.schema,f)?n:n.slice(1),x=Ds(e.schema,p)?o:o.slice(0,-1);u1(w.concat(x)),i.deleteContents(),YE(e)}),Gw=(e,n,o,i=!0)=>U.some(()=>{Sp(e,n,o,i)}),K3=(e,n)=>U.some(()=>Lc(e,!1,n)),J3=(e,n,o)=>q3(n,o).bind(i=>i.fold(Ve(Gw,e),Ve(K3,e),Ve(KE,e),Ve(Y3,e))),Q3=(e,n)=>d1(e,n),JE=(e,n,o,i)=>Xw(n,i).fold(()=>J3(e,n,o),c=>Q3(e,c)),eP=(e,n,o)=>{const i=ye.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?KE(e,o,U.none()):JE(e,i,c,n)},QE=(e,n)=>oe(vu(n,e),Ob),Xw=(e,n)=>oe(vu(n,e),ru("caption")),tP=(e,n,o,i,c)=>ap(o,e.getBody(),c).bind(f=>QE(n,ye.fromDom(f.getNode())).bind(p=>so(p,i)?U.none():U.some(Oe))),d1=(e,n)=>U.some(()=>{Ac(n),e.selection.setCursorLocation(n.dom,0)}),nP=(e,n,o,i)=>Oa(e.dom).bind(c=>pu(e.dom).map(f=>n?o.isEqual(c)&&i.isEqual(f):o.isEqual(f)&&i.isEqual(c))).getOr(!0),eT=(e,n)=>d1(e,n),Yw=(e,n,o)=>Xw(e,ye.fromDom(o.getNode())).fold(()=>U.some(Oe),i=>ou(!so(i,n),Oe)),tT=(e,n,o,i,c)=>ap(o,e.getBody(),c).fold(()=>U.some(Oe),f=>nP(i,o,c,f)?eT(e,i):Yw(n,i,f)),Kw=(e,n,o,i)=>{const c=lt.fromRangeStart(e.selection.getRng());return QE(o,i).bind(f=>Ds(e.schema,f,{checkRootAsContent:!1})?d1(e,f):tP(e,o,n,f,c))},oP=(e,n,o,i)=>{const c=lt.fromRangeStart(e.selection.getRng());return Ds(e.schema,i)?d1(e,i):tT(e,o,n,i,c)},f1=(e,n)=>e?d3(n):s1(n),nT=(e,n)=>{const o=lt.fromRangeStart(e.selection.getRng());return f1(n,o)||Kl(n,e.getBody(),o).exists(i=>f1(n,i))},m1=(e,n,o)=>{const i=ye.fromDom(e.getBody());return Xw(i,o).fold(()=>Kw(e,n,i,o).orThunk(()=>ou(nT(e,n),Oe)),c=>oP(e,n,i,c))},h1=(e,n)=>{const o=ye.fromDom(e.selection.getStart(!0)),i=Ug(e);return e.selection.isCollapsed()&&i.length===0?m1(e,n,o):eP(e,o,i)},Qm=(e,n)=>{let o=n;for(;o&&o!==e;){if(it(o)||lo(o))return o;o=o.parentNode}return null},iv=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],oT=Tt.each,p1=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),i=(f,p)=>{if(f.nodeName!==p.nodeName||f.nodeType!==p.nodeType)return!1;const w=O=>{const $={};return oT(n.getAttribs(O),H=>{const Z=H.nodeName.toLowerCase();Z!=="style"&&!c(Z)&&($[Z]=n.getAttrib(O,Z))}),$},x=(O,$)=>{for(const H in O)if(wn(O,H)){const Z=$[H];if(Ze(Z)||O[H]!==Z)return!1;delete $[H]}for(const H in $)if(wn($,H))return!1;return!0};return at(f)&&at(p)&&(!x(w(f),w(p))||!x(n.parseStyle(n.getAttrib(f,"style")),n.parseStyle(n.getAttrib(p,"style"))))?!1:!Jl(f)&&!Jl(p)},c=f=>zn(iv,p=>es(f,p))||o.has(f);return{compare:i,isAttributeInternal:c}},Tp=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),eh=e=>e.name==="summary",sP=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},rP=(e,n,o,i)=>{const c=o.name;for(let f=0,p=e.length;f<p;f++){const w=e[f];if(w.name===c){const x=i.nodes[c];x?x.nodes.push(o):i.nodes[c]={filter:w,nodes:[o]}}}if(o.attributes)for(let f=0,p=n.length;f<p;f++){const w=n[f],x=w.name;if(x in o.attributes.map){const O=i.attributes[x];O?O.nodes.push(o):i.attributes[x]={filter:w,nodes:[o]}}}},Y7=(e,n,o)=>{const i={nodes:{},attributes:{}};return o.firstChild&&sP(o,c=>{rP(e,n,c,i)}),i},sT=(e,n)=>{const o=(i,c)=>{_t(i,f=>{const p=Kn(f.nodes);$e(f.filter.callbacks,w=>{for(let x=p.length-1;x>=0;x--){const O=p[x];(!(c?O.attr(f.filter.name)!==void 0:O.name===f.filter.name)||Fe(O.parent))&&p.splice(x,1)}p.length>0&&w(p,f.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},rT=(e,n,o,i={})=>{const c=Y7(e,n,o);sT(c,i)},iT=(e,n,o,i)=>{if((e.pad_empty_with_br||n.insert)&&o(i)){const f=new Va("br",1);n.insert&&f.attr("data-mce-bogus","1"),i.empty().append(f)}else i.empty().append(new Va("#text",3)).value=Wr},K7=e=>{var n;return Kf(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===Wr},Kf=(e,n)=>{const o=e==null?void 0:e.firstChild;return he(o)&&o===e.lastChild&&o.name===n},_p=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},Jw=(e,n,o,i)=>i.isEmpty(n,o,c=>_p(e,c)),Ri=(e,n)=>he(e)&&(n(e)||e.name==="br"),J7=e=>{let n;for(let o=e;o;o=o.parent){const i=o.attr("contenteditable");if(i==="false")break;i==="true"&&(n=o)}return U.from(n)},aT=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const i=e.children();for(const c of i)o&&!n.isValidChild(o.name,c.name)&&aT(c,n,o);e.unwrap()}},ed=(e,n,o,i=Oe)=>{const c=n.getTextBlockElements(),f=n.getNonEmptyElements(),p=n.getWhitespaceElements(),w=Tt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),x=new Set,O=$=>$!==o&&!w[$.name];for(let $=0;$<e.length;$++){const H=e[$];let Z,ne,ue;if(!H.parent||x.has(H))continue;if(c[H.name]&&H.parent.name==="li"){let fe=H.next;for(;fe&&c[fe.name];){fe.name="li",x.add(fe),H.parent.insert(fe,H.parent);fe=fe.next}H.unwrap();continue}const se=[H];for(Z=H.parent;Z&&!n.isValidChild(Z.name,H.name)&&O(Z);Z=Z.parent)se.push(Z);if(Z&&se.length>1)if(iP(n,H,Z))aT(H,n);else{se.reverse(),ne=se[0].clone(),i(ne);let fe=ne;for(let Se=0;Se<se.length-1;Se++){n.isValidChild(fe.name,se[Se].name)&&Se>0?(ue=se[Se].clone(),i(ue),fe.append(ue)):ue=fe;for(let Pe=se[Se].firstChild;Pe&&Pe!==se[Se+1];){const De=Pe.next;ue.append(Pe),Pe=De}fe=ue}Jw(n,f,p,ne)?Z.insert(H,se[0],!0):(Z.insert(ne,se[0],!0),Z.insert(H,ne)),Z=se[0],(Jw(n,f,p,Z)||Kf(Z,"br"))&&Z.empty().remove()}else if(H.parent){if(H.name==="li"){let fe=H.prev;if(fe&&(fe.name==="ul"||fe.name==="ol")){fe.append(H);continue}if(fe=H.next,fe&&(fe.name==="ul"||fe.name==="ol")&&fe.firstChild){fe.insert(H,fe.firstChild,!0);continue}const Se=new Va("ul",1);i(Se),H.wrap(Se);continue}if(n.isValidChild(H.parent.name,"div")&&n.isValidChild("div",H.name)){const fe=new Va("div",1);i(fe),H.wrap(fe)}else aT(H,n)}}},Bo=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},iP=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&Bo(o,"a")?!0:eh(o)&&Tp(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,Q7=(e,n,o,i)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,i),c},e8=e=>{const n=lt.fromRangeStart(e),o=lt.fromRangeEnd(e),i=e.commonAncestorContainer;return Kl(!1,i,o).map(c=>!Yl(n,o,i)&&Yl(n,c,i)?Q7(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},ys=e=>e.collapsed?e:e8(e),aP=e=>he(e.firstChild)&&e.firstChild===e.lastChild,g1=e=>e.name==="br"||e.value===Wr,v1=(e,n)=>e.getBlockElements()[n.name]&&aP(n)&&g1(n.firstChild),b1=(e,n)=>{const o=e.getNonEmptyElements();return he(n)&&(n.isEmpty(o)||v1(e,n))},y1=(e,n)=>{let o=n.firstChild,i=n.lastChild;return o&&o.name==="meta"&&(o=o.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),b1(e,i)&&(i=i==null?void 0:i.prev),!o||o!==i?!1:o.name==="ul"||o.name==="ol"},lP=e=>{var n,o;const i=e.firstChild,c=e.lastChild;return i&&i.nodeName==="META"&&((n=i.parentNode)===null||n===void 0||n.removeChild(i)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},iK=(e,n,o)=>{const i=n.serialize(o),c=e.createFragment(i);return lP(c)},aK=e=>{var n;return hn((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},lK=e=>e.data===Wr||ao(e),cK=e=>he(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&lK(e.firstChild),t8=e=>!e.firstChild||cK(e),uK=e=>e.length>0&&t8(e[e.length-1])?e.slice(0,-1):e,lT=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},n8=(e,n)=>!!lT(e,n),dK=(e,n)=>{const o=n.cloneRange(),i=n.cloneRange();return o.setStartBefore(e),i.setEndAfter(e),[o.cloneContents(),i.cloneContents()]},o8=(e,n)=>{const o=lt.before(e),c=Qu(n).next(o);return c?c.toRange():null},nr=(e,n)=>{const o=lt.after(e),c=Qu(n).prev(o);return c?c.toRange():null},cP=(e,n,o,i)=>{const c=dK(e,i),f=e.parentNode;return f&&(f.insertBefore(c[0],e),Tt.each(n,p=>{f.insertBefore(p,e)}),f.insertBefore(c[1],e),f.removeChild(e)),nr(n[n.length-1],o)},uP=(e,n,o)=>{const i=e.parentNode;return i&&Tt.each(n,c=>{i.insertBefore(c,e)}),o8(e,o)},s8=(e,n,o,i)=>(i.insertAfter(n.reverse(),e),nr(n[0],o)),r8=(e,n,o,i)=>{const c=iK(n,e,i),f=lT(n,o.startContainer),p=uK(aK(c.firstChild)),w=1,x=2,O=n.getRoot(),$=H=>{const Z=lt.fromRangeStart(o),ne=Qu(n.getRoot()),ue=H===w?ne.prev(Z):ne.next(Z),se=ue==null?void 0:ue.getNode();return se?lT(n,se)!==f:!0};return f?$(w)?uP(f,p,O):$(x)?s8(f,p,O,n):cP(f,p,O,o):null},i8=["pre"],Ol=(e,n,o,i)=>{var c;const f=n.firstChild,p=n.lastChild,w=p.attr("data-mce-type")==="bookmark"?p.prev:p,x=f===w,O=It(i8,f.name);if(x&&O){const $=f.attr("contenteditable")!=="false",H=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===f.name,Z=U.from(Qm(i,o)).forall(it);return $&&H&&Z}else return!1},Rc=$a,a8=(e,n,o)=>{if(he(o)){const i=e.getParent(n.endContainer,Rc);return o===i&&aw(ye.fromDom(o),n)}else return!1},cT=(e,n,o)=>{var i;if(o.getAttribute("data-mce-bogus")==="all")(i=o.parentNode)===null||i===void 0||i.insertBefore(e.dom.createFragment(n),o);else{const c=o.firstChild,f=o.lastChild;!c||c===f&&c.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},uT=(e,n,o)=>{U.from(e.getParent(n,"td,th")).map(ye.fromDom).each(i=>Wx(i,o))},l8=(e,n)=>{const o=e.schema.getTextInlineElements(),i=e.dom;if(n){const c=e.getBody(),f=p1(e),p="*[data-mce-fragment]",w=i.select(p);Tt.each(w,x=>{const O=Z=>he(o[Z.nodeName.toLowerCase()]),$=Z=>Z.childNodes.length===1;if((Z=>!(a3(i,Z)||v7(i,Z)))(x)&&O(x)&&$(x)){const Z=Qg(i,x),ne=(Se,Pe)=>bt(Se,De=>It(Pe,De)),ue=Se=>$(x)&&i.is(Se,p)&&O(Se)&&(Se.nodeName===x.nodeName&&ne(Z,Qg(i,Se))||ue(Se.children[0])),se=Se=>he(Se)&&Se!==c&&(f.compare(x,Se)||se(Se.parentElement)),fe=Se=>he(Se)&&Se!==c&&i.is(Se,p)&&(y7(i,x,Se)||fe(Se.parentElement));(ue(x.children[0])||se(x.parentElement)&&!fe(x.parentElement))&&i.remove(x,!0)}})}},c8=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},w1=e=>{Tt.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},Qw=e=>!!e.getAttribute("data-mce-fragment"),dT=(e,n)=>he(n)&&!e.schema.getVoidElements()[n.nodeName],u8=(e,n)=>{var o,i,c;let f;const p=e.dom,w=e.selection;if(!n)return;w.scrollIntoView(n);const x=Qm(e.getBody(),n);if(x&&p.getContentEditable(x)==="false"){p.remove(n),w.select(x);return}let O=p.createRng();const $=n.previousSibling;if(ot($)){O.setStart($,(i=(o=$.nodeValue)===null||o===void 0?void 0:o.length)!==null&&i!==void 0?i:0);const ne=n.nextSibling;ot(ne)&&($.appendData(ne.data),(c=ne.parentNode)===null||c===void 0||c.removeChild(ne))}else O.setStartBefore(n),O.setEndBefore(n);const H=ne=>{let ue=lt.fromRangeStart(ne);return ue=Qu(e.getBody()).next(ue),ue==null?void 0:ue.toRange()},Z=p.getParent(n,p.isBlock);if(p.remove(n),Z&&p.isEmpty(Z)){const ne=Rc(Z);Dd(ye.fromDom(Z)),O.setStart(Z,0),O.setEnd(Z,0),!ne&&!Qw(Z)&&(f=H(O))?(O=f,p.remove(Z)):p.add(Z,p.create("br",ne?{}:{"data-mce-bogus":"1"}))}w.setRng(O)},td=e=>{const n=e.dom,o=ys(e.selection.getRng());e.selection.setRng(o);const i=n.getParent(o.startContainer,Rc);a8(n,o,i)?Gw(e,o,ye.fromDom(i)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&ot(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},d8=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return U.some(n);return U.none()},f8=(e,n,o)=>{var i;return zn(o.children(),Tp)&&((i=e.getParent(n,e.isBlock))===null||i===void 0?void 0:i.nodeName)==="SUMMARY"},Bc=(e,n,o)=>{var i,c;const f=e.selection,p=e.dom,w=e.parser,x=o.merge,O=Xf({validate:!0},e.schema),$='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=ql(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,$);let H=f.getRng();const Z=H.startContainer,ne=e.getBody();Z===ne&&f.isCollapsed()&&p.isBlock(ne.firstChild)&&dT(e,ne.firstChild)&&p.isEmpty(ne.firstChild)&&(H=p.createRng(),H.setStart(ne.firstChild,0),H.setEnd(ne.firstChild,0),f.setRng(H)),f.isCollapsed()||td(e);const ue=f.getNode(),se={context:ue.nodeName.toLowerCase(),data:o.data,insert:!0},fe=w.parse(n,se);if(o.paste===!0&&y1(e.schema,fe)&&n8(p,ue))return H=r8(O,p,f.getRng(),fe),H&&f.setRng(H),n;o.paste===!0&&Ol(p,fe,ue,e.getBody())&&((i=fe.firstChild)===null||i===void 0||i.unwrap()),c8(fe);let Se=fe.lastChild;if(Se&&Se.attr("id")==="mce_marker"){const Pe=Se;for(Se=Se.prev;Se;Se=Se.walk(!0))if(Se.type===3||!p.isBlock(Se.name)){Se.parent&&e.schema.isValidChild(Se.parent.name,"span")&&Se.parent.insert(Pe,Se,Se.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(ue),!se.invalid&&!f8(p,ue,fe))n=O.serialize(fe),cT(e,n,ue);else{e.selection.setContent($);let Pe=f.getNode(),De;const je=e.getBody();for(_s(Pe)?Pe=De=je:De=Pe;De&&De!==je;)Pe=De,De=De.parentNode;n=Pe===je?je.innerHTML:p.getOuterHTML(Pe);const yt=w.parse(n),Nt=d8(yt),Zt=Nt.bind(J7).getOr(yt);Nt.each(Jt=>Jt.replace(fe));const ct=fe.children(),Ke=(c=fe.parent)!==null&&c!==void 0?c:yt;fe.unwrap();const vt=hn(ct,Jt=>iP(e.schema,Jt,Ke));ed(vt,e.schema,Zt),rT(w.getNodeFilters(),w.getAttributeFilters(),yt),n=O.serialize(yt),Pe===je?p.setHTML(je,n):p.setOuterHTML(Pe,n)}return l8(e,x),u8(e,p.get("mce_marker")),w1(e.getBody()),uT(p,f.getStart(),e.schema),X$(e.schema,e.getBody(),f.getStart()),n},th=e=>e instanceof Va,bu=e=>{Gf(e)&&Oa(e.getBody()).each(n=>{const o=n.getNode(),i=hs(o)?Oa(o).getOr(n):n;e.selection.setRng(i.toRange())})},fT=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&bu(e)},ns=(e,n,o,i)=>{if(o=ql(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const f=ca(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(o=c,o=e.dom.createHTML(f,sp(e),o)):o||(o=c),fT(e,o,i.no_selection),{content:o,html:o}}else{i.format!=="raw"&&(o=Xf({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=My(ye.fromDom(n))?o:Tt.trim(o);return fT(e,c,i.no_selection),{content:c,html:c}}},av=(e,n,o,i)=>{rT(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=Xf({validate:!1},e.schema).serialize(o),f=ql(My(ye.fromDom(n))?c:Tt.trim(c));return fT(e,f,i.no_selection),{content:o,html:f}},e2=(e,n,o)=>U.from(e.getBody()).map(i=>th(n)?av(e,i,n,o):ns(e,i,n,o)).getOr({content:n,html:th(o.content)?"":o.content}),mT=e=>xe(e)?e:Ue,hT=(e,n,o)=>{let i=e.dom;const c=mT(o);for(;i.parentNode;){i=i.parentNode;const f=ye.fromDom(i),p=n(f);if(p.isSome())return p;if(c(f))break}return U.none()},S1=(e,n,o)=>{const i=n(e),c=mT(o);return i.orThunk(()=>c(e)?U.none():hT(e,n,c))},pT=Y4,t2=(e,n,o)=>{const i=e.formatter.get(o);if(i)for(let c=0;c<i.length;c++){const f=i[c];if(Mc(f)&&f.inherit===!1&&e.dom.is(n,f.selector))return!0}return!1},gT=(e,n,o,i,c)=>{const f=e.dom.getRoot();if(n===f)return!1;const p=e.dom.getParent(n,w=>t2(e,w,o)?!0:w.parentNode===f||!!yu(e,w,o,i,!0));return!!yu(e,p,o,i,c)},x1=(e,n,o)=>Si(o)&&pT(n,o.inline)||Zf(o)&&pT(n,o.block)?!0:Mc(o)?at(n)&&e.is(n,o.selector):!1,vT=(e,n,o,i,c,f)=>{const p=o[i],w=i==="attributes";if(xe(o.onmatch))return o.onmatch(n,o,i);if(p){if(zs(p)){for(let x=0;x<p.length;x++)if(w?e.getAttrib(n,p[x]):uw(e,n,p[x]))return!0}else for(const x in p)if(wn(p,x)){const O=w?e.getAttrib(n,x):uw(e,n,x),$=dp(p[x],f),H=Fe(O)||Ar(O);if(H&&Fe($))continue;if(c&&H&&!o.exact||(!c||o.exact)&&!pT(O,K4($,x)))return!1}}return!0},yu=(e,n,o,i,c)=>{const f=e.formatter.get(o),p=e.dom;if(f&&at(n))for(let w=0;w<f.length;w++){const x=f[w];if(x1(e.dom,n,x)&&vT(p,n,x,"attributes",c,i)&&vT(p,n,x,"styles",c,i)){const O=x.classes;if(O){for(let $=0;$<O.length;$++)if(!e.dom.hasClass(n,dp(O[$],i)))return}return x}}},n2=(e,n,o,i,c)=>{if(i)return gT(e,i,n,o,c);if(i=e.selection.getNode(),gT(e,i,n,o,c))return!0;const f=e.selection.getStart();return!!(f!==i&&gT(e,f,n,o,c))},o2=(e,n,o)=>{const i=[],c={},f=e.selection.getStart();return e.dom.getParent(f,p=>{for(let w=0;w<n.length;w++){const x=n[w];!c[x]&&yu(e,p,x,o)&&(c[x]=!0,i.push(x))}},e.dom.getRoot()),i},m8=(e,n)=>{const o=c=>so(c,ye.fromDom(e.getBody())),i=(c,f)=>yu(e,c.dom,f)?U.some(f):U.none();return U.from(e.selection.getStart(!0)).bind(c=>S1(ye.fromDom(c),f=>So(n,p=>i(f,p)),o)).getOrNull()},h8=(e,n)=>{const o=e.formatter.get(n),i=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),f=dw(i,c);for(let p=o.length-1;p>=0;p--){const w=o[p];if(!Mc(w))return!0;for(let x=f.length-1;x>=0;x--)if(i.is(f[x],w.selector))return!0}}return!1},p8=(e,n,o)=>Gs(o,(i,c)=>{const f=oH(e,c);return e.formatter.matchNode(n,c,{},f)?i.concat([c]):i},[]),C1=bi,g8=(e,n)=>e.importNode(n,!0),bT=e=>{if(e){const n=new Pr(e,e);for(let o=n.current();o;o=n.next())if(ot(o))return o}return null},yT=e=>{const n=ye.fromTag("span");return Sc(n,{id:$C,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Mr(n,ye.fromText(C1)),n},v8=e=>{const n=bT(e);return n&&n.data.charAt(0)===C1&&n.deleteData(0,1),n},s2=(e,n,o)=>{const i=e.dom,c=e.selection;if(eM(n))Lc(e,!1,ye.fromDom(n),o,!0);else{const f=c.getRng(),p=i.getParent(n,i.isBlock),w=f.startContainer,x=f.startOffset,O=f.endContainer,$=f.endOffset,H=v8(n);i.remove(n,!0),w===H&&x>0&&f.setStart(H,x-1),O===H&&$>0&&f.setEnd(H,$-1),p&&i.isEmpty(p)&&Ac(ye.fromDom(p)),c.setRng(f)}},r2=(e,n,o)=>{const i=e.dom,c=e.selection;if(n)s2(e,n,o);else if(n=lp(e.getBody(),c.getStart()),!n)for(;n=i.get($C);)s2(e,n,o)},b8=(e,n,o)=>{var i,c;const f=e.dom,p=f.getParent(o,Ve(YC,e.schema));p&&f.isEmpty(p)?(i=o.parentNode)===null||i===void 0||i.replaceChild(n,o):(Pm(ye.fromDom(o)),f.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):f.insertAfter(n,o))},dP=(e,n)=>(e.appendChild(n),n),wT=(e,n)=>{var o;const i=Gr(e,(f,p)=>dP(f,p.cloneNode(!1)),n),c=(o=i.ownerDocument)!==null&&o!==void 0?o:document;return dP(i,c.createTextNode(C1))},y8=(e,n,o,i,c,f)=>{const p=e.formatter,w=e.dom,x=hn(Lo(p.get()),H=>H!==i&&!Qo(H,"removeformat")),O=p8(e,o,x);if(hn(O,H=>!J4(e,H,i)).length>0){const H=o.cloneNode(!1);return w.add(n,H),p.remove(i,c,H,f),w.remove(H),U.some(H)}else return U.none()},ST=e=>Ux(e,Dm(e).replace(new RegExp(`${Wr}$`)," ")),oc=(e,n)=>{const o=()=>{n!==null&&!e.dom.isEmpty(n)&&Cc(ye.fromDom(n)).each(i=>{Wi(i)?ST(i):kf(i,c=>Wi(c)).each(c=>{Wi(c)&&ST(c)})})};e.once("input",i=>{i.data&&!Wm(i.data)&&(i.isComposing?e.once("compositionend",()=>{o()}):o())})},w8=(e,n,o)=>{let i;const c=e.selection,f=e.formatter.get(n);if(!f)return;const p=c.getRng();let w=p.startOffset;const O=p.startContainer.nodeValue;i=lp(e.getBody(),c.getStart());const $=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(O&&w>0&&w<O.length&&$.test(O.charAt(w))&&$.test(O.charAt(w-1))){const H=c.getBookmark();p.collapse(!0);let Z=mp(e.dom,p,f);Z=Dw(Z),e.formatter.apply(n,o,Z),c.moveToBookmark(H)}else{let H=i?bT(i):null;(!i||(H==null?void 0:H.data)!==C1)&&(i=g8(e.getDoc(),yT(!0).dom),H=i.firstChild,p.insertNode(i),w=1,oc(e,i)),e.formatter.apply(n,o,i),c.setCursorLocation(H,w)}},fP=(e,n,o,i)=>{const c=e.dom,f=e.selection;let p=!1;const w=e.formatter.get(n);if(!w)return;const x=f.getRng(),O=x.startContainer,$=x.startOffset;let H=O;ot(O)&&($!==O.data.length&&(p=!0),H=H.parentNode);const Z=[];let ne;for(;H;){if(yu(e,H,n,o,i)){ne=H;break}H.nextSibling&&(p=!0),Z.push(H),H=H.parentNode}if(ne)if(p){const ue=f.getBookmark();x.collapse(!0);let se=mp(c,x,w,!0);se=Dw(se),e.formatter.remove(n,o,se,i),f.moveToBookmark(ue)}else{const ue=lp(e.getBody(),ne),se=he(ue)?c.getParents(ne.parentNode,wt,ue):[],fe=yT(!1).dom;b8(e,fe,ue??ne);const Se=y8(e,fe,ne,n,o,i),Pe=wT([...Z,...Se.toArray(),...se],fe);ue&&s2(e,ue,he(ue)),f.setCursorLocation(Pe,1),oc(e,fe),c.isEmpty(ne)&&c.remove(ne)}},xT=(e,n,o)=>{const i=e.selection,c=e.getBody();r2(e,null,o),(n===8||n===46)&&i.isCollapsed()&&i.getStart().innerHTML===C1&&r2(e,lp(c,i.getStart()),!0),(n===37||n===39)&&r2(e,lp(c,i.getStart()),!0)},CT=e=>ot(e)&&Sa(e.data,Wr),mP=e=>{e.on("mouseup keydown",n=>{xT(e,n.keyCode,CT(e.selection.getRng().endContainer))})},ET=e=>{const n=yT(!1),o=wT(e,n.dom);return{caretContainer:n,caretPosition:lt(o,0)}},hP=(e,n)=>{const{caretContainer:o,caretPosition:i}=ET(n);return Mi(ye.fromDom(e),o),ms(ye.fromDom(e)),i},S8=(e,n)=>{const{caretContainer:o,caretPosition:i}=ET(n);return e.insertNode(o.dom),i},i2=(e,n)=>{if(Dc(n.dom))return!1;const o=e.schema.getTextInlineElements();return wn(o,ho(n))&&!Dc(n.dom)&&!xo(n.dom)},lv={},sc=Jn(["pre"]),x8=(e,n)=>{lv[e]||(lv[e]=[]),lv[e].push(n)},C8=(e,n)=>{wn(lv,e)&&$e(lv[e],o=>{o(n)})};x8("pre",e=>{const n=e.selection.getRng(),o=c=>f=>{const p=f.previousSibling;return sc(p)&&It(c,p)},i=(c,f)=>{const p=ye.fromDom(f),w=Vl(p).dom;ms(p),ka(ye.fromDom(c),[ye.fromTag("br",w),ye.fromTag("br",w),...Kr(p)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),f=hn(hn(c,sc),o(c));$e(f,p=>{i(p.previousSibling,p)})}});const E8=["fontWeight","fontStyle","color","fontSize","fontFamily"],TT=e=>ce(e.styles)&&zn(Lo(e.styles),n=>It(E8,n)),T8=e=>oe(e,n=>Si(n)&&n.inline==="span"&&TT(n)),_8=(e,n)=>{const o=e.get(n);return ze(o)?T8(o):U.none()},pP=(e,n)=>kl(n,lt.fromRangeStart(e)).isNone(),a2=(e,n)=>Ja(n,lt.fromRangeEnd(e)).exists(o=>!ao(o.getNode())||Ja(n,o).isSome())===!1,wu=e=>n=>uu(n)&&e.isEditable(n),_T=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return pP(o,n[0])&&a2(o,n[0])?n:[];{const i=kn(n).filter(p=>pP(o,p)).toArray(),c=Un(n).filter(p=>a2(o,p)).toArray(),f=n.slice(1,-1);return i.concat(f).concat(c)}},l2=e=>hn(_T(e),wu(e.dom)),c2=e=>hn(e.getSelectedBlocks(),wu(e.dom)),kT=Tt.each,u2=e=>at(e)&&!Jl(e)&&!Dc(e)&&!xo(e),gP=(e,n)=>{for(let o=e;o;o=o[n]){if(ot(o)&&To(o.data))return e;if(at(o)&&!Jl(o))return o}return e},AT=(e,n,o)=>{const i=p1(e),c=Tn(n)&&e.dom.isEditable(n),f=Tn(o)&&e.dom.isEditable(o);if(c&&f){const p=gP(n,"previousSibling"),w=gP(o,"nextSibling");if(i.compare(p,w)){for(let x=p.nextSibling;x&&x!==w;){const O=x;x=x.nextSibling,p.appendChild(O)}return e.dom.remove(w),Tt.each(Tt.grep(w.childNodes),x=>{p.appendChild(x)}),p}}return o},d2=(e,n,o,i)=>{var c;if(i&&n.merge_siblings!==!1){const f=(c=AT(e,cw(i),i))!==null&&c!==void 0?c:i;AT(e,f,cw(f,!0))}},k8=(e,n,o)=>{if(n.clear_child_styles){const i=n.links?"*:not(a)":"*";kT(e.select(i,o),c=>{u2(c)&&e.isEditable(c)&&kT(n.styles,(f,p)=>{e.setStyle(c,p,"")})})}},f2=(e,n,o)=>{kT(e.childNodes,i=>{u2(i)&&(n(i)&&o(i),i.hasChildNodes()&&f2(i,n,o))})},A8=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},nh=(e,n)=>o=>!!(o&&uw(e,o,n)),OT=(e,n,o)=>i=>{e.setStyle(i,n,o),i.getAttribute("style")===""&&i.removeAttribute("style"),A8(e,i)},kp=Hd.generate([{keep:[]},{rename:["name"]},{removed:[]}]),vP=/^(src|href|style)$/,DT=Tt.each,m2=Y4,O8=e=>/^(TR|TH|TD)$/.test(e.nodeName),bP=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),yP=(e,n,o)=>{let i=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(at(i)){const f=i.childNodes.length-1;!o&&c&&c--,i=i.childNodes[c>f?f:c]}return ot(i)&&o&&c>=i.data.length&&(i=new Pr(i,e.getBody()).next()||i),ot(i)&&!o&&c===0&&(i=new Pr(i,e.getBody()).prev()||i),i},MT=(e,n)=>{const o=n?"firstChild":"lastChild",i=e[o];return O8(e)&&i?e.nodeName==="TR"&&i[o]||i:e},PT=(e,n,o,i)=>{var c;const f=e.create(o,i);return(c=n.parentNode)===null||c===void 0||c.insertBefore(f,n),f.appendChild(n),f},h2=(e,n,o,i,c)=>{const f=ye.fromDom(n),p=ye.fromDom(e.create(i,c)),w=o?Td(f):Lh(f);return ka(p,w),o?(Mi(f,p),wm(p,f)):(pl(f,p),Mr(p,f)),p.dom},Ap=(e,n)=>n.links&&e.nodeName==="A",wP=(e,n,o)=>{const i=n.parentNode;let c;const f=e.dom,p=ca(e);Zf(o)&&i===f.getRoot()&&(!o.list_block||!m2(n,o.list_block))&&$e(Kn(n.childNodes),w=>{jm(e,p,w.nodeName.toLowerCase())?c?c.appendChild(w):(c=PT(f,w,p),f.setAttribs(c,sp(e))):c=null}),!(rH(o)&&!m2(o.inline,n))&&f.remove(n,!0)},SP=(e,n,o)=>Be(e)?{name:n,value:null}:{name:e,value:dp(n,o)},E1=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},NT=(e,n,o,i,c)=>{let f=!1;DT(o.styles,(p,w)=>{const{name:x,value:O}=SP(w,p,i),$=K4(O,x);(o.remove_similar||ie(O)||!at(c)||m2(uw(e,c,x),$))&&e.setStyle(n,x,""),f=!0}),f&&E1(e,n)},xP=(e,n,o)=>{n==="removeformat"?$e(c2(e.selection),i=>{$e(E8,c=>e.dom.setStyle(i,c,"")),E1(e.dom,i)}):_8(e.formatter,n).each(i=>{$e(c2(e.selection),c=>NT(e.dom,c,i,o,null))})},CP=(e,n,o,i,c)=>{const f=e.dom,p=p1(e),w=e.schema;if(Si(n)&&hy(w,n.inline)&&_m(w,i)&&i.parentElement===e.getBody())return wP(e,i,n),kp.removed();if(!n.ceFalseOverride&&i&&f.getContentEditableParent(i)==="false"||i&&!x1(f,i,n)&&!Ap(i,n))return kp.keep();const x=i,O=n.preserve_attributes;if(Si(n)&&n.remove==="all"&&ze(O)){const $=hn(f.getAttribs(x),H=>It(O,H.name.toLowerCase()));if(f.removeAllAttribs(x),$e($,H=>f.setAttrib(x,H.name,H.value)),$.length>0)return kp.rename("span")}if(n.remove!=="all"){NT(f,x,n,o,c),DT(n.attributes,(H,Z)=>{const{name:ne,value:ue}=SP(Z,H,o);if(n.remove_similar||ie(ue)||!at(c)||m2(f.getAttrib(c,ne),ue)){if(ne==="class"){const se=f.getAttrib(x,ne);if(se){let fe="";if($e(se.split(/\s+/),Se=>{/mce\-\w+/.test(Se)&&(fe+=(fe?" ":"")+Se)}),fe){f.setAttrib(x,ne,fe);return}}}if(vP.test(ne)&&x.removeAttribute("data-mce-"+ne),ne==="style"&&Jn(["li"])(x)&&f.getStyle(x,"list-style-type")==="none"){x.removeAttribute(ne),f.setStyle(x,"list-style-type","none");return}ne==="class"&&x.removeAttribute("className"),x.removeAttribute(ne)}}),DT(n.classes,H=>{H=dp(H,o),(!at(c)||f.hasClass(c,H))&&f.removeClass(x,H)});const $=f.getAttribs(x);for(let H=0;H<$.length;H++){const Z=$[H].nodeName;if(!p.isAttributeInternal(Z))return kp.keep()}}return n.remove!=="none"?(wP(e,x,n),kp.removed()):kp.keep()},EP=(e,n,o,i,c)=>{let f;return n.parentNode&&$e(dw(e.dom,n.parentNode).reverse(),p=>{if(!f&&at(p)&&p.id!=="_start"&&p.id!=="_end"){const w=yu(e,p,o,i,c);w&&w.split!==!1&&(f=p)}}),f},D8=(e,n,o,i)=>CP(e,n,o,i,i).fold(_e(i),c=>(e.dom.createFragment().appendChild(i),e.dom.rename(i,c)),_e(null)),Op=(e,n,o,i,c,f,p,w)=>{var x,O;let $,H;const Z=e.dom;if(o){const ne=o.parentNode;for(let ue=i.parentNode;ue&&ue!==ne;ue=ue.parentNode){let se=Z.clone(ue,!1);for(let fe=0;fe<n.length&&(se=D8(e,n[fe],w,se),se!==null);fe++);se&&($&&se.appendChild($),H||(H=se),$=se)}(!p.mixed||!Z.isBlock(o))&&(i=(x=Z.split(o,i))!==null&&x!==void 0?x:i),$&&H&&((O=c.parentNode)===null||O===void 0||O.insertBefore($,c),H.appendChild(c),Si(p)&&d2(e,p,w,$))}return i},TP=(e,n,o,i,c)=>{const f=e.formatter.get(n),p=f[0],w=e.dom,x=e.selection,O=se=>{const fe=EP(e,se,n,o,c);return Op(e,f,fe,se,se,!0,p,o)},$=se=>Jl(se)&&at(se)&&(se.id==="_start"||se.id==="_end"),H=se=>zn(f,fe=>cv(e,fe,o,se,se)),Z=se=>{const fe=Kn(se.childNodes),Pe=H(se)||zn(f,yt=>x1(w,se,yt)),De=se.parentNode;if(!Pe&&he(De)&&tE(p)&&H(De),p.deep&&fe.length)for(let yt=0;yt<fe.length;yt++)Z(fe[yt]);$e(["underline","line-through","overline"],yt=>{at(se)&&e.dom.getStyle(se,"text-decoration")===yt&&se.parentNode&&nH(w,se.parentNode)===yt&&cv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:yt}},void 0,se)})},ne=se=>{const fe=w.get(se?"_start":"_end");if(fe){let Se=fe[se?"firstChild":"lastChild"];return $(Se)&&(Se=Se[se?"firstChild":"lastChild"]),ot(Se)&&Se.data.length===0&&(Se=se?fe.previousSibling||fe.nextSibling:fe.nextSibling||fe.previousSibling),w.remove(fe,!0),Se}else return null},ue=se=>{let fe,Se,Pe=mp(w,se,f,se.collapsed);if(p.split){if(Pe=Dw(Pe),fe=yP(e,Pe,!0),Se=yP(e,Pe),fe!==Se){if(fe=MT(fe,!0),Se=MT(Se,!1),bP(w,fe,Se)){const je=U.from(fe.firstChild).getOr(fe);O(h2(w,je,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ne(!0);return}if(bP(w,Se,fe)){const je=U.from(Se.lastChild).getOr(Se);O(h2(w,je,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ne(!1);return}fe=PT(w,fe,"span",{id:"_start","data-mce-type":"bookmark"}),Se=PT(w,Se,"span",{id:"_end","data-mce-type":"bookmark"});const De=w.createRng();De.setStartAfter(fe),De.setEndBefore(Se),Gb(w,De,je=>{$e(je,yt=>{!Jl(yt)&&!Jl(yt.parentNode)&&O(yt)})}),O(fe),O(Se),fe=ne(!0),Se=ne()}else fe=Se=O(fe);Pe.startContainer=fe.parentNode?fe.parentNode:fe,Pe.startOffset=w.nodeIndex(fe),Pe.endContainer=Se.parentNode?Se.parentNode:Se,Pe.endOffset=w.nodeIndex(Se)+1}Gb(w,Pe,De=>{$e(De,Z)})};if(i){if(lw(i)){const se=w.createRng();se.setStartBefore(i),se.setEndAfter(i),ue(se)}else ue(i);Ql(e,n,i,o);return}!x.isCollapsed()||!Si(p)||Ug(e).length?(jf(e,()=>GC(e,ue),se=>Si(p)&&n2(e,n,o,se)),e.nodeChanged()):fP(e,n,o,c),xP(e,n,o),Ql(e,n,i,o)},LT=(e,n,o,i,c)=>{(i||e.selection.isEditable())&&TP(e,n,o,i,c)},cv=(e,n,o,i,c)=>CP(e,n,o,i,c).fold(Ue,f=>(e.dom.rename(i,f),!0),wt),T1=Tt.each,_P=(e,n,o,i)=>{const c=f=>{if(Tn(f)&&at(f.parentNode)&&e.isEditable(f)){const p=nH(e,f.parentNode);e.getStyle(f,"color")&&p?e.setStyle(f,"text-decoration",p):e.getStyle(f,"text-decoration")===p&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Tt.walk(i,c,"childNodes"),c(i))},M8=(e,n,o,i)=>{if(n.styles&&n.styles.backgroundColor){const c=nh(e,"fontSize");f2(i,f=>c(f)&&e.isEditable(f),OT(e,"backgroundColor",dp(n.styles.backgroundColor,o)))}},kP=(e,n,o,i)=>{if(Si(n)&&(n.inline==="sub"||n.inline==="sup")){const c=nh(e,"fontSize");f2(i,p=>c(p)&&e.isEditable(p),OT(e,"fontSize",""));const f=hn(e.select(n.inline==="sup"?"sub":"sup",i),e.isEditable);e.remove(f,!0)}},P8=(e,n,o,i)=>{T1(n,c=>{Si(c)&&T1(e.dom.select(c.inline,i),f=>{u2(f)&&cv(e,c,o,f,c.exact?f:null)}),k8(e.dom,c,i)})},N8=(e,n,o,i,c)=>{const f=c.parentNode;yu(e,f,o,i)&&cv(e,n,i,c)||n.merge_with_parents&&f&&e.dom.getParent(f,p=>yu(e,p,o,i)?(cv(e,n,i,c),!0):!1)},Dp=Tt.each,AP=(e,n,o,i)=>{if(o6(e)&&Si(n)&&o.parentNode){const c=Ey(e.schema),f=yx(ye.fromDom(o),p=>Dc(p.dom));return ai(c,i)&&fu(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!f}else return!1},p2=(e,n,o,i)=>{if(Dp(o.styles,(c,f)=>{e.setStyle(n,f,dp(c,i))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},L8=(e,n,o,i)=>{const c=e.formatter.get(n),f=c[0],p=!i&&e.selection.isCollapsed(),w=e.dom,x=e.selection,O=(ue,se=f)=>{xe(se.onformat)&&se.onformat(ue,se,o,i),p2(w,ue,se,o),Dp(se.attributes,(fe,Se)=>{w.setAttrib(ue,Se,dp(fe,o))}),Dp(se.classes,fe=>{const Se=dp(fe,o);w.hasClass(ue,Se)||w.addClass(ue,Se)})},$=(ue,se)=>{let fe=!1;return Dp(ue,Se=>Mc(Se)?w.getContentEditable(se)==="false"&&!Se.ceFalseOverride||he(Se.collapsed)&&Se.collapsed!==p?!0:w.is(se,Se.selector)&&!Dc(se)?(O(se,Se),fe=!0,!1):!0:!1),fe},H=ue=>{if(F(ue)){const se=w.create(ue);return O(se),se}else return null},Z=(ue,se,fe)=>{const Se=[];let Pe=!0;const De=f.inline||f.block,je=H(De),yt=ct=>sH(f)&&yu(e,ct,n,o),Nt=(ct,Ke,vt)=>{const Jt=Q4(f)&&YC(e.schema,ct)&&jm(e,Ke,De);return vt&&Jt},Zt=(ct,Ke,vt,Jt)=>{const fn=ct.nodeName.toLowerCase(),ro=jm(e,De,fn)&&jm(e,Ke,De),uo=!fe&&ot(ct)&&Py(ct.data),zo=Dc(ct),Yo=!Si(f)||!ue.isBlock(ct);return(vt||Jt)&&ro&&!uo&&!zo&&Yo};Gb(ue,se,ct=>{let Ke;const vt=Jt=>{let fn=!1,ro=Pe,uo=!1;const zo=Jt.parentNode,Yo=zo.nodeName.toLowerCase(),or=ue.getContentEditable(Jt);he(or)&&(ro=Pe,Pe=or==="true",fn=!0,uo=eE(e,Jt));const Ir=Pe&&!fn;if(ao(Jt)&&!AP(e,f,Jt,Yo)){Ke=null,Zf(f)&&ue.remove(Jt);return}if(yt(Jt)){Ke=null;return}if(Nt(Jt,Yo,Ir)){const ss=ue.rename(Jt,De);O(ss),Se.push(ss),Ke=null;return}if(Mc(f)){let ss=$(c,Jt);if(!ss&&he(zo)&&tE(f)&&(ss=$(c,zo)),!Si(f)||ss){Ke=null;return}}he(je)&&Zt(Jt,Yo,Ir,uo)?(Ke||(Ke=ue.clone(je,!1),zo.insertBefore(Ke,Jt),Se.push(Ke)),uo&&fn&&(Pe=ro),Ke.appendChild(Jt)):(Ke=null,$e(Kn(Jt.childNodes),vt),fn&&(Pe=ro),Ke=null)};$e(ct,vt)}),f.links===!0&&$e(Se,ct=>{const Ke=vt=>{vt.nodeName==="A"&&O(vt,f),$e(Kn(vt.childNodes),Ke)};Ke(ct)}),$e(Se,ct=>{const Ke=fn=>{let ro=0;return $e(fn.childNodes,uo=>{!JC(uo)&&!Jl(uo)&&ro++}),ro},vt=fn=>oe(fn.childNodes,XC).filter(uo=>ue.getContentEditable(uo)!=="false"&&x1(ue,uo,f)).map(uo=>{const zo=ue.clone(uo,!1);return O(zo),ue.replace(zo,fn,!0),ue.remove(uo,!0),zo}).getOr(fn),Jt=Ke(ct);if((Se.length>1||!ue.isBlock(ct))&&Jt===0){ue.remove(ct,!0);return}(Si(f)||Zf(f)&&f.wrapper)&&(!f.exact&&Jt===1&&(ct=vt(ct)),P8(e,c,o,ct),N8(e,f,n,o,ct),M8(ue,f,o,ct),_P(ue,f,o,ct),kP(ue,f,o,ct),d2(e,f,o,ct))})},ne=lw(i)?i:x.getNode();if(w.getContentEditable(ne)==="false"&&!eE(e,ne)){i=ne,$(c,i),Nc(e,n,i,o);return}if(f){if(i)if(lw(i)){if(!$(c,i)){const ue=w.createRng();ue.setStartBefore(i),ue.setEndAfter(i),Z(w,mp(w,ue,c),!0)}}else Z(w,i,!0);else!p||!Si(f)||Ug(e).length?(x.setRng(ys(x.getRng())),jf(e,()=>{GC(e,(ue,se)=>{const fe=se?ue:mp(w,ue,c);Z(w,fe,!1)})},wt),e.nodeChanged()):w8(e,n,o),_8(e.formatter,n).each(ue=>{$e(l2(e.selection),se=>p2(w,se,ue,o))});C8(n,e)}Nc(e,n,i,o)},OP=(e,n,o,i)=>{(i||e.selection.isEditable())&&L8(e,n,o,i)},IT=e=>wn(e,"vars"),RT=(e,n)=>{e.set({}),n.on("NodeChange",o=>{PP(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const i=U.from(o.node).map(c=>lw(c)?c:c.startContainer).bind(c=>at(c)?U.some(c):U.from(c.parentElement)).getOrThunk(()=>BT(n));PP(n,i,e.get())})},BT=e=>e.selection.getStart(),DP=(e,n,o,i,c)=>V(n,w=>{const x=e.formatter.matchNode(w,o,c??{},i);return!Ze(x)},w=>t2(e,w,o)?!0:i?!1:he(e.formatter.matchNode(w,o,c,!0))),MP=(e,n)=>{const o=n??BT(e);return hn(dw(e.dom,o),i=>at(i)&&!xo(i))},PP=(e,n,o)=>{const i=MP(e,n);_t(o,(c,f)=>{const p=w=>{const x=DP(e,i,f,w.similar,IT(w)?w.vars:void 0),O=x.isSome();if(w.state.get()!==O){w.state.set(O);const $=x.getOr(n);IT(w)?w.callback(O,{node:$,format:f,parents:i}):$e(w.callbacks,H=>H(O,{node:$,format:f,parents:i}))}};$e([c.withSimilar,c.withoutSimilar],p),$e(c.withVars,p)})},g2=(e,n,o,i,c,f)=>{const p=n.get();$e(o.split(","),w=>{const x=Fo(p,w).getOrThunk(()=>{const $={withSimilar:{state:Ie(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ie(!1),similar:!1,callbacks:[]},withVars:[]};return p[w]=$,$}),O=()=>{const $=MP(e);return DP(e,$,w,c,f).isSome()};if(Ze(f)){const $=c?x.withSimilar:x.withoutSimilar;$.callbacks.push(i),$.callbacks.length===1&&$.state.set(O())}else x.withVars.push({state:Ie(O()),similar:c,vars:f,callback:i})}),n.set(p)},Jf=(e,n,o)=>{const i=e.get();$e(n.split(","),c=>Fo(i,c).each(f=>{i[c]={withSimilar:{...f.withSimilar,callbacks:hn(f.withSimilar.callbacks,p=>p!==o)},withoutSimilar:{...f.withoutSimilar,callbacks:hn(f.withoutSimilar.callbacks,p=>p!==o)},withVars:hn(f.withVars,p=>p.callback!==o)}})),e.set(i)},I8=(e,n,o,i,c,f)=>(g2(e,n,o,i,c,f),{unbind:()=>Jf(n,o,i)}),$T=(e,n,o,i)=>{const c=e.formatter.get(n);c&&(n2(e,n,o,i)&&(!("toggle"in c[0])||c[0].toggle)?LT(e,n,o,i):OP(e,n,o,i))},pr=Tt.explode,v2=()=>{const e={};return{addFilter:(c,f)=>{$e(pr(c),p=>{wn(e,p)||(e[p]={name:p,callbacks:[]}),e[p].callbacks.push(f)})},getFilters:()=>cl(e),removeFilter:(c,f)=>{$e(pr(c),p=>{if(wn(e,p))if(he(f)){const w=e[p],x=hn(w.callbacks,O=>O!==f);x.length>0?w.callbacks=x:delete e[p]}else delete e[p]})}}},FT=(e,n)=>{$e(n,o=>{e.attr(o,null)})},Qf=(e,n,o)=>{e.addNodeFilter("font",i=>{$e(i,c=>{const f=n.parse(c.attr("style")),p=c.attr("color"),w=c.attr("face"),x=c.attr("size");p&&(f.color=p),w&&(f["font-family"]=w),x&&Lu(x).each(O=>{f["font-size"]=o[O-1]}),c.name="span",c.attr("style",n.serialize(f)),FT(c,["color","face","size"])})})},NP=(e,n,o)=>{e.addNodeFilter("strike",i=>{const c=n.type!=="html4";$e(i,f=>{if(c)f.name="s";else{const p=o.parse(f.attr("style"));p["text-decoration"]="line-through",f.name="span",f.attr("style",o.serialize(p))}})})},LP=(e,n,o)=>{var i;const c=Ox();n.convert_fonts_to_spans&&Qf(e,c,Tt.explode((i=n.font_size_legacy_values)!==null&&i!==void 0?i:"")),NP(e,o,c)},_1=(e,n,o)=>{n.inline_styles&&LP(e,n,o)},R8=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),B8=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},oh=e=>{const[n,...o]=e.split(","),i=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const f=c[2]===";base64",p=f?B8(i):decodeURIComponent(i);return U.some({type:c[1],data:p,base64Encoded:f})}else return U.none()},IP=(e,n,o=!0)=>{let i=n;if(o)try{i=atob(n)}catch{return U.none()}const c=new Uint8Array(i.length);for(let f=0;f<c.length;f++)c[f]=i.charCodeAt(f);return U.some(new Blob([c],{type:e}))},Mp=e=>new Promise((n,o)=>{oh(e).bind(({type:i,data:c,base64Encoded:f})=>IP(i,c,f)).fold(()=>o("Invalid data URI"),n)}),$8=e=>es(e,"blob:")?R8(e):es(e,"data:")?Mp(e):Promise.reject("Unknown URI format"),em=e=>new Promise((n,o)=>{const i=new FileReader;i.onloadend=()=>{n(i.result)},i.onerror=()=>{var c;o((c=i.error)===null||c===void 0?void 0:c.message)},i.readAsDataURL(e)});let F8=0;const $c=e=>"blobid"+F8++,uv=(e,n,o)=>oh(e).bind(({data:i,type:c,base64Encoded:f})=>{if(n&&!f)return U.none();{const p=f?i:btoa(i);return o(p,c)}}),b2=(e,n,o)=>{const i=e.create($c(),n,o);return e.add(i),i},y2=(e,n,o=!1)=>uv(n,o,(i,c)=>U.from(e.getByData(i,c)).orThunk(()=>IP(c,i).map(f=>b2(e,f,i)))),H8=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(es(n,"blob:")){const i=e.getByUri(n);return he(i)?Promise.resolve(i):$8(n).then(c=>em(c).then(f=>uv(f,!1,p=>U.some(b2(e,c,p))).getOrThunk(o)))}else return es(n,"data:")?y2(e,n).fold(o,i=>Promise.resolve(i)):Promise.reject("Unknown image data format")},w2=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,z8=e=>U.from(e.match(w2)).bind(n=>Vn(n,1)).map(n=>es(n,"www.")?n.substring(4):n),Fc=(e,n)=>{U.from(e.attr("src")).bind(z8).forall(o=>!It(n,o))&&e.attr("sandbox","")},dv=(e,n)=>es(e,`${n}/`),RP=e=>Ze(e)?"iframe":dv(e,"image")?"img":dv(e,"video")?"video":dv(e,"audio")?"audio":"iframe",HT=({type:e,src:n,width:o,height:i}={},c,f)=>{const p=RP(e),w=new Va(p,1);return w.attr(p==="audio"?{src:n}:{src:n,width:o,height:i}),(p==="audio"||p==="video")&&w.attr("controls",""),p==="iframe"&&c&&Fc(w,f),w},zT=e=>he(e.attr("data-mce-bogus")),Pp=e=>e.attr("src")===Mn.transparentSrc||he(e.attr("data-mce-placeholder")),VT=(e,n)=>{const{blob_cache:o}=n;if(o){const i=c=>{const f=c.attr("src");Pp(c)||zT(c)||Fe(f)||y2(o,f,!0).each(p=>{c.attr("src",p.blobUri())})};e.addAttributeFilter("src",c=>$e(c,i))}},V8=(e,n)=>{var o,i;const c=e.schema;e.addAttributeFilter("href",x=>{let O=x.length;const $=Z=>Z.split(" ").filter(ue=>ue.length>0).concat(["noopener"]).sort().join(" "),H=Z=>{const ne=Z?Tt.trim(Z):"";return/\b(noopener)\b/g.test(ne)?ne:$(ne)};if(!n.allow_unsafe_link_target)for(;O--;){const Z=x[O];Z.name==="a"&&Z.attr("target")==="_blank"&&Z.attr("rel",H(Z.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",x=>{let O=x.length,$,H,Z,ne;for(;O--;)if(ne=x[O],ne.name==="a"&&ne.firstChild&&!ne.attr("href"))for(Z=ne.parent,$=ne.lastChild;$&&Z;)H=$.prev,Z.insert($,ne),$=H}),n.fix_list_elements&&e.addNodeFilter("ul,ol",x=>{let O=x.length,$,H;for(;O--;)if($=x[O],H=$.parent,H&&(H.name==="ul"||H.name==="ol"))if($.prev&&$.prev.name==="li")$.prev.append($);else{const Z=new Va("li",1);Z.attr("style","list-style-type: none"),$.wrap(Z)}});const f=c.getValidClasses();n.validate&&f&&e.addAttributeFilter("class",x=>{var O;let $=x.length;for(;$--;){const H=x[$],Z=(O=H.attr("class"))!==null&&O!==void 0?O:"",ne=Tt.explode(Z," ");let ue="";for(let se=0;se<ne.length;se++){const fe=ne[se];let Se=!1,Pe=f["*"];Pe&&Pe[fe]&&(Se=!0),Pe=f[H.name],!Se&&Pe&&Pe[fe]&&(Se=!0),Se&&(ue&&(ue+=" "),ue+=fe)}ue.length||(ue=null),H.attr("class",ue)}}),VT(e,n);const p=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,w=ls((i=n.sandbox_iframes_exclusions)!==null&&i!==void 0?i:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",x=>$e(x,O=>{O.replace(HT({type:O.attr("type"),src:O.name==="object"?O.attr("data"):O.attr("src"),width:O.attr("width"),height:O.attr("height")},p,w))})),p&&e.addNodeFilter("iframe",x=>$e(x,O=>Fc(O,w)))},{entries:UT,setPrototypeOf:BP,isFrozen:U8,getPrototypeOf:W8,getOwnPropertyDescriptor:j8}=Object;let{freeze:fa,seal:nd,create:$P}=Object,{apply:k1,construct:WT}=typeof Reflect<"u"&&Reflect;k1||(k1=function(n,o,i){return n.apply(o,i)}),fa||(fa=function(n){return n}),nd||(nd=function(n){return n}),WT||(WT=function(n,o){return new n(...o)});const FP=Su(Array.prototype.forEach),HP=Su(Array.prototype.pop),A1=Su(Array.prototype.push),S2=Su(String.prototype.toLowerCase),jT=Su(String.prototype.toString),Z8=Su(String.prototype.match),od=Su(String.prototype.replace),q8=Su(String.prototype.indexOf),G8=Su(String.prototype.trim),Hc=Su(RegExp.prototype.test),O1=X8(TypeError);function Su(e){return function(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];return k1(e,n,i)}}function X8(e){return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return WT(e,o)}}function os(e,n,o){var i;o=(i=o)!==null&&i!==void 0?i:S2,BP&&BP(e,null);let c=n.length;for(;c--;){let f=n[c];if(typeof f=="string"){const p=o(f);p!==f&&(U8(n)||(n[c]=p),f=p)}e[f]=!0}return e}function fv(e){const n=$P(null);for(const[o,i]of UT(e))n[o]=i;return n}function D1(e,n){for(;e!==null;){const i=j8(e,n);if(i){if(i.get)return Su(i.get);if(typeof i.value=="function")return Su(i.value)}e=W8(e)}function o(i){return console.warn("fallback value for",i),null}return o}const zP=fa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),sh=fa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ZT=fa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Y8=fa(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),qT=fa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),K8=fa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),GT=fa(["#text"]),VP=fa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),XT=fa(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),UP=fa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),x2=fa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),J8=nd(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Q8=nd(/<%[\w\W]*|[\w\W]*%>/gm),ez=nd(/\${[\w\W]*}/gm),tz=nd(/^data-[\-\w.\u00B7-\uFFFF]/),nz=nd(/^aria-[\-\w]+$/),WP=nd(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),YT=nd(/^(?:\w+script|data):/i),jP=nd(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),oz=nd(/^html$/i);var mv=Object.freeze({__proto__:null,MUSTACHE_EXPR:J8,ERB_EXPR:Q8,TMPLIT_EXPR:ez,DATA_ATTR:tz,ARIA_ATTR:nz,IS_ALLOWED_URI:WP,IS_SCRIPT_OR_DATA:YT,ATTR_WHITESPACE:jP,DOCTYPE_NAME:oz});const sz=()=>typeof window>"u"?null:window,ZP=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let i=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(i=o.getAttribute(c));const f="dompurify"+(i?"#"+i:"");try{return n.createPolicy(f,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function qP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sz();const n=mo=>qP(mo);if(n.version="3.0.5",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;const o=e.document,i=o.currentScript;let{document:c}=e;const{DocumentFragment:f,HTMLTemplateElement:p,Node:w,Element:x,NodeFilter:O,NamedNodeMap:$=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:H,DOMParser:Z,trustedTypes:ne}=e,ue=x.prototype,se=D1(ue,"cloneNode"),fe=D1(ue,"nextSibling"),Se=D1(ue,"childNodes"),Pe=D1(ue,"parentNode");if(typeof p=="function"){const mo=c.createElement("template");mo.content&&mo.content.ownerDocument&&(c=mo.content.ownerDocument)}let De,je="";const{implementation:yt,createNodeIterator:Nt,createDocumentFragment:Zt,getElementsByTagName:ct}=c,{importNode:Ke}=o;let vt={};n.isSupported=typeof UT=="function"&&typeof Pe=="function"&&yt&&yt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Jt,ERB_EXPR:fn,TMPLIT_EXPR:ro,DATA_ATTR:uo,ARIA_ATTR:zo,IS_SCRIPT_OR_DATA:Yo,ATTR_WHITESPACE:or}=mv;let{IS_ALLOWED_URI:Ir}=mv,ss=null;const Rt=os({},[...zP,...sh,...ZT,...qT,...GT]);let ln=null;const Mo=os({},[...VP,...XT,...UP,...x2]);let Vt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),yn=null,to=null,Ut=!0,no=!0,fo=!1,si=!0,jo=!1,qr=!1,jc=!1,ud=!1,Na=!1,nl=!1,mc=!1,ol=!0,hc=!1;const mn="user-content-";let wo=!0,Hs=!1,sr={},Sr=null;const mi=os({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let xr=null;const Cr=os({},["audio","video","img","source","image","track"]);let pa=null;const Zc=os({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qc="http://www.w3.org/1998/Math/MathML",Gc="http://www.w3.org/2000/svg",Pl="http://www.w3.org/1999/xhtml";let Jd=Pl,lm=!1,Qp=null;const XS=os({},[qc,Gc,Pl],jT);let Qd;const Yv=["application/xhtml+xml","text/html"],TO="text/html";let Qi,eg=null;const _O=c.createElement("form"),kO=function(tt){return tt instanceof RegExp||tt instanceof Function},ef=function(tt){if(!(eg&&eg===tt)){if((!tt||typeof tt!="object")&&(tt={}),tt=fv(tt),Qd=Yv.indexOf(tt.PARSER_MEDIA_TYPE)===-1?Qd=TO:Qd=tt.PARSER_MEDIA_TYPE,Qi=Qd==="application/xhtml+xml"?jT:S2,ss="ALLOWED_TAGS"in tt?os({},tt.ALLOWED_TAGS,Qi):Rt,ln="ALLOWED_ATTR"in tt?os({},tt.ALLOWED_ATTR,Qi):Mo,Qp="ALLOWED_NAMESPACES"in tt?os({},tt.ALLOWED_NAMESPACES,jT):XS,pa="ADD_URI_SAFE_ATTR"in tt?os(fv(Zc),tt.ADD_URI_SAFE_ATTR,Qi):Zc,xr="ADD_DATA_URI_TAGS"in tt?os(fv(Cr),tt.ADD_DATA_URI_TAGS,Qi):Cr,Sr="FORBID_CONTENTS"in tt?os({},tt.FORBID_CONTENTS,Qi):mi,yn="FORBID_TAGS"in tt?os({},tt.FORBID_TAGS,Qi):{},to="FORBID_ATTR"in tt?os({},tt.FORBID_ATTR,Qi):{},sr="USE_PROFILES"in tt?tt.USE_PROFILES:!1,Ut=tt.ALLOW_ARIA_ATTR!==!1,no=tt.ALLOW_DATA_ATTR!==!1,fo=tt.ALLOW_UNKNOWN_PROTOCOLS||!1,si=tt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,jo=tt.SAFE_FOR_TEMPLATES||!1,qr=tt.WHOLE_DOCUMENT||!1,Na=tt.RETURN_DOM||!1,nl=tt.RETURN_DOM_FRAGMENT||!1,mc=tt.RETURN_TRUSTED_TYPE||!1,ud=tt.FORCE_BODY||!1,ol=tt.SANITIZE_DOM!==!1,hc=tt.SANITIZE_NAMED_PROPS||!1,wo=tt.KEEP_CONTENT!==!1,Hs=tt.IN_PLACE||!1,Ir=tt.ALLOWED_URI_REGEXP||WP,Jd=tt.NAMESPACE||Pl,Vt=tt.CUSTOM_ELEMENT_HANDLING||{},tt.CUSTOM_ELEMENT_HANDLING&&kO(tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Vt.tagNameCheck=tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&kO(tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Vt.attributeNameCheck=tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&typeof tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Vt.allowCustomizedBuiltInElements=tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),jo&&(no=!1),nl&&(Na=!0),sr&&(ss=os({},[...GT]),ln=[],sr.html===!0&&(os(ss,zP),os(ln,VP)),sr.svg===!0&&(os(ss,sh),os(ln,XT),os(ln,x2)),sr.svgFilters===!0&&(os(ss,ZT),os(ln,XT),os(ln,x2)),sr.mathMl===!0&&(os(ss,qT),os(ln,UP),os(ln,x2))),tt.ADD_TAGS&&(ss===Rt&&(ss=fv(ss)),os(ss,tt.ADD_TAGS,Qi)),tt.ADD_ATTR&&(ln===Mo&&(ln=fv(ln)),os(ln,tt.ADD_ATTR,Qi)),tt.ADD_URI_SAFE_ATTR&&os(pa,tt.ADD_URI_SAFE_ATTR,Qi),tt.FORBID_CONTENTS&&(Sr===mi&&(Sr=fv(Sr)),os(Sr,tt.FORBID_CONTENTS,Qi)),wo&&(ss["#text"]=!0),qr&&os(ss,["html","head","body"]),ss.table&&(os(ss,["tbody"]),delete yn.tbody),tt.TRUSTED_TYPES_POLICY){if(typeof tt.TRUSTED_TYPES_POLICY.createHTML!="function")throw O1('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof tt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw O1('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');De=tt.TRUSTED_TYPES_POLICY,je=De.createHTML("")}else De===void 0&&(De=ZP(ne,i)),De!==null&&typeof je=="string"&&(je=De.createHTML(""));fa&&fa(tt),eg=tt}},j0=os({},["mi","mo","mn","ms","mtext"]),Xe=os({},["foreignobject","desc","title","annotation-xml"]),Je=os({},["title","style","font","a","script"]),Lt=os({},sh);os(Lt,ZT),os(Lt,Y8);const Dt=os({},qT);os(Dt,K8);const _n=function(tt){let sn=Pe(tt);(!sn||!sn.tagName)&&(sn={namespaceURI:Jd,tagName:"template"});const Ln=S2(tt.tagName),gr=S2(sn.tagName);return Qp[tt.namespaceURI]?tt.namespaceURI===Gc?sn.namespaceURI===Pl?Ln==="svg":sn.namespaceURI===qc?Ln==="svg"&&(gr==="annotation-xml"||j0[gr]):!!Lt[Ln]:tt.namespaceURI===qc?sn.namespaceURI===Pl?Ln==="math":sn.namespaceURI===Gc?Ln==="math"&&Xe[gr]:!!Dt[Ln]:tt.namespaceURI===Pl?sn.namespaceURI===Gc&&!Xe[gr]||sn.namespaceURI===qc&&!j0[gr]?!1:!Dt[Ln]&&(Je[Ln]||!Lt[Ln]):!!(Qd==="application/xhtml+xml"&&Qp[tt.namespaceURI]):!1},vo=function(tt){A1(n.removed,{element:tt});try{tt.parentNode.removeChild(tt)}catch{tt.remove()}},qs=function(tt,sn){try{A1(n.removed,{attribute:sn.getAttributeNode(tt),from:sn})}catch{A1(n.removed,{attribute:null,from:sn})}if(sn.removeAttribute(tt),tt==="is"&&!ln[tt])if(Na||nl)try{vo(sn)}catch{}else try{sn.setAttribute(tt,"")}catch{}},Xc=function(tt){let sn,Ln;if(ud)tt="<remove></remove>"+tt;else{const t=Z8(tt,/^[\r\n\t ]+/);Ln=t&&t[0]}Qd==="application/xhtml+xml"&&Jd===Pl&&(tt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+tt+"</body></html>");const gr=De?De.createHTML(tt):tt;if(Jd===Pl)try{sn=new Z().parseFromString(gr,Qd)}catch{}if(!sn||!sn.documentElement){sn=yt.createDocument(Jd,"template",null);try{sn.documentElement.innerHTML=lm?je:gr}catch{}}const La=sn.body||sn.documentElement;return tt&&Ln&&La.insertBefore(c.createTextNode(Ln),La.childNodes[0]||null),Jd===Pl?ct.call(sn,qr?"html":"body")[0]:qr?sn.documentElement:La},Kv=function(tt){return Nt.call(tt.ownerDocument||tt,tt,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT,null,!1)},rX=function(tt){return tt instanceof H&&(typeof tt.nodeName!="string"||typeof tt.textContent!="string"||typeof tt.removeChild!="function"||!(tt.attributes instanceof $)||typeof tt.removeAttribute!="function"||typeof tt.setAttribute!="function"||typeof tt.namespaceURI!="string"||typeof tt.insertBefore!="function"||typeof tt.hasChildNodes!="function")},YS=function(tt){return typeof w=="object"?tt instanceof w:tt&&typeof tt=="object"&&typeof tt.nodeType=="number"&&typeof tt.nodeName=="string"},tf=function(tt,sn,Ln){vt[tt]&&FP(vt[tt],gr=>{gr.call(n,sn,Ln,eg)})},qB=function(tt){let sn;if(tf("beforeSanitizeElements",tt,null),rX(tt))return vo(tt),!0;const Ln=Qi(tt.nodeName);if(tf("uponSanitizeElement",tt,{tagName:Ln,allowedTags:ss}),tt.hasChildNodes()&&!YS(tt.firstElementChild)&&(!YS(tt.content)||!YS(tt.content.firstElementChild))&&Hc(/<[/\w]/g,tt.innerHTML)&&Hc(/<[/\w]/g,tt.textContent))return vo(tt),!0;if(!ss[Ln]||yn[Ln]){if(!yn[Ln]&&XB(Ln)&&(Vt.tagNameCheck instanceof RegExp&&Hc(Vt.tagNameCheck,Ln)||Vt.tagNameCheck instanceof Function&&Vt.tagNameCheck(Ln)))return!1;if(wo&&!Sr[Ln]){const gr=Pe(tt)||tt.parentNode,La=Se(tt)||tt.childNodes;if(La&&gr){const t=La.length;for(let s=t-1;s>=0;--s)gr.insertBefore(se(La[s],!0),fe(tt))}}return vo(tt),!0}return tt instanceof x&&!_n(tt)||(Ln==="noscript"||Ln==="noembed"||Ln==="noframes")&&Hc(/<\/no(script|embed|frames)/i,tt.innerHTML)?(vo(tt),!0):(jo&&tt.nodeType===3&&(sn=tt.textContent,sn=od(sn,Jt," "),sn=od(sn,fn," "),sn=od(sn,ro," "),tt.textContent!==sn&&(A1(n.removed,{element:tt.cloneNode()}),tt.textContent=sn)),tf("afterSanitizeElements",tt,null),!1)},GB=function(tt,sn,Ln){if(ol&&(sn==="id"||sn==="name")&&(Ln in c||Ln in _O))return!1;if(!(no&&!to[sn]&&Hc(uo,sn))){if(!(Ut&&Hc(zo,sn))){if(!ln[sn]||to[sn]){if(!(XB(tt)&&(Vt.tagNameCheck instanceof RegExp&&Hc(Vt.tagNameCheck,tt)||Vt.tagNameCheck instanceof Function&&Vt.tagNameCheck(tt))&&(Vt.attributeNameCheck instanceof RegExp&&Hc(Vt.attributeNameCheck,sn)||Vt.attributeNameCheck instanceof Function&&Vt.attributeNameCheck(sn))||sn==="is"&&Vt.allowCustomizedBuiltInElements&&(Vt.tagNameCheck instanceof RegExp&&Hc(Vt.tagNameCheck,Ln)||Vt.tagNameCheck instanceof Function&&Vt.tagNameCheck(Ln))))return!1}else if(!pa[sn]){if(!Hc(Ir,od(Ln,or,""))){if(!((sn==="src"||sn==="xlink:href"||sn==="href")&&tt!=="script"&&q8(Ln,"data:")===0&&xr[tt])){if(!(fo&&!Hc(Yo,od(Ln,or,"")))){if(Ln)return!1}}}}}}return!0},XB=function(tt){return tt.indexOf("-")>0},YB=function(tt){let sn,Ln,gr,La;tf("beforeSanitizeAttributes",tt,null);const{attributes:t}=tt;if(!t)return;const s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ln};for(La=t.length;La--;){sn=t[La];const{name:a,namespaceURI:u}=sn;Ln=a==="value"?sn.value:G8(sn.value);const h=Ln;if(gr=Qi(a),s.attrName=gr,s.attrValue=Ln,s.keepAttr=!0,s.forceKeepAttr=void 0,tf("uponSanitizeAttribute",tt,s),Ln=s.attrValue,s.forceKeepAttr)continue;if(!s.keepAttr){qs(a,tt);continue}if(!si&&Hc(/\/>/i,Ln)){qs(a,tt);continue}jo&&(Ln=od(Ln,Jt," "),Ln=od(Ln,fn," "),Ln=od(Ln,ro," "));const g=Qi(tt.nodeName);if(!GB(g,gr,Ln)){qs(a,tt);continue}if(hc&&(gr==="id"||gr==="name")&&(qs(a,tt),Ln=mn+Ln),De&&typeof ne=="object"&&typeof ne.getAttributeType=="function"&&!u)switch(ne.getAttributeType(g,gr)){case"TrustedHTML":{Ln=De.createHTML(Ln);break}case"TrustedScriptURL":{Ln=De.createScriptURL(Ln);break}}if(Ln!==h)try{u?tt.setAttributeNS(u,a,Ln):tt.setAttribute(a,Ln)}catch{qs(a,tt)}}tf("afterSanitizeAttributes",tt,null)},iX=function mo(tt){let sn;const Ln=Kv(tt);for(tf("beforeSanitizeShadowDOM",tt,null);sn=Ln.nextNode();)tf("uponSanitizeShadowNode",sn,null),!qB(sn)&&(sn.content instanceof f&&mo(sn.content),YB(sn));tf("afterSanitizeShadowDOM",tt,null)};return n.sanitize=function(mo){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},sn,Ln,gr,La;if(lm=!mo,lm&&(mo="<!-->"),typeof mo!="string"&&!YS(mo))if(typeof mo.toString=="function"){if(mo=mo.toString(),typeof mo!="string")throw O1("dirty is not a string, aborting")}else throw O1("toString is not a function");if(!n.isSupported)return mo;if(jc||ef(tt),n.removed=[],typeof mo=="string"&&(Hs=!1),Hs){if(mo.nodeName){const a=Qi(mo.nodeName);if(!ss[a]||yn[a])throw O1("root node is forbidden and cannot be sanitized in-place")}}else if(mo instanceof w)sn=Xc("<!---->"),Ln=sn.ownerDocument.importNode(mo,!0),Ln.nodeType===1&&Ln.nodeName==="BODY"||Ln.nodeName==="HTML"?sn=Ln:sn.appendChild(Ln);else{if(!Na&&!jo&&!qr&&mo.indexOf("<")===-1)return De&&mc?De.createHTML(mo):mo;if(sn=Xc(mo),!sn)return Na?null:mc?je:""}sn&&ud&&vo(sn.firstChild);const t=Kv(Hs?mo:sn);for(;gr=t.nextNode();)qB(gr)||(gr.content instanceof f&&iX(gr.content),YB(gr));if(Hs)return mo;if(Na){if(nl)for(La=Zt.call(sn.ownerDocument);sn.firstChild;)La.appendChild(sn.firstChild);else La=sn;return(ln.shadowroot||ln.shadowrootmode)&&(La=Ke.call(o,La,!0)),La}let s=qr?sn.outerHTML:sn.innerHTML;return qr&&ss["!doctype"]&&sn.ownerDocument&&sn.ownerDocument.doctype&&sn.ownerDocument.doctype.name&&Hc(oz,sn.ownerDocument.doctype.name)&&(s="<!DOCTYPE "+sn.ownerDocument.doctype.name+`>
`+s),jo&&(s=od(s,Jt," "),s=od(s,fn," "),s=od(s,ro," ")),De&&mc?De.createHTML(s):s},n.setConfig=function(mo){ef(mo),jc=!0},n.clearConfig=function(){eg=null,jc=!1},n.isValidAttribute=function(mo,tt,sn){eg||ef({});const Ln=Qi(mo),gr=Qi(tt);return GB(Ln,gr,sn)},n.addHook=function(mo,tt){typeof tt=="function"&&(vt[mo]=vt[mo]||[],A1(vt[mo],tt))},n.removeHook=function(mo){if(vt[mo])return HP(vt[mo])},n.removeHooks=function(mo){vt[mo]&&(vt[mo]=[])},n.removeAllHooks=function(){vt={}},n}var hv=qP();const KT=Tt.each,ni=Tt.trim,fK=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],mK={ftp:21,http:80,https:443,mailto:25},hK=["img","video"],pK=(e,n)=>he(e)?!e:he(n)?!It(hK,n):!0,xu=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},M1=(e,n,o)=>{const i=xu(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(i)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(i)?pK(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(i):/^data:/i.test(i)};class ma{static parseDataUri(n){let o;const i=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(i[0]);return c&&(o=c[1]),{type:o,data:i[1]}}static isDomSafe(n,o,i={}){if(i.allow_script_urls)return!0;{const c=Gu.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!M1(i,c,o)}}static getDocumentBaseUrl(n){var o;let i;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?i=(o=n.href)!==null&&o!==void 0?o:"":i=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/")),i}constructor(n,o={}){this.path="",this.directory="",n=ni(n),this.settings=o;const i=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const w=i?i.path:new ma(document.location.href).directory;if((i==null?void 0:i.protocol)==="")n="//mce_host"+c.toAbsPath(w,n);else{const x=/([^#?]*)([#?]?.*)/.exec(n);x&&(n=(i&&i.protocol||"http")+"://mce_host"+c.toAbsPath(w,x[1])+x[2])}}n=n.replace(/@@/g,"(mce_at)");const p=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);p&&KT(fK,(w,x)=>{let O=p[x];O&&(O=O.replace(/\(mce_at\)/g,"@@")),c[w]=O}),i&&(c.protocol||(c.protocol=i.protocol),c.userInfo||(c.userInfo=i.userInfo),!c.port&&c.host==="mce_host"&&(c.port=i.port),(!c.host||c.host==="mce_host")&&(c.host=i.host),c.source=""),f&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new ma(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const i=this.getURI(),c=o.getURI();if(i===c||i.charAt(i.length-1)==="/"&&i.substr(0,i.length-1)===c)return i;let f=this.toRelPath(this.path,o.path);return o.query&&(f+="?"+o.query),o.anchor&&(f+="#"+o.anchor),f}toAbsolute(n,o){const i=new ma(n,{base_uri:this});return i.getURI(o&&this.isSameOrigin(i))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?mK[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let i=0,c="",f,p;const w=n.substring(0,n.lastIndexOf("/")).split("/"),x=o.split("/");if(w.length>=x.length){for(f=0,p=w.length;f<p;f++)if(f>=x.length||w[f]!==x[f]){i=f+1;break}}if(w.length<x.length){for(f=0,p=x.length;f<p;f++)if(f>=w.length||w[f]!==x[f]){i=f+1;break}}if(i===1)return o;for(f=0,p=w.length-(i-1);f<p;f++)c+="../";for(f=i-1,p=x.length;f<p;f++)f!==i-1?c+="/"+x[f]:c+=x[f];return c}toAbsPath(n,o){let i=0;const c=/\/$/.test(o)?"/":"",f=n.split("/"),p=o.split("/"),w=[];KT(f,H=>{H&&w.push(H)});const x=[];for(let H=p.length-1;H>=0;H--)if(!(p[H].length===0||p[H]===".")){if(p[H]===".."){i++;continue}if(i>0){i--;continue}x.push(p[H])}const O=w.length-i;let $;return O<=0?$=ht(x).join("/"):$=w.slice(0,O).join("/")+"/"+ht(x).join("/"),$.indexOf("/")!==0&&($="/"+$),c&&$.lastIndexOf("/")!==$.length-1&&($+=c),$}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const rh=Tt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),JT="data-mce-type";let GP=0;const Np=(e,n,o,i,c)=>{var f,p,w,x;const O=n.validate,$=o.getSpecialElements();e.nodeType===Vi&&!n.allow_conditional_comments&&/^\[if/i.test((f=e.nodeValue)!==null&&f!==void 0?f:"")&&(e.nodeValue=" "+e.nodeValue);const H=(p=c==null?void 0:c.tagName)!==null&&p!==void 0?p:e.nodeName.toLowerCase();if(i!=="html"&&o.isValid(i)){he(c)&&(c.allowedTags[H]=!0);return}if(e.nodeType!==Cd||H==="body")return;const Z=ye.fromDom(e),ne=Ea(Z,JT),ue=ra(Z,"data-mce-bogus");if(!ne&&F(ue)){ue==="all"?ms(Z):Tc(Z);return}const se=o.getElementRule(H);if(O&&!se){wn($,H)?ms(Z):Tc(Z);return}else he(c)&&(c.allowedTags[H]=!0);if(O&&se&&!ne){if($e((w=se.attributesForced)!==null&&w!==void 0?w:[],fe=>{zr(Z,fe.name,fe.value==="{$uid}"?`mce_${GP++}`:fe.value)}),$e((x=se.attributesDefault)!==null&&x!==void 0?x:[],fe=>{Ea(Z,fe.name)||zr(Z,fe.name,fe.value==="{$uid}"?`mce_${GP++}`:fe.value)}),se.attributesRequired&&!zn(se.attributesRequired,fe=>Ea(Z,fe))){Tc(Z);return}if(se.removeEmptyAttrs&&cg(Z)){Tc(Z);return}se.outputName&&se.outputName!==H&&_D(Z,se.outputName)}},pv=(e,n,o,i,c)=>{const f=e.tagName.toLowerCase(),{attrName:p,attrValue:w}=c;c.keepAttr=Lp(n,o,i,f,p,w),c.keepAttr?(c.allowedAttributes[p]=!0,E2(p,o)&&(c.attrValue=p),n.allow_svg_data_urls&&es(w,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):C2(e,p)&&(c.forceKeepAttr=!0)},Lp=(e,n,o,i,c,f)=>o!=="html"&&!yr(i)?!0:!(c in rh&&M1(e,f,i))&&(!e.validate||n.isValid(i,c)||es(c,"data-")||es(c,"aria-")),C2=(e,n)=>e.hasAttribute(JT)&&(n==="id"||n==="class"||n==="style"),E2=(e,n)=>e in n.getBoolAttrs(),XP=(e,n,o,i)=>{const{attributes:c}=e;for(let f=c.length-1;f>=0;f--){const p=c[f],w=p.name,x=p.value;!Lp(n,o,i,e.tagName.toLowerCase(),w,x)&&!C2(e,w)?e.removeAttribute(w):E2(w,o)&&e.setAttribute(w,w)}},YP=(e,n,o)=>{const i=hv();return i.addHook("uponSanitizeElement",(c,f)=>{Np(c,e,n,o.track(c),f)}),i.addHook("uponSanitizeAttribute",(c,f)=>{pv(c,e,n,o.current(),f)}),i},rz=(e,n)=>{const i={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return i.PARSER_MEDIA_TYPE=n,e.allow_script_urls?i.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(i.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),i},iz=e=>{const n=Fh(e);if(n==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(c=>`xlink:${c}`),i={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};hv().sanitize(e,i)}else if(n==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};hv().sanitize(e,o)}else throw new Error("Not a namespace element")},KP=(e,n)=>{const o=bg();if(e.sanitize){const i=YP(e,n,o);return{sanitizeHtmlElement:(f,p)=>{i.sanitize(f,rz(e,p)),i.removed=[],o.reset()},sanitizeNamespaceElement:iz}}else return{sanitizeHtmlElement:(f,p)=>{const w=document.createNodeIterator(f,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let x;for(;x=w.nextNode();){const O=o.track(x);Np(x,e,n,O),at(x)&&XP(x,e,n,O)}o.reset()},sanitizeNamespaceElement:Oe}},JP=Tt.makeMap,QP=Tt.extend,eN=(e,n,o,i)=>{const c=e.name,f=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",p=n.childNodes;for(let w=0,x=p.length;w<x;w++){const O=p[w],$=new Va(O.nodeName.toLowerCase(),O.nodeType);if(at(O)){const H=O.attributes;for(let Z=0,ne=H.length;Z<ne;Z++){const ue=H[Z];$.attr(ue.name,ue.value)}yr($.name)&&(i(O),$.value=O.innerHTML)}else ot(O)?($.value=O.data,f&&($.raw=!0)):(_o(O)||Co(O)||Ts(O))&&($.value=O.data);yr($.name)||eN($,O,o,i),e.append($)}},az=(e,n,o)=>{const i=[];for(let c=e,f=c;c;f=c,c=c.walk()){const p=c;$e(n,w=>w(p)),Fe(p.parent)&&p!==e?c=f:i.push(p)}for(let c=i.length-1;c>=0;c--){const f=i[c];$e(o,p=>p(f))}},lz=(e,n,o,i)=>{const c=o.validate,f=n.getNonEmptyElements(),p=n.getWhitespaceElements(),w=QP(JP("script,style,head,html,body,title,meta,param"),n.getBlockElements()),x=Ey(n),O=/[ \t\r\n]+/g,$=/^[ \t\r\n]+/,H=/[ \t\r\n]+$/,Z=Pe=>{let De=Pe.parent;for(;he(De);){if(De.name in p)return!0;De=De.parent}return!1},ne=Pe=>{let De=Pe;for(;he(De);){if(De.name in x)return Jw(n,f,p,De);De=De.parent}return!1},ue=Pe=>Pe.name in w||km(n,Pe)||yr(Pe.name)&&Pe.parent===e,se=(Pe,De)=>{const je=De?Pe.prev:Pe.next;return he(je)||Fe(Pe.parent)?!1:ue(Pe.parent)&&(Pe.parent!==e||i.isRootContent===!0)};return[Pe=>{var De;if(Pe.type===3&&!Z(Pe)){let je=(De=Pe.value)!==null&&De!==void 0?De:"";je=je.replace(O," "),(Ri(Pe.prev,ue)||se(Pe,!0))&&(je=je.replace($,"")),je.length===0||je===" "&&Pe.prev&&Pe.prev.type===Vi&&Pe.next&&Pe.next.type===Vi?Pe.remove():Pe.value=je}},Pe=>{var De;if(Pe.type===1){const je=n.getElementRule(Pe.name);if(c&&je){const yt=Jw(n,f,p,Pe);je.paddInEmptyBlock&&yt&&ne(Pe)?iT(o,i,ue,Pe):je.removeEmpty&&yt?ue(Pe)?Pe.remove():Pe.unwrap():je.paddEmpty&&(yt||K7(Pe))&&iT(o,i,ue,Pe)}}else if(Pe.type===3&&!Z(Pe)){let je=(De=Pe.value)!==null&&De!==void 0?De:"";(Pe.next&&ue(Pe.next)||se(Pe,!1))&&(je=je.replace(H,"")),je.length===0?Pe.remove():Pe.value=je}}]},tN=(e,n)=>{var o;const i=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return i===!1?"":i===!0?"p":i},gv=(e={},n=If())=>{const o=v2(),i=v2(),c={validate:!0,root_name:"body",sanitize:!0,...e},f=new DOMParser,p=KP(c,n),w=(De,je,yt="html")=>{const Nt=yt==="xhtml"?"application/xhtml+xml":"text/html",Zt=wn(n.getSpecialElements(),je.toLowerCase()),ct=Zt?`<${je}>${De}</${je}>`:De,Ke=()=>yt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${ct}</body></html>`:/^[\s]*<head/i.test(De)||/^[\s]*<html/i.test(De)||/^[\s]*<!DOCTYPE/i.test(De)?`<html>${ct}</html>`:`<body>${ct}</body>`,vt=f.parseFromString(Ke(),Nt).body;return p.sanitizeHtmlElement(vt,Nt),Zt?vt.firstChild:vt},x=o.addFilter,O=o.getFilters,$=o.removeFilter,H=i.addFilter,Z=i.getFilters,ne=i.removeFilter,ue=(De,je)=>{iP(n,De)&&je.push(De)},se=(De,je)=>{const yt=F(je.attr(JT)),Nt=je.type===1&&!wn(De,je.name)&&!km(n,je)&&!yr(je.name);return je.type===3||Nt&&!yt},fe=(De,je)=>{const yt=QP(JP("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Nt=/^[ \t\r\n]+/,Zt=/[ \t\r\n]+$/;let ct=De.firstChild,Ke=null;const vt=Jt=>{var fn,ro;Jt&&(ct=Jt.firstChild,ct&&ct.type===3&&(ct.value=(fn=ct.value)===null||fn===void 0?void 0:fn.replace(Nt,"")),ct=Jt.lastChild,ct&&ct.type===3&&(ct.value=(ro=ct.value)===null||ro===void 0?void 0:ro.replace(Zt,"")))};if(n.isValidChild(De.name,je.toLowerCase())){for(;ct;){const Jt=ct.next;se(yt,ct)?(Ke||(Ke=new Va(je,1),Ke.attr(c.forced_root_block_attrs),De.insert(Ke,ct)),Ke.append(ct)):(vt(Ke),Ke=null),ct=Jt}vt(Ke)}},Pe={schema:n,addAttributeFilter:H,getAttributeFilters:Z,removeAttributeFilter:ne,addNodeFilter:x,getNodeFilters:O,removeNodeFilter:$,parse:(De,je={})=>{var yt;const Nt=c.validate,Zt=(yt=je.context)!==null&&yt!==void 0?yt:c.root_name,ct=w(De,Zt,je.format);Sx(n,ct);const Ke=new Va(Zt,11);eN(Ke,ct,n.getSpecialElements(),p.sanitizeNamespaceElement),ct.innerHTML="";const[vt,Jt]=lz(Ke,n,c,je),fn=[],ro=Nt?or=>ue(or,fn):Oe,uo={nodes:{},attributes:{}},zo=or=>rP(O(),Z(),or,uo);if(az(Ke,[vt,zo],[Jt,ro]),fn.reverse(),Nt&&fn.length>0)if(je.context){const{pass:or,fail:Ir}=ar(fn,ss=>ss.parent===Ke);ed(Ir,n,Ke,zo),je.invalid=or.length>0}else ed(fn,n,Ke,zo);const Yo=tN(c,je);return Yo&&(Ke.name==="body"||je.isRootContent)&&fe(Ke,Yo),je.invalid||sT(uo,je),Ke}};return V8(Pe,c),_1(Pe,c,n),Pe},P1=e=>th(e)?Xf({validate:!1}).serialize(e):e,QT=(e,n,o)=>{const i=P1(e),c=n(i);if(c.isDefaultPrevented())return c;if(th(e))if(c.content!==i){const f=gv({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:f}}else return{...c,content:e};else return c},nN=e=>({sanitize:Jy(e),sandbox_iframes:v4(e),sandbox_iframes_exclusions:Qy(e)}),e_=(e,n)=>{if(n.no_events)return Ya.value(n);{const o=yH(e,n);return o.isDefaultPrevented()?Ya.error(Cw(e,{content:"",...o}).content):Ya.value(o)}},oN=(e,n,o)=>o.no_events?n:QT(n,c=>Cw(e,{...o,content:c}),nN(e)).content,T2=(e,n)=>{if(n.no_events)return Ya.value(n);{const o=QT(n.content,i=>Sw(e,{...n,content:i}),nN(e));return o.isDefaultPrevented()?(xw(e,o),Ya.error(void 0)):Ya.value(o)}},t_=(e,n,o)=>{o.no_events||xw(e,{...o,content:n})},n_=(e,n,o)=>({element:e,width:n,rows:o}),o_=(e,n)=>({element:e,cells:n}),sN=(e,n)=>({x:e,y:n}),s_=(e,n)=>Vr(e,n).bind(Lu).getOr(1),rN=(e,n,o,i,c)=>{const f=s_(c,"rowspan"),p=s_(c,"colspan"),w=e.rows;for(let x=o;x<o+f;x++){w[x]||(w[x]=o_(Fx(i),[]));for(let O=n;O<n+p;O++){const $=w[x].cells;$[O]=x===o&&O===n?c:Gh(c)}}},iN=(e,n,o)=>{const i=e.rows;return!!(i[o]?i[o].cells:[])[n]},aN=(e,n,o)=>{for(;iN(e,n,o);)n++;return n},lN=e=>Gs(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),cN=(e,n)=>{const o=e.rows;for(let i=0;i<o.length;i++){const c=o[i].cells;for(let f=0;f<c.length;f++)if(so(c[f],n))return U.some(sN(f,i))}return U.none()},uN=(e,n,o,i,c)=>{const f=[],p=e.rows;for(let w=o;w<=c;w++){const x=p[w].cells,O=n<i?x.slice(n,i+1):x.slice(i,n+1);f.push(o_(p[w].element,O))}return f},r_=(e,n,o)=>{const i=n.x,c=n.y,f=o.x,p=o.y,w=c<p?uN(e,i,c,f,p):uN(e,i,p,f,c);return n_(e.element,lN(w),w)},N1=(e,n)=>{const o=Gh(e.element),i=ye.fromTag("tbody");return ka(i,n),Mr(o,i),o},dN=e=>nn(e.rows,n=>{const o=nn(n.cells,c=>{const f=Fx(c);return Ur(f,"colspan"),Ur(f,"rowspan"),f}),i=Gh(n.element);return ka(i,o),i}),fN=e=>{const n=n_(Gh(e),0,[]);return $e(Zi(e,"tr"),(o,i)=>{$e(Zi(o,"td,th"),(c,f)=>{rN(n,aN(n,f,i),i,o,c)})}),n_(n.element,lN(n.rows),n.rows)},_2=e=>N1(e,dN(e)),cz=(e,n,o)=>cN(e,n).bind(i=>cN(e,o).map(c=>r_(e,i,c))),uz=e=>oe(e,n=>ho(n)==="ul"||ho(n)==="ol"),Ip=(e,n)=>oe(e,o=>ho(o)==="li"&&aw(o,n)).fold(_e([]),o=>uz(e).map(i=>{const c=ye.fromTag(ho(i)),f=Ys(ym(i),(p,w)=>es(w,"list-style"));return Xn(c,f),[ye.fromTag("li"),c]}).getOr([])),i_=(e,n)=>{const o=Gs(n,(i,c)=>(Mr(c,i),c),e);return n.length>0?On([o]):o},mN=e=>Mg(e)?Dr(e).filter(Mm).fold(_e([]),n=>[e,n]):Mm(e)?[e]:[],L1=(e,n,o)=>{const i=ye.fromDom(n.commonAncestorContainer),c=vu(i,e),f=hn(c,x=>o.isWrapper(ho(x))),p=Ip(c,n),w=f.concat(p.length?p:mN(i));return nn(w,Gh)},a_=()=>On([]),l_=(e,n,o)=>i_(ye.fromDom(n.cloneContents()),L1(e,n,o)),hN=(e,n)=>ur(n,"table",Ve(so,e)),pN=(e,n)=>hN(e,n[0]).bind(o=>{const i=n[0],c=n[n.length-1],f=fN(o);return cz(f,i,c).map(p=>On([_2(p)]))}).getOrThunk(a_),dz=(e,n,o)=>n.length>0&&n[0].collapsed?a_():l_(e,n[0],o),fz=(e,n,o)=>{const i=UC(n,e);return i.length>0?pN(e,i):dz(e,n,o)},k2=(e,n)=>n>=0&&n<e.length&&Wm(e.charAt(n)),A2=e=>ql(e.innerText),mz=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),gN=e=>U.from(e.selection.getRng()).map(n=>{var o;const i=U.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),f=mz(i),p=ye.fromDom(n.cloneContents());e3(p),t3(p);const w=e.dom.add(c,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},p.dom),x=A2(w),O=ql((o=w.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(w),k2(O,0)||k2(O,O.length-1)){const $=i.getOr(c),H=A2($),Z=H.indexOf(x);if(Z===-1)return x;{const ne=k2(H,Z-1),ue=k2(H,Z+x.length);return(ne?" ":"")+x+(ue?" ":"")}}else return x}).getOr(""),hz=(e,n)=>{const o=e.selection.getRng(),i=e.dom.create("body"),c=e.selection.getSel(),f=$w(e,iw(c)),p=n.contextual?fz(ye.fromDom(e.getBody()),f,e.schema).dom:o.cloneContents();return p&&i.appendChild(p),e.selection.serializer.serialize(i,n)},pz=(e,n)=>{if(n.format==="text")return gN(e);{const o=hz(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},gz=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),vz=(e,n,o={})=>{const i=gz(o,n);return e_(e,i).fold($t,c=>{const f=pz(e,c);return oN(e,f,c)})},c_=0,vN=1,bN=2,bz=(e,n)=>{const o=e.length+n.length+2,i=new Array(o),c=new Array(o),f=($,H,Z)=>({start:$,end:H,diag:Z}),p=($,H,Z,ne,ue)=>{const se=x($,H,Z,ne);if(se===null||se.start===H&&se.diag===H-ne||se.end===$&&se.diag===$-Z){let fe=$,Se=Z;for(;fe<H||Se<ne;)fe<H&&Se<ne&&e[fe]===n[Se]?(ue.push([c_,e[fe]]),++fe,++Se):H-$>ne-Z?(ue.push([bN,e[fe]]),++fe):(ue.push([vN,n[Se]]),++Se)}else{p($,se.start,Z,se.start-se.diag,ue);for(let fe=se.start;fe<se.end;++fe)ue.push([c_,e[fe]]);p(se.end,H,se.end-se.diag,ne,ue)}},w=($,H,Z,ne)=>{let ue=$;for(;ue-H<ne&&ue<Z&&e[ue]===n[ue-H];)++ue;return f($,ue,H)},x=($,H,Z,ne)=>{const ue=H-$,se=ne-Z;if(ue===0||se===0)return null;const fe=ue-se,Se=se+ue,Pe=(Se%2===0?Se:Se+1)/2;i[1+Pe]=$,c[1+Pe]=H+1;let De,je,yt,Nt,Zt;for(De=0;De<=Pe;++De){for(je=-De;je<=De;je+=2){for(yt=je+Pe,je===-De||je!==De&&i[yt-1]<i[yt+1]?i[yt]=i[yt+1]:i[yt]=i[yt-1]+1,Nt=i[yt],Zt=Nt-$+Z-je;Nt<H&&Zt<ne&&e[Nt]===n[Zt];)i[yt]=++Nt,++Zt;if(fe%2!==0&&fe-De<=je&&je<=fe+De&&c[yt-fe]<=i[yt])return w(c[yt-fe],je+$-Z,H,ne)}for(je=fe-De;je<=fe+De;je+=2){for(yt=je+Pe-fe,je===fe-De||je!==fe+De&&c[yt+1]<=c[yt-1]?c[yt]=c[yt+1]-1:c[yt]=c[yt-1],Nt=c[yt]-1,Zt=Nt-$+Z-je;Nt>=$&&Zt>=Z&&e[Nt]===n[Zt];)c[yt]=Nt--,Zt--;if(fe%2===0&&-De<=je&&je<=De&&c[yt]<=i[yt+fe])return w(c[yt],je+$-Z,H,ne)}}return null},O=[];return p(0,e.length,0,n.length,O),O},yN=e=>at(e)?e.outerHTML:ot(e)?Gu.encodeRaw(e.data,!1):_o(e)?"<!--"+e.data+"-->":"",yz=e=>{let n;const o=document.createElement("div"),i=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)i.appendChild(n);return i},wz=(e,n,o)=>{const i=yz(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(i,c)}else e.appendChild(i)},O2=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},Ma=(e,n)=>{let o=0;$e(e,i=>{i[0]===c_?o++:i[0]===vN?(wz(n,i[1],o),o++):i[0]===bN&&O2(n,o)})},Sz=(e,n)=>hn(nn(Kn(e.childNodes),P(ql,yN)),o=>o.length>0),D2=(e,n)=>{const o=nn(Kn(n.childNodes),yN);return Ma(bz(o,e),n),n},Rp=Qe(()=>document.implementation.createHTMLDocument("undo")),wN=e=>e.querySelector("iframe")!==null,Dl=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),Bp=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),I1=e=>{const n=e.serializer.getTempAttrs(),o=QM(e.getBody(),n);return wN(o)?Dl(Sz(o)):Bp(ql(o.innerHTML))},u_=(e,n,o)=>{const i=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?D2(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:he(i)&&z4(i)?!i.isFakeCaret:!0}),i&&(e.selection.moveToBookmark(i),e.selection.scrollIntoView())},M2=e=>e.type==="fragmented"?e.fragments.join(""):e.content,SN=e=>{const n=ye.fromTag("body",Rp());return Of(n,M2(e)),$e(Zi(n,"*[data-mce-bogus]"),Tc),Us(n)},xN=(e,n)=>M2(e)===M2(n),R1=(e,n)=>SN(e)===SN(n),B1=(e,n)=>!e||!n?!1:xN(e,n)?!0:R1(e,n),d_=e=>e.get()===0,$1=(e,n,o)=>{d_(o)&&(e.typing=n)},CN=(e,n)=>{e.typing&&($1(e,!1,n),e.add())},f_=e=>{e.typing&&(e.typing=!1,e.add())},m_=(e,n,o)=>{d_(n)&&o.set(aC(e.selection))},xz=(e,n,o,i,c,f,p)=>{const w=I1(e),x=Tt.extend(f||{},w);if(!d_(i)||e.removed)return null;const O=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:x,lastLevel:O,originalEvent:p}).isDefaultPrevented()||O&&B1(O,x))return null;n.data[o.get()]&&c.get().each(Z=>{n.data[o.get()].beforeBookmark=Z});const $=l6(e);if($&&n.data.length>$){for(let Z=0;Z<n.data.length-1;Z++)n.data[Z]=n.data[Z+1];n.data.length--,o.set(n.data.length)}x.bookmark=aC(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(x),o.set(n.data.length-1);const H={level:x,lastLevel:O,originalEvent:p};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",H),e.dispatch("change",H)):e.dispatch("AddUndo",H),x},Cz=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},Wd=(e,n,o,i,c)=>{if(n.transact(i)){const f=n.data[o.get()].bookmark,p=n.data[o.get()-1];u_(e,p,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=f)}},h_=(e,n,o)=>{let i;return n.get()<o.length-1&&(n.set(n.get()+1),i=o[n.get()],u_(e,i,!1),e.setDirty(!0),e.dispatch("Redo",{level:i})),i},Ez=(e,n,o,i)=>{let c;return n.typing&&(n.add(),n.typing=!1,$1(n,!1,o)),i.get()>0&&(i.set(i.get()-1),c=n.data[i.get()],u_(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},P2=e=>{e.clear(),e.add()},p_=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!B1(I1(e),n.data[0]),EN=(e,n)=>n.get()<e.data.length-1&&!e.typing,TN=(e,n,o)=>(CN(e,n),e.beforeChange(),e.ignore(o),e.add()),_N=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},Tz=(e,n)=>{const o=e.dom,i=he(n)?n:e.getBody();$e(o.select("table,a",i),c=>{switch(c.nodeName){case"TABLE":const f=xC(e),p=o.getAttrib(c,"border");(!p||p==="0")&&e.hasVisual?o.addClass(c,f):o.removeClass(c,f);break;case"A":if(!o.getAttrib(c,"href")){const w=o.getAttrib(c,"name")||c.id,x=CC(e);w&&e.hasVisual?o.addClass(c,x):o.removeClass(c,x)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},kN=e=>({init:{bindEvents:Oe},undoManager:{beforeChange:(n,o)=>m_(e,n,o),add:(n,o,i,c,f,p)=>xz(e,n,o,i,c,f,p),undo:(n,o,i)=>Ez(e,n,o,i),redo:(n,o)=>h_(e,n,o),clear:(n,o)=>Cz(e,n,o),reset:n=>P2(n),hasUndo:(n,o)=>p_(e,n,o),hasRedo:(n,o)=>EN(n,o),transact:(n,o,i)=>TN(n,o,i),ignore:(n,o)=>_N(n,o),extra:(n,o,i,c)=>Wd(e,n,o,i,c)},formatter:{match:(n,o,i,c)=>n2(e,n,o,i,c),matchAll:(n,o)=>o2(e,n,o),matchNode:(n,o,i,c)=>yu(e,n,o,i,c),canApply:n=>h8(e,n),closest:n=>m8(e,n),apply:(n,o,i)=>OP(e,n,o,i),remove:(n,o,i,c)=>LT(e,n,o,i,c),toggle:(n,o,i)=>$T(e,n,o,i),formatChanged:(n,o,i,c,f)=>I8(e,n,o,i,c,f)},editor:{getContent:n=>n3(e,n),setContent:(n,o)=>e2(e,n,o),insertContent:(n,o)=>Bc(e,n,o),addVisual:n=>Tz(e,n)},selection:{getContent:(n,o)=>vz(e,n,o)},autocompleter:{addDecoration:Oe,removeDecoration:Oe},raw:{getModel:()=>U.none()}}),_z=e=>{const n=O=>ce(O)?O:{},{init:o,undoManager:i,formatter:c,editor:f,selection:p,autocompleter:w,raw:x}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:i.beforeChange,add:i.add,undo:i.undo,redo:i.redo,clear:i.clear,reset:i.reset,hasUndo:i.hasUndo,hasRedo:i.hasRedo,transact:(O,$,H)=>i.transact(H),ignore:(O,$)=>i.ignore($),extra:(O,$,H,Z)=>i.extra(H,Z)},formatter:{match:(O,$,H,Z)=>c.match(O,n($),Z),matchAll:c.matchAll,matchNode:c.matchNode,canApply:O=>c.canApply(O),closest:O=>c.closest(O),apply:(O,$,H)=>c.apply(O,n($)),remove:(O,$,H,Z)=>c.remove(O,n($)),toggle:(O,$,H)=>c.toggle(O,n($)),formatChanged:(O,$,H,Z,ne)=>c.formatChanged($,H,Z,ne)},editor:{getContent:O=>f.getContent(O),setContent:(O,$)=>({content:f.setContent(O,$),html:""}),insertContent:(O,$)=>(f.insertContent(O),""),addVisual:f.addVisual},selection:{getContent:(O,$)=>p.getContent($)},autocompleter:{addDecoration:w.addDecoration,removeDecoration:w.removeDecoration},raw:{getModel:()=>U.some(x.getRawModel())}}},kz=()=>{const e=_e(null),n=_e("");return{init:{bindEvents:Oe},undoManager:{beforeChange:Oe,add:e,undo:e,redo:e,clear:Oe,reset:Oe,hasUndo:Ue,hasRedo:Ue,transact:e,ignore:Oe,extra:Oe},formatter:{match:Ue,matchAll:_e([]),matchNode:_e(void 0),canApply:Ue,closest:n,apply:Oe,remove:Oe,toggle:Oe,formatChanged:_e({unbind:Oe})},editor:{getContent:n,setContent:_e({content:"",html:""}),insertContent:_e(""),addVisual:Oe},selection:{getContent:n},autocompleter:{addDecoration:Oe,removeDecoration:Oe},raw:{getModel:_e(U.none())}}},jd=e=>wn(e.plugins,"rtc"),AN=e=>Fo(e.plugins,"rtc").bind(n=>U.from(n.setup)),Az=e=>{const n=e;return AN(e).fold(()=>(n.rtcInstance=kN(e),U.none()),o=>(n.rtcInstance=kz(),U.some(()=>o().then(i=>(n.rtcInstance=_z(i),i.rtc.isRemote)))))},g_=e=>e.rtcInstance?e.rtcInstance:kN(e),fi=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},ON=(e,n,o)=>{fi(e).undoManager.beforeChange(n,o)},v_=(e,n,o,i,c,f,p)=>fi(e).undoManager.add(n,o,i,c,f,p),b_=(e,n,o,i)=>fi(e).undoManager.undo(n,o,i),DN=(e,n,o)=>fi(e).undoManager.redo(n,o),y_=(e,n,o)=>{fi(e).undoManager.clear(n,o)},MN=(e,n)=>{fi(e).undoManager.reset(n)},PN=(e,n,o)=>fi(e).undoManager.hasUndo(n,o),w_=(e,n,o)=>fi(e).undoManager.hasRedo(n,o),NN=(e,n,o,i)=>fi(e).undoManager.transact(n,o,i),LN=(e,n,o)=>{fi(e).undoManager.ignore(n,o)},IN=(e,n,o,i,c)=>{fi(e).undoManager.extra(n,o,i,c)},Oz=(e,n,o,i,c)=>fi(e).formatter.match(n,o,i,c),S_=(e,n,o)=>fi(e).formatter.matchAll(n,o),Dz=(e,n,o,i,c)=>fi(e).formatter.matchNode(n,o,i,c),N2=(e,n)=>fi(e).formatter.canApply(n),Mz=(e,n)=>fi(e).formatter.closest(n),Pz=(e,n,o,i)=>{fi(e).formatter.apply(n,o,i)},Nz=(e,n,o,i,c)=>{fi(e).formatter.remove(n,o,i,c)},RN=(e,n,o,i)=>{fi(e).formatter.toggle(n,o,i)},BN=(e,n,o,i,c,f)=>fi(e).formatter.formatChanged(n,o,i,c,f),Lz=(e,n)=>g_(e).editor.getContent(n),Iz=(e,n,o)=>g_(e).editor.setContent(n,o),Rz=(e,n,o)=>g_(e).editor.insertContent(n,o),Bz=(e,n,o)=>fi(e).selection.getContent(n,o),$z=(e,n)=>fi(e).editor.addVisual(n),x_=e=>fi(e).init.bindEvents(),gK=(e,n={})=>{const o=n.format?n.format:"html";return Bz(e,o,n)},$N=e=>e.dom.length===0?(ms(e),U.none()):U.some(e),Fz=(e,n)=>e.filter(o=>Zm.isBookmarkNode(o.dom)).bind(n?Di:Cc),Hz=(e,n,o,i,c)=>{const f=e.dom,p=n.dom,w=i?f.length:p.length;i?(ZE(f,p,c,!1,!i),o.setStart(p,w)):(ZE(p,f,c,!1,!i),o.setEnd(p,w))},zz=(e,n,o)=>{Dr(e).each(i=>{const c=e.dom;n&&r1(i,lt(c,0),o)?Vw(c,0,o):!n&&ov(i,lt(c,c.length),o)&&jE(c,c.length,o)})},FN=(e,n,o,i,c)=>{e.bind(f=>((i?jE:Vw)(f.dom,i?f.dom.length:0,c),n.filter(Wi).map(w=>Hz(f,w,o,i,c)))).orThunk(()=>Fz(n,i).or(n).filter(Wi).map(p=>zz(p,i,c)))},Vz=(e,n,o)=>{const i=U.from(n.firstChild).map(ye.fromDom),c=U.from(n.lastChild).map(ye.fromDom);e.deleteContents(),e.insertNode(n);const f=i.bind(Cc).filter(Wi).bind($N),p=c.bind(Di).filter(Wi).bind($N);FN(f,i,e,!0,o),FN(p,c,e,!1,o),e.collapse(!1)},Uz=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),HN=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),i=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=i?{context:i.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return Xf({validate:!1},e.schema).serialize(f)}else return n.content},Wz=(e,n,o={})=>{const i=Uz(o,n);T2(e,i).each(c=>{const f=HN(e,c),p=e.selection.getRng();Vz(p,p.createContextualFragment(f),e.schema),e.selection.setRng(p),Qb(e,p),t_(e,f,c)})},zN=(e,n,o)=>{if(wn(e,n)){const i=hn(e[n],c=>c!==o);i.length===0?delete e[n]:e[n]=i}};var jz=(e,n)=>{let o,i;const c=(w,x)=>oe(x,O=>e.is(O,w)),f=w=>e.getParents(w,void 0,e.getRoot()),p=()=>{o={},i={},n.on("NodeChange",w=>{const x=w.element,O=f(x),$={};_t(o,(H,Z)=>{c(Z,O).each(ne=>{i[Z]||($e(H,ue=>{ue(!0,{node:ne,selector:Z,parents:O})}),i[Z]=H),$[Z]=H})}),_t(i,(H,Z)=>{$[Z]||(delete i[Z],$e(H,ne=>{ne(!1,{node:x,selector:Z,parents:O})}))})})};return{selectorChangedWithUnbind:(w,x)=>(o||p(),o[w]||(o[w]=[]),o[w].push(x),c(w,f(n.selection.getStart())).each(()=>{i[w]=o[w]}),{unbind:()=>{zN(o,w,x),zN(i,w,x)}})}};const VN=e=>!!(e&&e.ownerDocument)&&Oi(ye.fromDom(e.ownerDocument),ye.fromDom(e)),Zz=e=>e?VN(e.startContainer)&&VN(e.endContainer):!1,qz=(e,n,o,i)=>{let c,f;const{selectorChangedWithUnbind:p}=jz(e,i),w=(Rt,ln)=>{const Mo=e.createRng();he(Rt)&&he(ln)?(Mo.setStart(Rt,ln),Mo.setEnd(Rt,ln),je(Mo),Se(!1)):(ZC(e,Mo,i.getBody(),!0),je(Mo))},x=Rt=>gK(i,Rt),O=(Rt,ln)=>Wz(i,Rt,ln),$=Rt=>NE(i.getBody(),De(),Rt),H=Rt=>VM(i.getBody(),De(),Rt),Z=(Rt,ln)=>Ir.getBookmark(Rt,ln),ne=Rt=>Ir.moveToBookmark(Rt),ue=(Rt,ln)=>(Bw(e,Rt,ln).each(je),Rt),se=()=>{const Rt=De(),ln=Pe();return!Rt||Rt.item?!1:Rt.compareEndPoints?Rt.compareEndPoints("StartToEnd",Rt)===0:!ln||Rt.collapsed},fe=()=>{const Rt=De(),ln=i.getBody().querySelectorAll('[data-mce-selected="1"]');return ln.length>0?bt(ln,Mo=>e.isEditable(Mo.parentElement)):ME(e,Rt)},Se=Rt=>{const ln=De();ln.collapse(!!Rt),je(ln)},Pe=()=>n.getSelection?n.getSelection():n.document.selection,De=()=>{let Rt;const ln=(Vt,yn,to)=>{try{return yn.compareBoundaryPoints(Vt,to)}catch{return-1}},Mo=n.document;if(he(i.bookmark)&&!Gf(i)){const Vt=Nw(i);if(Vt.isSome())return Vt.map(yn=>$w(i,[yn])[0]).getOr(Mo.createRange())}try{const Vt=Pe();Vt&&!an(Vt.anchorNode)&&(Vt.rangeCount>0?Rt=Vt.getRangeAt(0):Rt=Mo.createRange(),Rt=$w(i,[Rt])[0])}catch{}if(Rt||(Rt=Mo.createRange()),_s(Rt.startContainer)&&Rt.collapsed){const Vt=e.getRoot();Rt.setStart(Vt,0),Rt.setEnd(Vt,0)}return c&&f&&(ln(Rt.START_TO_START,Rt,c)===0&&ln(Rt.END_TO_END,Rt,c)===0?Rt=f:(c=null,f=null)),Rt},je=(Rt,ln)=>{if(!Zz(Rt))return;const Mo=Pe();if(Rt=i.dispatch("SetSelectionRange",{range:Rt,forward:ln}).range,Mo){f=Rt;try{Mo.removeAllRanges(),Mo.addRange(Rt)}catch{}ln===!1&&Mo.extend&&(Mo.collapse(Rt.endContainer,Rt.endOffset),Mo.extend(Rt.startContainer,Rt.startOffset)),c=Mo.rangeCount>0?Mo.getRangeAt(0):null}if(!Rt.collapsed&&Rt.startContainer===Rt.endContainer&&(Mo!=null&&Mo.setBaseAndExtent)&&Rt.endOffset-Rt.startOffset<2&&Rt.startContainer.hasChildNodes()){const yn=Rt.startContainer.childNodes[Rt.startOffset];yn&&yn.nodeName==="IMG"&&(Mo.setBaseAndExtent(Rt.startContainer,Rt.startOffset,Rt.endContainer,Rt.endOffset),(Mo.anchorNode!==Rt.startContainer||Mo.focusNode!==Rt.endContainer)&&Mo.setBaseAndExtent(yn,0,yn,1))}i.dispatch("AfterSetSelectionRange",{range:Rt,forward:ln})},yt=Rt=>(O(e.getOuterHTML(Rt)),Rt),Nt=()=>o7(i.getBody(),De()),Zt=(Rt,ln)=>s7(e,De(),Rt,ln),ct=()=>{const Rt=Pe(),ln=Rt==null?void 0:Rt.anchorNode,Mo=Rt==null?void 0:Rt.focusNode;if(!Rt||!ln||!Mo||an(ln)||an(Mo))return!0;const Vt=e.createRng(),yn=e.createRng();try{Vt.setStart(ln,Rt.anchorOffset),Vt.collapse(!0),yn.setStart(Mo,Rt.focusOffset),yn.collapse(!0)}catch{return!0}return Vt.compareBoundaryPoints(Vt.START_TO_START,yn)<=0},or={dom:e,win:n,serializer:o,editor:i,expand:(Rt={type:"word"})=>je(qm(e).expand(De(),Rt)),collapse:Se,setCursorLocation:w,getContent:x,setContent:O,getBookmark:Z,moveToBookmark:ne,select:ue,isCollapsed:se,isEditable:fe,isForward:ct,setNode:yt,getNode:Nt,getSel:Pe,setRng:je,getRng:De,getStart:$,getEnd:H,getSelectedBlocks:Zt,normalize:()=>{const Rt=De(),ln=Pe();if(!J6(ln)&&qC(i)){const Mo=Kb(e,Rt);return Mo.each(Vt=>{je(Vt,ct())}),Mo.getOr(Rt)}return Rt},selectorChanged:(Rt,ln)=>(p(Rt,ln),or),selectorChangedWithUnbind:p,getScrollContainer:()=>{let Rt,ln=e.getRoot();for(;ln&&ln.nodeName!=="BODY";){if(ln.scrollHeight>ln.clientHeight){Rt=ln;break}ln=ln.parentNode}return Rt},scrollIntoView:(Rt,ln)=>{he(Rt)?WH(i,Rt,ln):Qb(i,De(),ln)},placeCaretAt:(Rt,ln)=>je(bM(Rt,ln,i.getDoc())),getBoundingClientRect:()=>{const Rt=De();return Rt.collapsed?lt.fromRangeStart(Rt).getClientRects()[0]:Rt.getBoundingClientRect()},destroy:()=>{n=c=f=null,ss.destroy()}},Ir=Zm(or),ss=Tw(or,i);return or.bookmarkManager=Ir,or.controlSelection=ss,or},vK=(e,n,o)=>{n.addNodeFilter("br",(i,c,f)=>{const p=Tt.extend({},o.getBlockElements()),w=o.getNonEmptyElements(),x=o.getWhitespaceElements();p.body=1;const O=$=>$.name in p||km(o,$);for(let $=0,H=i.length;$<H;$++){let Z=i[$],ne=Z.parent;if(ne&&O(ne)&&Z===ne.lastChild){let ue=Z.prev;for(;ue;){const se=ue.name;if(se!=="span"||ue.attr("data-mce-type")!=="bookmark"){se==="br"&&(Z=null);break}ue=ue.prev}if(Z&&(Z.remove(),Jw(o,w,x,ne))){const se=o.getElementRule(ne.name);se&&(se.removeEmpty?ne.remove():se.paddEmpty&&iT(e,f,O,ne))}}else{let ue=Z;for(;ne&&ne.firstChild===ue&&ne.lastChild===ue&&(ue=ne,!p[ne.name]);)ne=ne.parent;if(ue===ne){const se=new Va("#text",3);se.value=Wr,Z.replace(se)}}}})},Gz=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(i,c)=>{let f=i.length;for(;f--;){const p=i[f];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(c,null)}}),e.addAttributeFilter("src,href,style",(i,c)=>{const f="data-mce-"+c,p=n.url_converter,w=n.url_converter_scope;let x=i.length;for(;x--;){const O=i[x];let $=O.attr(f);$!==void 0?(O.attr(c,$.length>0?$:null),O.attr(f,null)):($=O.attr(c),c==="style"?$=o.serializeStyle(o.parseStyle($),O.name):p&&($=p.call(w,$,c,O.name)),O.attr(c,$.length>0?$:null))}}),e.addAttributeFilter("class",i=>{let c=i.length;for(;c--;){const f=i[c];let p=f.attr("class");p&&(p=p.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",(i,c,f)=>{let p=i.length;for(;p--;){const w=i[p];w.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(U.from(w.firstChild).exists(O=>{var $;return!Py(($=O.value)!==null&&$!==void 0?$:"")})?w.unwrap():w.remove())}}),e.addNodeFilter("script,style",(i,c)=>{var f;const p=x=>x.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let w=i.length;for(;w--;){const x=i[w],O=x.firstChild,$=(f=O==null?void 0:O.value)!==null&&f!==void 0?f:"";if(c==="script"){const H=x.attr("type");H&&x.attr("type",H==="mce-no/type"?null:H.replace(/^mce\-/,"")),n.element_format==="xhtml"&&O&&$.length>0&&(O.value=`// <![CDATA[
`+p($)+`
// ]]>`)}else n.element_format==="xhtml"&&O&&$.length>0&&(O.value=`<!--
`+p($)+`
-->`)}}),e.addNodeFilter("#comment",i=>{let c=i.length;for(;c--;){const f=i[c],p=f.value;n.preserve_cdata&&(p==null?void 0:p.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=o.decode(p.replace(/^\[CDATA\[|\]\]$/g,""))):(p==null?void 0:p.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(p).substr(14))}}),e.addNodeFilter("xml:namespace,input",(i,c)=>{let f=i.length;for(;f--;){const p=i[f];p.type===7?p.remove():p.type===1&&c==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",i=>{$e(i,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(i,c)=>{let f=i.length;for(;f--;)i[f].attr(c,null)}),n.remove_trailing_brs&&vK(n,e,e.schema)},Xz=e=>{const n=i=>(i==null?void 0:i.name)==="br",o=e.lastChild;if(n(o)){const i=o.prev;n(i)&&(o.remove(),i.remove())}},bK=(e,n,o)=>{let i;const c=e.dom;let f=n.cloneNode(!0);const p=document.implementation;if(p.createHTMLDocument){const w=p.createHTMLDocument("");Tt.each(f.nodeName==="BODY"?f.childNodes:[f],x=>{w.body.appendChild(w.importNode(x,!0))}),f.nodeName!=="BODY"?f=w.body.firstChild:f=w.body,i=c.doc,c.doc=w}return mH(e,{...o,node:f}),i&&(c.doc=i),f},Yz=(e,n)=>he(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,hr=(e,n,o)=>Yz(e,o)?bK(e,n,o):n,C_=(e,n,o)=>{Tt.inArray(n,o)===-1&&(e.addAttributeFilter(o,(i,c)=>{let f=i.length;for(;f--;)i[f].attr(c,null)}),n.push(o))},yK=(e,n,o)=>!n.no_events&&e?bw(e,{...n,content:o}).content:o,Kz=(e,n,o)=>{const i=ql(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||My(ye.fromDom(n))?i:Tt.trim(i)},Jz=(e,n,o)=>{const i=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,i);return Xz(c),c},vv=(e,n,o)=>Xf(e,n).serialize(o),wK=(e,n,o,i,c)=>{const f=vv(n,o,i);return yK(e,c,f)},SK=(e,n)=>{const o=["data-mce-selected"],i={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=n&&n.dom?n.dom:Fs.DOM,f=n&&n.schema?n.schema:If(i),p=gv(i,f);Gz(p,i,c);const w=(x,O={})=>{const $={format:"html",...O},H=hr(n,x,$),Z=Kz(c,H,$),ne=Jz(p,Z,$);return $.format==="tree"?ne:wK(n,i,f,ne,$)};return{schema:f,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize:w,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:Ve(C_,p,o),getTempAttrs:_e(o),getNodeFilters:p.getNodeFilters,getAttributeFilters:p.getAttributeFilters,removeNodeFilter:p.removeNodeFilter,removeAttributeFilter:p.removeAttributeFilter}},Bi=(e,n)=>{const o=SK(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},UN="html",WN=(e,n)=>({...e,format:n,get:!0,getInner:!0}),jN=(e,n={})=>{const o=n.format?n.format:UN,i=WN(n,o);return e_(e,i).fold($t,c=>{const f=Lz(e,c);return oN(e,f,c)})},Qz="html",eV=(e,n)=>({format:Qz,...e,set:!0,content:n}),bv=(e,n,o={})=>{const i=eV(o,n);return T2(e,i).map(c=>{const f=Iz(e,c.content,c);return t_(e,f.html,c),f.content}).getOr(n)},tV="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),E_=[],nV="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),T_=[],__=(e,n)=>{const o=hn(n,i=>wn(e,i));return qt(o)},k_=e=>{const n=__(e,tV),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),qt(n)},ZN=e=>__(e,E_),L2=(e,n)=>{const o=Tt.makeMap(e.plugins," "),c=hn(n,f=>wn(o,f));return qt(c)},oV=e=>L2(e,nV),sV=e=>L2(e,T_.map(n=>n.name)),rV=(e,n)=>{const o=k_(e),i=oV(n),c=i.length>0,f=o.length>0,p=n.theme==="mobile";if(c||f||p){const w=`
- `,x=p?`

Themes:${w}mobile`:"",O=c?`

Plugins:${w}${i.join(w)}`:"",$=f?`

Options:${w}${o.join(w)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+x+O+$)}},zc=e=>oe(T_,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),iV=(e,n)=>{const o=ZN(e),i=sV(n),c=i.length>0,f=o.length>0;if(c||f){const p=`
- `,w=c?`

Plugins:${p}${i.map(zc).join(p)}`:"",x=f?`

Options:${p}${o.join(p)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+w+x)}},aV=(e,n)=>{rV(e,n),iV(e,n)},I2=Fs.DOM,lV=e=>{I2.setStyle(e.id,"display",e.orgDisplay)},R2=e=>U.from(e).each(n=>n.destroy()),qN=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const i=o.dom;n.selection=o.win=o.dom=i.doc=null}},cV=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),I2.unbind(n,"submit reset",e.formEventDelegate))},uV=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,i=e.getBody(),c=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&he(c==null?void 0:c.nextSibling)&&I2.remove(c.nextSibling),yw(e),e.editorManager.remove(e),!e.inline&&i&&lV(e),hH(e),I2.remove(e.getContainer()),R2(n),R2(o),e.destroy()}},dV=(e,n)=>{const{selection:o,dom:i}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),R2(o),R2(i)),cV(e),qN(e),e.destroyed=!0}},B2=(()=>{const e={};return{add:(c,f)=>{e[c]=f},get:c=>e[c]?e[c]:{icons:{}},has:c=>wn(e,c)}})(),yv=Fa.ModelManager,O_=(e,n)=>n.dom[e],$2=(e,n)=>parseInt(dr(n,e),10),fV=Ve(O_,"clientWidth"),mV=Ve(O_,"clientHeight"),xK=Ve($2,"margin-top"),hV=Ve($2,"margin-left"),F1=e=>e.dom.getBoundingClientRect(),GN=(e,n,o)=>{const i=fV(e),c=mV(e);return n>=0&&o>=0&&n<=i&&o<=c},XN=(e,n,o,i)=>{const c=F1(n),f=e?c.left+n.dom.clientLeft+hV(n):0,p=e?c.top+n.dom.clientTop+xK(n):0,w=o-f,x=i-p;return{x:w,y:x}},pV=(e,n,o)=>{const i=ye.fromDom(e.getBody()),c=e.inline?i:Ph(i),f=XN(e.inline,c,n,o);return GN(c,f.x,f.y)},YN=e=>U.from(e).map(ye.fromDom),gV=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return YN(n).map(Vu).getOr(!1)};var vV=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const KN=e=>{const n=[],o=()=>{const Z=e.theme;return Z&&Z.getNotificationManagerImpl?Z.getNotificationManagerImpl():vV()},i=()=>U.from(n[0]),c=(Z,ne)=>Z.type===ne.type&&Z.text===ne.text&&!Z.progressBar&&!Z.timeout&&!ne.progressBar&&!ne.timeout,f=()=>{i().each(Z=>{Z.reposition()})},p=Z=>{n.push(Z)},w=Z=>{Ce(n,ne=>ne===Z).each(ne=>{n.splice(ne,1)})},x=(Z,ne=!0)=>e.removed||!gV(e)?{}:(ne&&e.dispatch("BeforeOpenNotification",{notification:Z}),oe(n,ue=>c(o().getArgs(ue),Z)).getOrThunk(()=>{e.editorManager.setActive(e);const ue=o().open(Z,()=>{w(ue)},()=>zM(e));return p(ue),f(),e.dispatch("OpenNotification",{notification:{...ue}}),ue})),O=()=>{i().each(Z=>{o().close(Z),w(Z),f()})},$=_e(n);return(Z=>{Z.on("SkinLoaded",()=>{const ne=Ha(Z);ne&&x({text:ne,type:"warning",timeout:0},!1),f()}),Z.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(f)}),Z.on("remove",()=>{$e(n.slice(),ne=>{o().close(ne)})}),Z.addShortcut("alt+F12","Focus to notification",()=>i().map(ne=>ye.fromDom(ne.getEl())).each(ne=>Kg(ne)))})(e),{open:x,close:O,getNotifications:$}},wv=Fa.PluginManager,ih=Fa.ThemeManager;var bV=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const JN=e=>{let n=[];const o=()=>{const se=e.theme;return se&&se.getWindowManagerImpl?se.getWindowManagerImpl():bV()},i=(se,fe)=>(...Se)=>fe?fe.apply(se,Se):void 0,c=se=>{e.dispatch("OpenWindow",{dialog:se})},f=se=>{e.dispatch("CloseWindow",{dialog:se})},p=se=>{n.push(se),c(se)},w=se=>{f(se),n=hn(n,fe=>fe!==se),n.length===0&&e.focus()},x=()=>U.from(n[n.length-1]),O=se=>{e.editorManager.setActive(e),e1(e),e.ui.show();const fe=se();return p(fe),fe},$=(se,fe)=>O(()=>o().open(se,fe,w)),H=se=>O(()=>o().openUrl(se,w)),Z=(se,fe,Se)=>{const Pe=o();Pe.alert(se,i(Se||Pe,fe))},ne=(se,fe,Se)=>{const Pe=o();Pe.confirm(se,i(Se||Pe,fe))},ue=()=>{x().each(se=>{o().close(se),w(se)})};return e.on("remove",()=>{$e(n,se=>{o().close(se)})}),{open:$,openUrl:H,alert:Z,confirm:ne,close:ue}},Sv=(e,n)=>{e.notificationManager.open({type:"error",text:n})},H1=(e,n)=>{e._skinLoaded?Sv(e,n):e.on("SkinLoaded",()=>{Sv(e,n)})},QN=(e,n)=>{H1(e,vi.translate(["Failed to upload image: {0}",n]))},z1=(e,n,o)=>{Ji(e,n,{message:o}),console.error(o)},V1=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,yV=(e,n,o)=>{z1(e,"PluginLoadError",V1("plugin",n,o))},eL=(e,n,o)=>{z1(e,"IconsLoadError",V1("icons",n,o))},wV=(e,n,o)=>{z1(e,"LanguageLoadError",V1("language",n,o))},SV=(e,n,o)=>{z1(e,"ThemeLoadError",V1("theme",n,o))},xV=(e,n,o)=>{z1(e,"ModelLoadError",V1("model",n,o))},CV=(e,n,o)=>{const i=vi.translate(["Failed to initialize plugin: {0}",n]);Ji(e,"PluginLoadError",{message:i}),D_(i,o),H1(e,i)},D_=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},sd=e=>/^[a-z0-9\-]+$/i.test(e),U1=e=>"content/"+e+"/content.css",EV=e=>tinymce.Resource.has(U1(e)),TV=e=>tL(e,QF(e)),_V=e=>tL(e,Ka(e)),tL=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return nn(n,f=>EV(f)?f:sd(f)&&!e.inline?`${o}/${f}/${c}`:e.documentBaseURI.toAbsolute(f))},qo=e=>{e.contentCSS=e.contentCSS.concat(TV(e),_V(e))},kV=e=>e?Kn(e.getElementsByTagName("img")):[],W1=(e,n)=>{const o={};return{findAll:(c,f=wt)=>{const p=hn(kV(c),x=>{const O=x.src;return x.hasAttribute("data-mce-bogus")||x.hasAttribute("data-mce-placeholder")||!O||O===Mn.transparentSrc?!1:es(O,"blob:")?!e.isUploaded(O)&&f(x):es(O,"data:")?f(x):!1}),w=nn(p,x=>{const O=x.src;if(wn(o,O))return o[O].then($=>F($)?$:{image:x,blobInfo:$.blobInfo});{const $=H8(n,O).then(H=>(delete o[O],{image:x,blobInfo:H})).catch(H=>(delete o[O],H));return o[O]=$,$}});return Promise.all(w)}}},nL=()=>{let o={};const i=(Z,ne)=>({status:Z,resultUri:ne}),c=Z=>Z in o;return{hasBlobUri:c,getResultUri:Z=>{const ne=o[Z];return ne?ne.resultUri:null},isPending:Z=>c(Z)?o[Z].status===1:!1,isUploaded:Z=>c(Z)?o[Z].status===2:!1,markPending:Z=>{o[Z]=i(1,null)},markUploaded:(Z,ne)=>{o[Z]=i(2,ne)},removeFailed:Z=>{delete o[Z]},destroy:()=>{o={}}}};let AV=0;const OV=()=>{const e=()=>Math.round(ED()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},oL=e=>e+AV+++OV(),ah=()=>{let e=[];const n=H=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[H.toLowerCase()]||"dat",o=(H,Z,ne,ue,se)=>{if(F(H))return i({id:H,name:ue,filename:se,blob:Z,base64:ne});if(ce(H))return i(H);throw new Error("Unknown input type")},i=H=>{if(!H.blob||!H.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Z=H.id||oL("blobid"),ne=H.name||Z,ue=H.blob;return{id:_e(Z),name:_e(ne),filename:_e(H.filename||ne+"."+n(ue.type)),blob:_e(ue),base64:_e(H.base64),blobUri:_e(H.blobUri||URL.createObjectURL(ue)),uri:_e(H.uri)}},c=H=>{p(H.id())||e.push(H)},f=H=>oe(e,H).getOrUndefined(),p=H=>f(Z=>Z.id()===H);return{create:o,add:c,get:p,getByUri:H=>f(Z=>Z.blobUri()===H),getByData:(H,Z)=>f(ne=>ne.base64()===H&&ne.blob().type===Z),findFirst:f,removeByUri:H=>{e=hn(e,Z=>Z.blobUri()===H?(URL.revokeObjectURL(Z.blobUri()),!1):!0)},destroy:()=>{$e(e,H=>{URL.revokeObjectURL(H.blobUri())}),e=[]}}},Qa=(e,n)=>{const o={},i=(se,fe)=>se?se.replace(/\/$/,"")+"/"+fe.replace(/^\//,""):fe,c=(se,fe)=>new Promise((Se,Pe)=>{const De=new XMLHttpRequest;De.open("POST",n.url),De.withCredentials=n.credentials,De.upload.onprogress=yt=>{fe(yt.loaded/yt.total*100)},De.onerror=()=>{Pe("Image upload failed due to a XHR Transport error. Code: "+De.status)},De.onload=()=>{if(De.status<200||De.status>=300){Pe("HTTP Error: "+De.status);return}const yt=JSON.parse(De.responseText);if(!yt||!F(yt.location)){Pe("Invalid JSON: "+De.responseText);return}Se(i(n.basePath,yt.location))};const je=new FormData;je.append("file",se.blob(),se.filename()),De.send(je)}),f=xe(n.handler)?n.handler:c,p=()=>new Promise(se=>{se([])}),w=(se,fe)=>({url:fe,blobInfo:se,status:!0}),x=(se,fe)=>({url:"",blobInfo:se,status:!1,error:fe}),O=(se,fe)=>{Tt.each(o[se],Se=>{Se(fe)}),delete o[se]},$=(se,fe,Se)=>(e.markPending(se.blobUri()),new Promise(Pe=>{let De,je;try{const yt=()=>{De&&(De.close(),je=Oe)},Nt=ct=>{yt(),e.markUploaded(se.blobUri(),ct),O(se.blobUri(),w(se,ct)),Pe(w(se,ct))},Zt=ct=>{yt(),e.removeFailed(se.blobUri()),O(se.blobUri(),x(se,ct)),Pe(x(se,ct))};je=ct=>{ct<0||ct>100||U.from(De).orThunk(()=>U.from(Se).map(Hn)).each(Ke=>{De=Ke,Ke.progressBar.value(ct)})},fe(se,je).then(Nt,ct=>{Zt(F(ct)?{message:ct}:ct)})}catch(yt){Pe(x(se,yt))}})),H=se=>se===c,Z=se=>{const fe=se.blobUri();return new Promise(Se=>{o[fe]=o[fe]||[],o[fe].push(Se)})},ne=(se,fe)=>(se=Tt.grep(se,Se=>!e.isUploaded(Se.blobUri())),Promise.all(Tt.map(se,Se=>e.isPending(Se.blobUri())?Z(Se):$(Se,f,fe))));return{upload:(se,fe)=>!n.url&&H(f)?p():ne(se,fe)}},xv=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),tm=(e,n)=>Qa(n,{url:gC(e),basePath:vC(e),credentials:o4(e),handler:s4(e)}),Zd=e=>{const n=nL(),o=tm(e,n);return{upload:(i,c=!0)=>o.upload(i,c?xv(e):void 0)}},j1=(e,n)=>e.dom.isEmpty(n.dom)&&he(e.schema.getTextBlockElements()[ho(n)]),M_=e=>n=>{j1(e,n)&&Mr(n,ye.fromHtml('<br data-mce-bogus="1" />'))},P_=e=>{const n=ah();let o,i;const c=nL(),f=[],p=De=>je=>e.selection?De(je):[],w=De=>De+(De.indexOf("?")===-1?"?":"&")+new Date().getTime(),x=(De,je,yt)=>{let Nt=0;do Nt=De.indexOf(je,Nt),Nt!==-1&&(De=De.substring(0,Nt)+yt+De.substr(Nt+je.length),Nt+=yt.length-je.length+1);while(Nt!==-1);return De},O=(De,je,yt)=>{const Nt=`src="${yt}"${yt===Mn.transparentSrc?' data-mce-placeholder="1"':""}`;return De=x(De,`src="${je}"`,Nt),De=x(De,'data-mce-src="'+je+'"','data-mce-src="'+yt+'"'),De},$=(De,je)=>{$e(e.undoManager.data,yt=>{yt.type==="fragmented"?yt.fragments=nn(yt.fragments,Nt=>O(Nt,De,je)):yt.content=O(yt.content,De,je)})},H=(De,je)=>{const yt=e.convertURL(je,"src");$(De.src,je),Sc(ye.fromDom(De),{src:Ii(e)?w(je):je,"data-mce-src":yt})},Z=()=>(o||(o=tm(e,c)),fe().then(p(De=>{const je=nn(De,yt=>yt.blobInfo);return o.upload(je,xv(e)).then(p(yt=>{const Nt=[];let Zt=!1;const ct=nn(yt,(Ke,vt)=>{const{blobInfo:Jt,image:fn}=De[vt];let ro=!1;return Ke.status&&Ki(e)?(Ke.url&&!Qo(fn.src,Ke.url)&&(Zt=!0),n.removeByUri(fn.src),jd(e)||H(fn,Ke.url)):Ke.error&&(Ke.error.remove&&($(fn.src,Mn.transparentSrc),Nt.push(fn),ro=!0),QN(e,Ke.error.message)),{element:fn,status:Ke.status,uploadUri:Ke.url,blobInfo:Jt,removed:ro}});return Nt.length>0&&!jd(e)?e.undoManager.transact(()=>{$e(Sm(Nt),Ke=>{const vt=Dr(Ke);ms(Ke),vt.each(M_(e)),n.removeByUri(Ke.dom.src)})}):Zt&&e.undoManager.dispatchChange(),ct}))}))),ne=()=>jr(e)?Z():Promise.resolve([]),ue=De=>bt(f,je=>je(De)),se=De=>{f.push(De)},fe=()=>(i||(i=W1(c,n)),i.findAll(e.getBody(),ue).then(p(De=>{const je=hn(De,yt=>F(yt)?(H1(e,yt),!1):yt.uriType!=="blob");return jd(e)||$e(je,yt=>{$(yt.image.src,yt.blobInfo.blobUri()),yt.image.src=yt.blobInfo.blobUri(),yt.image.removeAttribute("data-mce-src")}),je}))),Se=()=>{n.destroy(),c.destroy(),i=o=null},Pe=De=>De.replace(/src="(blob:[^"]+)"/g,(je,yt)=>{const Nt=c.getResultUri(yt);if(Nt)return'src="'+Nt+'"';let Zt=n.getByUri(yt);return Zt||(Zt=Gs(e.editorManager.get(),(ct,Ke)=>ct||Ke.editorUpload&&Ke.editorUpload.blobCache.getByUri(yt),void 0)),Zt?'src="data:'+Zt.blob().type+";base64,"+Zt.base64()+'"':je});return e.on("SetContent",()=>{jr(e)?ne():fe()}),e.on("RawSaveContent",De=>{De.content=Pe(De.content)}),e.on("GetContent",De=>{De.source_view||De.format==="raw"||De.format==="tree"||(De.content=Pe(De.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",De=>{$e(De,je=>{const yt=je.attr("src");if(!yt||n.getByUri(yt))return;const Nt=c.getResultUri(yt);Nt&&je.attr("src",Nt)})})}),{blobCache:n,addFilter:se,uploadImages:Z,uploadImagesAuto:ne,scanForImages:fe,destroy:Se}},sL=e=>{const n=e.dom,o=e.schema.type,i={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},p={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[p,c,f]:[c,p,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,f,p)=>at(c)&&c.hasAttribute("href"),onformat:(c,f,p)=>{Tt.each(p,(w,x)=>{n.setAttrib(c,x,w)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var f;return(f=c==null?void 0:c.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Tt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{i[c]={block:c,remove:"all"}}),i},N_={remove_similar:!0,inherit:!1},Cv={selector:"td,th",...N_},DV={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Cv},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Cv},tablecellbordercolor:{styles:{borderColor:"%value"},...Cv},tablecellclass:{classes:["%value"],...Cv},tableclass:{selector:"table",classes:["%value"],...N_},tablecellborderstyle:{styles:{borderStyle:"%value"},...Cv},tablecellborderwidth:{styles:{borderWidth:"%value"},...Cv}},rL=_e(DV),iL=e=>{const n={},o=p=>he(p)?n[p]:n,i=p=>wn(n,p),c=(p,w)=>{p&&(F(p)?(ze(w)||(w=[w]),$e(w,x=>{Ze(x.deep)&&(x.deep=!Mc(x)),Ze(x.split)&&(x.split=!Mc(x)||Si(x)),Ze(x.remove)&&Mc(x)&&!Si(x)&&(x.remove="none"),Mc(x)&&Si(x)&&(x.mixed=!0,x.block_expand=!0),F(x.classes)&&(x.classes=x.classes.split(/\s+/))}),n[p]=w):_t(p,(x,O)=>{c(O,x)}))},f=p=>(p&&n[p]&&delete n[p],n);return c(sL(e)),c(rL()),c(n6(e)),{get:o,has:i,register:c,unregister:f}},Z1=Tt.each,rc=Fs.DOM,q1=e=>he(e)&&ce(e),MV=(e,n)=>{const o=n&&n.schema||If({}),i=(x,O)=>{O.classes.length>0&&rc.addClass(x,O.classes.join(" ")),rc.setAttribs(x,O.attrs)},c=x=>{const O=F(x)?{name:x,classes:[],attrs:{}}:x,$=rc.create(O.name);return i($,O),$},f=(x,O)=>{const $=o.getElementRule(x.nodeName.toLowerCase()),H=$==null?void 0:$.parentsRequired;return H&&H.length?O&&It(H,O)?O:H[0]:!1},p=(x,O,$)=>{let H;const Z=O[0],ne=q1(Z)?Z.name:void 0,ue=f(x,ne);if(ue)ne===ue?(H=Z,O=O.slice(1)):H=ue;else if(Z)H=Z,O=O.slice(1);else if(!$)return x;const se=H?c(H):rc.create("div");se.appendChild(x),$&&Tt.each($,Se=>{const Pe=c(Se);se.insertBefore(Pe,x)});const fe=q1(H)?H.siblings:void 0;return p(se,O,fe)},w=rc.create("div");if(e.length>0){const x=e[0],O=c(x),$=q1(x)?x.siblings:void 0;w.appendChild(p(O,e.slice(1),$))}return w},PV=e=>{e=Tt.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(i,c,f,p,w)=>{switch(c){case"#":o.attrs.id=f;break;case".":o.classes.push(f);break;case":":Tt.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(o.attrs[f]=f);break}if(p==="["){const x=w.match(/([\w\-]+)(?:\=\"([^\"]+))?/);x&&(o.attrs[x[1]]=x[2])}return""})),o.name=n||"div",o},CK=e=>F(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Tt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=Tt.map(n.split(/(?:~\+|~|\+)/),PV),i=o.pop();return o.length&&(i.siblings=o),i}).reverse()):[],NV=(e,n)=>{let o="",i=l4(e);if(i==="")return"";const c=Z=>F(Z)?Z.replace(/%(\w+)/g,""):"",f=(Z,ne)=>rc.getStyle(ne??e.getBody(),Z,!0);if(F(n)){const Z=e.formatter.get(n);if(!Z)return"";n=Z[0]}if("preview"in n){const Z=n.preview;if(Z===!1)return"";i=Z||i}let p=n.block||n.inline||"span",w;const x=CK(n.selector);x.length>0?(x[0].name||(x[0].name=p),p=n.selector,w=MV(x,e)):w=MV([p],e);const O=rc.select(p,w)[0]||w.firstChild;Z1(n.styles,(Z,ne)=>{const ue=c(Z);ue&&rc.setStyle(O,ne,ue)}),Z1(n.attributes,(Z,ne)=>{const ue=c(Z);ue&&rc.setAttrib(O,ne,ue)}),Z1(n.classes,Z=>{const ne=c(Z);rc.hasClass(O,ne)||rc.addClass(O,ne)}),e.dispatch("PreviewFormats"),rc.setStyles(w,{position:"absolute",left:-65535}),e.getBody().appendChild(w);const $=f("fontSize"),H=/px$/.test($)?parseInt($,10):0;return Z1(i.split(" "),Z=>{let ne=f(Z,O);if(!(Z==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ne)&&(ne=f(Z),Yu(ne).toLowerCase()==="#ffffff"))&&!(Z==="color"&&Yu(ne).toLowerCase()==="#000000")){if(Z==="font-size"&&/em|%$/.test(ne)){if(H===0)return;ne=parseFloat(ne)/(/%$/.test(ne)?100:1)*H+"px"}Z==="border"&&ne&&(o+="padding:0 2px;"),o+=Z+":"+ne+";"}}),e.dispatch("AfterPreviewFormats"),rc.remove(w),o},LV=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},rd=e=>{const n=iL(e),o=Ie({});return LV(e),mP(e),jd(e)||RT(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(i,c,f)=>{Pz(e,i,c,f)},remove:(i,c,f,p)=>{Nz(e,i,c,f,p)},toggle:(i,c,f)=>{RN(e,i,c,f)},match:(i,c,f,p)=>Oz(e,i,c,f,p),closest:i=>Mz(e,i),matchAll:(i,c)=>S_(e,i,c),matchNode:(i,c,f,p)=>Dz(e,i,c,f,p),canApply:i=>N2(e,i),formatChanged:(i,c,f,p)=>BN(e,o,i,c,f,p),getCssText:Ve(NV,e)}},IV=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},EK=(e,n,o)=>{const i=Ie(!1),c=x=>{$1(n,!1,o),n.add({},x)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",x=>{const O=x.command;IV(O)||(CN(n,o),n.beforeChange())}),e.on("ExecCommand",x=>{const O=x.command;IV(O)||c(x)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",x=>{const O=x.keyCode;if(x.isDefaultPrevented())return;const $=Mn.os.isMacOS()&&x.key==="Meta";(O>=33&&O<=36||O>=37&&O<=40||O===45||x.ctrlKey||$)&&(c(),e.nodeChanged()),(O===46||O===8)&&e.nodeChanged(),i.get()&&n.typing&&!B1(I1(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),i.set(!1),e.nodeChanged())}),e.on("keydown",x=>{const O=x.keyCode;if(x.isDefaultPrevented())return;if(O>=33&&O<=36||O>=37&&O<=40||O===45){n.typing&&c(x);return}const $=x.ctrlKey&&!x.altKey||x.metaKey;if((O<16||O>20)&&O!==224&&O!==91&&!n.typing&&!$){n.beforeChange(),$1(n,!0,o),n.add({},x),i.set(!0);return}(Mn.os.isMacOS()?x.metaKey:x.ctrlKey&&!x.altKey)&&n.beforeChange()}),e.on("mousedown",x=>{n.typing&&c(x)});const f=x=>x.inputType==="insertReplacementText",p=x=>x.inputType==="insertText"&&x.data===null,w=x=>x.inputType==="insertFromPaste"||x.inputType==="insertFromDrop";e.on("input",x=>{x.inputType&&(f(x)||p(x)||w(x))&&c(x)}),e.on("AddUndo Undo Redo ClearUndos",x=>{x.isDefaultPrevented()||e.nodeChanged()})},RV=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Ev=e=>{const n=Xi(),o=Ie(0),i=Ie(0),c={data:[],typing:!1,beforeChange:()=>{ON(e,o,n)},add:(f,p)=>v_(e,c,i,o,n,f,p),dispatchChange:()=>{e.setDirty(!0);const f=I1(e);f.bookmark=aC(e.selection),e.dispatch("change",{level:f,lastLevel:Vn(c.data,i.get()).getOrUndefined()})},undo:()=>b_(e,c,o,i),redo:()=>DN(e,i,c.data),clear:()=>{y_(e,c,i)},reset:()=>{MN(e,c)},hasUndo:()=>PN(e,c,i),hasRedo:()=>w_(e,c,i),transact:f=>NN(e,c,o,f),ignore:f=>{LN(e,o,f)},extra:(f,p)=>{IN(e,c,i,f,p)}};return jd(e)||EK(e,c,o),RV(e),c},BV=[9,27,kt.HOME,kt.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,kt.DOWN,kt.UP,kt.LEFT,kt.RIGHT].concat(Mn.browser.isFirefox()?[224]:[]),L_="data-mce-placeholder",I_=e=>e.type==="keydown"||e.type==="keyup",R_=e=>{const n=e.keyCode;return n===kt.BACKSPACE||n===kt.DELETE},$V=e=>{if(I_(e)){const n=e.keyCode;return!R_(e)&&(kt.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||It(BV,n))}else return!1},FV=e=>I_(e)&&!(R_(e)||e.type==="keyup"&&e.keyCode===229),lh=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const i=n.firstElementChild;return i?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===i.nodeName.toLowerCase():!0}else return!1},HV=e=>{var n;const o=e.dom,i=ca(e),c=(n=Bb(e))!==null&&n!==void 0?n:"",f=(p,w)=>{if($V(p))return;const x=e.getBody(),O=FV(p)?!1:lh(o,x,i);(o.getAttrib(x,L_)!==""!==O||w)&&(o.setAttrib(x,L_,O?c:null),ww(e,O),e.on(O?"keydown":"keyup",f),e.off(O?"keyup":"keydown",f))};To(c)&&e.on("init",p=>{f(p,!0),e.on("change SetContent ExecCommand",f),e.on("paste",w=>nc.setEditorTimeout(e,()=>f(w)))})},zV=(e,n)=>({block:e,position:n}),VV=(e,n)=>({from:e,to:n}),B_=(e,n)=>{const o=ye.fromDom(e),i=ye.fromDom(n.container());return Ps(o,i).map(c=>zV(c,n))},UV=e=>!(Oi(e.to.block,e.from.block)||Oi(e.from.block,e.to.block)),WV=e=>!so(e.from.block,e.to.block),aL=(e,n)=>Ks(n,c=>Ob(c)||it(c.dom),c=>so(c,e)).filter(Ai).getOr(e),jV=(e,n)=>{const o=ye.fromDom(e);return so(aL(o,n.from.block),aL(o,n.to.block))},ZV=e=>lo(e.from.block.dom)===!1&&lo(e.to.block.dom)===!1,F2=e=>{const n=o=>Dy(o)||my(o.dom)||Mg(o);return n(e.from.block)&&n(e.to.block)},qV=(e,n,o,i)=>ao(i.position.getNode())&&!Ds(e,i.block)?Vg(!1,i.block.dom).bind(c=>c.isEqual(i.position)?Kl(o,n,c).bind(f=>B_(n,f)):U.some(i)).getOr(i):i,GV=(e,n,o,i)=>{const c=B_(n,lt.fromRangeStart(i)),f=c.bind(p=>Kl(o,n,p.position).bind(w=>B_(n,w).map(x=>qV(e,n,o,x))));return Zn(c,f,VV).filter(p=>WV(p)&&jV(n,p)&&ZV(p)&&F2(p)&&UV(p))},TK=(e,n,o,i)=>i.collapsed?GV(e,n,o,i):U.none(),G1=(e,n)=>{const o=Kr(e);return Ce(o,i=>n.isBlock(ho(i))).fold(_e(o),i=>o.slice(0,i))},lL=(e,n)=>{const o=G1(e,n);return $e(o,ms),o},H2=(e,n,o)=>{const i=vu(o,n);return oe(i.reverse(),c=>Ds(e,c)).each(ms)},XV=(e,n)=>hn(Lh(n),o=>!Ds(e,o)).length===0,YV=(e,n,o,i,c)=>{if(Ds(i,o))return Ac(o),Oa(o.dom);XV(i,c)&&Ds(i,n)&&Mi(c,ye.fromTag("br"));const f=kl(o.dom,lt.before(c.dom));return $e(lL(n,i),p=>{Mi(c,p)}),H2(i,e,n),f},KV=(e,n)=>e.isInline(ho(n)),JV=(e,n,o,i)=>{if(Ds(i,o)){if(Ds(i,n)){const p=Gr((w=>{const x=(O,$)=>ji(O).fold(()=>$,H=>KV(i,H)?x(H,$.concat(Gh(H))):$);return x(w,[])})(o),(w,x)=>(Bh(w,x),x),Kh());Dd(n),Mr(n,p)}return ms(o),Oa(n.dom)}const c=pu(o.dom);return $e(lL(n,i),f=>{Mr(o,f)}),H2(i,e,n),c},$p=(e,n)=>{const o=vu(n,e);return U.from(o[o.length-1])},Fp=(e,n)=>Oi(n,e)?$p(n,e):U.none(),X1=(e,n)=>{Vg(e,n.dom).bind(o=>U.from(o.getNode())).map(ye.fromDom).filter(Yh).each(ms)},Y1=(e,n,o,i)=>(X1(!0,n),X1(!1,o),Fp(n,o).fold(Ve(JV,e,n,o,i),Ve(YV,e,n,o,i))),ch=(e,n,o,i,c)=>n?Y1(e,i,o,c):Y1(e,o,i,c),nm=(e,n)=>{const o=ye.fromDom(e.getBody());return TK(e.schema,o.dom,n,e.selection.getRng()).map(c=>()=>{ch(o,n,c.from.block,c.to.block,e.schema).each(f=>{e.selection.setRng(f.toRange())})})},z2=(e,n,o)=>{const i=n.getRng();return Zn(Ps(e,ye.fromDom(i.startContainer)),Ps(e,ye.fromDom(i.endContainer)),(c,f)=>so(c,f)?U.none():U.some(()=>{i.deleteContents(),ch(e,!0,c,f,o).each(p=>{n.setRng(p.toRange())})})).getOr(U.none())},K1=(e,n)=>{const o=ye.fromDom(n),i=Ve(so,e);return Vs(o,Ob,i).isSome()},cL=(e,n)=>K1(e,n.startContainer)||K1(e,n.endContainer),$_=(e,n)=>{const o=kl(e.dom,lt.fromRangeStart(n)).isNone(),i=Ja(e.dom,lt.fromRangeEnd(n)).isNone();return!cL(e,n)&&o&&i},F_=e=>U.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),uL=e=>{const n=ye.fromDom(e.getBody()),o=e.selection.getRng();return $_(n,o)?F_(e):z2(n,e.selection,e.schema)},V2=(e,n)=>e.selection.isCollapsed()?U.none():uL(e),ic=(e,n,o,i,c)=>U.from(n._selectionOverrides.showCaret(e,o,i,c)),dL=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},Tv=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?U.none():U.some(dL(n)),fL=(e,n,o)=>{const i=ua(1,e.getBody(),n),c=lt.fromRangeStart(i),f=c.getNode();if(Fb(f))return ic(1,e,f,!c.isAtEnd(),!1);const p=c.getNode(!0);if(Fb(p))return ic(1,e,p,!1,!1);const w=Qm(e.dom.getRoot(),c.getNode());return Fb(w)?ic(1,e,w,!1,o):U.none()},_v=(e,n,o)=>n.collapsed?fL(e,n,o).getOr(n):n,mL=e=>Ym(e)||ev(e),hL=e=>Km(e)||tv(e),pL=(e,n)=>{ot(n)&&n.data.length===0&&e.remove(n)},H_=(e,n,o,i,c,f)=>{ic(i,e,f.getNode(!c),c,!0).each(p=>{if(n.collapsed){const w=n.cloneRange();c?w.setEnd(p.startContainer,p.startOffset):w.setStart(p.endContainer,p.endOffset),w.deleteContents()}else n.deleteContents();e.selection.setRng(p)}),pL(e.dom,o)},om=(e,n)=>{const o=e.selection.getRng();if(!ot(o.commonAncestorContainer))return U.none();const i=n?wi.Forwards:wi.Backwards,c=Qu(e.getBody()),f=Ve(MC,n?c.next:c.prev),p=n?mL:hL,w=Vb(i,e.getBody(),o),x=f(w),O=x&&mr(n,x);if(!O||!ow(w,O))return U.none();if(p(O))return U.some(()=>H_(e,o,w.getNode(),i,n,O));const $=f(O);return $&&p($)&&ow(O,$)?U.some(()=>H_(e,o,w.getNode(),i,n,$)):U.none()},qd=(e,n)=>om(e,n),ac=(e,n)=>{const o=e.getBody();return n?Oa(o).filter(Ym):pu(o).filter(Km)},z_=e=>{const n=e.selection.getRng();return!n.collapsed&&(ac(e,!0).exists(o=>o.isEqual(lt.fromRangeStart(n)))||ac(e,!1).exists(o=>o.isEqual(lt.fromRangeEnd(n))))},QV=e=>he(e)&&(Ob(ye.fromDom(e))||Mg(ye.fromDom(e))),lc=Hd.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),e9=(e,n)=>{const o=n.getNode(!e),i=e?"after":"before";return at(o)&&o.getAttribute("data-mce-caret")===i},t9=(e,n,o,i,c)=>{const f=p=>c.isInline(p.nodeName.toLowerCase())&&!Yl(o,i,e);return D4(!n,o).fold(()=>D4(n,i).fold(Ue,f),f)},gL=(e,n,o,i,c)=>{const f=c.getNode(!o);return Ps(ye.fromDom(n),ye.fromDom(i.getNode())).map(p=>Ds(e,p)?lc.remove(p.dom):lc.moveToElement(f)).orThunk(()=>U.some(lc.moveToElement(f)))},vL=(e,n,o,i)=>Kl(n,e,o).bind(c=>QV(c.getNode())||t9(e,n,o,c,i)?U.none():n&&lo(c.getNode())||!n&&lo(c.getNode(!0))?gL(i,e,n,o,c):n&&Km(o)||!n&&Ym(o)?U.some(lc.moveToPosition(c)):U.none()),n9=(e,n)=>Fe(n)?U.none():e&&lo(n.nextSibling)?U.some(lc.moveToElement(n.nextSibling)):!e&&lo(n.previousSibling)?U.some(lc.moveToElement(n.previousSibling)):U.none(),o9=(e,n,o)=>o.fold(i=>U.some(lc.remove(i)),i=>U.some(lc.moveToElement(i)),i=>Yl(n,i,e)?U.none():U.some(lc.moveToPosition(i))),s9=(e,n,o,i)=>e9(n,o)?n9(n,o.getNode(!n)).orThunk(()=>vL(e,n,o,i)):vL(e,n,o,i).bind(c=>o9(e,o,c)),r9=(e,n,o,i)=>{const c=ua(n?1:-1,e,o),f=lt.fromRangeStart(c),p=ye.fromDom(e);return!n&&Km(f)?U.some(lc.remove(f.getNode(!0))):n&&Ym(f)?U.some(lc.remove(f.getNode())):!n&&Ym(f)&&Hw(p,f,i)?g3(p,f,i).map(w=>lc.remove(w.getNode())):n&&Km(f)&&p3(p,f,i)?Pn(p,f,i).map(w=>lc.remove(w.getNode())):s9(e,n,f,i)},i9=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),Lc(e,n,ye.fromDom(o)),!0),V_=(e,n)=>o=>{const i=n?lt.before(o):lt.after(o);return e.selection.setRng(i.toRange()),!0},U_=e=>n=>(e.selection.setRng(n.toRange()),!0),W_=(e,n)=>U.from(Qm(e.getBody(),n)),a9=(e,n)=>{const o=e.selection.getNode();return W_(e,o).filter(lo).fold(()=>r9(e.getBody(),n,e.selection.getRng(),e.schema).map(i=>()=>i.fold(i9(e,n),V_(e,n),U_(e))),()=>U.some(Oe))},l9=e=>{$e(Zi(e,".mce-offscreen-selection"),ms)},bL=(e,n)=>{const o=e.selection.getNode();return lo(o)&&!$a(o)?W_(e,o.parentNode).filter(lo).fold(()=>U.some(()=>{l9(ye.fromDom(e.getBody())),Lc(e,n,ye.fromDom(e.selection.getNode())),sv(e)}),()=>U.some(Oe)):z_(e)?U.some(()=>{Sp(e,e.selection.getRng(),ye.fromDom(e.getBody()))}):U.none()},j_=e=>{const n=e.dom,o=e.selection,i=Qm(e.getBody(),o.getNode());if(it(i)&&n.isBlock(i)&&n.isEmpty(i)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(c),o.setRng(lt.before(c).toRange())}return!0},J1=(e,n)=>e.selection.isCollapsed()?a9(e,n):bL(e,n),Z_=e=>e.hasOwnProperty("text"),q_=e=>e.hasOwnProperty("marker"),U2=(e,n)=>{const o=(f,p)=>{if(ot(f))return{text:f,offset:p};{const w=n(),x=f.childNodes;return p<x.length?(f.insertBefore(w,x[p]),{marker:w,before:!0}):(f.appendChild(w),{marker:w,before:!1})}},i=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:i}},yL=e=>{var n,o;const{start:i,end:c}=e,f=new window.Range;return Z_(i)?f.setStart(i.text,i.offset):q_(i)&&(i.before?f.setStartBefore(i.marker):f.setStartAfter(i.marker),(n=i.marker.parentNode)===null||n===void 0||n.removeChild(i.marker)),Z_(c)?f.setEnd(c.text,c.offset):q_(c)&&(c.before?f.setEndBefore(c.marker):f.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),f},G_=(e,n)=>{var o;const i=e.dom,c=i.getParent(e.selection.getStart(),i.isBlock),f=i.getParent(e.selection.getEnd(),i.isBlock),p=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&f&&c===p.firstChild&&f===p.lastChild&&!i.isEmpty(p)){const x=c.cloneNode(!1),O=()=>{if(n?Jm(e):Ww(e),p.firstChild!==c){const $=U2(e.selection.getRng(),()=>document.createElement("span"));Array.from(p.childNodes).forEach(H=>x.appendChild(H)),p.appendChild(x),e.selection.setRng(yL($))}};return U.some(O)}return U.none()},Gd=(e,n)=>{const o=lt.fromRangeStart(e.selection.getRng());return Kl(n,e.getBody(),o).filter(i=>n?S7(i):bn(i)).bind(i=>tw(n?0:-1,i)).map(i=>()=>e.selection.select(i))},cc=(e,n)=>e.selection.isCollapsed()?Gd(e,n):U.none(),sm=ot,X_=e=>sm(e)&&e.data[0]===bi,Q1=e=>sm(e)&&e.data[e.data.length-1]===bi,Y_=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(bi)},wL=e=>{var n;if(sm(e.previousSibling))return Q1(e.previousSibling)||e.previousSibling.appendData(bi),e.previousSibling;if(sm(e))return X_(e)||e.insertData(0,bi),e;{const o=Y_(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},SL=e=>{var n,o;if(sm(e.nextSibling))return X_(e.nextSibling)||e.nextSibling.insertData(0,bi),e.nextSibling;if(sm(e))return Q1(e)||e.appendData(bi),e;{const i=Y_(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(i,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(i),i}},e0=(e,n)=>e?wL(n):SL(n),xL=Ve(e0,!0),CL=Ve(e0,!1),t0=(e,n)=>ot(e.container())?e0(n,e.container()):e0(n,e.getNode()),W2=(e,n)=>{const o=n.get();return o&&e.container()===o&&Bf(o)},K_=(e,n)=>n.fold(o=>{ip(e.get());const i=xL(o);return e.set(i),U.some(lt(i,i.length-1))},o=>Oa(o).map(i=>{if(W2(i,e)){const c=e.get();return lt(c,1)}else{ip(e.get());const c=t0(i,!0);return e.set(c),lt(c,1)}}),o=>pu(o).map(i=>{if(W2(i,e)){const c=e.get();return lt(c,c.length-1)}else{ip(e.get());const c=t0(i,!1);return e.set(c),lt(c,c.length-1)}}),o=>{ip(e.get());const i=CL(o);return e.set(i),U.some(lt(i,1))}),EL=(e,n)=>{for(let o=0;o<e.length;o++){const i=e[o].apply(null,n);if(i.isSome())return i}return U.none()},Ua=Hd.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),TL=(e,n)=>{const o=Um(n,e);return o||e},_L=(e,n,o)=>{const i=L3(o),c=TL(n,i.container());return Yf(e,c,i).fold(()=>Ja(c,i).bind(Ve(Yf,e,c)).map(f=>Ua.before(f)),U.none)},c9=(e,n)=>lp(e,n)===null,kL=(e,n,o)=>Yf(e,n,o).filter(Ve(c9,n)),J_=(e,n,o)=>{const i=I3(o);return kL(e,n,i).bind(c=>kl(c,i).isNone()?U.some(Ua.start(c)):U.none())},u9=(e,n,o)=>{const i=L3(o);return kL(e,n,i).bind(c=>Ja(c,i).isNone()?U.some(Ua.end(c)):U.none())},d9=(e,n,o)=>{const i=I3(o),c=TL(n,i.container());return Yf(e,c,i).fold(()=>kl(c,i).bind(Ve(Yf,e,c)).map(f=>Ua.after(f)),U.none)},AL=e=>!D3(Q_(e)),Xd=(e,n,o)=>EL([_L,J_,u9,d9],[e,n,o]).filter(AL),Q_=e=>e.fold($t,$t,$t,$t),OL=e=>e.fold(_e("before"),_e("start"),_e("end"),_e("after")),j2=e=>e.fold(Ua.before,Ua.before,Ua.after,Ua.after),kv=e=>e.fold(Ua.start,Ua.start,Ua.end,Ua.end),ek=(e,n)=>OL(e)===OL(n)&&Q_(e)===Q_(n),f9=(e,n,o,i,c,f)=>Zn(Yf(n,o,i),Yf(n,o,c),(p,w)=>p!==w&&P3(o,p,w)?Ua.after(e?p:w):f).getOr(f),m9=(e,n)=>e.fold(wt,o=>!ek(o,n)),h9=(e,n,o,i,c)=>{const f=mr(e,c);return Kl(e,o,f).map(Ve(mr,e)).fold(()=>i.map(j2),x=>Xd(n,o,x).map(Ve(f9,e,n,o,f,x)).filter(Ve(m9,i))).filter(AL)},p9=(e,n)=>e?n.fold(P(U.some,Ua.start),U.none,P(U.some,Ua.after),U.none):n.fold(U.none,P(U.some,Ua.before),U.none,P(U.some,Ua.end)),DL=(e,n,o,i)=>{const c=mr(e,i),f=Xd(n,o,c);return Xd(n,o,c).bind(Ve(p9,e)).orThunk(()=>h9(e,n,o,f,i))},g9=e=>xe(e.selection.getSel().modify),ML=(e,n,o)=>{const i=e?1:-1;return n.setRng(lt(o.container(),o.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},tk=(e,n)=>{const o=n.selection.getRng(),i=e?lt.fromRangeEnd(o):lt.fromRangeStart(o);return g9(n)?e&&jx(i)?ML(!0,n.selection,i):!e&&Ng(i)?ML(!1,n.selection,i):!1:!1};var Yd;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Yd||(Yd={}));const Z2=(e,n)=>e===wi.Backwards?ht(n):n,v9=(e,n,o)=>e===wi.Forwards?n.next(o):n.prev(o),b9=(e,n,o,i)=>ao(i.getNode(n===wi.Forwards))?Yd.Br:Yl(o,i)===!1?Yd.Block:Yd.Wrap,PL=(e,n,o,i)=>{const c=Qu(o);let f=i;const p=[];for(;f;){const w=v9(n,c,f);if(!w)break;if(ao(w.getNode(!1)))return n===wi.Forwards?{positions:Z2(n,p).concat([w]),breakType:Yd.Br,breakAt:U.some(w)}:{positions:Z2(n,p),breakType:Yd.Br,breakAt:U.some(w)};if(!w.isVisible()){f=w;continue}if(e(f,w)){const x=b9(o,n,f,w);return{positions:Z2(n,p),breakType:x,breakAt:U.some(w)}}p.push(w),f=w}return{positions:Z2(n,p),breakType:Yd.Eol,breakAt:U.none()}},NL=(e,n,o,i)=>n(o,i).breakAt.map(c=>{const f=n(o,c).positions;return e===wi.Backwards?f.concat(c):[c].concat(f)}).getOr([]),nk=(e,n)=>Gs(e,(o,i)=>o.fold(()=>U.some(i),c=>Zn(kn(c.getClientRects()),kn(i.getClientRects()),(f,p)=>{const w=Math.abs(n-f.left);return Math.abs(n-p.left)<=w?i:c}).or(o)),U.none()),Hp=(e,n)=>kn(n.getClientRects()).bind(o=>nk(e,o.left)),uh=Ve(PL,lt.isAbove,-1),n0=Ve(PL,lt.isBelow,1),LL=Ve(NL,-1,uh),o0=Ve(NL,1,n0),IL=(e,n)=>uh(e,n).breakAt.isNone(),RL=(e,n)=>n0(e,n).breakAt.isNone(),y9=e=>Oa(e).map(n=>[n].concat(n0(e,n).positions)).getOr([]),w9=e=>pu(e).map(n=>uh(e,n).positions.concat(n)).getOr([]),S9=(e,n)=>Hp(LL(e,n),n),x9=(e,n)=>Hp(o0(e,n),n),C9=lo,BL=(e,n)=>Math.abs(e.left-n),$L=(e,n)=>Math.abs(e.right-n),E9=e=>ai(e,"node"),FL=(e,n)=>ve(e,(o,i)=>{const c=Math.min(BL(o,n),$L(o,n)),f=Math.min(BL(i,n),$L(i,n));return f===c&&E9(i)&&C9(i.node)||f<c?i:o}),_K=e=>{const n=o=>nn(o,i=>{const c=Lm(i);return c.node=e,c});if(at(e))return n(e.getClientRects());if(ot(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},Vc=e=>qe(e,_K);var zp;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(zp||(zp={}));const HL=(e,n,o,i)=>{let c=i;for(;c=$g(c,e,RD,n);)if(o(c))return},ok=(e,n,o,i,c,f)=>{let p=0;const w=[],x=H=>{let Z=Vc([H]);e===-1&&(Z=Z.reverse());for(let ne=0;ne<Z.length;ne++){const ue=Z[ne];if(!o(ue,O)){if(w.length>0&&n(ue,We(w))&&p++,ue.line=p,c(ue))return!0;w.push(ue)}}return!1},O=We(f.getClientRects());if(!O)return w;const $=f.getNode();return $&&(x($),HL(e,i,x,$)),w},T9=(e,n)=>n.line>e,zL=(e,n)=>n.line===e,_9=Ve(ok,zp.Up,Db,Ms),VL=Ve(ok,zp.Down,Ms,Db),UL=e=>We(e.getClientRects()),k9=(e,n,o,i)=>{const c=Qu(n);let f,p,w,x;const O=[];let $=0;e===1?(f=c.next,p=Ms,w=Db,x=lt.after(i)):(f=c.prev,p=Db,w=Ms,x=lt.before(i));const H=UL(x);do{if(!x.isVisible())continue;const Z=UL(x);if(w(Z,H))continue;O.length>0&&p(Z,We(O))&&$++;const ne=Lm(Z);if(ne.position=x,ne.line=$,o(ne))return O;O.push(ne)}while(x=f(x));return O},WL=e=>n=>T9(e,n),dh=e=>n=>zL(e,n),Kd=(e,n)=>{e.selection.setRng(n),Qb(e,e.selection.getRng())},q2=(e,n,o)=>U.some(_v(e,n,o)),sk=(e,n,o,i,c,f)=>{const p=n===wi.Forwards,w=Qu(e.getBody()),x=Ve(MC,p?w.next:w.prev),O=p?i:c;if(!o.collapsed){const ue=_l(o);if(f(ue))return ic(n,e,ue,n===wi.Backwards,!1);if(z_(e)){const se=o.cloneRange();return se.collapse(n===wi.Backwards),U.from(se)}}const $=Vb(n,e.getBody(),o);if(O($))return Tv(e,$.getNode(!p));let H=x($);const Z=Ny(o);if(H)H=mr(p,H);else return Z?U.some(o):U.none();if(O(H))return ic(n,e,H.getNode(!p),p,!1);const ne=x(H);return ne&&O(ne)&&ow(H,ne)?ic(n,e,ne.getNode(!p),p,!1):Z?q2(e,H.toRange(),!1):U.none()},G2=(e,n,o,i,c,f)=>{const p=Vb(n,e.getBody(),o),w=We(p.getClientRects()),x=n===zp.Down,O=e.getBody();if(!w)return U.none();if(z_(e)){const fe=x?lt.fromRangeEnd(o):lt.fromRangeStart(o);return(x?x9:S9)(O,fe).orThunk(()=>U.from(fe)).map(Pe=>Pe.toRange())}const H=(x?VL:_9)(O,WL(1),p),Z=hn(H,dh(1)),ne=w.left,ue=FL(Z,ne);if(ue&&f(ue.node)){const fe=Math.abs(ne-ue.left),Se=Math.abs(ne-ue.right);return ic(n,e,ue.node,fe<Se,!1)}let se;if(i(p)?se=p.getNode():c(p)?se=p.getNode(!0):se=_l(o),se){const fe=k9(n,O,WL(1),se);let Se=FL(hn(fe,dh(1)),ne);if(Se||(Se=We(hn(fe,dh(0))),Se))return q2(e,Se.position.toRange(),!1)}return Z.length===0?rk(e,x).filter(x?c:i).map(fe=>_v(e,fe.toRange(),!1)):U.none()},rk=(e,n)=>{const o=e.selection.getRng(),i=n?lt.fromRangeEnd(o):lt.fromRangeStart(o),c=W6(i.container(),e.getBody());if(n){const f=n0(c,i);return Un(f.positions)}else{const f=uh(c,i);return kn(f.positions)}},jL=(e,n,o)=>rk(e,n).filter(o).exists(i=>(e.selection.setRng(i.toRange()),!0)),X2=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},ZL=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},A9=(e,n,o)=>K_(n,o).map(i=>(X2(e,i),o)),kK=(e,n,o)=>{const i=lt.fromRangeStart(e);if(e.collapsed)return i;{const c=lt.fromRangeEnd(e);return o?kl(n,c).getOr(c):Ja(n,i).getOr(i)}},AK=(e,n,o)=>{const i=e.getBody(),c=kK(e.selection.getRng(),i,o),f=Ve(yp,e);return DL(o,f,i,c).bind(w=>A9(e,n,w))},Cu=(e,n,o)=>{const i=nn(Zi(ye.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),p=>p.dom),c=hn(i,e),f=hn(o,e);$e(Et(c,f),Ve(ZL,!1)),$e(Et(f,c),Ve(ZL,!0))},O9=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const i=lt.fromRangeStart(e.selection.getRng());lt.isTextPosition(i)&&!N3(i)&&(X2(e,R6(o,i)),n.set(null))}},D9=(e,n,o,i)=>{if(n.selection.isCollapsed()){const c=hn(i,e);$e(c,f=>{const p=lt.fromRangeStart(n.selection.getRng());Xd(e,n.getBody(),p).bind(w=>A9(n,o,w))})}},fh=(e,n,o)=>rp(e)?AK(e,n,o).isSome():!1,ik=(e,n,o)=>rp(n)?tk(e,n):!1,M9=e=>{const n=Ie(null),o=Ve(yp,e);return e.on("NodeChange",i=>{rp(e)&&(Cu(o,e.dom,i.parents),O9(e,n),D9(o,e,n,i.parents))}),n},Y2=Ve(ik,!0),P9=Ve(ik,!1),K2=(e,n,o)=>{if(rp(e)){const i=rk(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?lt.fromRangeEnd(c):lt.fromRangeStart(c)});return Xd(Ve(yp,e),e.getBody(),i).exists(c=>{const f=j2(c);return K_(o,f).exists(p=>(X2(e,p),!0))})}else return!1},N9=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},L9=e=>Zn(Oa(e),pu(e),(n,o)=>{const i=mr(!0,n),c=mr(!1,o);return Ja(e,i).forall(f=>f.isEqual(c))}).getOr(!0),ak=(e,n)=>o=>K_(n,o).map(i=>()=>X2(e,i)),qL=(e,n,o,i)=>{const c=e.getBody(),f=Ve(yp,e);e.undoManager.ignore(()=>{e.selection.setRng(N9(o,i)),Ww(e),Xd(f,c,lt.fromRangeStart(e.selection.getRng())).map(kv).bind(ak(e,n)).each(rn)}),e.nodeChanged()},rm=(e,n)=>{const o=Um(n,e);return o||e},I9=(e,n,o,i)=>{const c=rm(e.getBody(),i.container()),f=Ve(yp,e),p=Xd(f,c,i);return p.bind(x=>o?x.fold(_e(U.some(kv(x))),U.none,_e(U.some(j2(x))),U.none):x.fold(U.none,_e(U.some(j2(x))),U.none,_e(U.some(kv(x))))).map(ak(e,n)).getOrThunk(()=>{const x=ap(o,c,i),O=x.bind($=>Xd(f,c,$));return Zn(p,O,()=>Yf(f,c,i).bind($=>L9($)?U.some(()=>{Lc(e,o,ye.fromDom($))}):U.none())).getOrThunk(()=>O.bind(()=>x.map($=>()=>{o?qL(e,n,i,$):qL(e,n,$,i)})))})},lk=(e,n,o)=>{if(e.selection.isCollapsed()&&rp(e)){const i=lt.fromRangeStart(e.selection.getRng());return I9(e,n,o,i)}return U.none()},R9=e=>_d(e)>1,GL=(e,n)=>{const o=ye.fromDom(e.getBody()),i=ye.fromDom(e.selection.getStart()),c=vu(i,o);return Ce(c,n).fold(_e(c),f=>c.slice(0,f))},B9=e=>_d(e)===1,ck=e=>GL(e,n=>e.schema.isBlock(ho(n))||R9(n)),uk=e=>GL(e,n=>e.schema.isBlock(ho(n))),J2=(e,n)=>{const o=Ve(i2,e);return qe(n,i=>o(i)?[i.dom]:[])},dk=e=>{const n=uk(e);return J2(e,n)},XL=(e,n,o,i)=>{const c=J2(n,i);if(c.length===0)Lc(n,e,o);else{const f=hP(o.dom,c);n.selection.setRng(f.toRange())}},YL=(e,n)=>{const o=hn(ck(e),B9);return Un(o).bind(i=>{const c=lt.fromRangeStart(e.selection.getRng());return wp(n,c,i.dom)&&!nE(i)?U.some(()=>XL(n,e,i,o)):U.none()})},$9=(e,n)=>{const o=n.parentElement;return ao(n)&&!ie(o)&&e.dom.isEmpty(o)},s0=e=>nE(ye.fromDom(e)),r0=(e,n)=>{const o=e.selection.getStart(),i=$9(e,o)||s0(o)?hP(o,n):S8(e.selection.getRng(),n);e.selection.setRng(i.toRange())},KL=(e,n)=>{const o=Et(n,dk(e));o.length>0&&r0(e,o)},fk=e=>ot(e.startContainer),JL=e=>e.startOffset===0&&fk(e),QL=(e,n)=>{const o=n.startContainer.parentElement;return!ie(o)&&i2(e,ye.fromDom(o))},Q2=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!ie(n)&&!ie(o)&&n.isEqualNode(o)},mk=e=>{const n=e.endContainer;return e.endOffset===(ot(n)?n.length:n.childNodes.length)},i0=e=>Q2(e)&&mk(e),F9=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),eI=e=>i0(e)||F9(e),H9=e=>{const n=e.selection.getRng();return JL(n)&&QL(e,n)&&eI(n)},z9=e=>{if(H9(e)){const n=dk(e);return U.some(()=>{Ww(e),KL(e,n)})}else return U.none()},eS=(e,n)=>e.selection.isCollapsed()?YL(e,n):z9(e),V9=(e,n)=>hb(e,o=>Dc(o.dom),o=>n.isBlock(ho(o))),tI=e=>V9(ye.fromDom(e.selection.getStart()),e.schema),OK=e=>{const n=e.selection.getRng();return n.collapsed&&(fk(n)||e.dom.isEmpty(n.startContainer))&&!tI(e)},a0=e=>(OK(e)&&r0(e,[]),!0),hk=(e,n,o)=>he(o)?U.some(()=>{e._selectionOverrides.hideFakeCaret(),Lc(e,n,ye.fromDom(o))}):U.none(),U9=(e,n)=>{const o=n?ev:tv,i=n?wi.Forwards:wi.Backwards,c=Vb(i,e.getBody(),e.selection.getRng());return o(c)?hk(e,n,c.getNode(!n)):U.from(mr(n,c)).filter(f=>o(f)&&ow(c,f)).bind(f=>hk(e,n,f.getNode(!n)))},W9=(e,n)=>{const o=e.selection.getNode();return fr(o)?hk(e,n,o):U.none()},pk=(e,n)=>e.selection.isCollapsed()?U9(e,n):W9(e,n),j9=e=>Ks(e,n=>it(n.dom)||lo(n.dom)).exists(n=>it(n.dom)),gk=e=>Lu(e??"").getOr(0),nI=(e,n)=>{const o=e||yF(n)?"margin":"padding",i=dr(n,"direction")==="rtl"?"-right":"-left";return o+i},oI=(e,n,o,i,c,f)=>{const p=nI(o,ye.fromDom(f)),w=gk(e.getStyle(f,p));if(n==="outdent"){const x=Math.max(0,w-i);e.setStyle(f,p,x?x+c:"")}else{const x=w+i+c;e.setStyle(f,p,x)}},Z9=(e,n)=>bt(n,o=>{const i=nI(i4(e),o),c=Ad(o,i).map(gk).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),mh=e=>{const n=yk(e);return!e.mode.isReadOnly()&&(n.length>1||Z9(e,n))},vk=e=>Mm(e)||Mg(e),bk=e=>Dr(e).exists(vk),yk=e=>hn(Sm(e.selection.getSelectedBlocks()),n=>!vk(n)&&!bk(n)&&j9(n)),tS=(e,n)=>{var o,i;const{dom:c}=e,f=ZY(e),p=(i=(o=/[a-z%]+$/i.exec(f))===null||o===void 0?void 0:o[0])!==null&&i!==void 0?i:"px",w=gk(f),x=i4(e);$e(yk(e),O=>{oI(c,n,x,w,p,O.dom)})},hh=e=>tS(e,"indent"),wk=e=>tS(e,"outdent"),uc=e=>{if(e.selection.isCollapsed()&&mh(e)){const n=e.dom,o=e.selection.getRng(),i=lt.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&jn(ye.fromDom(c),i,e.schema))return U.some(()=>wk(e))}return U.none()},ph=(e,n,o)=>So([uc,J1,qd,(i,c)=>lk(i,n,c),nm,h1,cc,pk,V2,eS,G_],i=>i(e,o)).filter(i=>e.selection.isEditable()),Sk=(e,n)=>{ph(e,n,!1).fold(()=>{e.selection.isEditable()&&(Ww(e),sv(e))},rn)},q9=(e,n)=>{ph(e,n,!0).fold(()=>{e.selection.isEditable()&&Jm(e)},rn)},sI=(e,n)=>{e.addCommand("delete",()=>{Sk(e,n)}),e.addCommand("forwardDelete",()=>{q9(e,n)})},rI=5,G9=400,iI=e=>e.touches===void 0||e.touches.length!==1?U.none():U.some(e.touches[0]),X9=(e,n)=>{const o=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return o>rI||i>rI},Y9=e=>{const n=Xi(),o=Ie(!1),i=Tb(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},G9);e.on("touchstart",c=>{iI(c).each(f=>{i.cancel();const p={x:f.clientX,y:f.clientY,target:c.target};i.throttle(c),o.set(!1),n.set(p)})},!0),e.on("touchmove",c=>{i.cancel(),iI(c).each(f=>{n.on(p=>{X9(f,p)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{i.cancel(),c.type!=="touchcancel"&&n.get().filter(f=>f.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},nS=(e,n)=>wn(e,n.nodeName),K9=(e,n)=>ot(n)?!0:at(n)?!nS(e.getBlockElements(),n)&&!Jl(n)&&!_m(e,n)&&!ks(n):!1,J9=(e,n,o)=>zn(f3(ye.fromDom(o),ye.fromDom(n)),i=>nS(e,i.dom)),Av=(e,n)=>{if(ot(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||nS(e,n.nextSibling)||ks(n.nextSibling)}return!1},Ov=e=>e.dom.create(ca(e),sp(e)),aI=e=>{const n=e.dom,o=e.selection,i=e.schema,c=i.getBlockElements(),f=o.getStart(),p=e.getBody();let w,x,O=null;const $=ca(e);if(!f||!at(f))return;const H=p.nodeName.toLowerCase();if(!i.isValidChild(H,$.toLowerCase())||J9(c,p,f))return;if(p.firstChild===p.lastChild&&ao(p.firstChild)){w=Ov(e),w.appendChild(Kh().dom),p.replaceChild(w,p.firstChild),e.selection.setCursorLocation(w,0),e.nodeChanged();return}let Z=p.firstChild;for(;Z;)if(at(Z)&&G$(i,Z),K9(i,Z)){if(Av(c,Z)){x=Z,Z=Z.nextSibling,n.remove(x);continue}if(!w){if(!O&&e.hasFocus()&&(O=U2(e.selection.getRng(),()=>document.createElement("span"))),!Z.parentNode){Z=null;break}w=Ov(e),p.insertBefore(w,Z)}x=Z,Z=Z.nextSibling,w.appendChild(x)}else w=null,Z=Z.nextSibling;O&&(e.selection.setRng(yL(O)),e.nodeChanged())},xk=(e,n,o)=>{const i=ye.fromDom(Ov(e)),c=Kh();Mr(i,c),o(n,i);const f=document.createRange();return f.setStartBefore(c.dom),f.setEndBefore(c.dom),f},Ck=e=>{e.on("NodeChange",()=>aI(e))},lI=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,Q9=(e,n,o)=>function(i){const c=arguments,f=c[c.length-2],p=f>0?n.charAt(f-1):"";if(p==='"')return i;if(p===">"){const w=n.lastIndexOf("<",f);if(w!==-1&&n.substring(w,f).indexOf('contenteditable="false"')!==-1)return i}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},eU=(e,n,o)=>{let i=n.length,c=o.content;if(o.format!=="raw"){for(;i--;)c=c.replace(n[i],Q9(e,c,g4(e)));o.content=c}},tU=(e,n)=>bt(e,o=>{const i=n.match(o);return i!==null&&i[0].length===n.length}),nU=e=>{const n="contenteditable",o=" "+Tt.trim(T6(e))+" ",i=" "+Tt.trim(g4(e))+" ",c=lI(o),f=lI(i),p=hu(e);p.length>0&&e.on("BeforeSetContent",w=>{eU(e,p,w)}),e.parser.addAttributeFilter("class",w=>{let x=w.length;for(;x--;){const O=w[x];c(O)?O.attr(n,"true"):f(O)&&O.attr(n,"false")}}),e.serializer.addAttributeFilter(n,w=>{let x=w.length;for(;x--;){const O=w[x];if(!c(O)&&!f(O))continue;const $=O.attr("data-mce-content");p.length>0&&$?tU(p,$)?(O.name="#text",O.type=3,O.raw=!0,O.value=$):O.remove():O.attr(n,null)}})},oU=e=>un(ye.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),cI=(e,n)=>{n.hasAttribute("data-mce-caret")&&($f(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},uI=(e,n)=>{const o=oU(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),cI(e,o);return}OD(o)&&(cI(e,o),e.undoManager.add())}},sU=e=>{e.on("keyup compositionstart",Ve(uI,e))},dI=lo,dc=(e,n,o)=>sk(n,e,o,Ym,Km,dI),rU=(e,n,o)=>G2(n,e,o,f=>Ym(f)||d3(f),f=>Km(f)||s1(f),dI),Ek=e=>{const n=e.dom.create(ca(e));return n.innerHTML='<br data-mce-bogus="1">',n},Tk=(e,n,o)=>{const i=Qu(e.getBody()),c=Ve(MC,n===1?i.next:i.prev);if(o.collapsed){const f=e.dom.getParent(o.startContainer,"PRE");if(!f)return;if(!c(lt.fromRangeStart(o))){const w=ye.fromDom(Ek(e));n===1?pl(ye.fromDom(f),w):Mi(ye.fromDom(f),w),e.selection.select(w.dom,!0),e.selection.collapse()}}},_k=(e,n)=>{const o=n?wi.Forwards:wi.Backwards,i=e.selection.getRng();return dc(o,e,i).orThunk(()=>(Tk(e,o,i),U.none()))},iU=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return rU(o,e,i).orThunk(()=>(Tk(e,o,i),U.none()))},aU=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return D3(o)?!n:n},fI=(e,n)=>_k(e,aU(e.selection,n)).exists(o=>(Kd(e,o),!0)),mI=(e,n)=>iU(e,n).exists(o=>(Kd(e,o),!0)),hI=(e,n)=>jL(e,n,n?Km:Ym),l0=(e,n)=>ac(e,!n).map(o=>{const i=o.toRange(),c=e.selection.getRng();return n?i.setStart(c.startContainer,c.startOffset):i.setEnd(c.endContainer,c.endOffset),i}).exists(o=>(Kd(e,o),!0)),lU=e=>It(["figcaption"],ho(e)),cU=(e,n,o)=>{const i=Ve(so,n);return Ks(ye.fromDom(e.container()),c=>o.isBlock(ho(c)),i).filter(lU)},c0=(e,n,o)=>n?RL(e.dom,o):IL(e.dom,o),im=(e,n)=>{const o=ye.fromDom(e.getBody()),i=lt.fromRangeStart(e.selection.getRng());return cU(i,o,e.schema).exists(()=>{if(c0(o,n,i)){const f=xk(e,o,n?Mr:wm);return e.selection.setRng(f),!0}else return!1})},gh=(e,n)=>e.selection.isCollapsed()?im(e,n):!1,oS=(e,n,o)=>{const i=e.selection.getRng(),c=lt.fromRangeStart(i);return e.getBody().firstChild===n&&IL(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},kk=(e,n)=>{const o=e.selection.getRng(),i=lt.fromRangeStart(o);return e.getBody().lastChild===n&&RL(n,i)?(e.execCommand("InsertNewBlockAfter"),!0):!1},Ak=(e,n)=>n?U.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>kk(e,o)).getOr(!1):U.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>U.from(e.dom.getParent(o,"details")).map(i=>oS(e,i,o))).getOr(!1),Ok=(e,n)=>Ak(e,n),pI={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},gI=e=>nn(e,n=>({...pI,...n})),vI=e=>nn(e,n=>({...pI,...n})),bI=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,uU=(e,n)=>qe(gI(e),o=>bI(o,n)?[o]:[]),dU=(e,n)=>qe(vI(e),o=>bI(o,n)?[o]:[]),Rn=(e,...n)=>()=>e.apply(null,n),u0=(e,n)=>oe(uU(e,n),o=>o.action()),yI=(e,n)=>So(dU(e,n),o=>o.action()),Dk=(e,n)=>{const o=n?wi.Forwards:wi.Backwards,i=e.selection.getRng();return sk(e,o,i,ev,tv,fr).exists(c=>(Kd(e,c),!0))},Mk=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return G2(e,o,i,ev,tv,fr).exists(c=>(Kd(e,c),!0))},fU=(e,n)=>jL(e,n,n?tv:ev),mU=Hd.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),d0={...mU,none:e=>mU.none(e)},DK=(e,n)=>hU(e,n,wt),hU=(e,n,o)=>qe(Kr(e),i=>zl(i,n)?o(i)?[i]:[]:hU(i,n,o)),pU=(e,n,o=Ue)=>{if(o(n))return U.none();if(It(e,ho(n)))return U.some(n);const i=c=>zl(c,"table")||o(c);return ur(n,e.join(","),i)},gU=(e,n)=>pU(["td","th"],e,n),MK=e=>DK(e,"th,td"),wI=(e,n)=>Ec(e,"table",n),Pa=(e,n,o,i,c=wt)=>{const f=i===1;if(!f&&o<=0)return d0.first(e[0]);if(f&&o>=e.length-1)return d0.last(e[e.length-1]);{const p=o+i,w=e[p];return c(w)?d0.middle(n,w):Pa(e,n,p,i,c)}},Pk=(e,n)=>wI(e,n).bind(o=>{const i=MK(o);return Ce(i,f=>so(e,f)).map(f=>({index:f,all:i}))}),f0=(e,n,o)=>Pk(e,o).fold(()=>d0.none(e),c=>Pa(c.all,e,c.index,1,n)),vU=(e,n,o)=>Pk(e,o).fold(()=>d0.none(),c=>Pa(c.all,e,c.index,-1,n)),SI=e=>kD(e).filter(n=>n.trim().length!==0||n.indexOf(Wr)>-1).isSome(),xI=e=>bf(e)&&ra(e,"contenteditable")==="false",Nk=["img","br"],bU=e=>SI(e)||It(Nk,ho(e))||xI(e),yU=e=>kf(e,bU),CI=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),wU=(e,n)=>qe(n,o=>{const i=CI(Lm(o.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:o},{x:i.right,y:e(i),cell:o}]}),SU=(e,n,o)=>Gs(e,(i,c)=>i.fold(()=>U.some(c),f=>{const p=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-o)),w=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return U.some(w<p?c:f)}),U.none()),EI=(e,n,o,i,c)=>{const f=Zi(ye.fromDom(o),"td,th,caption").map(w=>w.dom),p=hn(wU(e,f),w=>n(w,c));return SU(p,i,c).map(w=>w.cell)},Lk=e=>e.bottom,xU=e=>e.top,CU=(e,n)=>e.y<n,PK=(e,n)=>e.y>n,EU=Ve(EI,Lk,CU),TI=Ve(EI,xU,PK),NK=(e,n)=>kn(n.getClientRects()).bind(o=>EU(e,o.left,o.top)).bind(o=>Hp(w9(o),n)),TU=(e,n)=>Un(n.getClientRects()).bind(o=>TI(e,o.left,o.top)).bind(o=>Hp(y9(o),n)),_U=(e,n,o)=>o.breakAt.exists(i=>e(n,i).breakAt.isSome()),kU=e=>e.breakType===Yd.Wrap&&e.positions.length===0,Ik=e=>e.breakType===Yd.Br&&e.positions.length===1,m0=(e,n,o)=>{const i=e(n,o);return kU(i)||!ao(o.getNode())&&Ik(i)?!_U(e,n,i):i.breakAt.isNone()},_I=Ve(m0,uh),kI=Ve(m0,n0),AU=(e,n,o)=>{const i=lt.fromRangeStart(n);return Vg(!e,o).exists(c=>c.isEqual(i))},OU=(e,n,o,i)=>{const c=e.selection.getRng(),f=n?1:-1;return E4()&&AU(n,c,o)?(ic(f,e,o,!n,!1).each(p=>{Kd(e,p)}),!0):!1},Rk=(e,n,o)=>NK(n,o).orThunk(()=>kn(o.getClientRects()).bind(i=>nk(LL(e,lt.before(n)),i.left))).getOr(lt.before(n)),DU=(e,n,o)=>TU(n,o).orThunk(()=>kn(o.getClientRects()).bind(i=>nk(o0(e,lt.after(n)),i.left))).getOr(lt.after(n)),AI=(e,n)=>{const o=n.getNode(e);return hs(o)?U.some(o):U.none()},MU=(e,n,o)=>{n.undoManager.transact(()=>{const i=e?pl:Mi,c=xk(n,ye.fromDom(o),i);Kd(n,c)})},OI=(e,n,o)=>{const i=AI(!!n,o),c=n===!1;i.fold(()=>Kd(e,o.toRange()),f=>Vg(c,e.getBody()).filter(p=>p.isEqual(o)).fold(()=>Kd(e,o.toRange()),p=>MU(n,e,f)))},Eu=(e,n,o,i)=>{const c=e.selection.getRng(),f=lt.fromRangeStart(c),p=e.getBody();if(!n&&_I(i,f)){const w=Rk(p,o,f);return OI(e,n,w),!0}else if(n&&kI(i,f)){const w=DU(p,o,f);return OI(e,n,w),!0}else return!1},Bk=(e,n,o)=>U.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(i=>U.from(e.dom.getParent(i,"table")).map(c=>o(e,n,c,i))).getOr(!1),$k=(e,n)=>Bk(e,n,OU),DI=(e,n)=>Bk(e,n,Eu),LK=e=>{const n=qg.exact(e,0,e,0);return vM(n)},PU=(e,n,o)=>o.fold(U.none,U.none,(i,c)=>yU(c).map(f=>LK(f)),i=>(e.execCommand("mceTableInsertRowAfter"),NU(e,n,i))),NU=(e,n,o)=>PU(e,n,f0(o,_a)),LU=(e,n,o)=>PU(e,n,vU(o,_a)),h0=(e,n)=>{const o=["table","li","dl"],i=ye.fromDom(e.getBody()),c=w=>{const x=ho(w);return so(w,i)||It(o,x)},f=e.selection.getRng(),p=ye.fromDom(n?f.endContainer:f.startContainer);return gU(p,c).map(w=>(wI(w,c).each($=>{e.model.table.clearSelectedCells($.dom)}),e.selection.collapse(!n),(n?NU:LU)(e,c,w).each($=>{e.selection.setRng($)}),!0)).getOr(!1)},IU=(e,n,o)=>{const i=Mn.os.isMacOS()||Mn.os.isiOS();u0([{keyCode:kt.RIGHT,action:Rn(fI,e,!0)},{keyCode:kt.LEFT,action:Rn(fI,e,!1)},{keyCode:kt.UP,action:Rn(mI,e,!1)},{keyCode:kt.DOWN,action:Rn(mI,e,!0)},...i?[{keyCode:kt.UP,action:Rn(l0,e,!1),metaKey:!0,shiftKey:!0},{keyCode:kt.DOWN,action:Rn(l0,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:kt.RIGHT,action:Rn($k,e,!0)},{keyCode:kt.LEFT,action:Rn($k,e,!1)},{keyCode:kt.UP,action:Rn(DI,e,!1)},{keyCode:kt.DOWN,action:Rn(DI,e,!0)},{keyCode:kt.UP,action:Rn(DI,e,!1)},{keyCode:kt.UP,action:Rn(Ok,e,!1)},{keyCode:kt.DOWN,action:Rn(Ok,e,!0)},{keyCode:kt.RIGHT,action:Rn(Dk,e,!0)},{keyCode:kt.LEFT,action:Rn(Dk,e,!1)},{keyCode:kt.UP,action:Rn(Mk,e,!1)},{keyCode:kt.DOWN,action:Rn(Mk,e,!0)},{keyCode:kt.RIGHT,action:Rn(fh,e,n,!0)},{keyCode:kt.LEFT,action:Rn(fh,e,n,!1)},{keyCode:kt.RIGHT,ctrlKey:!i,altKey:i,action:Rn(Y2,e,n)},{keyCode:kt.LEFT,ctrlKey:!i,altKey:i,action:Rn(P9,e,n)},{keyCode:kt.UP,action:Rn(gh,e,!1)},{keyCode:kt.DOWN,action:Rn(gh,e,!0)}],o).each(c=>{o.preventDefault()})},Fk=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||IU(e,n,o)})},Tu=(e,n)=>({container:e,offset:n}),p0=Fs.DOM,g0=e=>n=>e===n?-1:0,RU=e=>n=>e.isBlock(n)||It(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",Hk=(e,n,o)=>{if(ot(e)&&n>=0)return U.some(Tu(e,n));{const i=Xh(p0);return U.from(i.backwards(e,n,g0(e),o)).map(c=>Tu(c.container,c.container.data.length))}},BU=(e,n,o)=>{if(ot(e)&&n>=e.length)return U.some(Tu(e,n));{const i=Xh(p0);return U.from(i.forwards(e,n,g0(e),o)).map(c=>Tu(c.container,0))}},zk=(e,n,o)=>{if(!ot(e))return U.none();const i=e.data;if(n>=0&&n<=i.length)return U.some(Tu(e,n));{const c=Xh(p0);return U.from(c.backwards(e,n,g0(e),o)).bind(f=>{const p=f.container.data;return zk(f.container,n+p.length,o)})}},v0=(e,n,o)=>{if(!ot(e))return U.none();const i=e.data;if(n<=i.length)return U.some(Tu(e,n));{const c=Xh(p0);return U.from(c.forwards(e,n,g0(e),o)).bind(f=>v0(f.container,n-i.length,o))}},Vk=(e,n,o,i,c)=>{const f=Xh(e,RU(e));return U.from(f.backwards(n,o,i,c))},$U=e=>e.collapsed&&ot(e.startContainer),FU=e=>ql(e.toString().replace(/\u00A0/g," ")),sS=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,HU=(e,n)=>e.substring(n.length),zU=(e,n,o,i=!1)=>{let c;const f=o.charAt(0);for(c=n-1;c>=0;c--){const p=e.charAt(c);if(!i&&sS(p))return U.none();if(f===p&&Qo(e,o,c,n))break}return U.some(c)},rS=(e,n,o,i=!1)=>{if(!$U(n))return U.none();const c={text:"",offset:0},f=(w,x,O)=>(c.text=O+c.text,c.offset+=x,zU(c.text,c.offset,o,i).getOr(x)),p=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return Vk(e,n.startContainer,n.startOffset,f,p).bind(w=>{const x=n.cloneRange();if(x.setStart(w.container,w.offset),x.setEnd(n.endContainer,n.endOffset),x.collapsed)return U.none();const O=FU(x);return O.lastIndexOf(o)!==0?U.none():U.some({text:HU(O,o),range:x,trigger:o})})},VU=e=>e.nodeType===ki,UU=e=>e.nodeType===Cd,MI=e=>{if(VU(e))return Tu(e,e.data.length);{const n=e.childNodes;return n.length>0?MI(n[n.length-1]):Tu(e,n.length)}},PI=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?PI(o[n],0):o.length>0&&UU(e)&&o.length===n?MI(o[o.length-1]):Tu(e,n)},WU=(e,n)=>{var o;const i=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return Vk(e,n.container,n.offset,(c,f)=>f===0?-1:f,i).filter(c=>{const f=c.container.data.charAt(c.offset-1);return!sS(f)}).isSome()},jU=e=>n=>{const o=PI(n.startContainer,n.startOffset);return!WU(e,o)},Uk=(e,n,o)=>So(o.triggers,i=>rS(e,n,i)),ZU=(e,n)=>{const o=n(),i=e.selection.getRng();return Uk(e.dom,i,o).bind(c=>Wk(e,n,c))},Wk=(e,n,o,i={})=>{var c;const f=n(),w=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",x=hn(f.lookupByTrigger(o.trigger),$=>o.text.length>=$.minChars&&$.matches.getOrThunk(()=>jU(e.dom))(o.range,w,o.text));if(x.length===0)return U.none();const O=Promise.all(nn(x,$=>$.fetch(o.text,$.maxResults,i).then(Z=>({matchText:o.text,items:Z,columns:$.columns,onAction:$.onAction,highlightOn:$.highlightOn}))));return U.some({lookupData:O,context:o})};var id;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(id||(id={}));const jk=(e,n,o)=>e.stype===id.Error?n(e.serror):o(e.svalue),qU=e=>{const n=[],o=[];return $e(e,i=>{jk(i,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},GU=(e,n)=>e.stype===id.Error?{stype:id.Error,serror:n(e.serror)}:e,XU=(e,n)=>e.stype===id.Value?{stype:id.Value,svalue:n(e.svalue)}:e,YU=(e,n)=>e.stype===id.Value?n(e.svalue):e,oi=(e,n)=>e.stype===id.Error?n(e.serror):e,NI=e=>({stype:id.Value,svalue:e}),LI=e=>({stype:id.Error,serror:e}),Ei={fromResult:e=>e.fold(LI,NI),toResult:e=>jk(e,Ya.error,Ya.value),svalue:NI,partition:qU,serror:LI,bind:YU,bindError:oi,map:XU,mapError:GU,fold:jk},iS=e=>ce(e)&&Lo(e).length>100?" removed due to size":JSON.stringify(e,null,2),vh=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:_e("... (only showing first ten failures)")}]):e;return nn(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},Dv=(e,n)=>Ei.serror([{path:e,getErrorInfo:n}]),II=(e,n,o)=>Dv(e,()=>'Could not find valid *required* value for "'+n+'" in '+iS(o)),Zk=(e,n)=>Dv(e,()=>'Choice schema did not contain choice key: "'+n+'"'),qk=(e,n,o)=>Dv(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+iS(n)),Gk=(e,n)=>Dv(e,_e(n)),RI=(e,n,o,i)=>Fo(o,i).fold(()=>qk(e,o,i),f=>f.extract(e.concat(["branch: "+i]),n)),aS=(e,n)=>({extract:(c,f)=>Fo(f,e).fold(()=>Zk(c,e),w=>RI(c,f,n,w)),toString:()=>"chooseOn("+e+"). Possible values: "+Lo(n)}),lS=(e,n)=>n,b0=(e,n)=>Re(e)&&Re(n)?Ml(e,n):n,Mv=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let i=0;i<n.length;i++){const c=n[i];for(const f in c)wn(c,f)&&(o[f]=e(o[f],c[f]))}return o},Ml=Mv(b0),Pv=Mv(lS),Xk=()=>({tag:"required",process:{}}),BI=e=>({tag:"defaultedThunk",process:e}),$I=e=>BI(_e(e)),FI=()=>({tag:"option",process:{}}),JU=(e,n)=>e.length>0?Ei.svalue(Ml(n,Pv.apply(void 0,e))):Ei.svalue(n),HI=e=>P(Ei.serror,Le)(e),QU={consolidateObj:(e,n)=>{const o=Ei.partition(e);return o.errors.length>0?HI(o.errors):JU(o.values,n)},consolidateArr:e=>{const n=Ei.partition(e);return n.errors.length>0?HI(n.errors):Ei.svalue(n.values)}},eW=(e,n,o,i)=>({tag:"field",key:e,newKey:n,presence:o,prop:i}),tW=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),zI=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},Yk=e=>{const n=(i,c)=>Ei.bindError(e(c),f=>Gk(i,f)),o=_e("val");return{extract:n,toString:o}},nW=Yk(Ei.svalue),oW=(e,n,o,i)=>Fo(n,o).fold(()=>II(e,o,n),i),VI=(e,n,o,i)=>{const c=Fo(e,n).getOrThunk(()=>o(e));return i(c)},sW=(e,n,o)=>o(Fo(e,n)),rW=(e,n,o,i)=>{const c=Fo(e,n).map(f=>f===!0?o(e):f);return i(c)},iW=(e,n,o,i,c)=>{const f=w=>c.extract(n.concat([i]),w),p=w=>w.fold(()=>Ei.svalue(U.none()),x=>{const O=c.extract(n.concat([i]),x);return Ei.map(O,U.some)});switch(e.tag){case"required":return oW(n,o,i,f);case"defaultedThunk":return VI(o,i,e.process,f);case"option":return sW(o,i,p);case"defaultedOptionThunk":return rW(o,i,e.process,p);case"mergeWithThunk":return VI(o,i,_e({}),w=>{const x=Ml(e.process(o),w);return f(x)})}},aW=(e,n,o)=>{const i={},c=[];for(const f of o)zI(f,(p,w,x,O)=>{const $=iW(x,e,n,p,O);Ei.fold($,H=>{c.push(...H)},H=>{i[w]=H})},(p,w)=>{i[p]=w(n)});return c.length>0?Ei.serror(c):Ei.svalue(i)},Kk=e=>({extract:(i,c)=>aW(i,c,e),toString:()=>`obj{
`+nn(e,c=>zI(c,(f,p,w,x)=>f+" -> "+x.toString(),(f,p)=>"state("+f+")")).join(`
`)+"}"}),Jk=e=>({extract:(i,c)=>{const f=nn(c,(p,w)=>e.extract(i.concat(["["+w+"]"]),p));return QU.consolidateArr(f)},toString:()=>"array("+e.toString()+")"}),UI=e=>Yk(n=>e(n).fold(Ei.serror,Ei.svalue)),WI=(e,n,o)=>{const i=n.extract([e],o);return Ei.mapError(i,c=>({input:o,errors:c}))},lW=(e,n,o)=>Ei.toResult(WI(e,n,o)),cW=e=>`Errors: 
`+vh(e.errors).join(`
`)+`

Input object: `+iS(e.input),jI=(e,n)=>aS(e,Gn(n,Kk)),uW=_e(nW),y0=(e,n)=>Yk(o=>{const i=typeof o;return e(o)?Ei.svalue(o):Ei.serror(`Expected type: ${n} but got: ${i}`)}),dW=y0(Be,"number"),w0=y0(F,"string"),fW=y0(He,"boolean"),uS=y0(xe,"function"),Nv=eW,ZI=tW,mW=e=>UI(n=>It(e,n)?Ya.value(n):Ya.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),qI=(e,n)=>Nv(e,e,Xk(),n),GI=e=>qI(e,w0),Qk=e=>qI(e,uS),hW=(e,n)=>Nv(e,e,Xk(),Jk(n)),eA=(e,n)=>Nv(e,e,FI(),n),S0=e=>eA(e,w0),pW=e=>eA(e,uS),gW=(e,n)=>Nv(e,e,$I(n),uW()),Vp=(e,n,o)=>Nv(e,e,$I(n),o),XI=(e,n)=>Vp(e,n,dW),vW=(e,n)=>Vp(e,n,w0),YI=(e,n,o)=>Vp(e,n,mW(o)),dS=(e,n)=>Vp(e,n,fW),fS=(e,n)=>Vp(e,n,uS),bW=(e,n,o)=>Vp(e,n,Jk(o)),yW=GI("type"),wW=Qk("fetch"),tA=Qk("onAction"),SW=fS("onSetup",()=>Oe),xW=S0("text"),CW=S0("icon"),EW=S0("tooltip"),BK=S0("label"),TW=dS("active",!1),mS=dS("enabled",!0),nA=dS("primary",!1),KI=e=>gW("columns",e),x0=e=>vW("type",e),JI=Kk([yW,GI("trigger"),XI("minChars",1),KI(1),XI("maxResults",10),pW("matches"),wW,tA,bW("highlightOn",[],w0)]),QI=e=>lW("Autocompleter",JI,e),oA=[mS,EW,CW,xW,SW],eR=[TW].concat(oA),_W=[fS("predicate",Ue),YI("scope","node",["node","editor"]),YI("position","selection",["node","selection","line"])],tR=oA.concat([x0("contextformbutton"),nA,tA,ZI("original",$t)]),kW=eR.concat([x0("contextformbutton"),nA,tA,ZI("original",$t)]),sA=oA.concat([x0("contextformbutton")]),AW=eR.concat([x0("contextformtogglebutton")]),OW=jI("type",{contextformbutton:tR,contextformtogglebutton:kW});Kk([x0("contextform"),fS("initValue",_e("")),BK,hW("commands",OW),eA("launch",jI("type",{contextformbutton:sA,contextformtogglebutton:AW}))].concat(_W));const DW=e=>{const n=e.ui.registry.getAll().popups,o=Gn(n,p=>QI(p).fold(w=>{throw new Error(cW(w))},$t)),i=Xo(lr(o,p=>p.trigger)),c=cl(o);return{dataset:o,triggers:i,lookupByTrigger:p=>hn(c,w=>w.trigger===p)}},nR=(e,n)=>{const o=Tb(n.load,50);e.on("input",i=>{i.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",i=>{const c=i.which;c===8?o.throttle():c===27?(o.cancel(),n.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},MW=e=>{const n=Xi(),o=Ie(!1),i=n.isSet,c=()=>{i()&&(lE(e),o.set(!1),n.clear())},f=H=>{i()||n.set({trigger:H.trigger,matchLength:H.text.length})},p=Qe(()=>DW(e)),w=H=>n.get().map(Z=>rS(e.dom,e.selection.getRng(),Z.trigger,!0).bind(ne=>Wk(e,p,ne,H))).getOrThunk(()=>ZU(e,p)),x=H=>{w(H).fold(c,Z=>{f(Z.context),Z.lookupData.then(ne=>{n.get().map(ue=>{const se=Z.context;ue.trigger===se.trigger&&(n.set({...ue,matchLength:se.text.length}),o.get()?(aE(e,{range:se.range}),iE(e,{lookupData:ne})):(o.set(!0),aE(e,{range:se.range}),wH(e,{lookupData:ne})))})})})},O=(H,Z)=>{const ne=H.compareBoundaryPoints(window.Range.START_TO_START,Z),ue=H.compareBoundaryPoints(window.Range.END_TO_END,Z);return ne>=0&&ue<=0},$=()=>n.get().bind(({trigger:H})=>{const Z=e.selection.getRng();return rS(e.dom,Z,H,o.get()).filter(({range:ne})=>O(Z,ne)).map(({range:ne})=>ne)});e.addCommand("mceAutocompleterReload",(H,Z)=>{const ne=ce(Z)?Z.fetchOptions:{};x(ne)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{$().each(H=>{aE(e,{range:H})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>$().isSome()),nR(e,{cancelIfNecessary:c,load:x})},PW=gi().browser.isSafari(),oR=e=>Ac(ye.fromDom(e)),sR=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},Lr=(e,n)=>U.from(e.getParent(n.container(),"details")),ad=(e,n)=>Lr(e,n).isSome(),NW=(e,n)=>{const o=U.from(e.getParent(n.startContainer,"details")),i=U.from(e.getParent(n.endContainer,"details"));if(o.isSome()||i.isSome()){const c=o.bind(f=>U.from(e.select("summary",f)[0]));return U.some({startSummary:c,startDetails:o,endDetails:i})}else return U.none()},FK=(e,n)=>Oa(n).exists(o=>o.isEqual(e)),LW=(e,n)=>pu(n).exists(o=>ao(o.getNode())&&kl(n,o).exists(i=>i.isEqual(e))||o.isEqual(e)),IW=(e,n)=>n.startSummary.exists(o=>FK(e,o)),RW=(e,n)=>n.startSummary.exists(o=>LW(e,o)),BW=(e,n)=>n.startDetails.exists(o=>kl(o,e).forall(i=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(i.container())))),rR=(e,n,o)=>o.startDetails.exists(i=>Ja(e,n).forall(c=>!i.contains(c.container()))),Up=(e,n)=>{const o=n.getNode();Ze(o)||e.selection.setCursorLocation(o,n.offset())},$W=(e,n,o)=>{const i=e.dom.getParent(n.container(),"details");if(i&&!i.open){const c=e.dom.select("summary",i)[0];c&&(o?Oa(c):pu(c)).each(p=>Up(e,p))}else Up(e,n)},FW=(e,n)=>{const o=x=>x.contains(e.startContainer),i=x=>x.contains(e.endContainer),c=n.startSummary.exists(o),f=n.startSummary.exists(i),p=n.startDetails.forall(x=>n.endDetails.forall(O=>x!==O));return(c||f)&&!(c&&f)||p},iR=(e,n,o)=>{const{dom:i,selection:c}=e,f=e.getBody();if(o==="character"){const p=lt.fromRangeStart(c.getRng()),w=i.getParent(p.container(),i.isBlock),x=Lr(i,p),O=w&&i.isEmpty(w),$=ie(w==null?void 0:w.previousSibling),H=ie(w==null?void 0:w.nextSibling);return O&&(n?H:$)&&ap(!n,f,p).exists(ue=>ad(i,ue)&&!Yr(x,Lr(i,ue)))?!0:ap(n,f,p).fold(Ue,Z=>{const ne=Lr(i,Z);if(ad(i,Z)&&!Yr(x,ne)){if(n||$W(e,Z,!1),w&&O){if(n&&$)return!0;if(!n&&H)return!0;$W(e,Z,n),e.dom.remove(w)}return!0}else return!1})}else return!1},ld=(e,n,o,i)=>{const f=e.selection.getRng(),p=lt.fromRangeStart(f),w=e.getBody();return i==="selection"?FW(f,n):o?RW(p,n)||rR(w,p,n):IW(p,n)||BW(p,n)},HW=(e,n,o)=>NW(e.dom,e.selection.getRng()).fold(()=>iR(e,n,o),i=>ld(e,i,n,o)||iR(e,n,o)),zW=(e,n,o)=>{const i=e.selection,c=i.getNode(),f=i.getRng(),p=lt.fromRangeStart(f);return Gi(c)?(o==="selection"&&sR(f,c)||wp(n,p,c)?oR(c):e.undoManager.transact(()=>{const w=i.getSel();let{anchorNode:x,anchorOffset:O,focusNode:$,focusOffset:H}=w??{};const Z=()=>{he(x)&&he(O)&&he($)&&he(H)&&(w==null||w.setBaseAndExtent(x,O,$,H))},ne=()=>{x=w==null?void 0:w.anchorNode,O=w==null?void 0:w.anchorOffset,$=w==null?void 0:w.focusNode,H=w==null?void 0:w.focusOffset},ue=(fe,Se)=>{$e(fe.childNodes,Pe=>{lw(Pe)&&Se.appendChild(Pe)})},se=e.dom.create("span",{"data-mce-bogus":"1"});ue(c,se),c.appendChild(se),Z(),(o==="word"||o==="line")&&(w==null||w.modify("extend",n?"right":"left",o)),!i.isCollapsed()&&sR(i.getRng(),se)?oR(c):(e.execCommand(n?"ForwardDelete":"Delete"),ne(),ue(se,c),Z()),e.dom.remove(se)}),!0):!1},bh=(e,n,o)=>HW(e,n,o)||PW&&zW(e,n,o)?U.some(Oe):U.none(),aR=e=>(n,o,i={})=>{const c=n.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:Oe,inputType:o},p=$d(new InputEvent(e));return n.dispatch(e,{...p,...f,...i})},Wp=aR("input"),Uc=aR("beforeinput"),rA=gi(),iA=rA.os,lR=iA.isMacOS()||iA.isiOS(),lA=rA.browser.isFirefox(),cR=(e,n,o)=>{const i=o.keyCode===kt.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),f=c?"character":"selection",p=w=>c?w?"word":"line":"selection";yI([{keyCode:kt.BACKSPACE,action:Rn(uc,e)},{keyCode:kt.BACKSPACE,action:Rn(J1,e,!1)},{keyCode:kt.DELETE,action:Rn(J1,e,!0)},{keyCode:kt.BACKSPACE,action:Rn(qd,e,!1)},{keyCode:kt.DELETE,action:Rn(qd,e,!0)},{keyCode:kt.BACKSPACE,action:Rn(lk,e,n,!1)},{keyCode:kt.DELETE,action:Rn(lk,e,n,!0)},{keyCode:kt.BACKSPACE,action:Rn(h1,e,!1)},{keyCode:kt.DELETE,action:Rn(h1,e,!0)},{keyCode:kt.BACKSPACE,action:Rn(bh,e,!1,f)},{keyCode:kt.DELETE,action:Rn(bh,e,!0,f)},...lR?[{keyCode:kt.BACKSPACE,altKey:!0,action:Rn(bh,e,!1,p(!0))},{keyCode:kt.DELETE,altKey:!0,action:Rn(bh,e,!0,p(!0))},{keyCode:kt.BACKSPACE,metaKey:!0,action:Rn(bh,e,!1,p(!1))}]:[{keyCode:kt.BACKSPACE,ctrlKey:!0,action:Rn(bh,e,!1,p(!0))},{keyCode:kt.DELETE,ctrlKey:!0,action:Rn(bh,e,!0,p(!0))}],{keyCode:kt.BACKSPACE,action:Rn(cc,e,!1)},{keyCode:kt.DELETE,action:Rn(cc,e,!0)},{keyCode:kt.BACKSPACE,action:Rn(pk,e,!1)},{keyCode:kt.DELETE,action:Rn(pk,e,!0)},{keyCode:kt.BACKSPACE,action:Rn(V2,e,!1)},{keyCode:kt.DELETE,action:Rn(V2,e,!0)},{keyCode:kt.BACKSPACE,action:Rn(nm,e,!1)},{keyCode:kt.DELETE,action:Rn(nm,e,!0)},{keyCode:kt.BACKSPACE,action:Rn(eS,e,!1)},{keyCode:kt.DELETE,action:Rn(eS,e,!0)},{keyCode:kt.BACKSPACE,action:Rn(G_,e,!1)},{keyCode:kt.DELETE,action:Rn(G_,e,!0)}],o).filter(w=>e.selection.isEditable()).each(w=>{o.preventDefault(),Uc(e,i).isDefaultPrevented()||(w(),Wp(e,i))})},uR=(e,n,o)=>u0([{keyCode:kt.BACKSPACE,action:Rn(j_,e)},{keyCode:kt.DELETE,action:Rn(j_,e)},...lR?[{keyCode:kt.BACKSPACE,altKey:!0,action:Rn(a0,e)},{keyCode:kt.DELETE,altKey:!0,action:Rn(a0,e)},...o?[{keyCode:lA?224:91,action:Rn(a0,e)}]:[]]:[{keyCode:kt.BACKSPACE,ctrlKey:!0,action:Rn(a0,e)},{keyCode:kt.DELETE,ctrlKey:!0,action:Rn(a0,e)}]],n),VW=(e,n)=>{let o=!1;e.on("keydown",i=>{o=i.keyCode===kt.BACKSPACE,i.isDefaultPrevented()||cR(e,n,i)}),e.on("keyup",i=>{i.isDefaultPrevented()||uR(e,i,o),o=!1})},UW=e=>{for(;e;){if(at(e)||ot(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Lv=(e,n)=>{const o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const f=UW(n.firstChild);f&&/^(UL|OL|DL)$/.test(f.nodeName)&&n.insertBefore(o.doc.createTextNode(Wr),n.firstChild)}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const f=new Pr(n,n);let p=n,w;for(;w=f.current();){if(ot(w)){c.setStart(w,0),c.setEnd(w,0);break}if(i[w.nodeName.toLowerCase()]){c.setStartBefore(w),c.setEndBefore(w);break}p=w,w=f.next()}w||(c.setStart(p,0),c.setEnd(p,0))}else ao(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),Qb(e,c)},C0=(e,n)=>{const o=e.getRoot();let i,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){i=c;break}c=c.parentNode}return c!==o?i:o},cA=e=>U.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),dR=e=>cA(e).fold(_e(""),n=>n.nodeName.toUpperCase()),WW=e=>cA(e).filter(n=>Mg(ye.fromDom(n))).isSome(),uA=e=>{e.innerHTML='<br data-mce-bogus="1">'},jW=(e,n,o)=>{const i=e.dom;U.from(o.style).map(i.parseStyle).each(x=>{const $={...ym(ye.fromDom(n)),...x};i.setStyles(n,$)});const c=U.from(o.class).map(x=>x.split(/\s+/)),f=U.from(n.className).map(x=>hn(x.split(/\s+/),O=>O!==""));Zn(c,f,(x,O)=>{const $=hn(O,Z=>!It(x,Z)),H=[...x,...$];i.setAttrib(n,"class",H.join(" "))});const p=["style","class"],w=Ys(o,(x,O)=>!It(p,O));i.setAttribs(n,w)},E0=(e,n)=>{if(ca(e).toLowerCase()===n.tagName.toLowerCase()){const i=sp(e);jW(e,n,i)}},fR=(e,n,o,i,c=!0,f,p)=>{const w=e.dom,x=e.schema,O=ca(e),$=o?o.nodeName.toUpperCase():"";let H=n;const Z=x.getTextInlineElements();let ne;f||$==="TABLE"||$==="HR"?ne=w.create(f||O,p||{}):ne=o.cloneNode(!1);let ue=ne;if(!c)w.setAttrib(ne,"style",null),w.setAttrib(ne,"class",null);else do if(Z[H.nodeName]){if(Dc(H)||Jl(H))continue;const se=H.cloneNode(!1);w.setAttrib(se,"id",""),ne.hasChildNodes()?(se.appendChild(ne.firstChild),ne.appendChild(se)):(ue=se,ne.appendChild(se))}while((H=H.parentNode)&&H!==i);return E0(e,ne),uA(ue),ne},mR=(e,n)=>e.dom.getParent(n,Pi),hR=(e,n,o)=>{let i=n;for(;i&&i!==e&&ie(i.nextSibling);){const c=i.parentElement;if(!c||!o(c))return Pi(c);i=c}return!1},ZW=(e,n,o)=>!n&&o.nodeName.toLowerCase()===ca(e)&&e.dom.isEmpty(o)&&hR(e.getBody(),o,i=>wn(e.schema.getTextBlockElements(),i.nodeName.toLowerCase())),qW=(e,n,o)=>{var i,c,f;const p=n(ca(e)),w=mR(e,o);w&&(e.dom.insertAfter(p,w),Lv(e,p),((f=(c=(i=o.parentElement)===null||i===void 0?void 0:i.childNodes)===null||c===void 0?void 0:c.length)!==null&&f!==void 0?f:0)>1&&e.dom.remove(o))},HK=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,dA=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},pR=(e,n)=>{const o=e==null?void 0:e.parentNode;return he(o)&&o.nodeName===n},gR=e=>he(e)&&/^(OL|UL|LI)$/.test(e.nodeName),fA=e=>he(e)&&/^(LI|DT|DD)$/.test(e.nodeName),vR=e=>gR(e)&&gR(e.parentNode),hS=e=>{const n=e.parentNode;return fA(n)?n:e},T0=(e,n,o)=>{let i=e[o?"firstChild":"lastChild"];for(;i&&!at(i);)i=i[o?"nextSibling":"previousSibling"];return i===n},bR=e=>Gs(lr(ym(ye.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),GW=(e,n,o,i,c)=>{const f=e.dom,p=e.selection.getRng(),w=o.parentNode;if(o===e.getBody()||!w)return;vR(o)&&(c="LI");const x=fA(i)?bR(i):void 0;let O=fA(i)&&x?n(c,{style:bR(i)}):n(c);if(T0(o,i,!0)&&T0(o,i,!1))if(pR(o,"LI")){const $=hS(o);f.insertAfter(O,$),dA(o)?f.remove($):f.remove(o)}else f.replace(O,o);else if(T0(o,i,!0))pR(o,"LI")?(f.insertAfter(O,hS(o)),O.appendChild(f.doc.createTextNode(" ")),O.appendChild(o)):w.insertBefore(O,o),f.remove(i);else if(T0(o,i,!1))f.insertAfter(O,hS(o)),f.remove(i);else{o=hS(o);const $=p.cloneRange();$.setStartAfter(i),$.setEndAfter(o);const H=$.extractContents();if(c==="LI"&&HK(H,"LI")){const Z=hn(nn(O.children,ye.fromDom),Ot(ru("br")));O=H.firstChild,f.insertAfter(H,o),$e(Z,ne=>wm(ye.fromDom(O),ne)),x&&O.setAttribute("style",x)}else f.insertAfter(H,o),f.insertAfter(O,o);f.remove(i)}Lv(e,O)},zK=e=>{$e(mb(ye.fromDom(e),Wi),n=>{const o=n.dom;o.nodeValue=ql(o.data)})},ha=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},XW=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),mA=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,hA=(e,n)=>he(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",YW=(e,n,o)=>{var i;const c=[];if(!o)return;let f=o;for(;f=f.firstChild;){if(e.isBlock(f))return;at(f)&&!n[f.nodeName.toLowerCase()]&&c.push(f)}let p=c.length;for(;p--;)f=c[p],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((i=f.firstChild)===null||i===void 0?void 0:i.nodeValue)===""||XW(e,f))&&e.remove(f)},pA=(e,n,o)=>ot(n)?e?o===1&&n.data.charAt(o-1)===bi?0:o:o===n.data.length-1&&n.data.charAt(o)===bi?n.data.length:o:o,KW=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,pA(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,pA(!1,e.endContainer,e.endOffset)),n},JW=e=>{let n=e;do ot(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},pS=(e,n,o,i,c)=>{var f,p;const w=e.dom,x=(f=C0(w,i))!==null&&f!==void 0?f:w.getRoot();let O=w.getParent(i,w.isBlock);if(!O||!hA(w,O)){if(O=O||x,!O.hasChildNodes()){const ne=w.create(n);return E0(e,ne),O.appendChild(ne),o.setStart(ne,0),o.setEnd(ne,0),ne}let $=i;for(;$&&$.parentNode!==O;)$=$.parentNode;let H;for(;$&&!w.isBlock($);)H=$,$=$.previousSibling;const Z=(p=H==null?void 0:H.parentElement)===null||p===void 0?void 0:p.nodeName;if(H&&Z&&e.schema.isValidChild(Z,n.toLowerCase())){const ne=H.parentNode,ue=w.create(n);for(E0(e,ue),ne.insertBefore(ue,H),$=H;$&&!w.isBlock($);){const se=$.nextSibling;ue.appendChild($),$=se}o.setStart(i,c),o.setEnd(i,c)}}return i},QW=(e,n)=>{n.normalize();const o=n.lastChild;(!o||at(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},ej=(e,n)=>{const o=ei(e);return Fe(n)?!1:F(o)?It(Tt.explode(o),n.nodeName.toLowerCase()):o},SR={insert:(e,n)=>{let o,i,c,f,p=!1;const w=e.dom,x=e.schema,O=x.getNonEmptyElements(),$=e.selection.getRng(),H=ca(e),Z=ye.fromDom($.startContainer),ne=Ta(Z,$.startOffset),ue=ne.exists(vt=>bf(vt)&&!_a(vt)),se=$.collapsed&&ue,fe=(vt,Jt)=>fR(e,o,Nt,yt,JF(e),vt,Jt),Se=vt=>{const Jt=pA(vt,o,i);if(ot(o)&&(vt?Jt>0:Jt<o.data.length))return!1;if((o.parentNode===Nt||o===Nt)&&p&&!vt||vt&&at(o)&&o===Nt.firstChild)return!0;if(mA(o,"TABLE")||mA(o,"HR"))return p&&!vt||!p&&vt;const fn=new Pr(o,Nt);ot(o)&&(vt&&Jt===0?fn.prev():!vt&&Jt===o.data.length&&fn.next());let ro;for(;ro=fn.current();){if(at(ro)){if(!ro.getAttribute("data-mce-bogus")){const uo=ro.nodeName.toLowerCase();if(O[uo]&&uo!=="br")return!1}}else if(ot(ro)&&!_(ro.data))return!1;vt?fn.prev():fn.next()}return!0},Pe=()=>{let vt;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&Zt!=="HGROUP"?vt=fe(H):vt=fe(),ej(e,f)&&hA(w,f)&&w.isEmpty(Nt,void 0,{includeZwsp:!0})?vt=w.split(f,Nt):w.insertAfter(vt,Nt),Lv(e,vt),vt};Kb(w,$).each(vt=>{$.setStart(vt.startContainer,vt.startOffset),$.setEnd(vt.endContainer,vt.endOffset)}),o=$.startContainer,i=$.startOffset;const De=!!(n&&n.shiftKey),je=!!(n&&n.ctrlKey);at(o)&&o.hasChildNodes()&&!se&&(p=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,p&&ot(o)?i=o.data.length:i=0);const yt=C0(w,o);if(!yt||ha(e,o))return;De||(o=pS(e,H,$,o,i));let Nt=w.getParent(o,w.isBlock)||w.getRoot();f=he(Nt==null?void 0:Nt.parentNode)?w.getParent(Nt.parentNode,w.isBlock):null,c=Nt?Nt.nodeName.toUpperCase():"";const Zt=f?f.nodeName.toUpperCase():"";if(Zt==="LI"&&!je){const vt=f;Nt=vt,f=vt.parentNode,c=Zt}if(at(f)&&ZW(e,De,Nt))return qW(e,fe,Nt);if(/^(LI|DT|DD)$/.test(c)&&at(f)&&w.isEmpty(Nt)){GW(e,fe,f,Nt,H);return}if(!se&&(Nt===e.getBody()||!hA(w,Nt)))return;const ct=Nt.parentNode;let Ke;if(se)Ke=fe(H),ne.fold(()=>{Mr(Z,ye.fromDom(Ke))},vt=>{Mi(vt,ye.fromDom(Ke))}),e.selection.setCursorLocation(Ke,0);else if(Pg(Nt))Ke=$f(Nt),w.isEmpty(Nt)&&uA(Nt),E0(e,Ke),Lv(e,Ke);else if(Se(!1))Ke=Pe();else if(Se(!0)&&ct){const vt=lt.fromRangeStart($),Jt=s1(vt),fn=ye.fromDom(Nt),uo=Hw(fn,vt,e.schema)?g3(fn,vt,e.schema).bind(Yo=>U.from(Yo.getNode())):U.none();Ke=ct.insertBefore(fe(),Nt);const zo=mA(Nt,"HR")||Jt?Ke:uo.getOr(Nt);Lv(e,zo)}else{const vt=KW($).cloneRange();vt.setEndAfter(Nt);const Jt=vt.extractContents();zK(Jt),JW(Jt),Ke=Jt.firstChild,w.insertAfter(Jt,Nt),YW(w,O,Ke),QW(w,Nt),w.isEmpty(Nt)&&uA(Nt),Ke.normalize(),w.isEmpty(Ke)?(w.remove(Ke),Pe()):(E0(e,Ke),Lv(e,Ke))}w.setAttrib(Ke,"id",""),e.dispatch("NewBlock",{newBlock:Ke})},fakeEventName:"insertParagraph"},VK=(e,n,o)=>{const i=new Pr(n,o);let c;const f=e.getNonEmptyElements();for(;c=i.next();)if(f[c.nodeName.toLowerCase()]||ot(c)&&c.length>0)return!0;return!1},tj=(e,n,o)=>{const i=e.dom.createRng();o?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),Qb(e,i)},UK=(e,n)=>{const o=e.selection,i=e.dom,c=o.getRng();let f,p=!1;Kb(i,c).each(ne=>{c.setStart(ne.startContainer,ne.startOffset),c.setEnd(ne.endContainer,ne.endOffset)});let w=c.startOffset,x=c.startContainer;if(at(x)&&x.hasChildNodes()){const ne=w>x.childNodes.length-1;x=x.childNodes[Math.min(w,x.childNodes.length-1)]||x,ne&&ot(x)?w=x.data.length:w=0}let O=i.getParent(x,i.isBlock);const $=O&&O.parentNode?i.getParent(O.parentNode,i.isBlock):null,H=$?$.nodeName.toUpperCase():"",Z=!!(n&&n.ctrlKey);H==="LI"&&!Z&&(O=$),ot(x)&&w>=x.data.length&&(VK(e.schema,x,O||i.getRoot())||(f=i.create("br"),c.insertNode(f),c.setStartAfter(f),c.setEndAfter(f),p=!0)),f=i.create("br"),Qx(i,c,f),tj(e,f,p),e.undoManager.add()},nj=(e,n)=>{const o=ye.fromTag("br");Mi(ye.fromDom(n),o),e.undoManager.add()},oj=(e,n)=>{sj(e.getBody(),n)||pl(ye.fromDom(n),ye.fromTag("br"));const o=ye.fromTag("br");pl(ye.fromDom(n),o),tj(e,o.dom,!1),e.undoManager.add()},WK=e=>ao(e.getNode()),sj=(e,n)=>WK(lt.after(n))?!0:Ja(e,lt.after(n)).map(o=>ao(o.getNode())).getOr(!1),_u=e=>e&&e.nodeName==="A"&&"href"in e,rj=e=>e.fold(Ue,_u,_u,Ue),xR=e=>{const n=Ve(yp,e),o=lt.fromRangeStart(e.selection.getRng());return Xd(n,e.getBody(),o).filter(rj)},ij=(e,n)=>{n.fold(Oe,Ve(nj,e),Ve(oj,e),Oe)},CR={insert:(e,n)=>{const o=xR(e);o.isSome()?o.each(Ve(ij,e)):UK(e,n)},fakeEventName:"insertLineBreak"},ER=(e,n)=>cA(e).filter(o=>n.length>0&&zl(ye.fromDom(o),n)).isSome(),aj=e=>ER(e,n4(e)),lj=e=>ER(e,KF(e)),el=Hd.generate([{br:[]},{block:[]},{none:[]}]),TR=(e,n)=>lj(e),_0=e=>(n,o)=>WW(n)===e,_R=(e,n)=>(o,i)=>dR(o)===e.toUpperCase()===n,cj=e=>{const n=C0(e.dom,e.selection.getStart());return Fe(n)},k0=e=>_R("pre",e),uj=()=>_R("summary",!0),gS=e=>(n,o)=>t4(n)===e,kR=(e,n)=>aj(e),vS=(e,n)=>n,AR=e=>{const n=ca(e),o=C0(e.dom,e.selection.getStart());return he(o)&&e.schema.isValidChild(o.nodeName,n)},OR=e=>{const n=e.selection.getRng(),o=ye.fromDom(n.startContainer),c=Ta(o,n.startOffset).map(f=>bf(f)&&!_a(f));return n.collapsed&&c.getOr(!0)},Wc=(e,n)=>(o,i)=>Gs(e,(f,p)=>f&&p(o,i),!0)?U.some(n):U.none(),dj=(e,n)=>EL([Wc([TR],el.none()),Wc([k0(!0),cj],el.none()),Wc([uj()],el.br()),Wc([k0(!0),gS(!1),vS],el.br()),Wc([k0(!0),gS(!1)],el.block()),Wc([k0(!0),gS(!0),vS],el.block()),Wc([k0(!0),gS(!0)],el.br()),Wc([_0(!0),vS],el.br()),Wc([_0(!0)],el.block()),Wc([kR],el.br()),Wc([vS],el.br()),Wc([AR],el.block()),Wc([OR],el.block())],[e,!!(n&&n.shiftKey)]).getOr(el.none()),Iv=(e,n,o)=>{n.selection.isCollapsed()||Z7(n),!(he(o)&&Uc(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),he(o)&&Wp(n,e.fakeEventName))},DR=(e,n)=>{const o=()=>Iv(CR,e,n),i=()=>Iv(SR,e,n),c=dj(e,n);switch(pC(e)){case"linebreak":c.fold(o,o,Oe);break;case"block":c.fold(i,i,Oe);break;case"invert":c.fold(i,o,Oe);break;default:c.fold(o,i,Oe);break}},MR=gi(),bS=MR.os.isiOS()&&MR.browser.isSafari(),PR=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),f_(e.undoManager),e.undoManager.transact(()=>{DR(e,n)}))},gA=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(ot(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,i=n.data.charAt(e.startOffset-1);return o.test(i)}else return!1},vA=e=>{let n=U.none();const o=c=>{n=U.some(c.selection.getBookmark()),c.undoManager.add()},i=(c,f)=>{c.undoManager.undo(),n.fold(Oe,p=>c.selection.moveToBookmark(p)),PR(c,f),n=U.none()};e.on("keydown",c=>{c.keyCode===kt.ENTER&&(bS&&gA(e.selection.getRng())?o(e):PR(e,c))}),e.on("keyup",c=>{c.keyCode===kt.ENTER&&n.each(()=>i(e,c))})},NR=(e,n,o)=>{const i=Mn.os.isMacOS()||Mn.os.isiOS();u0([{keyCode:kt.END,action:Rn(hI,e,!0)},{keyCode:kt.HOME,action:Rn(hI,e,!1)},...i?[]:[{keyCode:kt.HOME,action:Rn(l0,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:kt.END,action:Rn(l0,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:kt.END,action:Rn(fU,e,!0)},{keyCode:kt.HOME,action:Rn(fU,e,!1)},{keyCode:kt.END,action:Rn(K2,e,!0,n)},{keyCode:kt.HOME,action:Rn(K2,e,!1,n)}],o).each(c=>{o.preventDefault()})},fj=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||NR(e,n,o)})},qK=e=>{e.on("input",n=>{n.isComposing||M7(e)})},yh=gi(),mj=(e,n,o)=>{u0([{keyCode:kt.PAGE_UP,action:Rn(K2,e,!1,n)},{keyCode:kt.PAGE_DOWN,action:Rn(K2,e,!0,n)}],o)},LR=e=>e.stopImmediatePropagation(),IR=e=>e.keyCode===kt.PAGE_UP||e.keyCode===kt.PAGE_DOWN,A0=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",LR,!0):!o&&e.get()&&n.off("NodeChange",LR),e.set(o)},RR=(e,n)=>{if(yh.os.isMacOS())return;const o=Ie(!1);e.on("keydown",i=>{IR(i)&&A0(o,e,!0)}),e.on("keyup",i=>{i.isDefaultPrevented()||mj(e,n,i),IR(i)&&o.get()&&(A0(o,e,!1),e.nodeChanged())})},BR=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||zn(n.getTargetRanges(),o=>!ME(e.dom,o)))&&n.preventDefault()})},$R=(e,n)=>{const o=n.container(),i=n.offset();return ot(o)?(o.insertData(i,e),U.some(lt(o,i+e.length))):nw(n).map(c=>{const f=ye.fromText(e);return n.isAtEnd()?pl(c,f):Mi(c,f),lt(f.dom,e.length)})},bA=Ve($R,Wr),FR=Ve($R," "),hj=(e,n,o)=>x3(e,n,o)?bA(n):FR(n),pj=e=>n=>n.fold(o=>kl(e.dom,lt.before(o)),o=>Oa(o),o=>pu(o),o=>Ja(e.dom,lt.after(o))),yA=(e,n,o)=>i=>x3(e,i,o)?bA(n):FR(n),yS=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},gj=(e,n)=>e.isEditable(e.getParent(n,"summary")),wA=e=>{const n=lt.fromRangeStart(e.selection.getRng()),o=ye.fromDom(e.getBody());if(e.selection.isCollapsed()){const i=Ve(yp,e),c=lt.fromRangeStart(e.selection.getRng());return Xd(i,e.getBody(),c).bind(pj(o)).map(f=>()=>yA(o,n,e.schema)(f).each(yS(e)))}else return U.none()},HR=e=>{const n=()=>{const o=ye.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const i=lt.fromRangeStart(e.selection.getRng());hj(o,i,e.schema).each(yS(e))};return ou(Mn.browser.isFirefox()&&e.selection.isEditable()&&gj(e.dom,e.selection.getRng().startContainer),n)},wS=(e,n)=>{yI([{keyCode:kt.SPACEBAR,action:Rn(wA,e)},{keyCode:kt.SPACEBAR,action:Rn(HR,e)}],n).each(o=>{n.preventDefault(),Uc(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),Wp(e,"insertText",{data:" "}))})},zR=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||wS(e,n)})},VR=e=>A6(e)?[{keyCode:kt.TAB,action:Rn(h0,e,!0)},{keyCode:kt.TAB,shiftKey:!0,action:Rn(h0,e,!1)}]:[],vj=(e,n)=>{u0([...VR(e)],n).each(o=>{n.preventDefault()})},bj=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||vj(e,n)})},SS=e=>{if(e.addShortcut("Meta+P","","mcePrint"),MW(e),jd(e))return Ie(null);{const n=M9(e);return BR(e),sU(e),Fk(e,n),VW(e,n),vA(e),zR(e),qK(e),bj(e),fj(e,n),RR(e,n),n}};class UR{constructor(n){this.lastPath=[],this.editor=n;let o;const i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const f=n.selection.getRng(),p={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(c.type==="nodechange"||!pp(p,o))&&n.dispatch("SelectionChange"),o=p}),n.on("contextmenu",()=>{e1(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&qC(n)&&!i.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&qC(n)&&(n.selection.getNode().nodeName==="IMG"?nc.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let i;if(this.editor.initialized&&o&&!Zy(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();i=o.getStart(!0)||c,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,c))&&(i=c);const f=[];this.editor.dom.getParent(i,p=>p===c?!0:(f.push(p),!1)),this.editor.dispatch("NodeChange",{...n,element:i,parents:f})}}isSameElementPath(n){let o;const i=this.editor,c=ht(i.dom.getParents(n,wt,i.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const WR=kb("image"),yj=e=>{const n=e;return U.from(n[WR])},jR=(e,n)=>{const o=e;o[WR]=n},SA=kb("event"),wj=e=>{const n=e;return U.from(n[SA])},xS=e=>n=>{const o=n;o[SA]=e},Sj=(e,n)=>xS(n)(e),ZR=xS(0),qR=xS(2),xj=xS(1),Ej=(e=>n=>{const o=n;return U.from(o[SA]).exists(i=>i===e)})(0),Tj=()=>Object.freeze({length:0,item:e=>null}),xA=kb("mode"),_j=e=>{const n=e;return U.from(n[xA])},CS=e=>n=>{const o=n;o[xA]=e},jp=(e,n)=>CS(n)(e),GR=CS(0),CA=CS(2),XR=CS(1),YR=e=>n=>{const o=n;return U.from(o[xA]).exists(i=>i===e)},Rv=YR(0),KR=YR(1),JR=(e,n)=>({...n,get length(){return n.length},add:(o,i)=>{if(Rv(e))if(F(o)){if(!Ze(i))return n.add(o,i)}else return n.add(o);return null},remove:o=>{Rv(e)&&n.remove(o)},clear:()=>{Rv(e)&&n.clear()}}),kj=["none","copy","link","move"],Aj=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],QR=()=>{const e=new window.DataTransfer;let n="move",o="all";const i={get dropEffect(){return n},set dropEffect(c){It(kj,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){Ej(i)&&It(Aj,c)&&(o=c)},get items(){return JR(i,e.items)},get files(){return KR(i)?Tj():e.files},get types(){return e.types},setDragImage:(c,f,p)=>{Rv(i)&&(jR(i,{image:c,x:f,y:p}),e.setDragImage(c,f,p))},getData:c=>KR(i)?"":e.getData(c),setData:(c,f)=>{Rv(i)&&e.setData(c,f)},clearData:c=>{Rv(i)&&e.clearData(c)}};return GR(i),i},ES=e=>{const n=QR(),o=_j(e);return CA(e),ZR(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,yj(e).each(i=>n.setDragImage(i.image,i.x,i.y)),$e(e.types,i=>{i!=="Files"&&n.setData(i,e.getData(i))}),$e(e.files,i=>n.items.add(i)),wj(e).each(i=>{Sj(n,i)}),o.each(i=>{jp(e,i),jp(n,i)}),n},Oj=e=>{const n=e.getData("text/html");return n===""?U.none():U.some(n)},e5=(e,n)=>e.setData("text/html",n),t5="x-tinymce/html",TS=_e(t5),EA="<!-- "+t5+" -->",Dj=e=>EA+e,Mj=e=>e.replace(EA,""),n5=e=>e.indexOf(EA)!==-1,Pj=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Nj=(e,n)=>{let o="<"+e;const i=lr(n,(c,f)=>f+'="'+Gu.encodeAllRaw(c)+'"');return i.length&&(o+=" "+i.join(" ")),o+">"},Lj=(e,n,o)=>{const i=e.split(/\n\n/),c=Nj(n,o),f="</"+n+">",p=nn(i,x=>x.split(/\n/).join("<br />")),w=x=>c+x+f;return p.length===1?p[0]:nn(p,w).join("")},o5="%MCEPASTEBIN%",Ij=(e,n)=>{const{dom:o,selection:i}=e,c=e.getBody();n.set(i.getRng());const f=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},o5);Mn.browser.isFirefox()&&o.setStyle(f,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(f,"beforedeactivate focusin focusout",p=>{p.stopPropagation()}),f.focus(),i.select(f,!0)},ws=(e,n)=>{const o=e.dom;if(TA(e)){let i;const c=n.get();for(;i=TA(e);)o.remove(i),o.unbind(i);c&&e.selection.setRng(c)}n.set(null)},TA=e=>e.dom.get("mcepastebin"),s5=e=>he(e)&&e.id==="mcepastebin",Rj=e=>{const n=e.dom,o=(p,w)=>{p.appendChild(w),n.remove(w,!0)},[i,...c]=hn(e.getBody().childNodes,s5);$e(c,p=>{o(i,p)});const f=n.select("div[id=mcepastebin]",i);for(let p=f.length-1;p>=0;p--){const w=n.create("div");i.insertBefore(w,f[p]),o(w,f[p])}return i?i.innerHTML:""},_S=e=>e===o5,r5=e=>{const n=Ie(null);return{create:()=>Ij(e,n),remove:()=>ws(e,n),getEl:()=>TA(e),getHtml:()=>Rj(e),getLastRng:n.get}},i5=(e,n)=>(Tt.each(n,o=>{J(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),Bj=e=>{const n=If(),o=gv({},n);let i="";const c=n.getVoidElements(),f=Tt.makeMap("script noscript style textarea video audio iframe object"," "),p=n.getBlockElements(),w=x=>{const O=x.name,$=x;if(O==="br"){i+=`
`;return}if(O!=="wbr"){if(c[O]&&(i+=" "),f[O]){i+=" ";return}if(x.type===3&&(i+=x.value),!(x.name in n.getVoidElements())){let H=x.firstChild;if(H)do w(H);while(H=H.next)}p[O]&&$.next&&(i+=`
`,O==="p"&&(i+=`
`))}};return e=i5(e,[/<!\[[^\]]+\]>/g]),w(o.parse(e)),i},_A=e=>(e=i5(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,i,c)=>!i&&!c?" ":Wr],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),kA=e=>{let n=0;return()=>e+n++},$j=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Tt.hasOwn(o,n)?"image/"+o[n]:"image/"+n},Fj=(e,n)=>{const o=gv({sanitize:Jy(e),sandbox_iframes:v4(e),sandbox_iframes_exclusions:Qy(e),convert_unsafe_embeds:M6(e)},e.schema);o.addNodeFilter("meta",c=>{Tt.each(c,f=>{f.remove()})});const i=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Xf({validate:!0},e.schema).serialize(i)},a5=(e,n)=>({content:e,cancelled:n}),l5=(e,n,o)=>{const i=e.dom.create("div",{style:"display:none"},n),c=cM(e,i,o);return a5(c.node.innerHTML,c.isDefaultPrevented())},Hj=(e,n,o)=>{const i=lM(e,n,o),c=Fj(e,i.content);return e.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?l5(e,c,o):a5(c,i.isDefaultPrevented())},zj=(e,n,o)=>Hj(e,n,o),wh=(e,n)=>(e.insertContent(n,{merge:x6(e),paste:!0}),!0),AA=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),Bv=(e,n)=>AA(n)&&zn($b(e),o=>Sa(n.toLowerCase(),`.${o.toLowerCase()}`)),O0=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),Vj=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),Uj=(e,n,o)=>!e.selection.isCollapsed()&&AA(n)?Vj(e,n,o):!1,$v=(e,n,o)=>Bv(e,n)?O0(e,n,o):!1,Wj=(e,n)=>{Tt.each([Uj,$v,wh],o=>!o(e,n,wh))},OA=(e,n,o)=>{o||!C6(e)?wh(e,n):Wj(e,n)},jj=kA("mceclip"),c5=e=>{const n=QR();return e5(n,e),CA(n),n},DA=(e,n,o,i,c)=>{const f=zj(e,n,o);if(!f.cancelled){const p=f.content,w=()=>OA(e,p,i);c?Uc(e,"insertFromPaste",{dataTransfer:c5(p)}).isDefaultPrevented()||(w(),Wp(e,"insertFromPaste")):w()}},Fv=(e,n,o,i)=>{const c=o||n5(n);DA(e,Mj(n),c,!1,i)},kS=(e,n,o)=>{const i=e.dom.encode(n).replace(/\r\n/g,`
`),c=xt(i,h4(e)),f=Lj(c,ca(e),sp(e));DA(e,f,!1,!0,o)},u5=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const i=e.types[o];try{n[i]=e.getData(i)}catch{n[i]=""}}return n},Sh=(e,n)=>n in e&&e[n].length>0,MA=e=>Sh(e,"text/html")||Sh(e,"text/plain"),Zj=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return he(o)?e.dom.encode(o[1]):void 0},d5=(e,n,o,i)=>{const c=jj(),f=Ii(e)&&he(o.name),p=f?Zj(e,o.name):c,w=f?o.name:void 0,x=n.create(c,o,i,p,w);return n.add(x),x},PA=(e,n)=>{oh(n.uri).each(({data:o,type:i,base64Encoded:c})=>{const f=c?o:btoa(o),p=n.file,w=e.editorUpload.blobCache,x=w.getByData(f,i),O=x??d5(e,w,p,f);Fv(e,`<img src="${O.blobUri()}">`,!1,!0)})},f5=e=>e.type==="paste",qj=e=>Promise.all(nn(e,n=>em(n).then(o=>({file:n,uri:o})))),Gj=e=>{const n=$b(e);return o=>es(o.type,"image/")&&zn(n,i=>$j(i)===o.type)},Xj=(e,n)=>{const o=n.items?qe(Kn(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],i=n.files?Kn(n.files):[];return hn(o.length>0?o:i,Gj(e))},NA=(e,n,o)=>{const i=f5(n)?n.clipboardData:n.dataTransfer;if(Xy(e)&&i){const c=Xj(e,i);if(c.length>0)return n.preventDefault(),qj(c).then(f=>{o&&e.selection.setRng(o),$e(f,p=>{PA(e,p)})}),!0}return!1},LA=e=>{var n,o;return Mn.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},Yj=e=>kt.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,AS=(e,n,o,i,c)=>{let f=_A(o);const p=Sh(n,TS())||n5(o),w=!p&&Pj(f),x=AA(f);(_S(f)||!f.length||w&&!x)&&(i=!0),(i||x)&&(Sh(n,"text/plain")&&w?f=n["text/plain"]:f=Bj(f)),!_S(f)&&(i?kS(e,f,c):Fv(e,f,p,c))},m5=(e,n,o)=>{let i;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",f=>{Yj(f)&&!f.isDefaultPrevented()&&(i=f.shiftKey&&f.keyCode===86)}),e.on("paste",f=>{if(f.isDefaultPrevented()||LA(f))return;const p=o.get()==="text"||i;i=!1;const w=u5(f.clipboardData);!MA(w)&&NA(e,f,c())||(Sh(w,"text/html")?(f.preventDefault(),AS(e,w,w["text/html"],p,!0)):Sh(w,"text/plain")&&Sh(w,"text/uri-list")?(f.preventDefault(),AS(e,w,w["text/plain"],p,!0)):(n.create(),nc.setEditorTimeout(e,()=>{const x=n.getHtml();n.remove(),AS(e,w,x,p,!1)},0)))})},Kj=e=>{const n=c=>es(c,"webkit-fake-url"),o=c=>es(c,"data:"),i=c=>{var f;return((f=c.data)===null||f===void 0?void 0:f.paste)===!0};e.parser.addNodeFilter("img",(c,f,p)=>{if(!Xy(e)&&i(p))for(const w of c){const x=w.attr("src");F(x)&&!w.attr("data-mce-object")&&x!==Mn.transparentSrc&&(n(x)||!Rg(e)&&o(x))&&w.remove()}})},h5=(e,n,o)=>{m5(e,n,o),Kj(e)},Jj=(e,n)=>{n.get()==="text"?(n.set("html"),Ew(e,!1)):(n.set("text"),Ew(e,!0)),e.focus()},Qj=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Jj(e,n)}),e.addCommand("mceInsertClipboardContent",(o,i)=>{i.html&&Fv(e,i.html,i.internal,!1),i.text&&kS(e,i.text,!1)})},eZ=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(TS(),n),!0}catch{return!1}else return!1},p5=(e,n,o,i)=>{eZ(e.clipboardData,n.html,n.text)?(e.preventDefault(),i()):o(n.html,i)},g5=e=>(n,o)=>{const{dom:i,selection:c}=e,f=i.create("div",{contenteditable:"false","data-mce-bogus":"all"}),p=i.create("div",{contenteditable:"true"},n);i.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(p),i.add(e.getBody(),f);const w=c.getRng();p.focus();const x=i.createRng();x.selectNodeContents(p),c.setRng(x),nc.setEditorTimeout(e,()=>{c.setRng(w),i.remove(f),o()},0)},D0=e=>({html:Dj(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),tZ=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),IA=e=>!e.selection.isCollapsed()||tZ(e),nZ=e=>n=>{!n.isDefaultPrevented()&&IA(e)&&e.selection.isEditable()&&p5(n,D0(e),g5(e),()=>{if(Mn.browser.isChromium()||Mn.browser.isFirefox()){const o=e.selection.getRng();nc.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},oZ=e=>n=>{!n.isDefaultPrevented()&&IA(e)&&p5(n,D0(e),g5(e),Oe)},v5=e=>{e.on("cut",nZ(e)),e.on("copy",oZ(e))},RA=(e,n)=>{var o,i;return qm.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(i=n.clientY)!==null&&i!==void 0?i:0,e.getDoc())},sZ=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},b5=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},rZ=e=>zn(e.files,n=>/^image\//.test(n.type)),iZ=(e,n,o,i)=>{const c=e.getParent(o,p=>_m(n,p));if(!ie(e.getParent(o,"summary")))return!0;if(c&&wn(i,"text/html")){const p=new DOMParser().parseFromString(i["text/html"],"text/html").body;return!ie(p.querySelector(c.nodeName.toLowerCase()))}else return!1},aZ=e=>{e.on("input",n=>{const o=i=>ie(i.querySelector("summary"));if(n.inputType==="deleteByDrag"){const i=hn(e.dom.select("details"),o);$e(i,c=>{ao(c.firstChild)&&c.firstChild.remove();const f=e.dom.create("summary");f.appendChild(Kh().dom),c.prepend(f)})}})},y5=(e,n)=>{g6(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),Xy(e)||e.on("drop",o=>{const i=o.dataTransfer;i&&rZ(i)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const i=RA(e,o);if(Fe(i))return;const c=u5(o.dataTransfer),f=Sh(c,TS());if((!MA(c)||sZ(c))&&NA(e,o,i))return;const p=c[TS()],w=p||c["text/html"]||c["text/plain"],x=iZ(e.dom,e.schema,i.startContainer,c),O=n.get();O&&!x||w&&(o.preventDefault(),nc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(p||O&&x)&&e.execCommand("Delete"),b5(e,i);const $=_A(w);c["text/html"]?Fv(e,$,f,!0):kS(e,$,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{Xy(e)&&!n.get()&&(o.preventDefault(),b5(e,RA(e,o))),o.type==="dragend"&&n.set(!1)}),aZ(e)},lZ=e=>{const n=c=>f=>{c(e,f)},o=v6(e);xe(o)&&e.on("PastePreProcess",n(o));const i=b6(e);xe(i)&&e.on("PastePostProcess",n(i))},cZ=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},uZ=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,w5=e=>Tt.trim(e).replace(uZ,Yu).toLowerCase(),dZ=(e,n,o)=>{const i=w6(e);if(o||i==="all"||!S6(e))return n;const c=i?i.split(/[, ]/):[];if(c&&i!=="none"){const f=e.dom,p=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(w,x,O,$)=>{const H=f.parseStyle(f.decode(O)),Z={};for(let ue=0;ue<c.length;ue++){const se=H[c[ue]];let fe=se,Se=f.getStyle(p,c[ue],!0);/color/.test(c[ue])&&(fe=w5(fe),Se=w5(Se)),Se!==fe&&(Z[c[ue]]=se)}const ne=f.serializeStyle(Z,"span");return ne?x+' style="'+ne+'"'+$:x+$})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,p,w,x)=>p+' style="'+w+'"'+x),n},fZ=e=>{(Mn.browser.isChromium()||Mn.browser.isSafari())&&cZ(e,dZ)},mZ=e=>{const n=Ie(!1),o=Ie(m4(e)?"text":"html"),i=r5(e);fZ(e),Qj(e,o),lZ(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{v5(e),y5(e,n),h5(e,i,o)})},hZ=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},S5=e=>{e.parser.addNodeFilter("details",n=>{const o=O6(e);$e(n,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=D6(e);$e(n,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})})},x5=e=>{hZ(e),S5(e)},pZ=ao,C5=ot,gZ=e=>lo(e.dom),vZ=e=>it(e.dom),E5=e=>n=>so(ye.fromDom(e),n),bZ=(e,n,o)=>Ks(ye.fromDom(e),i=>vZ(i)||o.isBlock(ho(i)),E5(n)).getOr(ye.fromDom(n)).dom,T5=(e,n)=>Ks(ye.fromDom(e),gZ,E5(n)),M0=(e,n,o)=>{const i=new Pr(e,n),c=o?i.next.bind(i):i.prev.bind(i);let f=e;for(let p=o?e:c();p&&!pZ(p);p=c())Gl(p)&&(f=p);return f},_5=(e,n,o)=>{const c=lt.fromRangeStart(e).getNode(),f=bZ(c,n,o),p=M0(c,f,!1),w=M0(c,f,!0),x=document.createRange();return T5(p,f).fold(()=>{C5(p)?x.setStart(p,0):x.setStartBefore(p)},O=>x.setStartBefore(O.dom)),T5(w,f).fold(()=>{C5(w)?x.setEnd(w,w.data.length):x.setEndAfter(w)},O=>x.setEndAfter(O.dom)),x},yZ=e=>{const n=_5(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(ys(n))},k5=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),yZ(e))})};var Zp;(function(e){e.Before="before",e.After="after"})(Zp||(Zp={}));const BA=(e,n)=>Math.abs(e.left-n),wZ=(e,n)=>Math.abs(e.right-n),A5=(e,n)=>e>=n.top&&e<=n.bottom,SZ=(e,n)=>e.top<n.bottom&&e.bottom>n.top,O5=(e,n)=>{const o=Lg(e,n)/Math.min(e.height,n.height);return SZ(e,n)&&o>.5},xZ=(e,n)=>{const o=hn(e,i=>A5(n,i));return kF(o).fold(()=>[[],e],i=>{const{pass:c,fail:f}=ar(e,p=>O5(p,i));return[c,f]})},D5=(e,n)=>({node:e.node,position:BA(e,n)<wZ(e,n)?Zp.Before:Zp.After}),CZ=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),$A=(e,n,o,i)=>{const c=H=>Gl(H.node)?U.some(H):at(H.node)?$A(Kn(H.node.childNodes),n,o,!1):U.none(),f=(H,Z,ne)=>c(Z).filter(ue=>Math.abs(ne(H,n,o)-ne(ue,n,o))<2&&ot(ue.node)),p=(H,Z)=>{const ne=qt(H,(ue,se)=>Z(ue,n,o)-Z(se,n,o));return So(ne,c).map(ue=>i&&!ot(ue.node)&&ne.length>1?f(ue,ne[1],Z).getOr(ue):ue)},[w,x]=xZ(Vc(e),o),{pass:O,fail:$}=ar(x,H=>H.top<o);return p(w,CZ).orThunk(()=>p($,DD)).orThunk(()=>p(O,DD))},EZ=(e,n,o,i)=>{const c=(f,p)=>{const w=O=>at(O)&&O.classList.contains("mce-drag-container"),x=hn(f.dom.childNodes,Ot(w));return p.fold(()=>$A(x,o,i,!0),O=>{const $=hn(x,H=>H!==O.dom);return $A($,o,i,!0)}).orThunk(()=>(so(f,e)?U.none():qa(f)).bind($=>c($,U.some(f))))};return c(n,U.none())},P0=(e,n,o)=>{const i=ye.fromDom(e),c=Vl(i),p=ye.fromPoint(c,n,o).filter(w=>Oi(i,w)).getOr(i);return EZ(i,p,n,o)},M5=(e,n,o)=>P0(e,n,o).filter(i=>zm(i.node)).map(i=>D5(i,n)),P5=e=>{var n,o;const i=e.getBoundingClientRect(),c=e.ownerDocument,f=c.documentElement,p=c.defaultView;return{top:i.top+((n=p==null?void 0:p.scrollY)!==null&&n!==void 0?n:0)-f.clientTop,left:i.left+((o=p==null?void 0:p.scrollX)!==null&&o!==void 0?o:0)-f.clientLeft}},N5=e=>e.inline?P5(e.getBody()):{left:0,top:0},TZ=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},_Z=e=>{const n=e.getBody(),o=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?i:c},kZ=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=P5(e.getContentAreaContainer()),i=_Z(e);return{left:n.pageX-o.left+i.left,top:n.pageY-o.top+i.top}}return{left:n.pageX,top:n.pageY}},AZ=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),OZ=(e,n)=>AZ(N5(e),TZ(e),kZ(e,n)),N0=e=>({target:e,srcElement:e}),L5=(e,n,o,i)=>({...n,dataTransfer:i,type:e,...N0(o)}),I5=(e,n,o)=>{const i=jt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:i,initEvent:i,preventDefault:Oe,stopImmediatePropagation:Oe,stopPropagation:Oe,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:i,initMouseEvent:i,getModifierState:i,dataTransfer:o,...N0(n)}},DZ=(e,n)=>{const o=ES(e);return n==="dragstart"?(ZR(o),GR(o)):n==="drop"?(qR(o),CA(o)):(xj(o),XR(o)),o},MZ=(e,n,o,i)=>{const c=DZ(o,e);return Ze(i)?I5(e,n,c):L5(e,i,n,c)},OS=32,GK=100,DS=8,L0=16,MS=lo,PS=AF(MS,it),PZ=(e,n,o)=>MS(o)&&o!==n&&e.isEditable(o.parentElement),NZ=(e,n,o)=>Fe(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),R5=(e,n,o,i)=>{const c=e.dom,f=n.cloneNode(!0);c.setStyles(f,{width:o,height:i}),c.setAttrib(f,"data-mce-selected",null);const p=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:i}),c.setStyles(f,{margin:0,boxSizing:"border-box"}),p.appendChild(f),p},LZ=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},Hv=(e,n)=>o=>()=>{const i=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:i+n,behavior:"smooth"})},FA=Hv("left",-OS),B5=Hv("left",OS),$5=Hv("top",-OS),HA=Hv("top",OS),IZ=(e,n,o,i,c,f,p,w,x,O,$,H)=>{let Z=0,ne=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(Z=n.pageX+o-c),n.pageY+i>f&&(ne=n.pageY+i-f),e.style.width=o-Z+"px",e.style.height=i-ne+"px";const ue=x.clientHeight,se=x.clientWidth,fe=p+x.getBoundingClientRect().top,Se=w+x.getBoundingClientRect().left;$.on(Pe=>{Pe.intervalId.clear(),Pe.dragging&&H&&(p+DS>=ue?Pe.intervalId.set(HA(O)):p-DS<=0?Pe.intervalId.set($5(O)):w+DS>=se?Pe.intervalId.set(B5(O)):w-DS<=0?Pe.intervalId.set(FA(O)):fe+L0>=window.innerHeight?Pe.intervalId.set(HA(window)):fe-L0<=0?Pe.intervalId.set($5(window)):Se+L0>=window.innerWidth?Pe.intervalId.set(B5(window)):Se-L0<=0&&Pe.intervalId.set(FA(window)))})},RZ=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},BZ=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);RZ(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&Ac(ye.fromDom(o))},$Z=e=>e.button===0,FZ=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),F5=(e,n)=>o=>{if($Z(o)){const i=oe(n.dom.getParents(o.target),PS).getOr(null);if(he(i)&&PZ(n.dom,n.getBody(),i)){const c=n.dom.getPos(i),f=n.getBody(),p=n.getDoc().documentElement;e.set({element:i,dataTransfer:QR(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?f.scrollWidth:p.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:p.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:i.offsetWidth,height:i.offsetHeight,ghost:R5(n,i,i.offsetWidth,i.offsetHeight),intervalId:vg(GK)})}}},HZ=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),M5(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),i=>{const c=e._selectionOverrides.showCaret(1,i.node,i.position===Zp.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},zv=(e,n,o,i,c)=>{n==="dragstart"&&e5(i,e.dom.getOuterHTML(o));const f=MZ(n,o,i,c);return e.dispatch(n,f)},zZ=(e,n)=>{const o=Eb((c,f)=>HZ(n,c,f),0);n.on("remove",o.cancel);const i=e;return c=>e.on(f=>{const p=Math.max(Math.abs(c.screenX-f.screenX),Math.abs(c.screenY-f.screenY));if(!f.dragging&&p>10){const w=zv(n,"dragstart",f.element,f.dataTransfer,c);if(he(w.dataTransfer)&&(f.dataTransfer=w.dataTransfer),w.isDefaultPrevented())return;f.dragging=!0,n.focus()}if(f.dragging){const w=c.currentTarget===n.getDoc().documentElement,x=FZ(f,OZ(n,c));LZ(f.ghost,n.getBody()),IZ(f.ghost,x,f.width,f.height,f.maxX,f.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),i,w),o.throttle(c.clientX,c.clientY)}})},VZ=e=>{const n=e.getSel();if(he(n)){const i=n.getRangeAt(0).startContainer;return ot(i)?i.parentNode:i}else return null},UZ=(e,n)=>o=>{e.on(i=>{var c;if(i.intervalId.clear(),i.dragging){if(NZ(n,VZ(n.selection),i.element)){const f=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();zv(n,"drop",f,i.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{BZ(n.dom,i.element),Oj(i.dataTransfer).each(w=>n.insertContent(w)),n._selectionOverrides.hideFakeCaret()})}zv(n,"dragend",n.getBody(),i.dataTransfer,o)}}),zA(e)},H5=(e,n,o)=>{e.on(i=>{i.intervalId.clear(),i.dragging&&o.fold(()=>zv(n,"dragend",i.element,i.dataTransfer),c=>zv(n,"dragend",i.element,i.dataTransfer,c))}),zA(e)},WZ=(e,n)=>o=>H5(e,n,U.some(o)),zA=e=>{e.on(n=>{n.intervalId.clear(),RZ(n.ghost)}),e.clear()},XK=e=>{const n=Xi(),o=Fs.DOM,i=document,c=F5(n,e),f=zZ(n,e),p=UZ(n,e),w=WZ(n,e);e.on("mousedown",c),e.on("mousemove",f),e.on("mouseup",p),o.bind(i,"mousemove",f),o.bind(i,"mouseup",w),e.on("remove",()=>{o.unbind(i,"mousemove",f),o.unbind(i,"mouseup",w)}),e.on("keydown",x=>{x.keyCode===kt.ESC&&H5(n,e,U.none())})},jZ=e=>{const n=c=>{if(!c.isDefaultPrevented()){const f=c.dataTransfer;f&&(It(f.types,"Files")||f.files.length>0)&&(c.preventDefault(),c.type==="drop"&&H1(e,"Dropped file type is not supported"))}},o=c=>{Lw(e,c.target)&&n(c)},i=()=>{const c=Fs.DOM,f=e.dom,p=document,w=e.inline?e.getBody():e.getDoc(),x=["drop","dragover"];$e(x,O=>{c.bind(p,O,o),f.bind(w,O,n)}),e.on("remove",()=>{$e(x,O=>{c.unbind(p,O,o),f.unbind(w,O,n)})})};e.on("init",()=>{nc.setEditorTimeout(e,i,0)})},z5=e=>{XK(e),f4(e)&&jZ(e)},ZZ=e=>{const n=Eb(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const i=_v(e,o,!1);e.selection.setRng(i)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},VA=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(fr(o)){const i=Qm(e.getBody(),o),c=lo(i)?i:o;e.selection.getNode()!==c&&Tv(e,c).each(f=>e.selection.setRng(f))}})})},I0=lo,V5=(e,n)=>Qm(e.getBody(),n),qZ=e=>{const n=e.selection,o=e.dom,i=e.getBody(),c=F6(e,i,o.isBlock,()=>Gf(e)),f="sel-"+o.uniqueId(),p="data-mce-selected";let w;const x=Zt=>he(Zt)&&o.hasClass(Zt,"mce-offscreen-selection"),O=Zt=>Zt!==i&&(I0(Zt)||fr(Zt))&&o.isChildOf(Zt,i)&&o.isEditable(Zt.parentNode),$=Zt=>{Zt&&n.setRng(Zt)},H=(Zt,ct,Ke,vt=!0)=>e.dispatch("ShowCaret",{target:ct,direction:Zt,before:Ke}).isDefaultPrevented()?null:(vt&&n.scrollIntoView(ct,Zt===-1),c.show(Ke,ct)),Z=Zt=>{Zt.hasAttribute("data-mce-caret")&&($f(Zt),n.scrollIntoView(Zt))},ne=()=>{e.on("click",ct=>{o.isEditable(ct.target)||(ct.preventDefault(),e.focus())}),e.on("blur NewBlock",je),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",ct=>{const Ke=ct.target,vt=V5(e,Ke);I0(vt)?(ct.preventDefault(),Tv(e,vt).each(De)):O(Ke)&&Tv(e,Ke).each(De)},!0),e.on("mousedown",ct=>{const Ke=ct.target;if(Ke!==i&&Ke.nodeName!=="HTML"&&!o.isChildOf(Ke,i)||!pV(e,ct.clientX,ct.clientY))return;je(),Nt();const vt=V5(e,Ke);I0(vt)?(ct.preventDefault(),Tv(e,vt).each(De)):M5(i,ct.clientX,ct.clientY).each(Jt=>{ct.preventDefault();const fn=H(1,Jt.node,Jt.position===Zp.Before,!1);$(fn),Tn(vt)?vt.focus():e.getBody().focus()})}),e.on("keypress",ct=>{kt.modifierPressed(ct)||I0(n.getNode())&&ct.preventDefault()}),e.on("GetSelectionRange",ct=>{let Ke=ct.range;if(w){if(!w.parentNode){w=null;return}Ke=Ke.cloneRange(),Ke.selectNode(w),ct.range=Ke}}),e.on("SetSelectionRange",ct=>{ct.range=fe(ct.range);const Ke=De(ct.range,ct.forward);Ke&&(ct.range=Ke)});const Zt=ct=>at(ct)&&ct.id==="mcepastebin";e.on("AfterSetSelectionRange",ct=>{const Ke=ct.range,vt=Ke.startContainer.parentElement;!se(Ke)&&!Zt(vt)&&Nt(),x(vt)||je()}),z5(e),ZZ(e),VA(e)},ue=Zt=>El(Zt)||Qh(Zt)||Eo(Zt),se=Zt=>ue(Zt.startContainer)||ue(Zt.endContainer),fe=Zt=>{const ct=e.schema.getVoidElements(),Ke=o.createRng(),vt=Zt.startContainer,Jt=Zt.startOffset,fn=Zt.endContainer,ro=Zt.endOffset;return wn(ct,vt.nodeName.toLowerCase())?Jt===0?Ke.setStartBefore(vt):Ke.setStartAfter(vt):Ke.setStart(vt,Jt),wn(ct,fn.nodeName.toLowerCase())?ro===0?Ke.setEndBefore(fn):Ke.setEndAfter(fn):Ke.setEnd(fn,ro),Ke},Se=(Zt,ct)=>{const Ke=ye.fromDom(e.getBody()),vt=e.getDoc(),Jt=un(Ke,"#"+f).getOrThunk(()=>{const uo=ye.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',vt);return zr(uo,"id",f),Mr(Ke,uo),uo}),fn=o.createRng();Dd(Jt),ka(Jt,[ye.fromText(Wr,vt),ye.fromDom(ct),ye.fromText(Wr,vt)]),fn.setStart(Jt.dom.firstChild,1),fn.setEnd(Jt.dom.lastChild,0),Xn(Jt,{top:o.getPos(Zt,e.getBody()).y+"px"}),Kg(Jt);const ro=n.getSel();return ro&&(ro.removeAllRanges(),ro.addRange(fn)),fn},Pe=Zt=>{const ct=Zt.cloneNode(!0),Ke=e.dispatch("ObjectSelected",{target:Zt,targetClone:ct});if(Ke.isDefaultPrevented())return null;const vt=Se(Zt,Ke.targetClone),Jt=ye.fromDom(Zt);return $e(Zi(ye.fromDom(e.getBody()),`*[${p}]`),fn=>{so(Jt,fn)||Ur(fn,p)}),o.getAttrib(Zt,p)||Zt.setAttribute(p,"1"),w=Zt,Nt(),vt},De=(Zt,ct)=>{if(!Zt)return null;if(Zt.collapsed){if(!se(Zt)){const fn=ct?1:-1,ro=Vb(fn,i,Zt),uo=ro.getNode(!ct);if(he(uo)){if(zm(uo))return H(fn,uo,ct?!ro.isAtEnd():!1,!1);if(Bf(uo)&&lo(uo.nextSibling)){const Yo=o.createRng();return Yo.setStart(uo,0),Yo.setEnd(uo,0),Yo}}const zo=ro.getNode(ct);if(he(zo)){if(zm(zo))return H(fn,zo,ct?!1:!ro.isAtEnd(),!1);if(Bf(zo)&&lo(zo.previousSibling)){const Yo=o.createRng();return Yo.setStart(zo,1),Yo.setEnd(zo,1),Yo}}}return null}let Ke=Zt.startContainer,vt=Zt.startOffset;const Jt=Zt.endOffset;if(ot(Ke)&&vt===0&&I0(Ke.parentNode)&&(Ke=Ke.parentNode,vt=o.nodeIndex(Ke),Ke=Ke.parentNode),!at(Ke))return null;if(Jt===vt+1&&Ke===Zt.endContainer){const fn=Ke.childNodes[vt];if(O(fn))return Pe(fn)}return null},je=()=>{w&&w.removeAttribute(p),un(ye.fromDom(e.getBody()),"#"+f).each(ms),w=null},yt=()=>{c.destroy(),w=null},Nt=()=>{c.hide()};return jd(e)||ne(),{showCaret:H,showBlockCaretContainer:Z,hideFakeCaret:Nt,destroy:yt}},U5=(e,n)=>{let o=n;for(let i=e.previousSibling;ot(i);i=i.previousSibling)o+=i.data.length;return o},R0=(e,n,o,i,c)=>{if(ot(o)&&(i<0||i>o.data.length))return[];const f=c&&ot(o)?[U5(o,i)]:[i];let p=o;for(;p!==n&&p.parentNode;)f.push(e.nodeIndex(p,c)),p=p.parentNode;return p===n?f.reverse():[]},NS=(e,n,o,i,c,f,p=!1)=>{const w=R0(e,n,o,i,p),x=R0(e,n,c,f,p);return{start:w,end:x}},UA=(e,n)=>{const o=n.slice(),i=o.pop();return Be(i)?Gs(o,(f,p)=>f.bind(w=>U.from(w.childNodes[p])),U.some(e)).bind(f=>ot(f)&&(i<0||i>f.data.length)?U.none():U.some({node:f,offset:i})):U.none()},W5=(e,n)=>UA(e,n.start).bind(({node:o,offset:i})=>UA(e,n.end).map(({node:c,offset:f})=>{const p=document.createRange();return p.setStart(o,i),p.setEnd(c,f),p})),GZ=(e,n,o,i=!1)=>NS(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,i),qp=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const i=n.parentNode;e.remove(n,ot(n.firstChild)&&_(n.firstChild.data)),qp(e,i,o)}},LS=(e,n,o,i=!0)=>{const c=n.startContainer.parentNode,f=n.endContainer.parentNode;n.deleteContents(),i&&!o(n.startContainer)&&(ot(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),ot(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),qp(e,c,o),c!==f&&qp(e,f,o))},IS=(e,n)=>U.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),WA=(e,n,o)=>{const i=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:uC(i).concat(e.blockPatterns),inlinePatterns:JD(i).concat(e.inlinePatterns)}},B0=(e,n,o,i)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,i),c.toString()},j5=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),RS=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},Z5=(e,n,o)=>{const i=W5(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=i.startContainer,f=i.endContainer,p=i.endOffset===0?f:f.splitText(i.endOffset),w=i.startOffset===0?c:c.splitText(i.startOffset),x=w.parentNode,O=p.parentNode;return{prefix:n,end:O.insertBefore(j5(e,n+"-end"),p),start:x.insertBefore(j5(e,n+"-start"),w)}},q5=(e,n,o)=>{qp(e,e.get(n.prefix+"-end"),o),qp(e,e.get(n.prefix+"-start"),o)},jA=e=>e.start.length===0,XZ=e=>(n,o)=>{const c=n.data.substring(0,o),f=c.lastIndexOf(e.charAt(e.length-1)),p=c.lastIndexOf(e);return p!==-1?p+e.length:f!==-1?f+1:-1},ZA=(e,n,o,i)=>{const c=n.start;return Vk(e,i.container,i.offset,XZ(c),o).bind(p=>{var w,x;const O=(x=(w=o.textContent)===null||w===void 0?void 0:w.indexOf(c))!==null&&x!==void 0?x:-1;if(O!==-1&&p.offset>=O+c.length){const H=e.createRng();return H.setStart(p.container,p.offset-c.length),H.setEnd(p.container,p.offset),U.some(H)}else{const H=p.offset-c.length;return zk(p.container,H,o).map(Z=>{const ne=e.createRng();return ne.setStart(Z.container,Z.offset),ne.setEnd(p.container,p.offset),ne}).filter(Z=>Z.toString()===c).orThunk(()=>ZA(e,n,o,Tu(p.container,0)))}})},G5=(e,n,o,i,c,f=!1)=>{if(n.start.length===0&&!f){const p=e.createRng();return p.setStart(o,i),p.setEnd(o,i),U.some(p)}return Hk(o,i,c).bind(p=>ZA(e,n,c,p).bind(x=>{var O;if(f){if(x.endContainer===p.container&&x.endOffset===p.offset)return U.none();if(p.offset===0&&((O=x.endContainer.textContent)===null||O===void 0?void 0:O.length)===x.endOffset)return U.none()}return U.some(x)}))},qA=(e,n,o,i)=>{const c=e.dom,f=c.getRoot(),p=o.pattern,w=o.position.container,x=o.position.offset;return zk(w,x-o.pattern.end.length,n).bind(O=>{const $=NS(c,f,O.container,O.offset,w,x,i);if(jA(p))return U.some({matches:[{pattern:p,startRng:$,endRng:$}],position:O});{const H=Vv(e,o.remainingPatterns,O.container,O.offset,n,i),Z=H.getOr({matches:[],position:O}),ne=Z.position;return G5(c,p,ne.container,ne.offset,n,H.isNone()).map(se=>{const fe=GZ(c,f,se,i);return{matches:Z.matches.concat([{pattern:p,startRng:fe,endRng:$}]),position:Tu(se.startContainer,se.startOffset)}})}})},Vv=(e,n,o,i,c,f)=>{const p=e.dom;return Hk(o,i,p.getRoot()).bind(w=>{const x=B0(p,c,o,i);for(let O=0;O<n.length;O++){const $=n[O];if(!Sa(x,$.end))continue;const H=n.slice();H.splice(O,1);const Z=qA(e,c,{pattern:$,remainingPatterns:H,position:w},f);if(Z.isNone()&&i>0)return Vv(e,n,o,i-1,c,f);if(Z.isSome())return Z}return U.none()})},X5=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?$e(n.format,i=>{e.formatter.apply(i)}):e.execCommand(n.cmd,!1,n.value)},GA=(e,n,o,i)=>{const c=RS(e.dom,o);LS(e.dom,c,i),X5(e,n,c)},YZ=(e,n,o,i,c)=>{const f=e.dom,p=RS(f,i),w=RS(f,o);LS(f,w,c),LS(f,p,c);const x={prefix:o.prefix,start:o.end,end:i.start},O=RS(f,x);X5(e,n,O)},KZ=(e,n)=>{const o=kb("mce_textpattern"),i=Gr(n,(c,f)=>{const p=Z5(e,o+`_end${c.length}`,f.endRng);return c.concat([{...f,endMarker:p}])},[]);return Gr(i,(c,f)=>{const p=i.length-c.length-1,w=jA(f.pattern)?f.endMarker:Z5(e,o+`_start${p}`,f.startRng);return c.concat([{...f,startMarker:w}])},[])},Y5=e=>qt(e,(n,o)=>o.end.length-n.end.length),JZ=(e,n)=>{const o=bt(e,i=>zn(n,c=>i.pattern.start===c.pattern.start&&i.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},K5=(e,n,o,i,c,f)=>{const p=Vv(e,c.inlinePatterns,o,i,n,f).fold(()=>[],x=>x.matches),w=Vv(e,Y5(c.inlinePatterns),o,i,n,f).fold(()=>[],x=>x.matches);return JZ(p,w)},J5=(e,n)=>{if(n.length===0)return;const o=e.dom,i=e.selection.getBookmark(),c=KZ(o,n);$e(c,f=>{const p=o.getParent(f.startMarker.start,o.isBlock),w=x=>x===p;jA(f.pattern)?GA(e,f.pattern,f.endMarker,w):YZ(e,f.pattern,f.startMarker,f.endMarker,w),q5(o,f.endMarker,w),q5(o,f.startMarker,w)}),e.selection.moveToBookmark(i)},Q5=(e,n,o)=>BU(n,0,n).map(i=>{const c=i.container;return v0(c,o.start.length,n).each(f=>{const p=e.createRng();p.setStart(c,0),p.setEnd(f.container,f.offset),LS(e,p,w=>w===n)}),c}),eB=e=>(n,o)=>{const i=n.dom,c=o.pattern,f=W5(i.getRoot(),o.range).getOrDie("Unable to resolve path range"),p=(w,x)=>{const O=x.get(w);return ze(O)&&kn(O).exists($=>wn($,"block"))};return IS(n,f).each(w=>{c.type==="block-format"?p(c.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,w,c),n.formatter.apply(c.format)}):c.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,w,c),n.execCommand(c.cmd,!1,c.value)})}),!0},QZ=e=>qt(e,(n,o)=>o.start.length-n.start.length),tB=e=>(n,o)=>{const i=QZ(n),c=o.replace(Wr," ");return oe(i,f=>e(f,o,c))},XA=(e,n)=>(o,i,c,f,p)=>{var w;p===void 0&&(p=(w=i.textContent)!==null&&w!==void 0?w:"");const x=o.dom,O=ca(o);return x.is(i,O)?e(c.blockPatterns,p).map($=>n&&Tt.trim(p).length===$.start.length?[]:[{pattern:$,range:NS(x,x.getRoot(),i,0,i,0,f)}]).getOr([]):[]},eq=e=>/^\s[^\s]/.test(e),tq=eB((e,n,o)=>{Q5(e,n,o).each(i=>{const c=ye.fromDom(i),f=Dm(c);eq(f)&&Ux(c,f.slice(1))})}),nq=tB((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),oq=XA(nq,!0),sq=(e,n)=>{const o=e.selection.getRng();return IS(e,o).map(i=>{var c;const f=Math.max(0,o.startOffset),p=WA(n,i,(c=i.textContent)!==null&&c!==void 0?c:""),w=K5(e,i,o.startContainer,f,p,!0),x=oq(e,i,p,!0);return{inlineMatches:w,blockMatches:x}}).filter(({inlineMatches:i,blockMatches:c})=>c.length>0||i.length>0)},rq=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();$e(n,i=>tq(e,i)),e.selection.moveToBookmark(o)},iq=eB(Q5),BS=tB((e,n,o)=>n===e.start||o===e.start),aq=XA(BS,!1),lq=(e,n)=>{const o=e.selection.getRng();return IS(e,o).map(i=>{const c=Math.max(0,o.startOffset),f=B0(e.dom,i,o.startContainer,c),p=WA(n,i,f);return aq(e,i,p,!1,f)}).filter(i=>i.length>0)},cq=(e,n)=>{$e(n,o=>iq(e,o))},uq=(e,n)=>sq(e,n).fold(Ue,({inlineMatches:o,blockMatches:i})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{SF(e),J5(e,o),rq(e,i);const c=e.selection.getRng(),f=Hk(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),f.each(p=>{const w=p.container;w.data.charAt(p.offset-1)===Md&&(w.deleteData(p.offset-1,1),qp(e.dom,w.parentNode,x=>x===e.dom.getRoot()))})}),!0)),dq=(e,n)=>{const o=e.selection.getRng();IS(e,o).map(i=>{const c=Math.max(0,o.startOffset-1),f=B0(e.dom,i,o.startContainer,c),p=WA(n,i,f),w=K5(e,i,o.startContainer,c,p,!1);w.length>0&&e.undoManager.transact(()=>{J5(e,w)})})},fq=(e,n)=>lq(e,n).fold(Ue,o=>(e.undoManager.transact(()=>{cq(e,o)}),!0)),oB=(e,n,o)=>{for(let i=0;i<e.length;i++)if(o(e[i],n))return!0;return!1},mq=(e,n)=>oB(e,n,(o,i)=>o===i.keyCode&&!kt.modifierPressed(i)),hq=(e,n)=>oB(e,n,(o,i)=>o.charCodeAt(0)===i.charCode),sB=e=>{const n=[",",".",";",":","!","?"],o=[32],i=()=>op(p4(e).filter(p=>p.type==="inline-command"||p.type==="block-command"?e.queryCommandSupported(p.cmd):!0),E6(e)),c=()=>zf(e);e.on("keydown",p=>{if(p.keyCode===13&&!kt.modifierPressed(p)&&e.selection.isCollapsed()){const w=yi(i(),"enter");(w.inlinePatterns.length>0||w.blockPatterns.length>0||c())&&uq(e,w)&&p.preventDefault()}},!0),e.on("keydown",p=>{if(p.keyCode===32&&e.selection.isCollapsed()){const w=yi(i(),"space");(w.blockPatterns.length>0||c())&&fq(e,w)&&p.preventDefault()}},!0);const f=()=>{if(e.selection.isCollapsed()){const p=yi(i(),"space");(p.inlinePatterns.length>0||c())&&dq(e,p)}};e.on("keyup",p=>{mq(o,p)&&f()}),e.on("keypress",p=>{hq(n,p)&&nc.setEditorTimeout(e,f)})},pq=e=>{sB(e)},rB=e=>{const n=Tt.each,o=kt.BACKSPACE,i=kt.DELETE,c=e.dom,f=e.selection,p=e.parser,w=Mn.browser,x=w.isFirefox(),O=w.isChromium()||w.isSafari(),$=Mn.deviceType.isiPhone()||Mn.deviceType.isiPad(),H=Mn.os.isMacOS()||Mn.os.isiOS(),Z=(Vt,yn)=>{try{e.getDoc().execCommand(Vt,!1,String(yn))}catch{}},ne=Vt=>Vt.isDefaultPrevented(),ue=()=>{const Vt=to=>{const Ut=c.create("body"),no=to.cloneContents();return Ut.appendChild(no),f.serializer.serialize(Ut,{format:"html"})},yn=to=>{const Ut=Vt(to),no=c.createRng();no.selectNode(e.getBody());const fo=Vt(no);return Ut===fo};e.on("keydown",to=>{const Ut=to.keyCode;if(!ne(to)&&(Ut===i||Ut===o)&&e.selection.isEditable()){const no=e.selection.isCollapsed(),fo=e.getBody();if(no&&!fu(e.schema,fo)||!no&&!yn(e.selection.getRng()))return;to.preventDefault(),e.setContent(""),fo.firstChild&&c.isBlock(fo.firstChild)?e.selection.setCursorLocation(fo.firstChild,0):e.selection.setCursorLocation(fo,0),e.nodeChanged()}})},se=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},fe=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",Vt=>{let yn;if(Vt.target===e.getDoc().documentElement)if(yn=f.getRng(),e.getBody().focus(),Vt.type==="mousedown"){if(El(yn.startContainer))return;f.placeCaretAt(Vt.clientX,Vt.clientY)}else f.setRng(yn)})},Se=()=>{e.on("keydown",Vt=>{if(!ne(Vt)&&Vt.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const yn=f.getNode(),to=yn.previousSibling;if(yn.nodeName==="HR"){c.remove(yn),Vt.preventDefault();return}to&&to.nodeName&&to.nodeName.toLowerCase()==="hr"&&(c.remove(to),Vt.preventDefault())}}})},Pe=()=>{Range.prototype.getClientRects||e.on("mousedown",Vt=>{if(!ne(Vt)&&Vt.target.nodeName==="HTML"){const yn=e.getBody();yn.blur(),nc.setEditorTimeout(e,()=>{yn.focus()})}})},De=()=>{const Vt=CC(e);e.on("click",yn=>{const to=yn.target;/^(IMG|HR)$/.test(to.nodeName)&&c.isEditable(to)&&(yn.preventDefault(),e.selection.select(to),e.nodeChanged()),to.nodeName==="A"&&c.hasClass(to,Vt)&&to.childNodes.length===0&&c.isEditable(to.parentNode)&&(yn.preventDefault(),f.select(to))})},je=()=>{const Vt=()=>{const to=c.getAttribs(f.getStart().cloneNode(!1));return()=>{const Ut=f.getStart();Ut!==e.getBody()&&(c.setAttrib(Ut,"style",null),n(to,no=>{Ut.setAttributeNode(no.cloneNode(!0))}))}},yn=()=>!f.isCollapsed()&&c.getParent(f.getStart(),c.isBlock)!==c.getParent(f.getEnd(),c.isBlock);e.on("keypress",to=>{let Ut;return!ne(to)&&(to.keyCode===8||to.keyCode===46)&&yn()?(Ut=Vt(),e.getDoc().execCommand("delete",!1),Ut(),to.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",to=>{if(!ne(to)&&yn()){const Ut=Vt();nc.setEditorTimeout(e,()=>{Ut()})}})},yt=()=>{e.on("keydown",Vt=>{if(!ne(Vt)&&Vt.keyCode===o&&f.isCollapsed()&&f.getRng().startOffset===0){const yn=f.getNode().previousSibling;if(yn&&yn.nodeName&&yn.nodeName.toLowerCase()==="table")return Vt.preventDefault(),!1}return!0})},Nt=()=>{e.on("keydown",Vt=>{if(ne(Vt)||Vt.keyCode!==kt.BACKSPACE)return;let yn=f.getRng();const to=yn.startContainer,Ut=yn.startOffset,no=c.getRoot();let fo=to;if(!(!yn.collapsed||Ut!==0)){for(;fo.parentNode&&fo.parentNode.firstChild===fo&&fo.parentNode!==no;)fo=fo.parentNode;fo.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,fo),yn=c.createRng(),yn.setStart(to,0),yn.setEnd(to,0),f.setRng(yn))}})},Zt=()=>{const Vt=()=>{Z("StyleWithCSS",!1),Z("enableInlineTableEditing",!1),Oc(e)||Z("enableObjectResizing",!1)};u4(e)||e.on("BeforeExecCommand mousedown",Vt)},ct=()=>{const Vt=()=>{n(c.select("a:not([data-mce-block])"),yn=>{var to;let Ut=yn.parentNode;const no=c.getRoot();if((Ut==null?void 0:Ut.lastChild)===yn){for(;Ut&&!c.isBlock(Ut);){if(((to=Ut.parentNode)===null||to===void 0?void 0:to.lastChild)!==Ut||Ut===no)return;Ut=Ut.parentNode}c.add(Ut,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",yn=>{(yn.type==="setcontent"||yn.command==="mceInsertLink")&&Vt()})},Ke=()=>{e.on("init",()=>{Z("DefaultParagraphSeparator",ca(e))})},vt=Vt=>{const yn=Vt.getBody(),to=Vt.selection.getRng();return to.startContainer===to.endContainer&&to.startContainer===yn&&to.startOffset===0&&to.endOffset===yn.childNodes.length},Jt=()=>{e.on("keyup focusin mouseup",Vt=>{!kt.modifierPressed(Vt)&&!vt(e)&&f.normalize()},!0)},fn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ro=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},uo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Vt=>{let yn;Vt.target.nodeName==="HTML"&&(yn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(yn),e.selection.normalize(),e.nodeChanged())}))},zo=()=>{H&&e.on("keydown",Vt=>{kt.metaKeyPressed(Vt)&&!Vt.shiftKey&&(Vt.keyCode===37||Vt.keyCode===39)&&(Vt.preventDefault(),e.selection.getSel().modify("move",Vt.keyCode===37?"backward":"forward","lineboundary"))})},Yo=()=>{e.on("click",Vt=>{let yn=Vt.target;do if(yn.tagName==="A"){Vt.preventDefault();return}while(yn=yn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},or=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Vt=>{Vt.preventDefault()})})},Ir=()=>{p.addNodeFilter("br",Vt=>{let yn=Vt.length;for(;yn--;)Vt[yn].attr("class")==="Apple-interchange-newline"&&Vt[yn].remove()})},ss=Oe,Rt=()=>{if(!x||e.removed)return!1;const Vt=e.selection.getSel();return!Vt||!Vt.rangeCount||Vt.rangeCount===0},ln=()=>{O&&(fe(),De(),or(),se(),$&&(ro(),uo(),Yo())),x&&(Pe(),Zt(),fn(),zo())},Mo=()=>{Nt(),ue(),Mn.windowsPhone||Jt(),O&&(fe(),De(),Ke(),or(),yt(),Ir(),$?(ro(),uo(),Yo()):se()),x&&(Se(),Pe(),je(),Zt(),ct(),fn(),zo(),yt())};return jd(e)?ln():Mo(),{refreshContentEditable:ss,isHidden:Rt}},gq=e=>e.toLowerCase()==="gpl",vq=e=>e.length>=64&&e.length<=255,iB=e=>gq(e)||vq(e)?"VALID":"INVALID",$0=e=>{const n=P6(e);!F(b4(e))&&(Ze(n)||iB(n)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},YA=Fs.DOM,aB=(e,n)=>{const o=ye.fromDom(e.getBody()),i=Tf(Wl(o)),c=ye.fromTag("style");zr(c,"type","text/css"),Mr(c,ye.fromText(n)),Mr(i,c),e.on("remove",()=>{ms(c)})},bq=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,KA=e=>Ys(e,n=>Ze(n)===!1),lB=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return KA({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:bq(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:Qy(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},cB=e=>{const n=e.options.get;return KA({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},uB=e=>{const n=e.options.get;return{...lB(e),...cB(e),...KA({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},yq=e=>{const n=gv(lB(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,i)=>{const c=e.dom,f="data-mce-"+i;let p=o.length;for(;p--;){const w=o[p];let x=w.attr(i);if(x&&!w.attr(f)){if(x.indexOf("data:")===0||x.indexOf("blob:")===0)continue;i==="style"?(x=c.serializeStyle(c.parseStyle(x),w.name),x.length||(x=null),w.attr(f,x),w.attr(i,x)):i==="tabindex"?(w.attr(f,x),w.attr(i,null)):w.attr(f,e.convertURL(x,i,w.name))}}}),n.addNodeFilter("script",o=>{let i=o.length;for(;i--;){const c=o[i],f=c.attr("type")||"no/type";f.indexOf("mce-")!==0&&c.attr("type","mce-"+f)}}),Yy(e)&&n.addNodeFilter("#cdata",o=>{var i;let c=o.length;for(;c--;){const f=o[c];f.type=8,f.name="#comment",f.value="[CDATA["+e.dom.encode((i=f.value)!==null&&i!==void 0?i:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let i=o.length;const c=e.schema.getNonEmptyElements();for(;i--;){const f=o[i];f.isEmpty(c)&&f.getAll("br").length===0&&f.append(new Va("br",1))}}),n},dB=e=>{const n=m6(e);n&&nc.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},wq=e=>{const n=e.dom.getRoot();!e.inline&&(!qC(e)||e.selection.getStart(!0)===n)&&Oa(n).each(o=>{const i=o.getNode(),c=hs(i)?Oa(i).getOr(o):o;e.selection.setRng(c.toRange())})},Sq=e=>{e.bindPendingEventDelegates(),e.initialized=!0,bH(e),e.focus(!0),wq(e),e.nodeChanged({initial:!0});const n=d6(e);xe(n)&&n.call(e,e),dB(e)},JA=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,xq=(e,n,o)=>{const{pass:i,fail:c}=ar(n,w=>tinymce.Resource.has(U1(w))),p=[...i.map(w=>{const x=tinymce.Resource.get(U1(w));return F(x)?Promise.resolve(JA(e).loadRawCss(w,x)):Promise.resolve()}),JA(e).loadAll(c)];return e.inline?p:p.concat([e.ui.styleSheetLoader.loadAll(o)])},fB=e=>{const n=JA(e),o=Ka(e),i=e.contentCSS,c=()=>{n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(o)},f=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let x="";Tt.each(e.contentStyles,O=>{x+=O+`\r
`}),e.dom.addStyle(x)}const p=Promise.all(xq(e,i,o)).then(f).catch(f),w=e6(e);return w&&aB(e,w),p},Cq=e=>{const n=e.getDoc(),o=e.getBody();iM(e),h6(e)||(n.body.spellcheck=!1,YA.setAttrib(o,"spellcheck","false")),e.quirks=rB(e),aM(e);const i=qY(e);i!==void 0&&(o.dir=i);const c=p6(e);c&&e.on("BeforeSetContent",f=>{Tt.each(c,p=>{f.content=f.content.replace(p,w=>"<!--mce:protected "+escape(w)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",f=>{e.composing=f.type==="compositionstart"})},Eq=e=>{jd(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},QA=e=>{e.removed!==!0&&(Eq(e),Sq(e))},Tq=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},eO=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(YA.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const i=e.getBody();i.disabled=!0,e.readonly=u4(e),e._editableRoot=c6(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&YA.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable="true"),i.disabled=!1,e.editorUpload=P_(e),e.schema=If(cB(e)),e.dom=Fs(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:r4(e),referrerPolicy:Vy(e),onSetAttrib:p=>{e.dispatch("SetAttrib",p)}}),e.parser=yq(e),e.serializer=Bi(uB(e),e),e.selection=qz(e.dom,e.getWin(),e.serializer,e),e.annotator=gw(e),e.formatter=rd(e),e.undoManager=Ev(e),e._nodeChangeDispatcher=new UR(e),e._selectionOverrides=qZ(e),Y9(e),x5(e),nU(e),jd(e)||(k5(e),pq(e));const c=SS(e);sI(e,c),Ck(e),HV(e),mZ(e);const f=Az(e);Cq(e),$0(e),f.fold(()=>{const p=Tq(e);fB(e).then(()=>{QA(e),p()})},p=>{e.setProgressState(!0),fB(e).then(()=>{p().then(w=>{e.setProgressState(!1),QA(e),x_(e)},w=>{e.notificationManager.open({type:"error",text:String(w)}),QA(e),x_(e)})})})},tO=wt,mB=(e,n,o)=>A(e,n,tO,o),$S=Fs.DOM,_q=(e,n,o,i)=>{const c=ye.fromTag("iframe");return i.each(f=>zr(c,"tabindex",f)),Sc(c,o),Sc(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),iu(c,"tox-edit-area__iframe"),c},kq=e=>{let n=XF(e)+"<html><head>";Li(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=YF(e),i=$m(e),c=e.translate(EC(e));return hC(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+hC(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${i}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},Aq=(e,n)=>{const o=Mn.browser.isFirefox()?EC(e):"Rich Text Area",i=e.translate(o),c=Vr(ye.fromDom(e.getElement()),"tabindex").bind(Lu),f=_q(e.id,i,e4(e),c).dom;f.onload=()=>{f.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=f,e.iframeHTML=kq(e),$S.add(n.iframeContainer,f)},hB=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,eO(e)};if(_6(e)||Mn.browser.isFirefox()){const i=e.getDoc();i.open(),i.write(e.iframeHTML),i.close(),o()}else{const i=mB(ye.fromDom(n),"load",()=>{i.unbind(),o()});n.srcdoc=e.iframeHTML}},pB=(e,n)=>{Aq(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=$S.isHidden(n.editorContainer)),e.getElement().style.display="none",$S.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,hB(e)},gB=Fs.DOM,Oq=(e,n,o)=>{const i=wv.get(o),c=wv.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=Tt.trim(o),i&&Tt.inArray(n,o)===-1){if(e.plugins[o])return;try{const f=i(e,c)||{};e.plugins[o]=f,xe(f.init)&&(f.init(e,c),n.push(o))}catch(f){CV(e,o,f)}}},nO=e=>e.replace(/^\-/,""),FS=e=>{const n=[];$e(qy(e),o=>{Oq(e,n,nO(o))})},HS=e=>{const n=Tt.trim(di(e)),o=e.ui.registry.getAll().icons,i={...B2.get("default").icons,...B2.get(n).icons};_t(i,(c,f)=>{wn(o,f)||e.ui.registry.addIcon(f,c)})},am=e=>{const n=Fm(e);if(F(n)){const o=ih.get(n);e.theme=o(e,ih.urls[n])||{},xe(e.theme.init)&&e.theme.init(e,ih.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},zS=e=>{const n=jy(e),o=yv.get(n);e.model=o(e,yv.urls[n])},Uv=e=>{const n=e.theme.renderUI;return n?n():oO(e)},vB=e=>{const n=e.getElement(),i=Fm(e)(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},bB=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),Dq=e=>{const n=gB.create("div");return gB.insertAfter(n,e),bB(n,n)},oO=e=>{const n=e.getElement();return e.inline?bB(null):Dq(n)},Mq=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,F(Fm(e))?Uv(e):xe(Fm(e))?vB(e):oO(e)},sO=(e,n)=>{const o={show:U.from(n.show).getOr(Oe),hide:U.from(n.hide).getOr(Oe),isEnabled:U.from(n.isEnabled).getOr(wt),setEnabled:i=>{e.mode.isReadOnly()||U.from(n.setEnabled).each(c=>c(i))}};e.ui={...e.ui,...o}},VS=async e=>{e.dispatch("ScriptsLoaded"),HS(e),am(e),zS(e),FS(e);const n=await Mq(e);sO(e,U.from(n.api).getOr({})),e.editorContainer=n.editorContainer,qo(e),e.inline?eO(e):pB(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},fc=Fs.DOM,xh=e=>e.charAt(0)==="-",yB=(e,n)=>{const o=Uy(n),i=bC(n);if(!vi.hasCode(o)&&o!=="en"){const c=To(i)?i:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{wV(n,c,o)})}},Pq=(e,n)=>{const o=Fm(e);if(F(o)&&!xh(o)&&!wn(ih.urls,o)){const i=yC(e),c=i?e.documentBaseURI.toAbsolute(i):`themes/${o}/theme${n}.js`;ih.load(o,c).catch(()=>{SV(e,c,o)})}},Nq=(e,n)=>{const o=jy(e);if(o!=="plugin"&&!wn(yv.urls,o)){const i=a4(e),c=F(i)?e.documentBaseURI.toAbsolute(i):`models/${o}/model${n}.js`;yv.load(o,c).catch(()=>{xV(e,c,o)})}},Lq=e=>U.from(ti(e)).filter(To).map(n=>({url:n,name:U.none()})),wB=(e,n,o)=>U.from(n).filter(i=>To(i)&&!B2.has(i)).map(i=>({url:`${e.editorManager.baseURL}/icons/${i}/icons${o}.js`,name:U.some(i)})),Iq=(e,n,o)=>{const i=wB(n,"default",o),c=Lq(n).orThunk(()=>wB(n,di(n),""));$e(Hl([i,c]),f=>{e.add(f.url).catch(()=>{eL(n,f.url,f.name.getOrUndefined())})})},Rq=(e,n)=>{const o=(i,c)=>{wv.load(i,c).catch(()=>{yV(e,c,i)})};_t(u6(e),(i,c)=>{o(c,i),e.options.set("plugins",qy(e).concat(c))}),$e(qy(e),i=>{i=Tt.trim(i),i&&!wv.urls[i]&&!xh(i)&&o(i,`plugins/${i}/plugin${n}.js`)})},SB=e=>{const n=Fm(e);return!F(n)||he(ih.get(n))},Bq=e=>{const n=jy(e);return he(yv.get(n))},$q=(e,n)=>{const o=Fd.ScriptLoader,i=()=>{!e.removed&&SB(e)&&Bq(e)&&VS(e)};Pq(e,n),Nq(e,n),yB(o,e),Iq(o,e,n),Rq(e,n),o.loadQueue().then(i,i)},Fq=(e,n)=>Am.forElement(e,{contentCssCors:d4(n),referrerPolicy:Vy(n)}),YK=e=>{const n=e.id;vi.setCode(Uy(e));const o=()=>{fc.unbind(window,"ready",o),e.render()};if(!jh.Event.domLoaded){fc.bind(window,"ready",o);return}if(!e.getElement())return;const i=ye.fromDom(e.getElement()),c=Oh(i);e.on("remove",()=>{Tr(i.dom.attributes,p=>Ur(i,p.name)),Sc(i,c)}),e.ui.styleSheetLoader=Fq(i,e),wC(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const f=e.getElement().form||fc.getParent(n,"form");f&&(e.formElement=f,i6(e)&&!Yn(e.getElement())&&(fc.insertAfter(fc.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=p=>{e.dispatch(p.type,p)},fc.bind(f,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),SC(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)))),e.windowManager=JN(e),e.notificationManager=KN(e),Hm(e)&&e.on("GetContent",p=>{p.save&&(p.content=fc.encode(p.content))}),a6(e)&&e.on("submit",()=>{e.initialized&&e.save()}),c4(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),$q(e,e.suffix)},Hq=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),cE(e,n))},rO=e=>e._editableRoot,zq=(e,n)=>({sections:_e(e),options:_e(n)}),xB=gi().deviceType,iO=xB.isPhone(),Vq=xB.isTablet(),Wv=e=>{if(Fe(e))return[];{const n=ze(e)?e:e.split(/[ ,]/),o=nn(n,$r);return hn(o,To)}},Uq=(e,n)=>{const o=ii(n,(i,c)=>It(e,c));return zq(o.t,o.f)},aO=(e,n,o={})=>{const i=e.sections(),c=Fo(i,n).getOr({});return Tt.extend({},o,c)},lO=(e,n)=>wn(e.sections(),n),Wq=(e,n)=>lO(e,n)?e.sections()[n]:{},jq=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Fo(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),Zq=(e,n)=>{var o;const i=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Tt.extend({},e.external_plugins,i):i},CB=(e,n)=>[...Wv(e),...Wv(n)],cO=(e,n,o,i)=>e&&lO(n,"mobile")?i:o,EB=(e,n,o,i)=>{const c=Wv(o.forced_plugins),f=Wv(i.plugins),p=Wq(n,"mobile"),w=p.plugins?Wv(p.plugins):f,x=cO(e,n,f,w),O=CB(c,x);return Tt.extend(i,{forced_plugins:c,plugins:O})},uO=(e,n)=>e&&lO(n,"mobile"),qq=(e,n,o,i,c)=>{var f;const p=e?{mobile:jq((f=c.mobile)!==null&&f!==void 0?f:{},n)}:{},w=Uq(["mobile"],Ml(p,c)),x=Tt.extend(o,i,w.options(),uO(e,w)?aO(w,"mobile"):{},{external_plugins:Zq(i,w.options())});return EB(e,w,i,x)},KK=(e,n)=>{const o=Pv(n);return qq(iO||Vq,iO,o,e,o)},JK=(e,n)=>$z(e,n),Gq=e=>{const n=(i,c)=>{e.formatter.toggle(i,c),e.nodeChanged()},o=i=>()=>{$e("left,center,right,justify".split(","),c=>{i!==c&&e.formatter.remove("align"+c)}),i!=="none"&&n("align"+i)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},TB=e=>{const n=o=>()=>{const i=e.selection,c=i.isCollapsed()?[e.dom.getParent(i.getNode(),e.dom.isBlock)]:i.getSelectedBlocks();return zn(c,f=>he(e.formatter.matchNode(f,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},Xq=e=>{Gq(e),TB(e)},Yq=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let i;try{o.execCommand(n)}catch{i=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(i=!0),i||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Mn.os.isMacOS()||Mn.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:c,type:"error"})}}})},Kq=(e,n,o,i)=>{const c=ye.fromDom(e.getRoot());return r1(c,lt.fromRangeStart(n),i)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),ov(c,lt.fromRangeEnd(n),i)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},QK=e=>{if(typeof e!="string"){const n=Tt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},eJ=(e,n)=>{const o=e.selection,i=e.dom;return/^ | $/.test(n)?Kq(i,o.getRng(),n,e.schema):n},F0=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:i}=QK(n);T2(e,{...i,content:eJ(e,o),format:"html",set:!1,selection:!0}).each(c=>{const f=Rz(e,c.content,i);t_(e,f,c),e.addVisual()})}},_B=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,i)=>{F0(e,e.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,i)=>{F0(e,e.dom.encode(i))},insertHTML:(n,o,i)=>{F0(e,i)},mceInsertContent:(n,o,i)=>{F0(e,i)},mceSetContent:(n,o,i)=>{e.setContent(i)},mceReplaceContent:(n,o,i)=>{e.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(y6(e))}})},Jq={"font-size":"size","font-family":"face"},Qq=ru("font"),eG=(e,n,o)=>{const i=f=>Ad(f,e).orThunk(()=>Qq(f)?Fo(Jq,e).bind(p=>Vr(f,p)):U.none()),c=f=>so(ye.fromDom(n),f);return S1(ye.fromDom(o),f=>i(f),c)},tJ=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),nJ=(e,n)=>U.from(Fs.DOM.getStyle(n,e,!0)),tG=e=>(n,o)=>U.from(o).map(ye.fromDom).filter(Ai).bind(i=>eG(e,n,i.dom).or(nJ(e,i.dom))).getOr(""),nG=tG("font-size"),oJ=P(tJ,tG("font-family")),oG=e=>Oa(e.getBody()).bind(n=>{const o=n.container();return U.from(ot(o)?o.parentNode:o)}),Gp=e=>U.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?U.none():U.from(e.selection.getStart(!0))}),dO=(e,n)=>Gp(e).orThunk(Ve(oG,e)).map(ye.fromDom).filter(Ai).bind(n),jv=(e,n)=>dO(e,et(U.some,n)),fO=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const i=TC(e),c=k6(e);return c.length>0?c[o-1]||n:i[o-1]||n}else return n}else return n},kB=e=>{const n=e.split(/\s*,\s*/);return nn(n,o=>o.indexOf(" ")!==-1&&!(es(o,'"')||es(o,"'"))?`'${o}'`:o).join(",")},AB=(e,n)=>{const o=fO(e,n);e.formatter.toggle("fontname",{value:kB(o)}),e.nodeChanged()},sG=e=>jv(e,n=>oJ(e.getBody(),n.dom)).getOr(""),rG=(e,n)=>{e.formatter.toggle("fontsize",{value:fO(e,n)}),e.nodeChanged()},iG=e=>jv(e,n=>nG(e.getBody(),n.dom)).getOr(""),aG=e=>jv(e,n=>{const o=ye.fromDom(e.getBody()),i=S1(n,f=>Ad(f,"line-height"),Ve(so,o)),c=()=>{const f=parseFloat(dr(n,"line-height")),p=parseFloat(dr(n,"font-size"));return String(f/p)};return i.getOrThunk(c)}).getOr(""),lG=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},cG=e=>{const n=(o,i)=>{e.formatter.toggle(o,i),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,i,c)=>{n(o,{value:c})},BackColor:(o,i,c)=>{n("hilitecolor",{value:c})},FontName:(o,i,c)=>{AB(e,c)},FontSize:(o,i,c)=>{rG(e,c)},LineHeight:(o,i,c)=>{lG(e,c)},Lang:(o,i,c)=>{var f;n(o,{value:c.code,customValue:(f=c.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,i,c)=>{n(F(c)?c:"p")},mceToggleFormat:(o,i,c)=>{n(c)}})},Ch=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>sG(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>iG(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>aG(e))},uG=e=>{cG(e),Ch(e)},OB=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},dG=e=>{e.editorCommands.addCommands({Indent:()=>{hh(e)},Outdent:()=>{wk(e)}}),e.editorCommands.addCommands({Outdent:()=>mh(e)},"state")},US=e=>{const n=(o,i,c)=>{const f=F(c)?{href:c}:c,p=e.dom.getParent(e.selection.getNode(),"a");ce(f)&&F(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!p||!f.href)&&e.formatter.remove("link"),f.href&&e.formatter.apply("link",f,p))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},fG=(e,n,o,i)=>{const c=e.dom,f=w=>c.isBlock(w)&&w.parentElement===o,p=f(n)?n:c.getParent(i,f,o);return U.from(p).map(ye.fromDom)},DB=(e,n)=>{const o=e.dom,i=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),f=n?i.startContainer:i.endContainer,p=C0(o,f);if(!p||!p.isContentEditable)return;const w=n?Mi:pl,x=ca(e);fG(e,c,p,f).each(O=>{const $=fR(e,f,O.dom,p,!1,x);w(O,ye.fromDom($)),e.selection.setCursorLocation($,0),e.dispatch("NewBlock",{newBlock:$}),Wp(e,"insertParagraph")})},mG=e=>DB(e,!0),MB=e=>DB(e,!1),hG=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{mG(e)},InsertNewBlockAfter:()=>{MB(e)}})},pG=e=>{e.editorCommands.addCommands({insertParagraph:()=>{Iv(SR,e)},mceInsertNewLine:(n,o,i)=>{DR(e,i)},InsertLineBreak:(n,o,i)=>{Iv(CR,e)}})},gG=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,i)=>{let c=0;e.dom.getParent(e.selection.getNode(),f=>at(f)&&c++===i?(e.selection.select(f),!1):!0,e.getBody())},mceSelectNode:(n,o,i)=>{e.selection.select(i)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),it);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},vG=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,i)=>{const c=i??e.selection.getNode();if(c!==e.getBody()){const f=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(f)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,i)=>{n7(e,i===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},mO=e=>{Xq(e),Yq(e),OB(e),gG(e),_B(e),US(e),dG(e),hG(e),pG(e),uG(e),vG(e)},bG=["toggleview"],PB=e=>It(bG,e.toLowerCase());class Zr{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,i,c){const f=this.editor,p=n.toLowerCase(),w=c==null?void 0:c.skip_focus;if(f.removed||(p!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(p)&&!w?f.focus():AM(f)),f.dispatch("BeforeExecCommand",{command:n,ui:o,value:i}).isDefaultPrevented()))return!1;const O=this.commands.exec[p];return xe(O)?(O(p,o,i),f.dispatch("ExecCommand",{command:n,ui:o,value:i}),!0):!1}queryCommandState(n){if(!PB(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),i=this.commands.state[o];return xe(i)?i(o):!1}queryCommandValue(n){if(!PB(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),i=this.commands.value[o];return xe(i)?i(o):""}addCommands(n,o="exec"){const i=this.commands;_t(n,(c,f)=>{$e(f.toLowerCase().split(","),p=>{i[o][p]=c})})}addCommand(n,o,i){const c=n.toLowerCase();this.commands.exec[c]=(f,p,w)=>o.call(i??this.editor,p,w)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,i){this.commands.state[n.toLowerCase()]=()=>o.call(i??this.editor)}addQueryValueHandler(n,o,i){this.commands.value[n.toLowerCase()]=()=>o.call(i??this.editor)}}const Xp="data-mce-contenteditable",yG=(e,n,o)=>{Sf(e,n)&&!o?Hu(e,n):o&&iu(e,n)},H0=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},z0=(e,n)=>{e.dom.contentEditable=n?"true":"false"},hO=e=>{$e(Zi(e,'*[contenteditable="true"]'),n=>{zr(n,Xp,"true"),z0(n,!1)})},wG=e=>{$e(Zi(e,`*[${Xp}="true"]`),n=>{Ur(n,Xp),z0(n,!0)})},SG=e=>{U.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},xG=e=>{e.selection.setRng(e.selection.getRng())},CG=(e,n)=>{const o=ye.fromDom(e.getBody());yG(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),SG(e),e.readonly=!0,z0(o,!1),hO(o)):(e.readonly=!1,e.hasEditableRoot()&&z0(o,!0),wG(o),H0(e,"StyleWithCSS",!1),H0(e,"enableInlineTableEditing",!1),H0(e,"enableObjectResizing",!1),zM(e)&&e.focus(),xG(e),e.nodeChanged())},Yp=e=>e.readonly,NB=e=>{e.parser.addAttributeFilter("contenteditable",n=>{Yp(e)&&$e(n,o=>{o.attr(Xp,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Xp,n=>{Yp(e)&&$e(n,o=>{o.attr("contenteditable",o.attr(Xp))})}),e.serializer.addTempAttr(Xp)},EG=e=>{e.serializer?NB(e):e.on("PreInit",()=>{NB(e)})},TG=e=>e.type==="click",Zv=["copy"],cd=e=>It(Zv,e.type),_G=(e,n)=>Ec(n,"a",i=>so(i,ye.fromDom(e.getBody()))).bind(i=>Vr(i,"href")),kG=(e,n)=>{if(TG(n)&&!kt.metaKeyPressed(n)){const o=ye.fromDom(n.target);_G(e,o).each(i=>{if(n.preventDefault(),/^#/.test(i)){const c=e.dom.select(`${i},[name="${kr(i,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else cd(n)&&e.dispatch(n.type,n)},AG=e=>{e.on("ShowCaret",n=>{Yp(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{Yp(e)&&n.preventDefault()})},OG=Tt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class pO{static isNative(n){return!!OG[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ue}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const i=n.toLowerCase(),c=Dx(i,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const f=this.bindings[i];if(f)for(let p=0,w=f.length;p<w;p++){const x=f[p];if(!x.removed){if(x.once&&this.off(i,x.func),c.isImmediatePropagationStopped())return c;if(x.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,i,c){if(o===!1&&(o=Ue),o){const f={func:o,removed:!1};c&&Tt.extend(f,c);const p=n.toLowerCase().split(" ");let w=p.length;for(;w--;){const x=p[w];let O=this.bindings[x];O||(O=[],this.toggleEvent(x,!0)),i?O=[f,...O]:O=[...O,f],this.bindings[x]=O}}return this}off(n,o){if(n){const i=n.toLowerCase().split(" ");let c=i.length;for(;c--;){const f=i[c];let p=this.bindings[f];if(!f)return _t(this.bindings,(w,x)=>{this.toggleEvent(x,!1),delete this.bindings[x]}),this;if(p){if(!o)p.length=0;else{const w=ar(p,x=>x.func===o);p=w.fail,this.bindings[f]=p,$e(w.pass,x=>{x.removed=!0})}p.length||(this.toggleEvent(n,!1),delete this.bindings[f])}}}else _t(this.bindings,(i,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,i){return this.on(n,o,i,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const V0=e=>(e._eventDispatcher||(e._eventDispatcher=new pO({scope:e,toggleEvent:(n,o)=>{pO.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),gO={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const i=this;if(i.removed&&e!=="remove"&&e!=="detach")return Dx(e.toLowerCase(),n??{},i);const c=V0(i).dispatch(e,n);if(o!==!1&&i.parent){let f=i.parent();for(;f&&!c.isPropagationStopped();)f.dispatch(e,c,!1),f=f.parent?f.parent():void 0}return c},on(e,n,o){return V0(this).on(e,n,o)},off(e,n){return V0(this).off(e,n)},once(e,n){return V0(this).once(e,n)},hasEventListeners(e){return V0(this).has(e)}},WS=Fs.DOM;let Kp;const vO=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=Ju(e);return o?(e.eventRoot||(e.eventRoot=WS.select(o)[0]),e.eventRoot):e.getBody()},DG=e=>!e.hidden&&!Yp(e),LB=(e,n,o)=>{DG(e)?e.dispatch(n,o):Yp(e)&&kG(e,o)},IB=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=vO(e,n);if(Ju(e)){if(Kp||(Kp={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Kp&&(_t(Kp,(c,f)=>{e.dom.unbind(vO(e,f))}),Kp=null)})),Kp[n])return;const i=c=>{const f=c.target,p=e.editorManager.get();let w=p.length;for(;w--;){const x=p[w].getBody();(x===f||WS.isChildOf(f,x))&&LB(p[w],n,c)}};Kp[n]=i,WS.bind(o,n,i)}else{const i=c=>{LB(e,n,c)};WS.bind(o,n,i),e.delegates[n]=i}},RB={...gO,bindPendingEventDelegates(){const e=this;Tt.each(e._pendingNativeEvents,n=>{IB(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?IB(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(vO(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(_t(e.delegates,(i,c)=>{e.dom.unbind(vO(e,c),c,i)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},MG=e=>F(e)?{value:e.split(/[ ,]/),valid:!0}:Me(e,F)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},PG=e=>{const n=(()=>{switch(e){case"array":return ze;case"boolean":return He;case"function":return xe;case"number":return Be;case"object":return ce;case"string":return F;case"string[]":return MG;case"object[]":return o=>Me(o,ce);case"regexp":return o=>J(o,RegExp);default:return wt}})();return o=>bO(o,n,`The value must be a ${e}.`)},sJ=e=>F(e.processor),BB=(e,n)=>{const o=Ar(n.message)?"":`. ${n.message}`;return e+o},$B=e=>e.valid,bO=(e,n,o="")=>{const i=n(e);return He(i)?i?{value:e,valid:!0}:{valid:!1,message:o}:i},NG=(e,n,o)=>{if(!Ze(n)){const i=bO(n,o);if($B(i))return i.value;console.error(BB(`Invalid default value passed for the "${e}" option`,i))}},LG=(e,n,o=n)=>{const i={},c={},f=(ne,ue,se)=>{const fe=bO(ue,se);return $B(fe)?(c[ne]=fe.value,!0):(console.warn(BB(`Invalid value passed for the ${ne} option`,fe)),!1)},p=(ne,ue)=>{const se=sJ(ue)?PG(ue.processor):ue.processor,fe=NG(ne,ue.default,se);i[ne]={...ue,default:fe,processor:se},Fo(c,ne).orThunk(()=>Fo(n,ne)).each(Pe=>f(ne,Pe,se))},w=ne=>wn(i,ne);return{register:p,isRegistered:w,get:ne=>Fo(c,ne).orThunk(()=>Fo(i,ne).map(ue=>ue.default)).getOrUndefined(),set:(ne,ue)=>{if(w(ne)){const se=i[ne];return se.immutable?(console.error(`"${ne}" is an immutable option and cannot be updated`),!1):f(ne,ue,se.processor)}else return console.warn(`"${ne}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ne=>{const ue=w(ne);return ue&&delete c[ne],ue},isSet:ne=>wn(c,ne),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ne,ue)=>He(ue)||Be(ue)||F(ue)||ie(ue)||ze(ue)||Re(ue)?ue:Object.prototype.toString.call(ue))))}catch(ne){console.error(ne)}}}},IG=["design","readonly"],FB=(e,n,o,i)=>{const c=o[n.get()],f=o[i];try{f.activate()}catch(p){console.error(`problem while activating editor mode ${i}:`,p);return}c.deactivate(),c.editorReadOnly!==f.editorReadOnly&&CG(e,f.editorReadOnly),n.set(i),pH(e,i)},RG=(e,n,o,i)=>{if(i!==o.get()){if(!wn(n,i))throw new Error(`Editor mode '${i}' is invalid`);e.initialized?FB(e,o,n,i):e.on("init",()=>FB(e,o,n,i))}},BG=(e,n,o)=>{if(It(IG,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(i){console.error(`problem while deactivating editor mode ${n}:`,i)}}}}},$G=e=>{const n=Ie("design"),o=Ie({design:{activate:Oe,deactivate:Oe,editorReadOnly:!1},readonly:{activate:Oe,deactivate:Oe,editorReadOnly:!0}});return EG(e),AG(e),{isReadOnly:()=>Yp(e),set:i=>RG(e,o.get(),n,i),get:()=>n.get(),register:(i,c)=>{o.set(BG(o.get(),i,c))}}},yO=Tt.each,wO=Tt.explode,FG={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},HB=Tt.makeMap("alt,ctrl,shift,meta,access"),HG=e=>e in HB,zG=e=>{const n={},o=Mn.os.isMacOS()||Mn.os.isiOS();yO(wO(e.toLowerCase(),"+"),f=>{HG(f)?n[f]=!0:/^[0-9]{2,}$/.test(f)?n.keyCode=parseInt(f,10):(n.charCode=f.charCodeAt(0),n.keyCode=FG[f]||f.toUpperCase().charCodeAt(0))});const i=[n.keyCode];let c;for(c in HB)n[c]?i.push(c):n[c]=!1;return n.id=i.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class SO{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",i=>{(o.hasModifier(i)||o.isFunctionKey(i))&&!i.isDefaultPrevented()&&(yO(o.shortcuts,c=>{o.matchShortcut(i,c)&&(o.pendingPatterns=c.subpatterns.slice(0),i.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(i,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&i.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,i,c){const f=this,p=f.normalizeCommandFunc(i);return yO(wO(Tt.trim(n)),w=>{const x=f.createShortcut(w,o,p,c);f.shortcuts[x.id]=x}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,i=n;return typeof i=="string"?()=>{o.editor.execCommand(i,!1,null)}:Tt.isArray(i)?()=>{o.editor.execCommand(i[0],i[1],i[2])}:i}createShortcut(n,o,i,c){const f=Tt.map(wO(n,">"),zG);return f[f.length-1]=Tt.extend(f[f.length-1],{func:i,scope:c||this.editor}),Tt.extend(f[0],{desc:this.editor.translate(o),subpatterns:f.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const VG=()=>{const e={},n={},o={},i={},c={},f={},p={},w={},x=($,H)=>(Z,ne)=>{$[Z.toLowerCase()]={...ne,type:H}},O=($,H)=>i[$.toLowerCase()]=H;return{addButton:x(e,"button"),addGroupToolbarButton:x(e,"grouptoolbarbutton"),addToggleButton:x(e,"togglebutton"),addMenuButton:x(e,"menubutton"),addSplitButton:x(e,"splitbutton"),addMenuItem:x(n,"menuitem"),addNestedMenuItem:x(n,"nestedmenuitem"),addToggleMenuItem:x(n,"togglemenuitem"),addAutocompleter:x(o,"autocompleter"),addContextMenu:x(c,"contextmenu"),addContextToolbar:x(f,"contexttoolbar"),addContextForm:x(f,"contextform"),addSidebar:x(p,"sidebar"),addView:x(w,"views"),addIcon:O,getAll:()=>({buttons:e,menuItems:n,icons:i,popups:o,contextMenus:c,contextToolbars:f,sidebars:p,views:w})}},UG=()=>{const e=VG();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Jp=Fs.DOM,zB=Tt.extend,WG=Tt.each;class jS{constructor(n,o,i){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,zB(this,RB);const c=this;this.id=n,this.hidden=!1;const f=KK(i.defaultOptions,o);this.options=LG(c,f,o),QD(c);const p=this.options.get;p("deprecation_warnings")&&aV(o,f);const w=p("suffix");w&&(i.suffix=w),this.suffix=i.suffix;const x=p("base_url");x&&i._setBaseUrl(x),this.baseUri=i.baseURI;const O=Vy(c);O&&(Fd.ScriptLoader._setReferrerPolicy(O),Fs.DOM.styleSheetLoader._setReferrerPolicy(O));const $=d4(c);he($)&&Fs.DOM.styleSheetLoader._setContentCssCors($),Fa.languageLoad=p("language_load"),Fa.baseURL=i.baseURL,this.setDirty(!1),this.documentBaseURI=new ma(Li(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=wC(c),this.hasVisual=za(c),this.shortcuts=new SO(this),this.editorCommands=new Zr(this),mO(this);const H=p("cache_suffix");H&&(Mn.cacheSuffix=H.replace(/^[\?\&]+/,"")),this.ui={registry:UG(),styleSheetLoader:void 0,show:Oe,hide:Oe,setEnabled:Oe,isEnabled:wt},this.mode=$G(c),i.dispatch("SetupEditor",{editor:this});const Z=Gy(c);xe(Z)&&Z.call(c,c)}render(){YK(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Gf(this)}translate(n){return vi.translate(n)}getParam(n,o,i){const c=this.options;return c.isRegistered(n)||(he(i)?c.register(n,{processor:i,default:o}):c.register(n,{processor:wt,default:o})),!c.isSet(n)&&!Ze(o)?o:c.get(n)}hasPlugin(n,o){return It(qy(this),n)?o?wv.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,i){this.editorCommands.addCommand(n,o,i)}addQueryStateHandler(n,o,i){this.editorCommands.addQueryStateHandler(n,o,i)}addQueryValueHandler(n,o,i){this.editorCommands.addQueryValueHandler(n,o,i)}addShortcut(n,o,i,c){this.shortcuts.add(n,o,i,c)}execCommand(n,o,i,c){return this.editorCommands.execCommand(n,o,i,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Jp.show(n.getContainer()),Jp.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Jp.hide(n.getContainer()),Jp.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,i=o.getElement();if(o.removed)return"";if(i){const c={...n,load:!0},f=Yn(i)?i.value:i.innerHTML,p=o.setContent(f,c);return c.no_events||o.dispatch("LoadContent",{...c,element:i}),p}else return""}save(n={}){const o=this;let i=o.getElement();if(!i||!o.initialized||o.removed)return"";const c={...n,save:!0,element:i};let f=o.getContent(c);const p={...c,content:f};if(p.no_events||o.dispatch("SaveContent",p),p.format==="raw"&&o.dispatch("RawSaveContent",p),f=p.content,Yn(i))i.value=f;else{(n.is_removing||!o.inline)&&(i.innerHTML=f);const w=Jp.getParent(o.id,"form");w&&WG(w.elements,x=>x.name===o.id?(x.value=f,!1):!0)}return p.element=c.element=i=null,p.set_dirty!==!1&&o.setDirty(!1),f}setContent(n,o){return bv(this,n,o)}getContent(n){return jN(this,n)}insertContent(n,o){o&&(n=zB({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?bv(this,this.startContent,{format:"raw"}):bv(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||Jp.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Jp.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const i=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:i==null?void 0:i.body)!==null&&o!==void 0?o:null}convertURL(n,o,i){const c=this,f=c.options.get,p=f6(c);if(xe(p))return p.call(c,n,i,!0,o);if(!f("convert_urls")||i==="link"||ce(i)&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const w=new ma(n);return w.protocol!=="http"&&w.protocol!=="https"&&w.protocol!==""?n:f("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,f("remove_script_host")),n)}addVisual(n){JK(this,n)}setEditableRoot(n){Hq(this,n)}hasEditableRoot(){return rO(this)}remove(){uV(this)}destroy(n){dV(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const qv=Fs.DOM,ZS=Tt.each;let xO=!1,qS,tl=[];const GS=e=>{const n=e.type;ZS(Eh.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},VB=e=>{if(e!==xO){const n=Fs.DOM;e?(n.bind(window,"resize",GS),n.bind(window,"scroll",GS)):(n.unbind(window,"resize",GS),n.unbind(window,"scroll",GS)),xO=e}},UB=e=>{const n=tl;return tl=hn(tl,o=>e!==o),Eh.activeEditor===e&&(Eh.activeEditor=tl.length>0?tl[0]:null),Eh.focusedEditor===e&&(Eh.focusedEditor=null),n.length!==tl.length},jG=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(UB(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},ZG=document.compatMode!=="CSS1Compat",Eh={...gO,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:vi,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",i=ma.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const f=document.getElementsByTagName("script");for(let p=0;p<f.length;p++){const w=f[p].src||"";if(w==="")continue;const x=w.substring(w.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(w)){x.indexOf(".min")!==-1&&(o=".min"),n=w.substring(0,w.lastIndexOf("/"));break}}if(!n&&document.currentScript){const p=document.currentScript.src;p.indexOf(".min")!==-1&&(o=".min"),n=p.substring(0,p.lastIndexOf("/"))}}e.baseURL=new ma(i).toAbsolute(n),e.documentBaseURL=i,e.baseURI=new ma(e.baseURL),e.suffix=o,IM(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const i=e.plugin_base_urls;i!==void 0&&_t(i,(c,f)=>{Fa.PluginManager.urls[f]=c})},init(e){const n=this;let o;const i=Tt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=($,H)=>$.inline&&H.tagName.toLowerCase()in i,f=$=>{let H=$.id;return H||(H=Fo($,"name").filter(Z=>!qv.get(Z)).getOrThunk(qv.uniqueId),$.setAttribute("id",H)),H},p=$=>{const H=e[$];if(H)return H.apply(n,[])},w=$=>Mn.browser.isIE()||Mn.browser.isEdge()?(D_("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):ZG?(D_("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):F($.selector)?qv.select($.selector):he($.target)?[$.target]:[];let x=$=>{o=$};const O=()=>{let $=0;const H=[];let Z;const ne=(ue,se,fe)=>{const Se=new jS(ue,se,n);H.push(Se),Se.on("init",()=>{++$===Z.length&&x(H)}),Se.targetElm=Se.targetElm||fe,Se.render()};qv.unbind(window,"ready",O),p("onpageload"),Z=ls(w(e)),Tt.each(Z,ue=>{jG(n.get(ue.id))}),Z=Tt.grep(Z,ue=>!n.get(ue.id)),Z.length===0?x([]):ZS(Z,ue=>{c(e,ue)?D_("Could not initialize inline editor on invalid inline target element",ue):ne(f(ue),e,ue)})};return qv.bind(window,"ready",O),new Promise($=>{o?$(o):x=H=>{$(H)}})},get(e){return arguments.length===0?tl.slice(0):F(e)?oe(tl,n=>n.id===e).getOr(null):Be(e)&&tl[e]?tl[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&tl.push(e),VB(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),qS||(qS=i=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return i.preventDefault(),i.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",qS))),e},createEditor(e,n){return this.add(new jS(e,n,this))},remove(e){const n=this;let o;if(!e){for(let i=tl.length-1;i>=0;i--)n.remove(tl[i]);return}if(F(e)){ZS(qv.select(e),i=>{o=n.get(i.id),o&&n.remove(o)});return}return o=e,ie(n.get(o.id))?null:(UB(o)&&n.dispatch("RemoveEditor",{editor:o}),tl.length===0&&window.removeEventListener("beforeunload",qS),o.remove(),VB(tl.length>0),o)},execCommand(e,n,o){var i;const c=this,f=ce(o)?(i=o.id)!==null&&i!==void 0?i:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(f)){const p=o.options;new jS(f,p,c).render()}return!0}case"mceRemoveEditor":{const p=c.get(f);return p&&p.remove(),!0}case"mceToggleEditor":{const p=c.get(f);return p?(p.isHidden()?p.show():p.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{ZS(tl,e=>{e.save()})},addI18n:(e,n)=>{vi.add(e,n)},translate:e=>vi.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new ma(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new ma(this.baseURL)}};Eh.setup();const rJ=(()=>{const e=Xi(),n=f=>({items:f,types:Lo(f),getType:p=>Fo(f,p).getOrUndefined()}),o=f=>{e.set(f)},i=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:i,clear:c}})(),CO=Math.min,Gv=Math.max,U0=Math.round,WB=(e,n,o)=>{let i=n.x,c=n.y;const f=e.w,p=e.h,w=n.w,x=n.h,O=(o||"").split("");return O[0]==="b"&&(c+=x),O[1]==="r"&&(i+=w),O[0]==="c"&&(c+=U0(x/2)),O[1]==="c"&&(i+=U0(w/2)),O[3]==="b"&&(c-=p),O[4]==="r"&&(i-=f),O[3]==="c"&&(c-=U0(p/2)),O[4]==="c"&&(i-=U0(f/2)),Xv(i,c,f,p)},GG=(e,n,o,i)=>{for(let c=0;c<i.length;c++){const f=WB(e,n,i[c]);if(f.x>=o.x&&f.x+f.w<=o.w+o.x&&f.y>=o.y&&f.y+f.h<=o.h+o.y)return i[c]}return null},XG=(e,n,o)=>Xv(e.x-n,e.y-o,e.w+n*2,e.h+o*2),YG=(e,n)=>{const o=Gv(e.x,n.x),i=Gv(e.y,n.y),c=CO(e.x+e.w,n.x+n.w),f=CO(e.y+e.h,n.y+n.h);return c-o<0||f-i<0?null:Xv(o,i,c-o,f-i)},KG=(e,n,o)=>{let i=e.x,c=e.y,f=e.x+e.w,p=e.y+e.h;const w=n.x+n.w,x=n.y+n.h,O=Gv(0,n.x-i),$=Gv(0,n.y-c),H=Gv(0,f-w),Z=Gv(0,p-x);return i+=O,c+=$,o&&(f+=O,p+=$,i-=H,c-=Z),f-=H,p-=Z,Xv(i,c,f-i,p-c)},Xv=(e,n,o,i)=>({x:e,y:n,w:o,h:i}),EO={inflate:XG,relativePosition:WB,findBestRelativePosition:GG,intersect:YG,clamp:KG,create:Xv,fromClientRect:e=>Xv(e.left,e.top,e.width,e.height)},JG=(e,n,o=1e3)=>{let i=!1,c=null;const f=O=>(...$)=>{i||(i=!0,c!==null&&(clearTimeout(c),c=null),O.apply(null,$))},p=f(e),w=f(n);return{start:(...O)=>{!i&&c===null&&(c=setTimeout(()=>w.apply(null,O),o))},resolve:p,reject:w}},eX=(()=>{const e={},n={},o={};return{load:(x,O)=>{const $=`Script at URL "${O}" failed to load`,H=`Script at URL "${O}" did not call \`tinymce.Resource.add('${x}', data)\` within 1 second`;if(e[x]!==void 0)return e[x];{const Z=new Promise((ne,ue)=>{const se=JG(ne,ue);n[x]=se.resolve,Fd.ScriptLoader.loadScript(O).then(()=>se.start(H),()=>se.reject($))});return e[x]=Z,Z}},add:(x,O)=>{n[x]!==void 0&&(n[x](O),delete n[x]),e[x]=Promise.resolve(O),o[x]=O},has:x=>x in o,get:x=>o[x],unload:x=>{delete e[x],delete o[x]}}})(),tX=()=>(()=>{let e={},n=[];const o={getItem:i=>{const c=e[i];return c||null},setItem:(i,c)=>{n.push(i),e[i]=String(c)},key:i=>n[i],removeItem:i=>{n=n.filter(c=>c===i),delete e[i]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let W0;try{const e="__storage_test__";W0=window.localStorage,W0.setItem(e,e),W0.removeItem(e)}catch{W0=tX()}var nX=W0;const oX={geom:{Rect:EO},util:{Delay:nc,Tools:Tt,VK:kt,URI:ma,EventDispatcher:pO,Observable:gO,I18n:vi,LocalStorage:nX,ImageUploader:Zd},dom:{EventUtils:jh,TreeWalker:Pr,TextSeeker:Xh,DOMUtils:Fs,ScriptLoader:Fd,RangeUtils:qm,Serializer:Bi,StyleSheetLoader:Nd,ControlSelection:Tw,BookmarkManager:Zm,Selection:qz,Event:jh.Event},html:{Styles:Ox,Entities:Gu,Node:Va,Schema:If,DomParser:gv,Writer:LE,Serializer:Xf},Env:Mn,AddOnManager:Fa,Annotator:gw,Formatter:rd,UndoManager:Ev,EditorCommands:Zr,WindowManager:JN,NotificationManager:KN,EditorObservable:RB,Shortcuts:SO,Editor:jS,FocusManager:OM,EditorManager:Eh,DOM:Fs.DOM,ScriptLoader:Fd.ScriptLoader,PluginManager:wv,ThemeManager:ih,ModelManager:yv,IconManager:B2,Resource:eX,FakeClipboard:rJ,trim:Tt.trim,isArray:Tt.isArray,is:Tt.is,toArray:Tt.toArray,makeMap:Tt.makeMap,each:Tt.each,map:Tt.map,grep:Tt.grep,inArray:Tt.inArray,extend:Tt.extend,walk:Tt.walk,resolve:Tt.resolve,explode:Tt.explode,_addCacheSuffix:Tt._addCacheSuffix},ZB=Tt.extend(Eh,oX),sX=e=>{try{l.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(ZB),sX(ZB)})()})(xee);var jre=xee.exports;const Zre=JX(jre);(function(){const l=Object.getPrototypeOf,r=(t,s,a)=>{var u;return a(t,s.prototype)?!0:((u=t.constructor)===null||u===void 0?void 0:u.name)===s.name},d=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&r(t,String,(a,u)=>u.isPrototypeOf(a))?"string":s},m=t=>s=>d(s)===t,v=t=>s=>typeof s===t,y=t=>s=>t===s,S=(t,s)=>k(t)&&r(t,s,(a,u)=>l(a)===u),T=m("string"),k=m("object"),N=t=>S(t,Object),D=m("array"),L=y(null),R=v("boolean"),q=y(void 0),G=t=>t==null,ee=t=>!G(t),X=v("function"),re=v("number"),J=(t,s)=>{if(D(t)){for(let a=0,u=t.length;a<u;++a)if(!s(t[a]))return!1;return!0}return!1},F=()=>{},ce=t=>()=>t(),Re=(t,s)=>(...a)=>t(s.apply(null,a)),ze=(t,s)=>a=>t(s(a)),ie=t=>()=>t,He=t=>t,Ze=(t,s)=>t===s;function Fe(t,...s){return(...a)=>{const u=s.concat(a);return t.apply(null,u)}}const he=t=>s=>!t(s),xe=t=>()=>{throw new Error(t)},Be=t=>t(),Me=ie(!1),Oe=ie(!0);class P{constructor(s,a){this.tag=s,this.value=a}static some(s){return new P(!0,s)}static none(){return P.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?P.some(s(this.value)):P.none()}bind(s){return this.tag?s(this.value):P.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:P.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return ee(s)?P.some(s):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}P.singletonNone=new P(!1);const et=Array.prototype.slice,_e=Array.prototype.indexOf,$t=Array.prototype.push,dt=(t,s)=>_e.call(t,s),Ve=(t,s)=>{const a=dt(t,s);return a===-1?P.none():P.some(a)},Ot=(t,s)=>dt(t,s)>-1,jt=(t,s)=>{for(let a=0,u=t.length;a<u;a++){const h=t[a];if(s(h,a))return!0}return!1},Hn=(t,s)=>{const a=[];for(let u=0;u<t;u++)a.push(s(u));return a},rn=(t,s)=>{const a=[];for(let u=0;u<t.length;u+=s){const h=et.call(t,u,u+s);a.push(h)}return a},Ue=(t,s)=>{const a=t.length,u=new Array(a);for(let h=0;h<a;h++){const g=t[h];u[h]=s(g,h)}return u},wt=(t,s)=>{for(let a=0,u=t.length;a<u;a++){const h=t[a];s(h,a)}},U=(t,s)=>{for(let a=t.length-1;a>=0;a--){const u=t[a];s(u,a)}},as=(t,s)=>{const a=[],u=[];for(let h=0,g=t.length;h<g;h++){const b=t[h];(s(b,h)?a:u).push(b)}return{pass:a,fail:u}},Dn=(t,s)=>{const a=[];for(let u=0,h=t.length;u<h;u++){const g=t[u];s(g,u)&&a.push(g)}return a},Cs=(t,s,a)=>(U(t,(u,h)=>{a=s(a,u,h)}),a),Vo=(t,s,a)=>(wt(t,(u,h)=>{a=s(a,u,h)}),a),Zo=(t,s,a)=>{for(let u=0,h=t.length;u<h;u++){const g=t[u];if(s(g,u))return P.some(g);if(a(g,u))break}return P.none()},It=(t,s)=>Zo(t,s,Me),zn=(t,s)=>{for(let a=0,u=t.length;a<u;a++){const h=t[a];if(s(h,a))return P.some(a)}return P.none()},nn=t=>{const s=[];for(let a=0,u=t.length;a<u;++a){if(!D(t[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+t);$t.apply(s,t[a])}return s},$e=(t,s)=>nn(Ue(t,s)),Tr=(t,s)=>{for(let a=0,u=t.length;a<u;++a){const h=t[a];if(s(h,a)!==!0)return!1}return!0},ar=t=>{const s=et.call(t,0);return s.reverse(),s},hn=(t,s)=>Dn(t,a=>!Ot(s,a)),Gr=(t,s)=>{const a={};for(let u=0,h=t.length;u<h;u++){const g=t[u];a[String(g)]=s(g,u)}return a},Gs=t=>[t],V=(t,s)=>{const a=et.call(t,0);return a.sort(s),a},oe=(t,s)=>s>=0&&s<t.length?P.some(t[s]):P.none(),Ce=t=>oe(t,0),Le=t=>oe(t,t.length-1),qe=X(Array.from)?Array.from:t=>et.call(t),bt=(t,s)=>{for(let a=0;a<t.length;a++){const u=s(t[a],a);if(u.isSome())return u}return P.none()},ht=Object.keys,Et=Object.hasOwnProperty,tn=(t,s)=>{const a=ht(t);for(let u=0,h=a.length;u<h;u++){const g=a[u],b=t[g];s(b,g)}},qt=(t,s)=>Vn(t,(a,u)=>({k:u,v:s(a,u)})),Vn=(t,s)=>{const a={};return tn(t,(u,h)=>{const g=s(u,h);a[g.k]=g.v}),a},kn=t=>(s,a)=>{t[a]=s},Un=(t,s,a,u)=>{tn(t,(h,g)=>{(s(h,g)?a:u)(h,g)})},Kn=(t,s)=>{const a={},u={};return Un(t,s,kn(a),kn(u)),{t:a,f:u}},So=(t,s)=>{const a={};return Un(t,s,kn(a),F),a},ls=(t,s)=>{const a=[];return tn(t,(u,h)=>{a.push(s(u,h))}),a},Lo=(t,s)=>{const a=ht(t);for(let u=0,h=a.length;u<h;u++){const g=a[u],b=t[g];if(s(b,g,t))return P.some(b)}return P.none()},Js=t=>ls(t,He),_t=(t,s)=>Gn(t,s)?P.from(t[s]):P.none(),Gn=(t,s)=>Et.call(t,s),Ws=(t,s)=>Gn(t,s)&&t[s]!==void 0&&t[s]!==null,Xs=(t,s,a=Ze)=>t.exists(u=>a(u,s)),Fi=(t,s,a=Ze)=>lr(t,s,a).getOr(t.isNone()&&s.isNone()),ii=t=>{const s=[],a=u=>{s.push(u)};for(let u=0;u<t.length;u++)t[u].each(a);return s},Ys=t=>{const s=[];for(let a=0;a<t.length;a++){const u=t[a];if(u.isSome())s.push(u.getOrDie());else return P.none()}return P.some(s)},lr=(t,s,a)=>t.isSome()&&s.isSome()?P.some(a(t.getOrDie(),s.getOrDie())):P.none(),cl=(t,s,a,u)=>t.isSome()&&s.isSome()&&a.isSome()?P.some(u(t.getOrDie(),s.getOrDie(),a.getOrDie())):P.none(),Fo=(t,s)=>t!=null?P.some(s(t)):P.none(),wn=(t,s)=>t?P.some(s):P.none(),ai=(t,s)=>t+s,Il=(t,s)=>t.substring(s),Xo=(t,s,a)=>s===""||t.length>=s.length&&t.substr(a,a+s.length)===s,zs=(t,s)=>Wa(t,s)?Il(t,s.length):t,li=(t,s)=>ya(t,s)?t:ai(t,s),Qs=(t,s,a=0,u)=>{const h=t.indexOf(s,a);return h!==-1?q(u)?!0:h+s.length<=u:!1},Wa=(t,s)=>Xo(t,s,0),ya=(t,s)=>Xo(t,s,t.length-s.length),_r=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),ve=t=>t.length>0,be=t=>!ve(t),We=t=>t.style!==void 0&&X(t.style.getPropertyValue),Qe=(t,s)=>{const u=(s||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const h="HTML does not have a single root node";throw console.error(h,t),new Error(h)}return qn(u.childNodes[0])},cn=(t,s)=>{const u=(s||document).createElement(t);return qn(u)},En=(t,s)=>{const u=(s||document).createTextNode(t);return qn(u)},qn=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},pt={fromHtml:Qe,fromTag:cn,fromText:En,fromDom:qn,fromPoint:(t,s,a)=>P.from(t.dom.elementFromPoint(s,a)).map(qn)},po=typeof window<"u"?window:Function("return this;")(),As=(t,s)=>{let a=s??po;for(let u=0;u<t.length&&a!==void 0&&a!==null;++u)a=a[t[u]];return a},cr=(t,s)=>{const a=t.split(".");return As(a,s)},ci=(t,s)=>cr(t,s),ul=(t,s)=>{const a=ci(t,s);if(a==null)throw new Error(t+" not available on this browser");return a},bc=Object.getPrototypeOf,Ti=t=>ul("HTMLElement",t),wa=t=>{const s=cr("ownerDocument.defaultView",t);return k(t)&&(Ti(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(bc(t).constructor.name))},kr=9,Qo=11,es=1,Sa=3,Xr=t=>t.dom.nodeName.toLowerCase(),$r=t=>t.dom.nodeType,Qc=t=>s=>$r(s)===t,hi=t=>To(t)&&wa(t.dom),To=Qc(es),Ar=Qc(Sa),Es=Qc(kr),Lu=Qc(Qo),yc=t=>s=>To(s)&&Xr(s)===t,js=(t,s)=>{const a=t.dom;if(a.nodeType!==es)return!1;{const u=a;if(u.matches!==void 0)return u.matches(s);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(s);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(s);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},dl=t=>t.nodeType!==es&&t.nodeType!==kr&&t.nodeType!==Qo||t.childElementCount===0,uf=(t,s)=>{const a=s===void 0?document:s.dom;return dl(a)?[]:Ue(a.querySelectorAll(t),pt.fromDom)},_i=(t,s)=>{const a=s===void 0?document:s.dom;return dl(a)?P.none():P.from(a.querySelector(t)).map(pt.fromDom)},Uo=(t,s)=>t.dom===s.dom,Rl=(t,s)=>{const a=t.dom,u=s.dom;return a===u?!1:a.contains(u)},Fr=t=>pt.fromDom(t.dom.ownerDocument),wc=t=>Es(t)?t:Fr(t),eu=t=>pt.fromDom(wc(t).dom.documentElement),Or=t=>pt.fromDom(wc(t).dom.defaultView),xa=t=>P.from(t.dom.parentNode).map(pt.fromDom),Ra=t=>xa(t),na=t=>P.from(t.dom.parentElement).map(pt.fromDom),df=(t,s)=>{const a=X(s)?s:Me;let u=t.dom;const h=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const g=u.parentNode,b=pt.fromDom(g);if(h.push(b),a(b)===!0)break;u=g}return h},Bl=t=>P.from(t.dom.offsetParent).map(pt.fromDom),tu=t=>P.from(t.dom.nextSibling).map(pt.fromDom),ui=t=>Ue(t.dom.childNodes,pt.fromDom),pi=(t,s)=>{const a=t.dom.childNodes;return P.from(a[s]).map(pt.fromDom)},Iu=t=>pi(t,0),Sd=(t,s)=>({element:t,offset:s}),fl=(t,s)=>{const a=ui(t);return a.length>0&&s<a.length?Sd(a[s],0):Sd(t,s)},ff=t=>Lu(t)&&ee(t.dom.host),Hr=t=>pt.fromDom(t.dom.getRootNode()),ml=t=>ff(t)?t:pt.fromDom(wc(t).dom.body),xd=t=>$l(t).isSome(),$l=t=>{const s=Hr(t);return ff(s)?P.some(s):P.none()},mf=t=>pt.fromDom(t.dom.host),Ru=t=>{if(ee(t.target)){const s=pt.fromDom(t.target);if(To(s)&&gi(s)&&t.composed&&t.composedPath){const a=t.composedPath();if(a)return Ce(a)}}return P.from(t.target)},gi=t=>ee(t.dom.shadowRoot),oa=t=>{const s=Ar(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return $l(pt.fromDom(s)).fold(()=>a.body.contains(s),ze(oa,mf))},Hi=()=>Ca(pt.fromDom(document)),Ca=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return pt.fromDom(s)},sa=(t,s,a)=>{if(T(a)||R(a)||re(a))t.setAttribute(s,a+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",t),new Error("Attribute value was not simple")},vn=(t,s,a)=>{sa(t.dom,s,a)},nu=(t,s)=>{const a=t.dom;tn(s,(u,h)=>{sa(a,h,u)})},Mn=(t,s)=>{const a=t.dom.getAttribute(s);return a===null?void 0:a},vr=(t,s)=>P.from(Mn(t,s)),Fl=(t,s)=>{const a=t.dom;return a&&a.hasAttribute?a.hasAttribute(s):!1},W=(t,s)=>{t.dom.removeAttribute(s)},ae=t=>Vo(t.dom.attributes,(s,a)=>(s[a.name]=a.value,s),{}),we=(t,s,a)=>{if(!T(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",t),new Error("CSS value must be a string: "+a);We(t)&&t.style.setProperty(s,a)},Ge=(t,s)=>{We(t)&&t.style.removeProperty(s)},gt=(t,s,a)=>{const u=t.dom;we(u,s,a)},oo=(t,s)=>{const a=t.dom;tn(s,(u,h)=>{we(a,h,u)})},ds=(t,s)=>{const a=t.dom;tn(s,(u,h)=>{u.fold(()=>{Ge(a,h)},g=>{we(a,h,g)})})},ts=(t,s)=>{const a=t.dom,h=window.getComputedStyle(a).getPropertyValue(s);return h===""&&!oa(t)?Tt(a,s):h},Tt=(t,s)=>We(t)?t.style.getPropertyValue(s):"",vs=(t,s)=>{const a=t.dom,u=Tt(a,s);return P.from(u).filter(h=>h.length>0)},Yr=t=>{const s={},a=t.dom;if(We(a))for(let u=0;u<a.style.length;u++){const h=a.style.item(u);s[h]=a.style[h]}return s},Hl=(t,s,a)=>{const u=pt.fromTag(t);return gt(u,s,a),vs(u,s).isSome()},Zn=(t,s)=>{const a=t.dom;Ge(a,s),Xs(vr(t,"style").map(_r),"")&&W(t,"style")},zi=t=>t.dom.offsetWidth,ou=(t,s)=>{const a=(C,E)=>{if(!re(E)&&!E.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+E);const M=C.dom;We(M)&&(M.style[t]=E+"px")},u=C=>{const E=s(C);if(E<=0||E===null){const M=ts(C,t);return parseFloat(M)||0}return E},h=u,g=(C,E)=>Vo(E,(M,I)=>{const z=ts(C,I),Q=z===void 0?0:parseInt(z,10);return isNaN(Q)?M:M+Q},0);return{set:a,get:u,getOuter:h,aggregate:g,max:(C,E,M)=>{const I=g(C,M);return E>I?E-I:0}}},hf=ou("height",t=>{const s=t.dom;return oa(t)?s.getBoundingClientRect().height:s.offsetHeight}),fs=t=>hf.get(t),Za=t=>hf.getOuter(t),fm=(t,s)=>{const a=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],u=hf.max(t,s,a);gt(t,"max-height",u+"px")},su=(t,s)=>({left:t,top:s,translate:(u,h)=>su(t+u,s+h)}),Os=su,pf=t=>{const s=t.getBoundingClientRect();return Os(s.left,s.top)},gf=(t,s)=>t!==void 0?t:s!==void 0?s:0,Vi=t=>{const s=t.dom.ownerDocument,a=s.body,u=s.defaultView,h=s.documentElement;if(a===t.dom)return Os(a.offsetLeft,a.offsetTop);const g=gf(u==null?void 0:u.pageYOffset,h.scrollTop),b=gf(u==null?void 0:u.pageXOffset,h.scrollLeft),C=gf(h.clientTop,a.clientTop),E=gf(h.clientLeft,a.clientLeft);return vf(t).translate(b-E,g-C)},vf=t=>{const s=t.dom,u=s.ownerDocument.body;return u===s?Os(u.offsetLeft,u.offsetTop):oa(t)?pf(s):Os(0,0)},hl=ou("width",t=>t.dom.offsetWidth),Cd=(t,s)=>hl.set(t,s),ki=t=>hl.get(t),ho=t=>hl.getOuter(t),ig=(t,s)=>{const a=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],u=hl.max(t,s,a);gt(t,"max-width",u+"px")},Ui=t=>{let s=!1,a;return(...u)=>(s||(s=!0,a=t.apply(null,u)),a)},Bu=(t,s,a,u)=>{const h=t.isiOS()&&/ipad/i.test(a)===!0,g=t.isiOS()&&!h,b=t.isiOS()||t.isAndroid(),C=b||u("(pointer:coarse)"),E=h||!g&&b&&u("(min-device-width:768px)"),M=g||b&&!E,I=s.isSafari()&&t.isiOS()&&/safari/i.test(a)===!1,z=!M&&!E&&!I;return{isiPad:ie(h),isiPhone:ie(g),isTablet:ie(E),isPhone:ie(M),isTouch:ie(C),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:ie(I),isDesktop:ie(z)}},bf=(t,s)=>{for(let a=0;a<t.length;a++){const u=t[a];if(u.test(s))return u}},Ai=(t,s)=>{const a=bf(t,s);if(!a)return{major:0,minor:0};const u=h=>Number(s.replace(a,"$"+h));return Ah(u(1),u(2))},Wi=(t,s)=>{const a=String(s).toLowerCase();return t.length===0?ag():Ai(t,a)},ag=()=>Ah(0,0),Ah=(t,s)=>({major:t,minor:s}),ru={nu:Ah,detect:Wi,unknown:ag},lg=(t,s)=>bt(s.brands,a=>{const u=a.brand.toLowerCase();return It(t,h=>{var g;return u===((g=h.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(h=>({current:h.name,version:ru.nu(parseInt(a.version,10),0)}))}),zr=(t,s)=>{const a=String(s).toLowerCase();return It(t,u=>u.search(a))},Sc=(t,s)=>zr(t,s).map(a=>{const u=ru.detect(a.versionRegexes,s);return{current:a.name,version:u}}),ra=(t,s)=>zr(t,s).map(a=>{const u=ru.detect(a.versionRegexes,s);return{current:a.name,version:u}}),Vr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ea=t=>s=>Qs(s,t),Ur=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Qs(t,"edge/")&&Qs(t,"chrome")&&Qs(t,"safari")&&Qs(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Vr],search:t=>Qs(t,"chrome")&&!Qs(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Qs(t,"msie")||Qs(t,"trident")},{name:"Opera",versionRegexes:[Vr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ea("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ea("firefox")},{name:"Safari",versionRegexes:[Vr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Qs(t,"safari")||Qs(t,"mobile/"))&&Qs(t,"applewebkit")}],cg=[{name:"Windows",search:Ea("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Qs(t,"iphone")||Qs(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ea("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ea("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ea("linux"),versionRegexes:[]},{name:"Solaris",search:Ea("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ea("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ea("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Oh={browsers:ie(Ur),oses:ie(cg)},mm="Edge",hm="Chromium",yf="IE",$u="Opera",Dh="Firefox",Fu="Safari",ug=()=>dg({current:void 0,version:ru.unknown()}),dg=t=>{const s=t.current,a=t.version,u=h=>()=>s===h;return{current:s,version:a,isEdge:u(mm),isChromium:u(hm),isIE:u(yf),isOpera:u($u),isFirefox:u(Dh),isSafari:u(Fu)}},iu={unknown:ug,nu:dg,edge:ie(mm),chromium:ie(hm),ie:ie(yf),opera:ie($u),firefox:ie(Dh),safari:ie(Fu)},pm="Windows",Hu="iOS",wf="Android",Sf="Linux",gm="macOS",ia="Solaris",Mh="FreeBSD",au="ChromeOS",vm=()=>ye({current:void 0,version:ru.unknown()}),ye=t=>{const s=t.current,a=t.version,u=h=>()=>s===h;return{current:s,version:a,isWindows:u(pm),isiOS:u(Hu),isAndroid:u(wf),isMacOS:u(gm),isLinux:u(Sf),isSolaris:u(ia),isFreeBSD:u(Mh),isChromeOS:u(au)}},xf={unknown:vm,nu:ye,windows:ie(pm),ios:ie(Hu),android:ie(wf),linux:ie(Sf),macos:ie(gm),solaris:ie(ia),freebsd:ie(Mh),chromeos:ie(au)},fg={detect:(t,s,a)=>{const u=Oh.browsers(),h=Oh.oses(),g=s.bind(E=>lg(u,E)).orThunk(()=>Sc(u,t)).fold(iu.unknown,iu.nu),b=ra(h,t).fold(xf.unknown,xf.nu),C=Bu(b,g,t,a);return{browser:g,os:b,deviceType:C}}},cb=t=>window.matchMedia(t).matches;let Ed=Ui(()=>fg.detect(window.navigator.userAgent,P.from(window.navigator.userAgentData),cb));const so=()=>Ed(),Oi=(t,s,a,u,h,g,b)=>({target:t,x:s,y:a,stop:u,prevent:h,kill:g,raw:b}),xc=t=>{const s=pt.fromDom(Ru(t).getOr(t.target)),a=()=>t.stopPropagation(),u=()=>t.preventDefault(),h=Re(u,a);return Oi(s,t.clientX,t.clientY,a,u,h,t)},Vl=(t,s)=>a=>{t(a)&&s(xc(a))},Ph=(t,s,a,u,h)=>{const g=Vl(a,u);return t.dom.addEventListener(s,g,h),{unbind:Fe(qa,t,s,g,h)}},Cf=(t,s,a,u)=>Ph(t,s,a,u,!1),Dr=(t,s,a,u)=>Ph(t,s,a,u,!0),qa=(t,s,a,u)=>{t.dom.removeEventListener(s,a,u)},Ul=(t,s)=>{xa(t).each(u=>{u.dom.insertBefore(s.dom,t.dom)})},Nh=(t,s)=>{tu(t).fold(()=>{xa(t).each(h=>{Di(h,s)})},u=>{Ul(u,s)})},Cc=(t,s)=>{Iu(t).fold(()=>{Di(t,s)},u=>{t.dom.insertBefore(s.dom,u.dom)})},Di=(t,s)=>{t.dom.appendChild(s.dom)},Lh=(t,s,a)=>{pi(t,a).fold(()=>{Di(t,s)},u=>{Ul(u,s)})},Td=(t,s)=>{wt(s,a=>{Di(t,a)})},Kr=t=>{t.dom.textContent="",wt(ui(t),s=>{Ta(s)})},Ta=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},ji=t=>{const s=t!==void 0?t.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,u=s.body.scrollTop||s.documentElement.scrollTop;return Os(a,u)},zu=(t,s,a)=>{const h=(a!==void 0?a.dom:document).defaultView;h&&h.scrollTo(t,s)},_d=t=>{const s=t===void 0?window:t;return so().browser.isFirefox()?P.none():P.from(s.visualViewport)},mg=(t,s,a,u)=>({x:t,y:s,width:a,height:u,right:t+a,bottom:s+u}),Ef=t=>{const s=t===void 0?window:t,a=s.document,u=ji(pt.fromDom(a));return _d(s).fold(()=>{const h=s.document.documentElement,g=h.clientWidth,b=h.clientHeight;return mg(u.left,u.top,g,b)},h=>mg(Math.max(h.pageLeft,u.left),Math.max(h.pageTop,u.top),h.width,h.height))},Wl=()=>pt.fromDom(document),Tf=(t,s)=>t.view(s).fold(ie([]),u=>{const h=t.owner(u),g=Tf(t,h);return[u].concat(g)}),ub=(t,s)=>{const a=s.owner(t),u=Tf(s,a);return P.some(u)};var pg=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?P.none():P.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(pt.fromDom)},owner:t=>Fr(t)});const bm=t=>{const s=Wl(),a=ji(s);return ub(t,pg).fold(Fe(Vi,t),h=>{const g=vf(t),b=Cs(h,(C,E)=>{const M=vf(E);return{left:C.left+M.left,top:C.top+M.top}},{left:0,top:0});return Os(b.left+g.left+a.left,b.top+g.top+a.top)})},Vu=(t,s,a)=>({point:t,width:s,height:a}),Ih=(t,s,a,u)=>({x:t,y:s,width:a,height:u}),Vs=(t,s,a,u)=>({x:t,y:s,width:a,height:u,right:t+a,bottom:s+u}),Ks=t=>{const s=Vi(t),a=ho(t),u=Za(t);return Vs(s.left,s.top,a,u)},lu=t=>{const s=bm(t),a=ho(t),u=Za(t);return Vs(s.left,s.top,a,u)},_f=(t,s)=>{const a=Math.max(t.x,s.x),u=Math.max(t.y,s.y),h=Math.min(t.right,s.right),g=Math.min(t.bottom,s.bottom),b=h-a,C=g-u;return Vs(a,u,b,C)},kf=(t,s)=>Vo(s,(a,u)=>_f(a,u),t),ur=()=>Ef(window),un=t=>{let s=t;return{get:()=>s,set:h=>{s=h}}},Ec=t=>{const s=un(P.none()),a=()=>s.get().each(t);return{clear:()=>{a(),s.set(P.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:C=>{a(),s.set(P.some(C))}}},Af=()=>Ec(t=>t.destroy()),_a=()=>Ec(t=>t.unbind()),cs=()=>{const t=Ec(F);return{...t,on:a=>t.get().each(a)}};var kd=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Rh=t=>{const s=g=>g(t),a=ie(t),u=()=>h,h={tag:!0,inner:t,fold:(g,b)=>b(t),isValue:Oe,isError:Me,map:g=>Xn.value(g(t)),mapError:u,bind:s,exists:s,forall:s,getOr:a,or:u,getOrThunk:a,orThunk:u,getOrDie:a,each:g=>{g(t)},toOptional:()=>P.some(t)};return h},Zl=t=>{const s=()=>a,a={tag:!1,inner:t,fold:(u,h)=>u(t),isValue:Me,isError:Oe,map:s,mapError:u=>Xn.error(u(t)),bind:s,exists:Me,forall:Oe,getOr:He,or:He,getOrThunk:Be,orThunk:Be,getOrDie:xe(String(t)),each:F,toOptional:P.none};return a},Xn={value:Rh,error:Zl,fromOption:(t,s)=>t.fold(()=>Zl(s),Rh)};var dr;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(dr||(dr={}));const Uu=(t,s,a)=>t.stype===dr.Error?s(t.serror):a(t.svalue),Ad=t=>{const s=[],a=[];return wt(t,u=>{Uu(u,h=>a.push(h),h=>s.push(h))}),{values:s,errors:a}},ym=(t,s)=>t.stype===dr.Error?{stype:dr.Error,serror:s(t.serror)}:t,gg=(t,s)=>t.stype===dr.Value?{stype:dr.Value,svalue:s(t.svalue)}:t,Od=(t,s)=>t.stype===dr.Value?s(t.svalue):t,Mi=(t,s)=>t.stype===dr.Error?s(t.serror):t,pl=t=>({stype:dr.Value,svalue:t}),wm=t=>({stype:dr.Error,serror:t}),Is={fromResult:t=>t.fold(wm,pl),toResult:t=>Uu(t,Xn.error,Xn.value),svalue:pl,partition:Ad,serror:wm,bind:Od,bindError:Mi,map:gg,mapError:ym,fold:Uu},ka=(t,s,a,u)=>({tag:"field",key:t,newKey:s,presence:a,prop:u}),Dd=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),ms=(t,s,a)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return a(t.newKey,t.instantiator)}},Tc=(t,s)=>s,fb=(t,s)=>N(t)&&N(s)?Us(t,s):s,Sm=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let u=0;u<s.length;u++){const h=s[u];for(const g in h)Gn(h,g)&&(a[g]=t(a[g],h[g]))}return a},Us=Sm(fb),Of=Sm(Tc),Ga=()=>({tag:"required",process:{}}),Df=t=>({tag:"defaultedThunk",process:t}),xm=t=>Df(ie(t)),Cm=()=>({tag:"option",process:{}}),Mf=t=>({tag:"mergeWithThunk",process:t}),A=t=>Mf(ie(t)),B=(t,s)=>t.length>0?Is.svalue(Us(s,Of.apply(void 0,t))):Is.svalue(s),K=t=>Re(Is.serror,nn)(t),St={consolidateObj:(t,s)=>{const a=Is.partition(t);return a.errors.length>0?K(a.errors):B(a.values,s)},consolidateArr:t=>{const s=Is.partition(t);return s.errors.length>0?K(s.errors):Is.svalue(s.values)}},xn=t=>k(t)&&ht(t).length>100?" removed due to size":JSON.stringify(t,null,2),Wn=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:ie("... (only showing first ten failures)")}]):t;return Ue(s,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},Bn=(t,s)=>Is.serror([{path:t,getErrorInfo:s}]),pn=(t,s,a)=>Bn(t,()=>'Could not find valid *required* value for "'+s+'" in '+xn(a)),Ko=(t,s)=>Bn(t,()=>'Choice schema did not contain choice key: "'+s+'"'),Jr=(t,s,a)=>Bn(t,()=>'The chosen schema: "'+a+'" did not exist in branches: '+xn(s)),Ba=(t,s)=>Bn(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),cu=(t,s)=>Bn(t,ie(s)),Em=t=>{const s=(u,h)=>Is.bindError(t(h),g=>cu(u,g)),a=ie("val");return{extract:s,toString:a}},mb=Em(Is.svalue),Zi=(t,s,a,u)=>_t(s,a).fold(()=>pn(t,a,s),u),hb=(t,s,a,u)=>{const h=_t(t,s).getOrThunk(()=>a(t));return u(h)},yx=(t,s,a)=>a(_t(t,s)),pb=(t,s,a,u)=>{const h=_t(t,s).map(g=>g===!0?a(t):g);return u(h)},Pr=(t,s,a,u,h)=>{const g=C=>h.extract(s.concat([u]),C),b=C=>C.fold(()=>Is.svalue(P.none()),E=>{const M=h.extract(s.concat([u]),E);return Is.map(M,P.some)});switch(t.tag){case"required":return Zi(s,a,u,g);case"defaultedThunk":return hb(a,u,t.process,g);case"option":return yx(a,u,b);case"defaultedOptionThunk":return pb(a,u,t.process,b);case"mergeWithThunk":return hb(a,u,ie({}),C=>{const E=Us(t.process(a),C);return g(E)})}},Md=(t,s,a)=>{const u={},h=[];for(const g of a)ms(g,(b,C,E,M)=>{const I=Pr(E,t,s,b,M);Is.fold(I,z=>{h.push(...z)},z=>{u[C]=z})},(b,C)=>{u[b]=C(s)});return h.length>0?Is.serror(h):Is.svalue(u)},Wr=t=>({extract:(u,h)=>t().extract(u,h),toString:()=>t().toString()}),gb=t=>ht(So(t,ee)),qi=t=>{const s=Y(t),a=Cs(t,(h,g)=>ms(g,b=>Us(h,{[b]:!0}),ie(h)),{});return{extract:(h,g)=>{const b=R(g)?[]:gb(g),C=Dn(b,E=>!Ws(a,E));return C.length===0?s.extract(h,g):Ba(h,C)},toString:s.toString}},Y=t=>({extract:(u,h)=>Md(u,h,t),toString:()=>`obj{
`+Ue(t,h=>ms(h,(g,b,C,E)=>g+" -> "+E.toString(),(g,b)=>"state("+g+")")).join(`
`)+"}"}),_=t=>({extract:(u,h)=>{const g=Ue(h,(b,C)=>t.extract(u.concat(["["+C+"]"]),b));return St.consolidateArr(g)},toString:()=>"array("+t.toString()+")"}),j=(t,s)=>{const a=s!==void 0?s:He;return{extract:(g,b)=>{const C=[];for(const E of t){const M=E.extract(g,b);if(M.stype===dr.Value)return{stype:dr.Value,svalue:a(M.svalue)};C.push(M)}return St.consolidateArr(C)},toString:()=>"oneOf("+Ue(t,g=>g.toString()).join(", ")+")"}},me=(t,s)=>{const a=(g,b)=>_(Em(t)).extract(g,b);return{extract:(g,b)=>{const C=ht(b),E=a(g,C);return Is.bind(E,M=>{const I=Ue(M,z=>ka(z,z,Ga(),s));return Y(I).extract(g,b)})},toString:()=>"setOf("+s.toString()+")"}},Ye=(t,s)=>{const a=Ui(s);return{extract:(g,b)=>a().extract(g,b),toString:()=>a().toString()}},nt=Re(_,Y),xt=ie(mb),Ft=(t,s)=>Em(a=>{const u=typeof a;return t(a)?Is.svalue(a):Is.serror(`Expected type: ${s} but got: ${u}`)}),an=Ft(re,"number"),at=Ft(T,"string"),Tn=Ft(R,"boolean"),An=Ft(X,"function"),Po=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>Po(t[s]));default:return!1}},Jn=Em(t=>Po(t)?Is.svalue(t):Is.serror("Expected value to be acceptable for sending via postMessage")),Oo=(t,s,a,u)=>_t(a,u).fold(()=>Jr(t,a,u),g=>g.extract(t.concat(["branch: "+u]),s)),yo=(t,s)=>({extract:(h,g)=>_t(g,t).fold(()=>Ko(h,t),C=>Oo(h,g,s,C)),toString:()=>"chooseOn("+t+"). Possible values: "+ht(s)}),xo=()=>_(mb),Rs=t=>Em(s=>t(s).fold(Is.serror,Is.svalue)),hs=(t,s)=>me(a=>Is.fromResult(t(a)),s),Jo=(t,s,a)=>{const u=s.extract([t],a);return Is.mapError(u,h=>({input:a,errors:h}))},Yn=(t,s,a)=>Is.toResult(Jo(t,s,a)),ot=t=>t.fold(s=>{throw new Error(Ts(s))},He),Co=(t,s,a)=>ot(Yn(t,s,a)),Ts=t=>`Errors: 
`+Wn(t.errors).join(`
`)+`

Input object: `+xn(t.input),_o=(t,s)=>yo(t,qt(s,Y)),_s=(t,s)=>Ye(t,s),Wo=ka,ao=Dd,Xa=t=>Rs(s=>Ot(t,s)?Xn.value(s):Xn.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),it=t=>Wo(t,t,Ga(),xt()),lo=(t,s)=>Wo(t,t,Ga(),s),$a=t=>lo(t,an),Ro=t=>lo(t,at),fr=(t,s)=>Wo(t,t,Ga(),Xa(s)),uu=t=>lo(t,Tn),Pi=t=>lo(t,An),Gi=(t,s)=>Wo(t,t,Cm(),Em(a=>Is.serror("The field: "+t+" is forbidden. "+s))),bs=(t,s)=>Wo(t,t,Ga(),Y(s)),Aa=(t,s)=>Wo(t,t,Ga(),nt(s)),br=(t,s)=>Wo(t,t,Ga(),_(s)),go=t=>Wo(t,t,Cm(),xt()),gl=(t,s)=>Wo(t,t,Cm(),s),Tm=t=>gl(t,an),Qr=t=>gl(t,at),$h=(t,s)=>gl(t,Xa(s)),du=t=>gl(t,An),fu=(t,s)=>gl(t,_(s)),Ds=(t,s)=>gl(t,Y(s)),dy=(t,s)=>gl(t,qi(s)),Ie=(t,s)=>Wo(t,t,xm(s),xt()),vl=(t,s,a)=>Wo(t,t,xm(s),a),vg=(t,s)=>vl(t,s,an),Xi=(t,s)=>vl(t,s,at),_c=(t,s,a)=>vl(t,s,Xa(a)),yr=(t,s)=>vl(t,s,Tn),ks=(t,s)=>vl(t,s,An),Fh=(t,s)=>vl(t,s,Jn),Pd=(t,s,a)=>vl(t,s,_(a)),bg=(t,s,a)=>vl(t,s,Y(a)),bl={generate:t=>{if(!D(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],a={};return wt(t,(u,h)=>{const g=ht(u);if(g.length!==1)throw new Error("one and only one name per case");const b=g[0],C=u[b];if(a[b]!==void 0)throw new Error("duplicate key detected:"+b);if(b==="cata")throw new Error("cannot have a case named cata (sorry)");if(!D(C))throw new Error("case arguments must be an array");s.push(b),a[b]=(...E)=>{const M=E.length;if(M!==C.length)throw new Error("Wrong number of arguments to case "+b+". Expected "+C.length+" ("+C+"), got "+M);return{fold:(...z)=>{if(z.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+z.length);return z[h].apply(null,E)},match:z=>{const Q=ht(z);if(s.length!==Q.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+Q.join(","));if(!Tr(s,le=>Ot(Q,le)))throw new Error("Not all branches were specified when using match. Specified: "+Q.join(", ")+`
Required: `+s.join(", "));return z[b].apply(null,E)},log:z=>{console.log(z,{constructors:s,constructor:b,params:E})}}}}),a}};bl.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const yg=t=>{const s=[],a=[];return wt(t,u=>{u.fold(h=>{s.push(h)},h=>{a.push(h)})}),{errors:s,values:a}},vb=(t,s)=>{const a={};return tn(t,(u,h)=>{Ot(s,h)||(a[h]=u)}),a},bb=(t,s)=>({[t]:s}),fy=t=>{const s={};return wt(t,a=>{s[a.key]=a.value}),s},wx=(t,s)=>vb(t,s),Wu=(t,s)=>bb(t,s),Pf=t=>fy(t),Sx=(t,s)=>t.length===0?Xn.value(s):Xn.value(Us(s,Of.apply(void 0,t))),G$=t=>Xn.error(nn(t)),X$=(t,s)=>{const a=yg(t);return a.errors.length>0?G$(a.errors):Sx(a.values,s)},my=t=>X(t)?t:Me,hy=(t,s,a)=>{let u=t.dom;const h=my(a);for(;u.parentNode;){u=u.parentNode;const g=pt.fromDom(u),b=s(g);if(b.isSome())return b;if(h(g))break}return P.none()},wg=(t,s,a)=>{const u=s(t),h=my(a);return u.orThunk(()=>h(t)?P.none():hy(t,s,h))},_m=(t,s)=>Uo(t.element,s.event.target),Y$={can:Oe,abort:Me,run:F},km=t=>{if(!Ws(t,"can")&&!Ws(t,"abort")&&!Ws(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...Y$,...t}},K$=(t,s)=>(...a)=>Vo(t,(u,h)=>u&&s(h).apply(void 0,a),!0),nD=(t,s)=>(...a)=>Vo(t,(u,h)=>u||s(h).apply(void 0,a),!1),J$=t=>X(t)?{can:Oe,abort:Me,run:t}:t,oD=t=>{const s=K$(t,h=>h.can),a=nD(t,h=>h.abort);return{can:s,abort:a,run:(...h)=>{wt(t,g=>{g.run.apply(void 0,h)})}}},Yi=ie,Nd=Yi("touchstart"),py=Yi("touchmove"),Am=Yi("touchend"),sD=Yi("touchcancel"),yl=Yi("mousedown"),gy=Yi("mousemove"),yb=Yi("mouseout"),xx=Yi("mouseup"),Ld=Yi("mouseover"),ju=Yi("focusin"),vy=Yi("focusout"),Zu=Yi("keydown"),by=Yi("keyup"),Id=Yi("input"),Sg=Yi("change"),zh=Yi("click"),Q$=Yi("transitioncancel"),qu=Yi("transitionend"),eF=Yi("transitionstart"),tF=Yi("selectstart"),wr=t=>ie("alloy."+t),Cx={tap:wr("tap")},Nf=wr("focus"),wb=wr("blur.post"),yy=wr("paste.post"),Lf=wr("receive"),kc=wr("execute"),wy=wr("focus.item"),Gu=Cx.tap,aa=wr("longpress"),Sb=wr("sandbox.close"),Ex=wr("typeahead.cancel"),Sy=wr("system.init"),nF=wr("system.touchmove"),rD=wr("system.touchend"),xy=wr("system.scroll"),xg=wr("system.resize"),Xu=wr("system.attached"),Rd=wr("system.detached"),Vh=wr("system.dismissRequested"),iD=wr("system.repositionRequested"),Cg=wr("focusmanager.shifted"),Tx=wr("slotcontainer.visibility"),aD=wr("system.external.element.scroll"),lD=wr("change.tab"),cD=wr("dismiss.tab"),Eg=wr("highlight"),Uh=wr("dehighlight"),Qn=(t,s)=>{Ey(t,t.element,s,{})},Sn=(t,s,a)=>{Ey(t,t.element,s,a)},Om=t=>{Qn(t,kc())},Cy=(t,s,a)=>{Ey(t,s,a,{})},Ey=(t,s,a,u)=>{const h={target:s,...u};t.getSystem().triggerEvent(a,s,h)},_x=(t,s,a,u)=>{const h={...u,target:s};t.getSystem().triggerEvent(a,s,h)},If=(t,s,a,u)=>{t.getSystem().triggerEvent(a,s,u.event)},Bs=t=>Pf(t),uD=(t,s)=>({key:t,value:km({abort:s})}),kx=(t,s)=>({key:t,value:km({can:s})}),oF=t=>({key:t,value:km({run:(s,a)=>{a.event.prevent()}})}),mt=(t,s)=>({key:t,value:km({run:s})}),Ty=(t,s,a)=>({key:t,value:km({run:(u,h)=>{s.apply(void 0,[u,h].concat(a))}})}),sF=t=>s=>mt(t,s),xb=t=>s=>({key:t,value:km({run:(a,u)=>{_m(a,u)&&s(a,u)}})}),rF=(t,s)=>mt(t,(a,u)=>{a.getSystem().getByUid(s).each(h=>{If(h,h.element,t,u)})}),Wh=(t,s,a)=>{const u=s.partUids[a];return rF(t,u)},Ax=(t,s)=>mt(t,(a,u)=>{const h=u.event,g=a.getSystem().getByDom(h.target).getOrThunk(()=>wg(h.target,C=>a.getSystem().getByDom(C).toOptional(),Me).getOr(a));s(a,g,u)}),Yu=t=>mt(t,(s,a)=>{a.cut()}),Ox=t=>mt(t,(s,a)=>{a.stop()}),Tg=(t,s)=>xb(t)(s),$s=xb(Xu()),Bd=xb(Rd()),dD=xb(Sy()),$d=sF(kc()),Dx=(t,s,a)=>{const u=a.toString(),h=u.indexOf(")")+1,g=u.indexOf("("),b=u.substring(g+1,h-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:Mx(b.slice(0,1).concat(b.slice(3)))}),t},Mx=t=>Ue(t,s=>ya(s,"/*")?s.substring(0,s.length-2):s),Px=(t,s)=>{const a=t.toString(),u=a.indexOf(")")+1,h=a.indexOf("("),g=a.substring(h+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:Mx(g)}),t},Nx=(t,s)=>{const a=s.toString(),u=a.indexOf(")")+1,h=a.indexOf("("),g=a.substring(h+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Mx(g.slice(1))}),t},wl=t=>({classes:q(t.classes)?[]:t.classes,attributes:q(t.attributes)?{}:t.attributes,styles:q(t.styles)?{}:t.styles}),iF=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),Cb=(t,s,a)=>$d(u=>{a(u,t,s)}),Lx=(t,s,a)=>dD((u,h)=>{a(u,t,s)}),jh=(t,s,a,u,h,g)=>{const b=qi(t),C=Ds(s,[dy("config",t)]);return fD(b,C,s,a,u,h,g)},Ix=(t,s,a,u,h,g)=>{const b=t,C=Ds(s,[gl("config",t)]);return fD(b,C,s,a,u,h,g)},aF=(t,s,a)=>Dx((h,...g)=>{const b=[h].concat(g);return h.config({name:ie(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+a)},C=>{const E=Array.prototype.slice.call(b,1);return s.apply(void 0,[h,C.config,C.state].concat(E))})},a,s),Rx=t=>({key:t,value:void 0}),fD=(t,s,a,u,h,g,b)=>{const C=z=>Ws(z,a)?z[a]():P.none(),E=qt(h,(z,Q)=>aF(a,z,Q)),I={...qt(g,(z,Q)=>Px(z,Q)),...E,revoke:Fe(Rx,a),config:z=>{const Q=Co(a+"-config",t,z);return{key:a,value:{config:Q,me:I,configAsRaw:Ui(()=>Co(a+"-config",t,z)),initialConfig:z,state:b}}},schema:ie(s),exhibit:(z,Q)=>lr(C(z),_t(u,"exhibit"),(te,le)=>le(Q,te.config,te.state)).getOrThunk(()=>wl({})),name:ie(a),handlers:z=>C(z).map(Q=>_t(u,"events").getOr(()=>({}))(Q.config,Q.state)).getOr({})};return I},Sl={init:()=>xl({readState:ie("No State required")})},xl=t=>t,At=t=>Pf(t),mD=qi([it("fields"),it("name"),Ie("active",{}),Ie("apis",{}),Ie("state",Sl),Ie("extra",{})]),Ni=t=>{const s=Co("Creating behaviour: "+t.name,mD,t);return jh(s.fields,s.name,s.active,s.apis,s.extra,s.state)},hD=qi([it("branchKey"),it("branches"),it("name"),Ie("active",{}),Ie("apis",{}),Ie("state",Sl),Ie("extra",{})]),pD=t=>{const s=Co("Creating behaviour: "+t.name,hD,t);return Ix(_o(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},Fs=ie(void 0),Bx=(t,s)=>{const a=Mn(t,s);return a===void 0||a===""?[]:a.split(" ")},lF=(t,s,a)=>{const h=Bx(t,s).concat([a]);return vn(t,s,h.join(" ")),!0},cF=(t,s,a)=>{const u=Dn(Bx(t,s),h=>h!==a);return u.length>0?vn(t,s,u.join(" ")):W(t,s),!1},Rf=t=>t.dom.classList!==void 0,_y=t=>Bx(t,"class"),Fd=(t,s)=>lF(t,"class",s),gD=(t,s)=>cF(t,"class",s),uF=(t,s)=>Ot(_y(t),s)?gD(t,s):Fd(t,s),Nr=(t,s)=>{Rf(t)?t.dom.classList.add(s):Fd(t,s)},_g=t=>{(Rf(t)?t.dom.classList:_y(t)).length===0&&W(t,"class")},er=(t,s)=>{Rf(t)?t.dom.classList.remove(s):gD(t,s),_g(t)},vD=(t,s)=>{const a=Rf(t)?t.dom.classList.toggle(s):uF(t,s);return _g(t),a},Cl=(t,s)=>Rf(t)&&t.dom.classList.contains(s),kg=(t,s)=>{wt(s,a=>{Nr(t,a)})},Ku=(t,s)=>{wt(s,a=>{er(t,a)})},FY=(t,s)=>{wt(s,a=>{vD(t,a)})},HY=(t,s)=>Tr(s,a=>Cl(t,a)),zY=t=>{const s=t.dom.classList,a=new Array(s.length);for(let u=0;u<s.length;u++){const h=s.item(u);h!==null&&(a[u]=h)}return a},dF=t=>Rf(t)?zY(t):_y(t),vi=(t,s,a,u,h)=>{const g=b=>b+"px";return{position:t,left:s.map(g),top:a.map(g),right:u.map(g),bottom:h.map(g)}},Fa=t=>({...t,position:P.some(t.position)}),Eb=(t,s)=>{ds(t,Fa(s))},Tb=t=>(Xs(vs(t,"position"),"fixed")?P.none():Bl(t)).orThunk(()=>{const u=pt.fromTag("span");return xa(t).bind(h=>{Di(h,u);const g=Bl(u);return Ta(u),g})}),bD=t=>Tb(t).map(Vi).getOrThunk(()=>Os(0,0)),_b=(t,s)=>{const a=t.element;Nr(a,s.transitionClass),er(a,s.fadeOutClass),Nr(a,s.fadeInClass),s.onShow(t)},Zh=(t,s)=>{const a=t.element;Nr(a,s.transitionClass),er(a,s.fadeInClass),Nr(a,s.fadeOutClass),s.onHide(t)},Ag=(t,s)=>t.y<s.bottom&&t.bottom>s.y,Og=(t,s)=>t.y>=s.y,Dg=(t,s)=>t.bottom<=s.bottom,qh=(t,s,a)=>({location:"top",leftX:s,topY:a.bounds.y-t.y}),ky=(t,s,a)=>({location:"bottom",leftX:s,bottomY:t.bottom-a.bounds.bottom}),Ay=t=>t.box.x-t.win.x,fF=(t,s,a)=>{const u=s.win,h=s.box,g=Ay(s);return bt(t,b=>{switch(b){case"bottom":return Dg(h,a.bounds)?P.none():P.some(ky(u,g,a));case"top":return Og(h,a.bounds)?P.none():P.some(qh(u,g,a));default:return P.none()}}).getOr({location:"no-dock"})},yD=(t,s,a)=>Tr(t,u=>{switch(u){case"bottom":return Dg(s,a.bounds);case"top":return Og(s,a.bounds)}}),wD=(t,s)=>{const a=s.optScrollEnv.fold(ie(t.bounds.y),u=>u.scrollElmTop+(t.bounds.y-u.currentScrollTop));return Os(t.bounds.x,a)},SD=(t,s)=>{const a=s.optScrollEnv.fold(ie(t.y),u=>t.y+u.currentScrollTop-u.scrollElmTop);return Os(t.x,a)},$x=(t,s,a)=>a.getInitialPos().map(u=>{const h=wD(u,s);return{box:Vs(h.left,h.top,ki(t),fs(t)),location:u.location}}),xD=(t,s,a,u,h)=>{const g=SD(s,a),b=Vs(g.left,g.top,s.width,s.height);u.setInitialPos({style:Yr(t),position:ts(t,"position")||"static",bounds:b,location:h.location})},mF=(t,s,a,u,h)=>{u.getInitialPos().fold(()=>xD(t,s,a,u,h),()=>F)},CD=(t,s,a)=>a.getInitialPos().bind(u=>{var h;switch(a.clearInitialPos(),u.position){case"static":return P.some({morph:"static"});case"absolute":const g=Tb(t).getOr(Hi()),b=Ks(g),C=(h=g.dom.scrollTop)!==null&&h!==void 0?h:0;return P.some({morph:"absolute",positionCss:vi("absolute",_t(u.style,"left").map(E=>s.x-b.x),_t(u.style,"top").map(E=>s.y-b.y+C),_t(u.style,"right").map(E=>b.right-s.right),_t(u.style,"bottom").map(E=>b.bottom-s.bottom))});default:return P.none()}}),ED=(t,s,a)=>$x(t,s,a).filter(({box:u})=>yD(a.getModes(),u,s)).bind(({box:u})=>CD(t,u,a)),Oy=t=>{switch(t.location){case"top":return P.some({morph:"fixed",positionCss:vi("fixed",P.some(t.leftX),P.some(t.topY),P.none(),P.none())});case"bottom":return P.some({morph:"fixed",positionCss:vi("fixed",P.some(t.leftX),P.none(),P.none(),P.some(t.bottomY))});default:return P.none()}},kb=(t,s,a)=>{const u=Ks(t),h=ur(),g=fF(a.getModes(),{win:h,box:u},s);return g.location==="top"||g.location==="bottom"?(xD(t,u,s,a,g),Oy(g)):P.none()},hF=(t,s,a)=>ED(t,s,a).orThunk(()=>s.optScrollEnv.bind(u=>$x(t,s,a)).bind(({box:u,location:h})=>{const g=ur(),b=Ay({win:g,box:u}),C=h==="top"?qh(g,b,s):ky(g,b,s);return Oy(C)})),pF=(t,s,a)=>{const u=t.element;return Xs(vs(u,"position"),"fixed")?hF(u,s,a):kb(u,s,a)},TD=(t,s,a)=>{const u=t.element;return $x(u,s,a).bind(({box:h})=>CD(u,h,a))},Gh=(t,s,a,u)=>{const h=Ks(t),g=ur(),b=Ay({win:g,box:h}),C=u(g,b,s);return C.location==="bottom"||C.location==="top"?(mF(t,h,s,a,C),Oy(C)):P.none()},Fx=(t,s,a)=>{a.setDocked(!1),wt(["left","right","top","bottom","position"],u=>Zn(t.element,u)),s.onUndocked(t)},Hx=(t,s,a,u)=>{const h=u.position==="fixed";a.setDocked(h),Eb(t.element,u),(h?s.onDocked:s.onUndocked)(t)},_D=(t,s,a,u,h=!1)=>{s.contextual.each(g=>{g.lazyContext(t).each(b=>{const C=Ag(b,u.bounds);C!==a.isVisible()&&(a.setVisible(C),h&&!C?(kg(t.element,[g.fadeOutClass]),g.onHide(t)):(C?_b:Zh)(t,g))})})},zx=(t,s,a,u,h)=>{_D(t,s,a,u,!0),Hx(t,s,a,h.positionCss)},Xh=(t,s,a,u,h)=>{switch(h.morph){case"static":return Fx(t,s,a);case"absolute":return Hx(t,s,a,h.positionCss);case"fixed":return zx(t,s,a,u,h)}},VY=(t,s,a)=>{const u=s.lazyViewport(t);_D(t,s,a,u),pF(t,u,a).each(h=>{Xh(t,s,a,u,h)})},Vx=(t,s,a)=>{const u=t.element;a.setDocked(!1);const h=s.lazyViewport(t);TD(t,h,a).each(g=>{switch(g.morph){case"static":{Fx(t,s,a);break}case"absolute":{Hx(t,s,a,g.positionCss);break}}}),a.setVisible(!0),s.contextual.each(g=>{Ku(u,[g.fadeInClass,g.fadeOutClass,g.transitionClass]),g.onShow(t)}),Dm(t,s,a)},Dm=(t,s,a)=>{t.getSystem().isConnected()&&VY(t,s,a)},kD=(t,s,a)=>{a.isDocked()&&Vx(t,s,a)},Ux=t=>(s,a,u)=>{const h=a.lazyViewport(s);Gh(s.element,h,u,t).each(b=>{zx(s,a,u,h,b)})},gF=Ux(qh),vF=Ux(ky);var bF=Object.freeze({__proto__:null,refresh:Dm,reset:kD,isDocked:(t,s,a)=>a.isDocked(),getModes:(t,s,a)=>a.getModes(),setModes:(t,s,a,u)=>a.setModes(u),forceDockToTop:gF,forceDockToBottom:vF}),yF=Object.freeze({__proto__:null,events:(t,s)=>Bs([Tg(qu(),(a,u)=>{t.contextual.each(h=>{Cl(a.element,h.transitionClass)&&(Ku(a.element,[h.transitionClass,h.fadeInClass]),(s.isVisible()?h.onShown:h.onHidden)(a)),u.stop()})}),mt(xy(),(a,u)=>{Dm(a,t,s)}),mt(aD(),(a,u)=>{Dm(a,t,s)}),mt(xg(),(a,u)=>{kD(a,t,s)})])});const Yh=(t,s)=>{const u=(s||document).createElement("div");return u.innerHTML=t,ui(pt.fromDom(u))},Dy=t=>t.dom.innerHTML,Mm=(t,s)=>{const u=Fr(t).dom,h=pt.fromDom(u.createDocumentFragment()),g=Yh(s,u);Td(h,g),Kr(t),Di(t,h)},Mg=t=>{const s=pt.fromTag("div"),a=pt.fromDom(t.dom.cloneNode(!0));return Di(s,a),Dy(s)},AD=(t,s)=>pt.fromDom(t.dom.cloneNode(s)),Ob=t=>AD(t,!1),My=t=>AD(t,!0),wF=t=>{if(ff(t))return"#shadow-root";{const s=Ob(t);return Mg(s)}},Pm=t=>wF(t),Kh="unknown";var Ac;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Ac||(Ac={}));const Wx=un({}),bi=(t,s)=>{const a=[],u=new Date().getTime();return{logEventCut:(h,g,b)=>{a.push({outcome:"cut",target:g,purpose:b})},logEventStopped:(h,g,b)=>{a.push({outcome:"stopped",target:g,purpose:b})},logNoParent:(h,g,b)=>{a.push({outcome:"no-parent",target:g,purpose:b})},logEventNoHandlers:(h,g)=>{a.push({outcome:"no-handlers-left",target:g})},logEventResponse:(h,g,b)=>{a.push({outcome:"response",purpose:b,target:g})},write:()=>{const h=new Date().getTime();Ot(["mousemove","mouseover","mouseout",Sy()],t)||console.log(t,{event:t,time:h-u,target:s.dom,sequence:Ue(a,g=>Ot(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+Pm(g.target)+")":g.outcome)})}}},Py=(t,s,a)=>{switch(_t(Wx.get(),t).orThunk(()=>{const h=ht(Wx.get());return bt(h,g=>t.indexOf(g)>-1?P.some(Wx.get()[g]):P.none())}).getOr(Ac.NORMAL)){case Ac.NORMAL:return a(Pg());case Ac.LOGGING:{const h=bi(t,s),g=a(h);return h.write(),g}case Ac.STOP:return!0}},ql=["alloy/data/Fields","alloy/debugging/Debugging"],SF=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return It(s,a=>a.indexOf("alloy")>0&&!jt(ql,u=>a.indexOf(u)>-1)).getOr(Kh)}else return Kh},xF={logEventCut:F,logEventStopped:F,logNoParent:F,logEventNoHandlers:F,logEventResponse:F,write:F},Nm=(t,s,a)=>Py(t,s,a),Pg=ie(xF),Bf=ie([it("menu"),it("selectedMenu")]),El=ie([it("item"),it("selectedItem")]);ie(Y(El().concat(Bf())));const OD=ie(Y(El())),CF=bs("initSize",[it("numColumns"),it("numRows")]),jx=()=>lo("markers",OD()),Ng=()=>bs("markers",[it("backgroundMenu")].concat(Bf()).concat(El())),Jh=t=>bs("markers",Ue(t,it)),Qh=(t,s,a)=>(SF(),Wo(s,s,a,Rs(u=>Xn.value((...h)=>u.apply(void 0,h))))),Eo=t=>Qh("onHandler",t,xm(F)),Tl=t=>Qh("onKeyboardHandler",t,xm(P.none)),$f=t=>Qh("onHandler",t,Ga()),Ny=t=>Qh("onKeyboardHandler",t,Ga()),ps=(t,s)=>ao(t,ie(s)),Lm=t=>ao(t,He),Zx=ie(CF);var EF=[Ds("contextual",[Ro("fadeInClass"),Ro("fadeOutClass"),Ro("transitionClass"),Pi("lazyContext"),Eo("onShow"),Eo("onShown"),Eo("onHide"),Eo("onHidden")]),ks("lazyViewport",()=>({bounds:ur(),optScrollEnv:P.none()})),Pd("modes",["top","bottom"],at),Eo("onDocked"),Eo("onUndocked")],Db=Object.freeze({__proto__:null,init:t=>{const s=un(!1),a=un(!0),u=cs(),h=un(t.modes),g=()=>`docked:  ${s.get()}, visible: ${a.get()}, modes: ${h.get().join(",")}`;return xl({isDocked:s.get,setDocked:s.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:a.get,setVisible:a.set,getModes:h.get,setModes:h.set,readState:g})}});const Ms=Ni({fields:EF,name:"docking",active:yF,apis:bF,state:Db}),_F=(t,s,a)=>Uo(s,t.element)&&!Uo(s,a),kF=Bs([kx(Nf(),(t,s)=>{const a=s.event,u=a.originator,h=a.target;return _F(t,u,h)?(console.warn(Nf()+` did not get interpreted by the desired target. 
Originator: `+Pm(u)+`
Target: `+Pm(h)+`
Check the `+Nf()+" event handlers"),!1):!0})]);var DD=Object.freeze({__proto__:null,events:kF});const Lg=(t,s,a,u)=>{const h=t+s;return h>u?a:h<a?u:h},_l=(t,s,a)=>Math.min(Math.max(t,s),a),Im=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let MD=0;const Kt=t=>{const a=new Date().getTime(),u=Math.floor(Im()*1e9);return MD++,t+"_"+u+MD+String(a)},PD=ie("alloy-id-"),AF=ie("data-alloy-id"),OF=PD(),qx=AF(),DF=(t,s)=>{const a=Kt(OF+t);return Gx(s,a),a},Gx=(t,s)=>{Object.defineProperty(t.dom,qx,{value:s,writable:!0})},Mb=t=>{const s=To(t)?t.dom[qx]:null;return P.from(s)},Ig=t=>Kt(t),ND=He,Ly=t=>{const s=h=>`The component must be in a context to execute: ${h}`+(t?`
`+Pm(t().element)+" is not in context.":""),a=h=>()=>{throw new Error(s(h))},u=h=>()=>{console.warn(s(h))};return{debugInfo:ie("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:Me}},MF=Ly(),Gl=Kt("alloy-premade"),LD=t=>(Object.defineProperty(t.element.dom,Gl,{value:t.uid,writable:!0}),Wu(Gl,t)),Xx=t=>Gn(t.dom,Gl),ID=t=>_t(t,Gl),Iy=t=>Nx((s,...a)=>t(s.getApis(),s,...a),t),PF=(t,s)=>{const a=Ue(s,h=>Ds(h.name(),[it("config"),Ie("state",Sl)])),u=Yn("component.behaviours",Y(a),t.behaviours).fold(h=>{throw new Error(Ts(h)+`
Complete spec:
`+JSON.stringify(t,null,2))},He);return{list:s,data:qt(u,h=>{const g=h.map(b=>({config:b.config,state:b.state.init(b.config)}));return ie(g)})}},RD=t=>t.list,BD=t=>t.data,$D=(t,s)=>{const a={};return tn(t,(u,h)=>{tn(u,(g,b)=>{const C=_t(a,b).getOr([]);a[b]=C.concat([s(h,g)])})}),a},FD=(t,s,a,u)=>{const h={...s};wt(a,I=>{h[I.name()]=I.exhibit(t,u)});const g=$D(h,(I,z)=>({name:I,modification:z})),b=I=>Cs(I,(z,Q)=>({...Q.modification,...z}),{}),C=Cs(g.classes,(I,z)=>z.modification.concat(I),[]),E=b(g.attributes),M=b(g.styles);return wl({classes:C,attributes:E,styles:M})},NF=(t,s,a,u)=>{try{const h=V(a,(g,b)=>{const C=g[s],E=b[s],M=u.indexOf(C),I=u.indexOf(E);if(M===-1)throw new Error("The ordering for "+t+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(u,null,2));if(I===-1)throw new Error("The ordering for "+t+" does not have an entry for "+E+`.
Order specified: `+JSON.stringify(u,null,2));return M<I?-1:I<M?1:0});return Xn.value(h)}catch(h){return Xn.error([h])}},Pb=(t,s)=>({handler:t,purpose:s}),LF=(t,s)=>({cHandler:t,purpose:s}),Nb=(t,s)=>LF(Fe.apply(void 0,[t.handler].concat(s)),t.purpose),Lb=t=>t.cHandler,HD=(t,s)=>({name:t,handler:s}),Ry=(t,s)=>{const a={};return wt(t,u=>{a[u.name()]=u.handlers(s)}),a},Yx=(t,s,a)=>{const u={...a,...Ry(s,t)};return $D(u,HD)},Kx=(t,s,a,u)=>{const h=Yx(t,a,u);return RF(h,s)},zD=t=>{const s=J$(t);return(a,u,...h)=>{const g=[a,u].concat(h);s.abort.apply(void 0,g)?u.stop():s.can.apply(void 0,g)&&s.run.apply(void 0,g)}},Jx=(t,s)=>Xn.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ue(s,a=>a.name),null,2)]),IF=(t,s,a)=>{const u=s[a];return u?NF("Event: "+a,"name",t,u).map(h=>{const g=Ue(h,b=>b.handler);return oD(g)}):Jx(a,t)},RF=(t,s)=>{const a=ls(t,(u,h)=>(u.length===1?Xn.value(u[0].handler):IF(u,s,h)).map(b=>{const C=zD(b),E=u.length>1?Dn(s[h],M=>jt(u,I=>I.name===M)).join(" > "):u[0].name;return Wu(h,Pb(C,E))}));return X$(a,{})},Rm="alloy.base.behaviour",Bm=Y([Wo("dom","dom",Ga(),Y([it("tag"),Ie("styles",{}),Ie("classes",[]),Ie("attributes",{}),go("value"),go("innerHtml")])),it("components"),it("uid"),Ie("events",{}),Ie("apis",{}),Wo("eventOrder","eventOrder",A({[kc()]:["disabling",Rm,"toggling","typeaheadevents"],[Nf()]:[Rm,"focusing","keying"],[Sy()]:[Rm,"disabling","toggling","representing","tooltipping"],[Id()]:[Rm,"representing","streaming","invalidating"],[Rd()]:[Rm,"representing","item-events","toolbar-button-events","tooltipping"],[yl()]:["focusing",Rm,"item-type-events"],[Nd()]:["focusing",Rm,"item-type-events"],[Ld()]:["item-type-events","tooltipping"],[Lf()]:["receiving","reflecting","tooltipping"]}),xt()),go("domModification")]),ep=t=>Yn("custom.definition",Bm,t),BF=t=>({...t.dom,uid:t.uid,domChildren:Ue(t.components,s=>s.element)}),lt=t=>t.domModification.fold(()=>wl({}),wl),By=t=>t.events,Ff=t=>t.dom.value,tp=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},Qx=(t,s,a)=>pi(t,s).map(h=>{if(a.exists(b=>!Uo(b,h))){const b=a.map(Xr).getOr("span"),C=pt.fromTag(b);return Ul(h,C),C}else return h}),mu=(t,s,a)=>{a.fold(()=>Di(t,s),u=>{Uo(u,s)||(Ul(u,s),Ta(u))})},eC=(t,s,a)=>{const u=Ue(s,a),h=ui(t);return wt(h.slice(u.length),Ta),u},tC=(t,s,a,u)=>{const h=pi(t,s),g=u(a,h),b=Qx(t,s,h);return mu(t,g.element,b),g},VD=(t,s,a)=>eC(t,s,(u,h)=>tC(t,h,u,a)),nC=(t,s)=>eC(t,s,(a,u)=>{const h=pi(t,u);return mu(t,a,h),a}),UD=(t,s)=>{const a=ht(t),u=ht(s),h=hn(u,a),g=Kn(t,(b,C)=>!Gn(s,C)||b!==s[C]).t;return{toRemove:h,toSet:g}},WD=(t,s)=>{const{class:a,style:u,...h}=ae(s),{toSet:g,toRemove:b}=UD(t.attributes,h),C=()=>{wt(b,Ae=>W(s,Ae)),nu(s,g)},E=Yr(s),{toSet:M,toRemove:I}=UD(t.styles,E),z=()=>{wt(I,Ae=>Zn(s,Ae)),oo(s,M)},Q=dF(s),te=hn(Q,t.classes),le=hn(t.classes,Q),de=()=>{kg(s,le),Ku(s,te)},Ne=Ae=>{Mm(s,Ae)},ge=()=>{const Ae=t.domChildren;nC(s,Ae)},ke=()=>{const Ae=s,ft=t.value.getOrUndefined();ft!==Ff(Ae)&&tp(Ae,ft??"")};return C(),de(),z(),t.innerHtml.fold(ge,Ne),ke(),s},$F=t=>{const s=pt.fromTag(t.tag);nu(s,t.attributes),kg(s,t.classes),oo(s,t.styles),t.innerHtml.each(u=>Mm(s,u));const a=t.domChildren;return Td(s,a),t.value.each(u=>{tp(s,u)}),s},jD=(t,s)=>{try{const a=WD(t,s);return P.some(a)}catch{return P.none()}},FF=t=>t.innerHtml.isSome()&&t.domChildren.length>0,ZD=(t,s)=>{const a=h=>Xr(h)===t.tag&&!FF(t)&&!Xx(h),u=s.filter(a).bind(h=>jD(t,h)).getOrThunk(()=>$F(t));return Gx(u,t.uid),u},HF=t=>{const s=_t(t,"behaviours").getOr({});return $e(ht(s),a=>{const u=s[a];return ee(u)?[u.me]:[]})},zF=(t,s)=>PF(t,s),qD=t=>{const s=HF(t);return zF(t,s)},$y=(t,s,a)=>{const u=BF(t),h=lt(t),g={"alloy.base.modification":h},b=s.length>0?FD(a,g,s,u):h;return iF(u,b)},VF=(t,s,a)=>{const u={"alloy.base.behaviour":By(t)};return Kx(a,t.eventOrder,s,u).getOrDie()},GD=(t,s)=>{const a=()=>Ae,u=un(MF),h=ot(ep(t)),g=qD(t),b=RD(g),C=BD(g),E=$y(h,b,C),M=ZD(E,s),I=VF(h,b,C),z=un(h.components),Q=ft=>{u.set(ft)},te=()=>{u.set(Ly(a))},le=()=>{const ft=ui(M),rt=$e(ft,Ht=>u.get().getByDom(Ht).fold(()=>[],Gs));z.set(rt)},de=ft=>{const rt=C;return(X(rt[ft.name()])?rt[ft.name()]:()=>{throw new Error("Could not find "+ft.name()+" in "+JSON.stringify(t,null,2))})()},Ne=ft=>X(C[ft.name()]),ge=()=>h.apis,ke=ft=>C[ft]().map(rt=>rt.state.readState()).getOr("not enabled"),Ae={uid:t.uid,getSystem:u.get,config:de,hasConfigured:Ne,spec:t,readState:ke,getApis:ge,connect:Q,disconnect:te,element:M,syncComponents:le,components:z.get,events:I};return Ae},UF=(t,s)=>{const a=_t(t,"components").getOr([]);return s.fold(()=>Ue(a,la),u=>Ue(a,(h,g)=>Fy(h,pi(u,g))))},oC=(t,s)=>{const{events:a,...u}=ND(t),h=UF(u,s),g={...u,events:{...DD,...a},components:h};return Xn.value(GD(g,s))},tr=t=>{const s=pt.fromText(t);return sC({element:s})},sC=t=>{const s=Co("external.component",qi([it("element"),go("uid")]),t),a=un(Ly()),u=C=>{a.set(C)},h=()=>{a.set(Ly(()=>b))},g=s.uid.getOrThunk(()=>Ig("external"));Gx(s.element,g);const b={uid:g,getSystem:a.get,config:P.none,hasConfigured:Me,connect:u,disconnect:h,getApis:()=>({}),element:s.element,spec:t,readState:ie("No state"),syncComponents:F,components:ie([]),events:{}};return LD(b)},XD=Ig,WF=t=>Gn(t,"uid"),Fy=(t,s)=>ID(t).getOrThunk(()=>{const a=WF(t)?t:{uid:XD(""),...t};return oC(a,s).getOrDie()}),la=t=>Fy(t,P.none()),Xl=LD;var rC=(t,s,a,u,h)=>t(a,u)?P.some(a):X(h)&&h(a)?P.none():s(a,u,h);const iC=(t,s,a)=>{let u=t.dom;const h=X(a)?a:Me;for(;u.parentNode;){u=u.parentNode;const g=pt.fromDom(u);if(s(g))return P.some(g);if(h(g))break}return P.none()},YD=(t,s,a)=>rC((h,g)=>g(h),iC,t,s,a),aC=(t,s)=>{const a=t.dom;return a.parentNode?lC(pt.fromDom(a.parentNode),u=>!Uo(t,u)&&s(u)):P.none()},lC=(t,s)=>{const a=h=>s(pt.fromDom(h));return It(t.dom.childNodes,a).map(pt.fromDom)},KD=(t,s)=>{const a=u=>{for(let h=0;h<u.childNodes.length;h++){const g=pt.fromDom(u.childNodes[h]);if(s(g))return P.some(g);const b=a(u.childNodes[h]);if(b.isSome())return b}return P.none()};return a(t.dom)},jF=(t,s,a)=>YD(t,s,a).isSome(),Ya=t=>_i(t),np=(t,s,a)=>iC(t,u=>js(u,s),a),Hd=(t,s)=>aC(t,a=>js(a,s)),cC=(t,s)=>lC(t,a=>js(a,s)),Zs=(t,s)=>_i(s,t),zd=(t,s,a)=>rC((h,g)=>js(h,g),np,t,s,a),Ib="aria-controls",ZF=t=>YD(t,a=>{if(!To(a))return!1;const u=Mn(a,"id");return u!==void 0&&u.indexOf(Ib)>-1}).bind(a=>{const u=Mn(a,"id"),h=Hr(a);return Zs(h,`[${Ib}="${u}"]`)}),uC=()=>{const t=Kt(Ib);return{id:t,link:u=>{vn(u,Ib,t)},unlink:u=>{W(u,Ib)}}},JD=(t,s)=>ZF(s).exists(a=>op(t,a)),op=(t,s)=>jF(s,a=>Uo(a,t.element),Me)||JD(t,s),yi=(t,s,a,u,h,g,b,C=!1)=>({x:t,y:s,bubble:a,direction:u,placement:h,restriction:g,label:`${b}-${h}`,alwaysFit:C}),Hf=bl.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),qF=(t,s,a,u,h,g,b,C,E)=>t.fold(s,a,u,h,g,b,C,E),dC=(t,s,a,u)=>t.fold(s,s,u,u,s,u,a,a),GF=(t,s,a,u)=>t.fold(s,u,s,u,a,a,s,u),Hy=Hf.southeast,fC=Hf.southwest,zy=Hf.northeast,Yt=Hf.northwest,Rb=Hf.south,mC=Hf.north,QD=Hf.east,e4=Hf.west,XF=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Li=(t,s)=>Gr(["left","right","top","bottom"],a=>_t(s,a).map(u=>XF(t,u))),YF=(t,s,a)=>{const u=(E,M)=>s[E].map(I=>{const z=E==="top"||E==="bottom",Q=z?a.top:a.left,le=(E==="left"||E==="top"?Math.max:Math.min)(I,M)+Q;return z?_l(le,t.y,t.bottom):_l(le,t.x,t.right)}).getOr(M),h=u("left",t.x),g=u("top",t.y),b=u("right",t.right),C=u("bottom",t.bottom);return Vs(h,g,b-h,C-g)},$m="layout",hC=t=>t.x,t4=(t,s)=>t.x+t.width/2-s.width/2,ca=(t,s)=>t.x+t.width-s.width,sp=(t,s)=>t.y-s.height,pC=t=>t.y+t.height,n4=(t,s)=>t.y+t.height/2-s.height/2,KF=t=>t.x+t.width,JF=(t,s)=>t.x-s.width,ei=(t,s,a)=>yi(hC(t),pC(t),a.southeast(),Hy(),"southeast",Li(t,{left:1,top:3}),$m),jr=(t,s,a)=>yi(ca(t,s),pC(t),a.southwest(),fC(),"southwest",Li(t,{right:0,top:3}),$m),Ii=(t,s,a)=>yi(hC(t),sp(t,s),a.northeast(),zy(),"northeast",Li(t,{left:1,bottom:2}),$m),Ki=(t,s,a)=>yi(ca(t,s),sp(t,s),a.northwest(),Yt(),"northwest",Li(t,{right:0,bottom:2}),$m),di=(t,s,a)=>yi(t4(t,s),sp(t,s),a.north(),mC(),"north",Li(t,{bottom:2}),$m),ti=(t,s,a)=>yi(t4(t,s),pC(t),a.south(),Rb(),"south",Li(t,{top:3}),$m),gC=(t,s,a)=>yi(KF(t),n4(t,s),a.east(),QD(),"east",Li(t,{left:0}),$m),vC=(t,s,a)=>yi(JF(t,s),n4(t,s),a.west(),e4(),"west",Li(t,{right:1}),$m),o4=()=>[ei,jr,Ii,Ki,ti,di,gC,vC],s4=()=>[jr,ei,Ki,Ii,ti,di,gC,vC],r4=()=>[Ii,Ki,ei,jr,di,ti],Vy=()=>[Ki,Ii,jr,ei,di,ti],Uy=()=>[ei,jr,Ii,Ki,ti,di],bC=()=>[jr,ei,Ki,Ii,ti,di],i4=(t,s)=>s.universal?t:Dn(t,a=>Ot(s.channels,a));var QF=Object.freeze({__proto__:null,events:t=>Bs([mt(Lf(),(s,a)=>{const u=t.channels,h=ht(u),g=a,b=i4(h,g);wt(b,C=>{const E=u[C],M=E.schema,I=Co("channel["+C+`] data
Receiver: `+Pm(s.element),M,g.data);E.onReceive(s,I)})})])}),e6=[lo("channels",hs(Xn.value,qi([$f("onReceive"),Ie("schema",xt())])))];const Ka=Ni({fields:e6,name:"receiving",active:QF});var t6=Object.freeze({__proto__:null,exhibit:(t,s)=>wl({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const Oc=(t,s=!1)=>t.dom.focus({preventScroll:s}),Wy=t=>t.dom.blur(),Bb=t=>{const s=Hr(t).dom;return t.dom===s.activeElement},Ju=(t=Wl())=>P.from(t.dom.activeElement).map(pt.fromDom),Ha=t=>Ju(Hr(t)).filter(s=>t.dom.contains(s.dom)),Fm=(t,s)=>{const a=Hr(s),u=Ju(a).bind(g=>{const b=C=>Uo(g,C);return b(s)?P.some(s):KD(s,b)}),h=t(s);return u.each(g=>{Ju(a).filter(b=>Uo(b,g)).fold(()=>{Oc(g)},F)}),h},yC=bl.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),jy=(t,s,a,u,h,g)=>{const b=s.rect,C=b.x-a,E=b.y-u,M=b.width,I=b.height,z=h-(C+M),Q=g-(E+I),te=P.some(C),le=P.some(E),de=P.some(z),Ne=P.some(Q),ge=P.none();return qF(s.direction,()=>vi(t,te,le,ge,ge),()=>vi(t,ge,le,de,ge),()=>vi(t,te,ge,ge,Ne),()=>vi(t,ge,ge,de,Ne),()=>vi(t,te,le,ge,ge),()=>vi(t,te,ge,ge,Ne),()=>vi(t,te,le,ge,ge),()=>vi(t,ge,le,de,ge))},a4=(t,s)=>t.fold(()=>{const a=s.rect;return vi("absolute",P.some(a.x),P.some(a.y),P.none(),P.none())},(a,u,h,g)=>jy("absolute",s,a,u,h,g),(a,u,h,g)=>jy("fixed",s,a,u,h,g)),rp=(t,s)=>{const a=Fe(bm,s),u=t.fold(a,a,()=>{const b=ji();return bm(s).translate(-b.left,-b.top)}),h=ho(s),g=Za(s);return Vs(u.left,u.top,h,g)},n6=(t,s)=>s.fold(()=>t.fold(ur,ur,Vs),a=>t.fold(ie(a),ie(a),()=>{const u=l4(t,a.x,a.y);return Vs(u.left,u.top,a.width,a.height)})),l4=(t,s,a)=>{const u=Os(s,a),h=()=>{const g=ji();return u.translate(-g.left,-g.top)};return t.fold(ie(u),ie(u),h)},o6=(t,s,a,u)=>t.fold(s,a,u);yC.none;const s6=yC.relative,r6=yC.fixed,wC=(t,s)=>({anchorBox:t,origin:s}),i6=(t,s)=>wC(t,s),SC="data-alloy-placement",a6=(t,s)=>{vn(t,SC,s)},c4=t=>vr(t,SC),l6=t=>W(t,SC),Zy=bl.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),u4=(t,s)=>{const{x:a,y:u,right:h,bottom:g}=s,{x:b,y:C,right:E,bottom:M,width:I,height:z}=t,Q=b>=a&&b<=h,te=C>=u&&C<=g,le=Q&&te,de=E<=h&&E>=a,Ne=M<=g&&M>=u,ge=de&&Ne,ke=Math.min(I,b>=a?h-b:E-a),Ae=Math.min(z,C>=u?g-C:M-u);return{originInBounds:le,sizeInBounds:ge,visibleW:ke,visibleH:Ae}},c6=(t,s)=>{const{x:a,y:u,right:h,bottom:g}=s,{x:b,y:C,width:E,height:M}=t,I=Math.max(a,h-E),z=Math.max(u,g-M),Q=_l(b,a,I),te=_l(C,u,z),le=Math.min(Q+E,h)-Q,de=Math.min(te+M,g)-te;return Vs(Q,te,le,de)},d4=(t,s,a)=>{const u=ie(s.bottom-a.y),h=ie(a.bottom-s.y),g=dC(t,h,h,u),b=ie(s.right-a.x),C=ie(a.right-s.x);return{maxWidth:GF(t,C,C,b),maxHeight:g}},qy=(t,s,a,u)=>{const h=t.bubble,g=h.offset,b=YF(u,t.restriction,g),C=t.x+g.left,E=t.y+g.top,M=Vs(C,E,s,a),{originInBounds:I,sizeInBounds:z,visibleW:Q,visibleH:te}=u4(M,b),le=I&&z,de=le?M:c6(M,b),Ne=de.width>0&&de.height>0,{maxWidth:ge,maxHeight:ke}=d4(t.direction,de,u),Ae={rect:de,maxHeight:ke,maxWidth:ge,direction:t.direction,placement:t.placement,classes:{on:h.classesOn,off:h.classesOff},layout:t.label,testY:E};return le||t.alwaysFit?Zy.fit(Ae):Zy.nofit(Ae,Q,te,Ne)},u6=(t,s,a,u,h,g)=>{const b=u.width,C=u.height,E=(I,z,Q,te,le)=>{const de=I(a,u,h,t,g),Ne=qy(de,b,C,g);return Ne.fold(ie(Ne),(ge,ke,Ae,ft)=>(le===ft?Ae>te||ke>Q:!le&&ft)?Ne:Zy.nofit(z,Q,te,le))};return Vo(s,(I,z)=>{const Q=Fe(E,z);return I.fold(ie(I),Q)},Zy.nofit({rect:a,maxHeight:u.height,maxWidth:u.width,direction:Hy(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:a.y},-1,-1,!1)).fold(He,He)},f4=Oe,za=(t,s,a)=>Cf(t,s,f4,a),xC=(t,s,a)=>Dr(t,s,f4,a),CC=xc,EC=["top","bottom","right","left"],Gy="data-alloy-transition-timer",d6=(t,s)=>HY(t,s.classes),f6=(t,s,a)=>a.exists(u=>{const h=t.mode;return h==="all"?!0:u[h]!==s[h]}),m6=(t,s)=>{const a=u=>parseFloat(u).toFixed(3);return Lo(s,(u,h)=>{const g=t[h].map(a),b=u.map(a);return!Fi(g,b)}).isSome()},h6=t=>{const s=g=>{const C=ts(t,g).split(/\s*,\s*/);return Dn(C,ve)},a=g=>{if(T(g)&&/^[\d.]+/.test(g)){const b=parseFloat(g);return ya(g,"ms")?b:b*1e3}else return 0},u=s("transition-delay"),h=s("transition-duration");return Vo(h,(g,b,C)=>{const E=a(u[C])+a(b);return Math.max(g,E)},0)},p6=(t,s)=>{const a=_a(),u=_a();let h;const g=M=>{var I;const z=(I=M.raw.pseudoElement)!==null&&I!==void 0?I:"";return Uo(M.target,t)&&be(z)&&Ot(EC,M.raw.propertyName)},b=M=>{if(G(M)||g(M)){a.clear(),u.clear();const I=M==null?void 0:M.raw.type;(G(I)||I===qu())&&(clearTimeout(h),W(t,Gy),Ku(t,s.classes))}},C=za(t,eF(),M=>{g(M)&&(C.unbind(),a.set(za(t,qu(),b)),u.set(za(t,Q$(),b)))}),E=h6(t);requestAnimationFrame(()=>{h=setTimeout(b,E+17),vn(t,Gy,h)})},g6=(t,s)=>{kg(t,s.classes),vr(t,Gy).each(a=>{clearTimeout(parseInt(a,10)),W(t,Gy)}),p6(t,s)},Xy=(t,s,a,u,h,g)=>{const b=f6(u,h,g);if(b||d6(t,u)){gt(t,"position",a.position);const C=rp(s,t),E=a4(s,{...h,rect:C}),M=Gr(EC,I=>E[I]);m6(a,M)&&(ds(t,M),b&&g6(t,u),zi(t))}else Ku(t,u.classes)},v6=t=>({width:ho(t),height:Za(t)}),b6=(t,s,a,u)=>{Zn(s,"max-height"),Zn(s,"max-width");const h=v6(s);return u6(s,u.preference,t,h,a,u.bounds)},y6=(t,s)=>{const a=s.classes;Ku(t,a.off),kg(t,a.on)},w6=(t,s,a)=>{const u=a.maxHeightFunction;u(t,s.maxHeight)},S6=(t,s,a)=>{const u=a.maxWidthFunction;u(t,s.maxWidth)},x6=(t,s,a)=>{const u=a4(a.origin,s);a.transition.each(h=>{Xy(t,a.origin,u,h,s,a.lastPlacement)}),Eb(t,u)},C6=(t,s)=>{a6(t,s.placement)},m4=(t,s)=>{fm(t,Math.floor(s))},h4=ie((t,s)=>{m4(t,s),oo(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Rg=ie((t,s)=>{m4(t,s)}),p4=(t,s,a)=>t[s]===void 0?a:t[s],E6=(t,s,a,u,h,g,b,C)=>{const E=p4(b,"maxHeightFunction",h4()),M=p4(b,"maxWidthFunction",F),I=t.anchorBox,z=t.origin,Q={bounds:n6(z,g),origin:z,preference:u,maxHeightFunction:E,maxWidthFunction:M,lastPlacement:h,transition:C};return g4(I,s,a,Q)},g4=(t,s,a,u)=>{const h=b6(t,s,a,u);return x6(s,h,u),C6(s,h),y6(s,h),w6(s,h,u),S6(s,h,u),{layout:h.layout,placement:h.placement}},T6=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],hu=(t,s,a,u=1)=>{const h=t*u,g=s*u,b=E=>_t(a,E).getOr([]),C=(E,M,I)=>{const z=hn(T6,I);return{offset:Os(E,M),classesOn:$e(I,b),classesOff:$e(z,b)}};return{southeast:()=>C(-t,s,["top","alignLeft"]),southwest:()=>C(t,s,["top","alignRight"]),south:()=>C(-t/2,s,["top","alignCentre"]),northeast:()=>C(-t,-s,["bottom","alignLeft"]),northwest:()=>C(t,-s,["bottom","alignRight"]),north:()=>C(-t/2,-s,["bottom","alignCentre"]),east:()=>C(t,-s/2,["valignCentre","left"]),west:()=>C(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>C(h,g,["top","alignLeft","inset"]),insetNorthwest:()=>C(-h,g,["top","alignRight","inset"]),insetNorth:()=>C(-h/2,g,["top","alignCentre","inset"]),insetSoutheast:()=>C(h,-g,["bottom","alignLeft","inset"]),insetSouthwest:()=>C(-h,-g,["bottom","alignRight","inset"]),insetSouth:()=>C(-h/2,-g,["bottom","alignCentre","inset"]),insetEast:()=>C(-h,-g/2,["valignCentre","right","inset"]),insetWest:()=>C(h,-g/2,["valignCentre","left","inset"])}},Yy=()=>hu(0,0,{}),Ky=He,Jy=(t,s)=>a=>_6(a)==="rtl"?s:t,_6=t=>ts(t,"direction")==="rtl"?"rtl":"ltr";var zf;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(zf||(zf={}));const TC="data-alloy-vertical-dir",k6=t=>jF(t,s=>To(s)&&Mn(s,"data-alloy-vertical-dir")===zf.BottomToTop),Hm=()=>Ds("layouts",[it("onLtr"),it("onRtl"),go("onBottomLtr"),go("onBottomRtl")]),$b=(t,s,a,u,h,g,b)=>{const C=b.map(k6).getOr(!1),E=s.layouts.map(te=>te.onLtr(t)),M=s.layouts.map(te=>te.onRtl(t)),I=C?s.layouts.bind(te=>te.onBottomLtr.map(le=>le(t))).or(E).getOr(h):E.getOr(a),z=C?s.layouts.bind(te=>te.onBottomRtl.map(le=>le(t))).or(M).getOr(g):M.getOr(u);return Jy(I,z)(t)},A6=(t,s,a)=>{const u=s.hotspot,h=rp(a,u.element),g=$b(t.element,s,Uy(),bC(),r4(),Vy(),P.some(s.hotspot.element));return P.some(Ky({anchorBox:h,bubble:s.bubble.getOr(Yy()),overrides:s.overrides,layouts:g}))};var O6=[it("hotspot"),go("bubble"),Ie("overrides",{}),Hm(),ps("placement",A6)];const D6=(t,s,a)=>{const u=l4(a,s.x,s.y),h=Vs(u.left,u.top,s.width,s.height),g=$b(t.element,s,o4(),s4(),o4(),s4(),P.none());return P.some(Ky({anchorBox:h,bubble:s.bubble,overrides:s.overrides,layouts:g}))};var v4=[it("x"),it("y"),Ie("height",0),Ie("width",0),Ie("bubble",Yy()),Ie("overrides",{}),Hm(),ps("placement",D6)];const Qy=bl.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),M6=t=>t.fold(He,(s,a,u)=>s.translate(-a,-u)),P6=t=>t.fold(He,He),b4=t=>Vo(t,(s,a)=>s.translate(a.left,a.top),Os(0,0)),N6=t=>{const s=Ue(t,M6);return b4(s)},_C=t=>{const s=Ue(t,P6);return b4(s)},y4=Qy.screen,w4=Qy.absolute,S4=(t,s,a)=>{const u=Or(a.root).dom,h=g=>{const b=Fr(g),C=Fr(t.element);return Uo(b,C)};return P.from(u.frameElement).map(pt.fromDom).filter(h).map(Vi)},kC=(t,s,a)=>{const u=Fr(t.element),h=ji(u),g=S4(t,s,a).getOr(h);return w4(g,h.left,h.top)},AC=(t,s,a,u)=>{const h=y4(Os(t,s));return P.some(Vu(h,a,u))},x4=(t,s,a,u,h)=>t.map(g=>{const b=[s,g.point],C=o6(u,()=>_C(b),()=>_C(b),()=>N6(b)),E=Ih(C.left,C.top,g.width,g.height),M=a.showAbove?r4():Uy(),I=a.showAbove?Vy():bC(),z=$b(h,a,M,I,M,I,P.none());return Ky({anchorBox:E,bubble:a.bubble.getOr(Yy()),overrides:a.overrides,layouts:z})}),L6=(t,s,a)=>{const u=kC(t,a,s);return s.node.filter(oa).bind(h=>{const g=h.dom.getBoundingClientRect(),b=AC(g.left,g.top,g.width,g.height),C=s.node.getOr(t.element);return x4(b,u,s,a,C)})};var I6=[it("node"),it("root"),go("bubble"),Hm(),Ie("overrides",{}),Ie("showAbove",!1),ps("placement",L6)];const R6="\uFEFF",ip=" ",ew={create:(t,s,a,u)=>({start:t,soffset:s,finish:a,foffset:u})},OC=bl.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),B6=(t,s,a,u)=>t.fold(s,a,u),C4=t=>t.fold(He,He,He),$6=OC.before,F6=OC.on,E4=OC.after,Fb={before:$6,on:F6,after:E4,cata:B6,getStart:C4},zm=bl.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),H6=t=>zm.exact(t.start,t.soffset,t.finish,t.foffset),DC=t=>t.match({domRange:s=>pt.fromDom(s.startContainer),relative:(s,a)=>Fb.getStart(s),exact:(s,a,u,h)=>s}),z6=zm.domRange,T4=zm.relative,_4=zm.exact,k4=t=>{const s=DC(t);return Or(s)},V6=ew.create,Hb={domRange:z6,relative:T4,exact:_4,exactFromRange:H6,getWin:k4,range:V6},U6=(t,s)=>{s.fold(a=>{t.setStartBefore(a.dom)},(a,u)=>{t.setStart(a.dom,u)},a=>{t.setStartAfter(a.dom)})},Bg=(t,s)=>{s.fold(a=>{t.setEndBefore(a.dom)},(a,u)=>{t.setEnd(a.dom,u)},a=>{t.setEndAfter(a.dom)})},Vm=(t,s,a)=>{const u=t.document.createRange();return U6(u,s),Bg(u,a),u},zb=(t,s,a,u,h)=>{const g=t.document.createRange();return g.setStart(s.dom,a),g.setEnd(u.dom,h),g},$g=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),W6=t=>{const s=t.getClientRects(),a=s.length>0?s[0]:t.getBoundingClientRect();return a.width>0||a.height>0?P.some(a).map($g):P.none()},Um=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?P.some(s).map($g):P.none()},Yl=bl.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),tw=(t,s,a)=>s(pt.fromDom(a.startContainer),a.startOffset,pt.fromDom(a.endContainer),a.endOffset),A4=(t,s)=>s.match({domRange:a=>({ltr:ie(a),rtl:P.none}),relative:(a,u)=>({ltr:Ui(()=>Vm(t,a,u)),rtl:Ui(()=>P.some(Vm(t,u,a)))}),exact:(a,u,h,g)=>({ltr:Ui(()=>zb(t,a,u,h,g)),rtl:Ui(()=>P.some(zb(t,h,g,a,u)))})}),j6=(t,s)=>{const a=s.ltr();return a.collapsed?s.rtl().filter(h=>h.collapsed===!1).map(h=>Yl.rtl(pt.fromDom(h.endContainer),h.endOffset,pt.fromDom(h.startContainer),h.startOffset)).getOrThunk(()=>tw(t,Yl.ltr,a)):tw(t,Yl.ltr,a)},O4=(t,s)=>{const a=A4(t,s);return j6(t,a)},Fg=(t,s)=>O4(t,s).match({ltr:(u,h,g,b)=>{const C=t.document.createRange();return C.setStart(u.dom,h),C.setEnd(g.dom,b),C},rtl:(u,h,g,b)=>{const C=t.document.createRange();return C.setStart(g.dom,b),C.setEnd(u.dom,h),C}});Yl.ltr,Yl.rtl;const Hg=(t,s,a)=>Dn(df(t,a),s),ua=(t,s)=>uf(s,t),D4=(t,s,a,u)=>{const g=Fr(t).dom.createRange();return g.setStart(t.dom,s),g.setEnd(a.dom,u),g},Vb=(t,s,a,u)=>{const h=D4(t,s,a,u),g=Uo(t,a)&&s===u;return h.collapsed&&!g},nw=t=>P.from(t.getSelection()),M4=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),a=t.getRangeAt(t.rangeCount-1);return P.some(ew.create(pt.fromDom(s.startContainer),s.startOffset,pt.fromDom(a.endContainer),a.endOffset))}else return P.none()},MC=t=>{if(t.anchorNode===null||t.focusNode===null)return M4(t);{const s=pt.fromDom(t.anchorNode),a=pt.fromDom(t.focusNode);return Vb(s,t.anchorOffset,a,t.focusOffset)?P.some(ew.create(s,t.anchorOffset,a,t.focusOffset)):M4(t)}},ow=t=>nw(t).filter(s=>s.rangeCount>0).bind(MC),wi=(t,s)=>{const a=Fg(t,s);return W6(a)},Z6=(t,s)=>{const a=Fg(t,s);return Um(a)},P4=((t,s)=>{const a=g=>{if(!t(g))throw new Error("Can only get "+s+" value of a "+s+" node");return u(g).getOr("")},u=g=>t(g)?P.from(g.dom.nodeValue):P.none();return{get:a,getOption:u,set:(g,b)=>{if(!t(g))throw new Error("Can only set raw "+s+" value of a "+s+" node");g.dom.nodeValue=b}}})(Ar,"text"),PC=t=>P4.get(t),Uf=(t,s)=>({element:t,offset:s}),N4=(t,s)=>{const a=ui(t);if(a.length===0)return Uf(t,s);if(s<a.length)return Uf(a[s],0);{const u=a[a.length-1],h=Ar(u)?PC(u).length:ui(u).length;return Uf(u,h)}},Ub=(t,s)=>Ar(t)?Uf(t,s):N4(t,s),NC=t=>t.foffset!==void 0,LC=(t,s)=>s.getSelection.getOrThunk(()=>()=>ow(t))().map(u=>{if(NC(u)){const h=Ub(u.start,u.soffset),g=Ub(u.finish,u.foffset);return Hb.range(h.element,h.offset,g.element,g.offset)}else return u}),L4=(t,s,a)=>{const u=Or(s.root).dom,h=kC(t,a,s),g=LC(u,s).bind(E=>{if(NC(E))return Z6(u,Hb.exactFromRange(E)).orThunk(()=>{const I=pt.fromText(R6);Ul(E.start,I);const z=wi(u,Hb.exact(I,0,I,1));return Ta(I),z}).bind(I=>AC(I.left,I.top,I.width,I.height));{const M=qt(E,z=>z.dom.getBoundingClientRect()),I={left:Math.min(M.firstCell.left,M.lastCell.left),right:Math.max(M.firstCell.right,M.lastCell.right),top:Math.min(M.firstCell.top,M.lastCell.top),bottom:Math.max(M.firstCell.bottom,M.lastCell.bottom)};return AC(I.left,I.top,I.right-I.left,I.bottom-I.top)}}),C=LC(u,s).bind(E=>NC(E)?To(E.start)?P.some(E.start):na(E.start):P.some(E.firstCell)).getOr(t.element);return x4(g,h,s,a,C)};var q6=[go("getSelection"),it("root"),go("bubble"),Hm(),Ie("overrides",{}),Ie("showAbove",!1),ps("placement",L4)];const zg="link-layout",Qu=t=>t.x+t.width,I4=(t,s)=>t.x-s.width,R4=(t,s)=>t.y-s.height+t.height,IC=t=>t.y,RC=(t,s,a)=>yi(Qu(t),IC(t),a.southeast(),Hy(),"southeast",Li(t,{left:0,top:2}),zg),BC=(t,s,a)=>yi(I4(t,s),IC(t),a.southwest(),fC(),"southwest",Li(t,{right:1,top:2}),zg),B4=(t,s,a)=>yi(Qu(t),R4(t,s),a.northeast(),zy(),"northeast",Li(t,{left:0,bottom:3}),zg),$4=(t,s,a)=>yi(I4(t,s),R4(t,s),a.northwest(),Yt(),"northwest",Li(t,{right:1,bottom:3}),zg),Kl=()=>[RC,BC,B4,$4],ap=()=>[BC,RC,$4,B4],F4=(t,s,a)=>{const u=rp(a,s.item.element),h=$b(t.element,s,Kl(),ap(),Kl(),ap(),P.none());return P.some(Ky({anchorBox:u,bubble:Yy(),overrides:s.overrides,layouts:h}))};var Vg=[it("item"),Hm(),Ie("overrides",{}),ps("placement",F4)],Ja=_o("type",{selection:q6,node:I6,hotspot:O6,submenu:Vg,makeshift:v4});const kl=[br("classes",at),_c("mode","all",["all","layout","placement"])],Oa=[Ie("useFixed",Me),go("getBounds")],pu=[lo("anchor",Ja),Ds("transition",kl)],$C=()=>{const t=document.documentElement;return r6(0,0,t.clientWidth,t.clientHeight)},Dc=t=>{const s=Vi(t.element),a=t.element.dom.getBoundingClientRect();return s6(s.left,s.top,a.width,a.height)},lp=(t,s,a,u,h,g)=>{const b=i6(s.anchorBox,t);return E6(b,u.element,s.bubble,s.layouts,h,a,s.overrides,g)},G6=(t,s,a,u,h)=>{const g=P.none();H4(t,s,a,u,h,g)},H4=(t,s,a,u,h,g)=>{const b=Co("placement.info",Y(pu),h),C=b.anchor,E=u.element,M=a.get(u.uid);Fm(()=>{gt(E,"position","fixed");const I=vs(E,"visibility");gt(E,"visibility","hidden");const z=s.useFixed()?$C():Dc(t);C.placement(t,C,z).each(Q=>{const te=g.orThunk(()=>s.getBounds.map(Be)),le=lp(z,Q,te,u,M,b.transition);a.set(u.uid,le)}),I.fold(()=>{Zn(E,"visibility")},Q=>{gt(E,"visibility",Q)}),vs(E,"left").isNone()&&vs(E,"top").isNone()&&vs(E,"right").isNone()&&vs(E,"bottom").isNone()&&Xs(vs(E,"position"),"fixed")&&Zn(E,"position")},E)};var z4=Object.freeze({__proto__:null,position:G6,positionWithinBounds:H4,getMode:(t,s,a)=>s.useFixed()?"fixed":"absolute",reset:(t,s,a,u)=>{const h=u.element;wt(["position","left","right","top","bottom"],g=>Zn(h,g)),l6(h),a.clear(u.uid)}}),V4=Object.freeze({__proto__:null,init:()=>{let t={};return xl({readState:()=>t,clear:h=>{ee(h)?delete t[h]:t={}},set:(h,g)=>{t[h]=g},get:h=>_t(t,h)})}});const da=Ni({fields:Oa,name:"positioning",active:t6,apis:z4,state:V4}),HC=t=>t.getSystem().isConnected(),Wb=t=>{Qn(t,Rd());const s=t.components();wt(s,Wb)},jb=t=>{const s=t.components();wt(s,jb),Qn(t,Xu())},zC=(t,s)=>{t.getSystem().addToWorld(s),oa(t.element)&&jb(s)},sw=t=>{Wb(t),t.getSystem().removeFromWorld(t)},rw=(t,s)=>{Di(t.element,s.element)},U4=t=>{wt(t.components(),s=>Ta(s.element)),Kr(t.element),t.syncComponents()},Y6=(t,s,a)=>{const u=t.components();U4(t);const h=a(s),g=hn(u,h);wt(g,b=>{Wb(b),t.getSystem().removeFromWorld(b)}),wt(h,b=>{HC(b)?rw(t,b):(t.getSystem().addToWorld(b),rw(t,b),oa(t.element)&&jb(b))}),t.syncComponents()},K6=(t,s,a)=>{const u=t.components(),h=$e(s,C=>ID(C).toArray());wt(u,C=>{Ot(h,C)||sw(C)});const g=a(s),b=hn(u,g);wt(b,C=>{HC(C)&&sw(C)}),wt(g,C=>{HC(C)||zC(t,C)}),t.syncComponents()},cp=(t,s)=>{W4(t,s,Di)},W4=(t,s,a)=>{t.getSystem().addToWorld(s),a(t.element,s.element),oa(t.element)&&jb(s),t.syncComponents()},j4=t=>{Wb(t),Ta(t.element),t.getSystem().removeFromWorld(t)},Wf=t=>{const s=xa(t.element).bind(a=>t.getSystem().getByDom(a).toOptional());j4(t),s.each(a=>{a.syncComponents()})},Jl=t=>{const s=t.components();wt(s,j4),Kr(t.element),t.syncComponents()},Z4=(t,s)=>{Wm(t,s,Di)},up=(t,s)=>{Wm(t,s,Nh)},Wm=(t,s,a)=>{a(t,s.element);const u=ui(s.element);wt(u,h=>{s.getByDom(h).each(jb)})},VC=t=>{const s=ui(t.element);wt(s,a=>{t.getByDom(a).each(Wb)}),Ta(t.element)},iw=(t,s,a,u)=>{a.get().each(b=>{Jl(t)});const h=s.getAttachPoint(t);cp(h,t);const g=t.getSystem().build(u);return cp(t,g),a.set(g),g},q4=(t,s,a,u)=>{const h=iw(t,s,a,u);return s.onOpen(t,h),h},J6=(t,s,a,u)=>a.get().map(()=>iw(t,s,a,u)),Q6=(t,s,a,u,h)=>{WC(t,s),q4(t,s,a,u),h(),aw(t,s)},G4=(t,s,a)=>{a.get().each(u=>{Jl(t),Wf(t),s.onClose(t,u),a.clear()})},UC=(t,s,a)=>a.isOpen(),Ug=(t,s,a,u)=>UC(t,s,a)&&a.get().exists(h=>s.isPartOf(t,h,u)),Zb=(t,s,a)=>a.get(),eH=(t,s,a,u)=>{vs(t.element,s).fold(()=>{W(t.element,a)},h=>{vn(t.element,a,h)}),gt(t.element,s,u)},tH=(t,s,a)=>{vr(t.element,a).fold(()=>Zn(t.element,s),u=>gt(t.element,s,u))},WC=(t,s,a)=>{const u=s.getAttachPoint(t);gt(t.element,"position",da.getMode(u)),eH(t,"visibility",s.cloakVisibilityAttr,"hidden")},jC=t=>jt(["top","left","right","bottom"],s=>vs(t,s).isSome()),aw=(t,s,a)=>{jC(t.element)||Zn(t.element,"position"),tH(t,"visibility",s.cloakVisibilityAttr)};var ZC=Object.freeze({__proto__:null,cloak:WC,decloak:aw,open:q4,openWhileCloaked:Q6,close:G4,isOpen:UC,isPartOf:Ug,getState:Zb,setContent:J6}),GC=Object.freeze({__proto__:null,events:(t,s)=>Bs([mt(Sb(),(a,u)=>{G4(a,t,s)})])}),X4=[Eo("onOpen"),Eo("onClose"),it("isPartOf"),it("getAttachPoint"),Ie("cloakVisibilityAttr","data-precloak-visibility")],XC=Object.freeze({__proto__:null,init:()=>{const t=cs(),s=ie("not-implemented");return xl({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Do=Ni({fields:X4,name:"sandboxing",active:GC,apis:ZC,state:XC}),jf=ie("dismiss.popups"),Wg=ie("reposition.popups"),cw=ie("mouse.released"),YC=qi([Ie("isExtraPart",Me),Ds("fireEventInstead",[Ie("event",Vh())])]),jm=t=>{const s=Co("Dismissal",YC,t);return{[jf()]:{schema:qi([it("target")]),onReceive:(a,u)=>{Do.isOpen(a)&&(Do.isPartOf(a,u.target)||s.isExtraPart(a,u.target)||s.fireEventInstead.fold(()=>Do.close(a),g=>Qn(a,g.event)))}}}},KC=qi([Ds("fireEventInstead",[Ie("event",iD())]),Pi("doReposition")]),JC=t=>{const s=Co("Reposition",KC,t);return{[Wg()]:{onReceive:a=>{Do.isOpen(a)&&s.fireEventInstead.fold(()=>s.doReposition(a),u=>Qn(a,u.event))}}}},QC=(t,s,a)=>{s.store.manager.onLoad(t,s,a)},eE=(t,s,a)=>{s.store.manager.onUnload(t,s,a)};var uw=Object.freeze({__proto__:null,onLoad:QC,onUnload:eE,setValue:(t,s,a,u)=>{s.store.manager.setValue(t,s,a,u)},getValue:(t,s,a)=>s.store.manager.getValue(t,s,a),getState:(t,s,a)=>a}),dw=Object.freeze({__proto__:null,events:(t,s)=>{const a=t.resetOnDom?[$s((u,h)=>{QC(u,t,s)}),Bd((u,h)=>{eE(u,t,s)})]:[Lx(t,s,QC)];return Bs(a)}});const fw=()=>{const t=un(null),s=()=>({mode:"memory",value:t.get()}),a=()=>t.get()===null,u=()=>{t.set(null)};return xl({set:t.set,get:t.get,isNotSet:a,clear:u,readState:s})},oH=()=>xl({readState:F}),J4=()=>{const t=un({}),s=un({});return xl({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:b=>_t(t.get(),b).orThunk(()=>_t(s.get(),b)),update:b=>{const C=t.get(),E=s.get(),M={},I={};wt(b,z=>{M[z.value]=z,_t(z,"meta").each(Q=>{_t(Q,"text").each(te=>{I[te]=z})})}),t.set({...C,...M}),s.set({...E,...I})},clear:()=>{t.set({}),s.set({})}})};var sH=Object.freeze({__proto__:null,memory:fw,dataset:J4,manual:oH,init:t=>t.store.manager.state(t)});const Q4=(t,s,a,u)=>{const h=s.store;a.update([u]),h.setValue(t,u),s.onSetValue(t,u)},Mc=(t,s,a)=>{const u=s.store,h=u.getDataKey(t);return a.lookup(h).getOrThunk(()=>u.getFallbackEntry(h))},Si=(t,s,a)=>{s.store.initialValue.each(h=>{Q4(t,s,a,h)})},rH=(t,s,a)=>{a.clear()};var tE=[go("initialValue"),it("getFallbackEntry"),it("getDataKey"),it("setValue"),ps("manager",{setValue:Q4,getValue:Mc,onLoad:Si,onUnload:rH,state:J4})];const iH=(t,s,a)=>s.store.getValue(t),eM=(t,s,a,u)=>{s.store.setValue(t,u),s.onSetValue(t,u)},nE=(t,s,a)=>{s.store.initialValue.each(u=>{s.store.setValue(t,u)})};var jg=[it("getValue"),Ie("setValue",F),go("initialValue"),ps("manager",{setValue:eM,getValue:iH,onLoad:nE,onUnload:F,state:Sl.init})];const tM=(t,s,a,u)=>{a.set(u),s.onSetValue(t,u)},nM=(t,s,a)=>a.get(),aH=(t,s,a)=>{s.store.initialValue.each(u=>{a.isNotSet()&&a.set(u)})},lH=(t,s,a)=>{a.clear()};var oM=[go("initialValue"),ps("manager",{setValue:tM,getValue:nM,onLoad:aH,onUnload:lH,state:fw})],sM=[vl("store",{mode:"memory"},_o("mode",{memory:oM,manual:jg,dataset:tE})),Eo("onSetValue"),Ie("resetOnDom",!1)];const Xt=Ni({fields:sM,name:"representing",active:dw,apis:uw,extra:{setValueFrom:(t,s)=>{const a=Xt.getValue(s);Xt.setValue(t,a)}},state:sH}),xi=(t,s)=>bg(t,{},Ue(s,a=>Gi(a.name(),"Cannot configure "+a.name()+" for "+t)).concat([ao("dump",He)])),qb=t=>t.dump,Ci=(t,s)=>({...At(s),...t.dump}),Pc={field:xi,augment:Ci,get:qb},oE="placeholder",fp=bl.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),mw=t=>Gn(t,"uiType"),mp=(t,s,a,u)=>t.exists(h=>h!==a.owner)?fp.single(!0,ie(a)):_t(u,a.name).fold(()=>{throw new Error("Unknown placeholder component: "+a.name+`
Known: [`+ht(u)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(a,null,2))},h=>h.replace()),Gb=(t,s,a,u)=>mw(a)&&a.uiType===oE?mp(t,s,a,u):fp.single(!1,ie(a)),rM=(t,s,a,u)=>Gb(t,s,a,u).fold((g,b)=>{const C=mw(a)?b(s,a.config,a.validated):b(s),E=_t(C,"components").getOr([]),M=$e(E,I=>rM(t,s,I,u));return[{...C,components:M}]},(g,b)=>{if(mw(a)){const C=b(s,a.config,a.validated);return a.validated.preprocess.getOr(He)(C)}else return b(s)}),cH=(t,s,a,u)=>$e(a,h=>rM(t,s,h,u)),uH=(t,s)=>{let a=!1;const u=()=>a,h=()=>{if(a)throw new Error("Trying to use the same placeholder more than once: "+t);return a=!0,s},g=()=>s.fold((b,C)=>b,(b,C)=>b);return{name:ie(t),required:g,used:u,replace:h}},dH=(t,s,a,u)=>{const h=qt(u,(b,C)=>uH(C,b)),g=cH(t,s,a,h);return tn(h,b=>{if(b.used()===!1&&b.required())throw new Error("Placeholder: "+b.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),g},sE=fp.single,fH=fp.multiple,rE=ie(oE),hw=bl.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),pw=Ie("factory",{sketch:He}),gw=Ie("schema",[]),Zm=it("name"),vw=Wo("pname","pname",Df(t=>"<alloy."+Kt(t.name)+">"),xt()),mH=ao("schema",()=>[go("preprocess")]),bw=Ie("defaults",ie({})),yw=Ie("overrides",ie({})),hH=Y([pw,gw,Zm,vw,bw,yw]),pH=Y([pw,gw,Zm,bw,yw]),gH=Y([pw,gw,Zm,vw,bw,yw]),vH=Y([pw,mH,Zm,it("unit"),vw,bw,yw]),iM=t=>t.fold(P.some,P.none,P.some,P.some),aM=t=>{const s=a=>a.name;return t.fold(s,s,s,s)},bH=t=>t.fold(He,He,He,He),ww=(t,s)=>a=>{const u=Co("Converting part type",s,a);return t(u)},Ji=ww(hw.required,hH),Nc=ww(hw.external,pH),Ql=ww(hw.optional,gH),Sw=ww(hw.group,vH),xw=ie("entirety");var yH=Object.freeze({__proto__:null,required:Ji,external:Nc,optional:Ql,group:Sw,asNamedPart:iM,name:aM,asCommon:bH,original:xw});const Cw=(t,s,a,u)=>Us(s.defaults(t,a,u),a,{uid:t.partUids[s.name]},s.overrides(t,a,u)),wH=(t,s,a)=>{const u={},h={};return wt(a,g=>{g.fold(b=>{u[b.pname]=sE(!0,(C,E,M)=>b.factory.sketch(Cw(C,b,E,M)))},b=>{const C=s.parts[b.name];h[b.name]=ie(b.factory.sketch(Cw(s,b,C[xw()]),C))},b=>{u[b.pname]=sE(!1,(C,E,M)=>b.factory.sketch(Cw(C,b,E,M)))},b=>{u[b.pname]=fH(!0,(C,E,M)=>{const I=C[b.name];return Ue(I,z=>b.factory.sketch(Us(b.defaults(C,z,M),z,b.overrides(C,z))))})})}),{internals:ie(u),externals:ie(h)}},iE=(t,s)=>{const a={};return wt(s,u=>{iM(u).each(h=>{const g=aE(t,h.pname);a[h.name]=b=>{const C=Co("Part: "+h.name+" in "+t,Y(h.schema),b);return{...g,config:b,validated:C}}})}),a},aE=(t,s)=>({uiType:rE(),owner:t,name:s}),lE=(t,s,a)=>({uiType:rE(),owner:t,name:s,config:a,validated:{}}),lM=t=>$e(t,s=>s.fold(P.none,P.some,P.none,P.none).map(a=>bs(a.name,a.schema.concat([Lm(xw())]))).toArray()),cM=t=>Ue(t,aM),Ew=(t,s,a)=>wH(t,s,a),cE=(t,s,a)=>dH(P.some(t),s,s.components,a),kt=(t,s,a)=>{const u=s.partUids[a];return t.getSystem().getByUid(u).toOptional()},ec=(t,s,a)=>kt(t,s,a).getOrDie("Could not find part: "+a),uM=(t,s,a)=>{const u={},h=s.partUids,g=t.getSystem();return wt(a,b=>{u[b]=ie(g.getByUid(h[b]))}),u},uE=(t,s)=>{const a=t.getSystem();return qt(s.partUids,(u,h)=>ie(a.getByUid(u)))},Xb=t=>ht(t.partUids),Yb=(t,s,a)=>{const u={},h=s.partUids,g=t.getSystem();return wt(a,b=>{u[b]=ie(g.getByUid(h[b]).getOrDie())}),u},dM=(t,s)=>{const a=cM(s);return Pf(Ue(a,u=>({key:u,value:t+"-"+u})))},Tw=t=>Wo("partUids","partUids",Mf(s=>dM(s.uid,t)),xt());var SH=Object.freeze({__proto__:null,generate:iE,generateOne:lE,schemas:lM,names:cM,substitutes:Ew,components:cE,defaultUids:dM,defaultUidsSchema:Tw,getAllParts:uE,getAllPartNames:Xb,getPart:kt,getPartOrDie:ec,getParts:uM,getPartsOrDie:Yb});const xH=(t,s)=>(t.length>0?[bs("parts",t)]:[]).concat([it("uid"),Ie("dom",{}),Ie("components",[]),Lm("originalSpec"),Ie("debug.sketcher",{})]).concat(s),dE=(t,s,a,u,h)=>{const g=xH(u,h);return Co(t+" [SpecSchema]",qi(g.concat(s)),a)},fE=(t,s,a,u)=>{const h=mM(u),g=dE(t,s,h,[],[]);return a(g,h)},hp=(t,s,a,u,h)=>{const g=mM(h),b=lM(a),C=Tw(a),E=dE(t,s,g,b,[C]),M=Ew(t,E,a),I=cE(t,E,M.internals());return u(E,I,g,M.externals())},fM=t=>Gn(t,"uid"),mM=t=>fM(t)?t:{...t,uid:Ig("uid")},CH=t=>t.uid!==void 0,EH=qi([it("name"),it("factory"),it("configFields"),Ie("apis",{}),Ie("extraApis",{})]),YY=qi([it("name"),it("factory"),it("configFields"),it("partFields"),Ie("apis",{}),Ie("extraApis",{})]),Al=t=>{const s=Co("Sketcher for "+t.name,EH,t),a=g=>fE(s.name,s.configFields,s.factory,g),u=qt(s.apis,Iy),h=qt(s.extraApis,(g,b)=>Px(g,b));return{name:s.name,configFields:s.configFields,sketch:a,...u,...h}},Da=t=>{const s=Co("Sketcher for "+t.name,YY,t),a=b=>hp(s.name,s.configFields,s.partFields,s.factory,b),u=iE(s.name,s.partFields),h=qt(s.apis,Iy),g=qt(s.extraApis,(b,C)=>Px(b,C));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:a,parts:u,...h,...g}},Zg=t=>yc("input")(t)&&Mn(t,"type")!=="radio"||yc("textarea")(t);var TH=Object.freeze({__proto__:null,getCurrent:(t,s,a)=>s.find(t)});const mE=[it("find")],ko=Ni({fields:mE,name:"composing",apis:TH}),_H=["input","button","textarea","select"],hM=(t,s,a)=>{(s.disabled()?pE:gE)(t,s)},hE=(t,s)=>s.useNative===!0&&Ot(_H,Xr(t.element)),kH=t=>Fl(t.element,"disabled"),qf=t=>{vn(t.element,"disabled","disabled")},_w=t=>{W(t.element,"disabled")},AH=t=>Mn(t.element,"aria-disabled")==="true",OH=t=>{vn(t.element,"aria-disabled","true")},DH=t=>{vn(t.element,"aria-disabled","false")},pE=(t,s,a)=>{s.disableClass.each(h=>{Nr(t.element,h)}),(hE(t,s)?qf:OH)(t),s.onDisabled(t)},gE=(t,s,a)=>{s.disableClass.each(h=>{er(t.element,h)}),(hE(t,s)?_w:DH)(t),s.onEnabled(t)},pM=(t,s)=>hE(t,s)?kH(t):AH(t);var qg=Object.freeze({__proto__:null,enable:gE,disable:pE,isDisabled:pM,onLoad:hM,set:(t,s,a,u)=>{(u?pE:gE)(t,s)}}),gM=Object.freeze({__proto__:null,exhibit:(t,s)=>wl({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Bs([uD(kc(),(a,u)=>pM(a,t)),Lx(t,s,hM)])}),MH=[ks("disabled",Me),Ie("useNative",!0),go("disableClass"),Eo("onDisabled"),Eo("onEnabled")];const On=Ni({fields:MH,name:"disabling",active:gM,apis:qg}),vM=(t,s,a,u)=>{const h=ua(t.element,"."+s.highlightClass);wt(h,g=>{jt(u,C=>Uo(C.element,g))||(er(g,s.highlightClass),t.getSystem().getByDom(g).each(C=>{s.onDehighlight(t,C),Qn(C,Uh())}))})},PH=(t,s,a)=>vM(t,s,a,[]),bM=(t,s,a,u)=>{kw(t,s,a,u)&&(er(u.element,s.highlightClass),s.onDehighlight(t,u),Qn(u,Uh()))},pp=(t,s,a,u)=>{vM(t,s,a,[u]),kw(t,s,a,u)||(Nr(u.element,s.highlightClass),s.onHighlight(t,u),Qn(u,Eg()))},NH=(t,s,a)=>{Aw(t,s).each(u=>{pp(t,s,a,u)})},yM=(t,s,a)=>{bE(t,s).each(u=>{pp(t,s,a,u)})},LH=(t,s,a,u)=>{BH(t,s,a,u).fold(h=>{throw h},h=>{pp(t,s,a,h)})},IH=(t,s,a,u)=>{const h=qm(t,s);It(h,u).each(b=>{pp(t,s,a,b)})},kw=(t,s,a,u)=>Cl(u.element,s.highlightClass),RH=(t,s,a)=>Zs(t.element,"."+s.highlightClass).bind(u=>t.getSystem().getByDom(u).toOptional()),BH=(t,s,a,u)=>{const h=ua(t.element,"."+s.itemClass);return P.from(h[u]).fold(()=>Xn.error(new Error("No element found with index "+u)),t.getSystem().getByDom)},Aw=(t,s,a)=>Zs(t.element,"."+s.itemClass).bind(u=>t.getSystem().getByDom(u).toOptional()),bE=(t,s,a)=>{const u=ua(t.element,"."+s.itemClass);return(u.length>0?P.some(u[u.length-1]):P.none()).bind(g=>t.getSystem().getByDom(g).toOptional())},Kb=(t,s,a,u)=>{const h=ua(t.element,"."+s.itemClass);return zn(h,b=>Cl(b,s.highlightClass)).bind(b=>{const C=Lg(b,u,0,h.length-1);return t.getSystem().getByDom(h[C]).toOptional()})},Ow=(t,s,a)=>Kb(t,s,a,-1),Dw=(t,s,a)=>Kb(t,s,a,1),qm=(t,s,a)=>{const u=ua(t.element,"."+s.itemClass);return ii(Ue(u,h=>t.getSystem().getByDom(h).toOptional()))};var eK=Object.freeze({__proto__:null,dehighlightAll:PH,dehighlight:bM,highlight:pp,highlightFirst:NH,highlightLast:yM,highlightAt:LH,highlightBy:IH,isHighlighted:kw,getHighlighted:RH,getFirst:Aw,getLast:bE,getPrevious:Ow,getNext:Dw,getCandidates:qm}),$H=[it("highlightClass"),it("itemClass"),Eo("onHighlight"),Eo("onDehighlight")];const Ho=Ni({fields:$H,name:"highlighting",apis:eK}),wM=[8],Vd=[9],Ud=[13],yE=[27],tc=[32],Mw=[37],Jb=[38],Gg=[39],Xg=[40],FH=(t,s,a)=>{const u=ar(t.slice(0,s)),h=ar(t.slice(s+1));return It(u.concat(h),a)},HH=(t,s,a)=>{const u=ar(t.slice(0,s));return It(u,a)},SM=(t,s,a)=>{const u=t.slice(0,s),h=t.slice(s+1);return It(h.concat(u),a)},zH=(t,s,a)=>{const u=t.slice(s+1);return It(u,a)},Ao=t=>s=>{const a=s.raw;return Ot(t,a.which)},gu=t=>s=>Tr(t,a=>a(s)),Gm=t=>t.raw.shiftKey===!0,VH=t=>t.raw.ctrlKey===!0,Yg=he(Gm),No=(t,s)=>({matches:t,classification:s}),wE=(t,s)=>It(t,u=>u.matches(s)).map(u=>u.classification),SE=(t,s,a)=>{s.exists(h=>a.exists(g=>Uo(g,h)))||Sn(t,Cg(),{prevFocus:s,newFocus:a})},Pw=()=>{const t=a=>Ha(a.element);return{get:t,set:(a,u)=>{const h=t(a);a.getSystem().triggerFocus(u,a.element);const g=t(a);SE(a,h,g)}}},xM=()=>{const t=a=>Ho.getHighlighted(a).map(u=>u.element);return{get:t,set:(a,u)=>{const h=t(a);a.getSystem().getByDom(u).fold(F,b=>{Ho.highlight(a,b)});const g=t(a);SE(a,h,g)}}};var gp;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(gp||(gp={}));const vp=(t,s,a,u,h)=>{const g=()=>t.concat([Ie("focusManager",Pw()),vl("focusInside","onFocus",Rs(M=>Ot(["onFocus","onEnterOrSpace","onApi"],M)?Xn.value(M):Xn.error("Invalid value for focusInside"))),ps("handler",E),ps("state",s),ps("sendFocusIn",h)]),b=(M,I,z,Q,te)=>{const le=z(M,I,Q,te);return wE(le,I.event).bind(de=>de(M,I,Q,te))},E={schema:g,processKey:b,toEvents:(M,I)=>{const z=M.focusInside!==gp.OnFocusMode?P.none():h(M).map(le=>mt(Nf(),(de,Ne)=>{le(de,M,I),Ne.stop()})),Q=(le,de)=>{const Ne=Ao(tc.concat(Ud))(de.event);M.focusInside===gp.OnEnterOrSpaceMode&&Ne&&_m(le,de)&&h(M).each(ge=>{ge(le,M,I),de.stop()})},te=[mt(Zu(),(le,de)=>{b(le,de,a,M,I).fold(()=>{Q(le,de)},Ne=>{de.stop()})}),mt(by(),(le,de)=>{b(le,de,u,M,I).each(Ne=>{de.stop()})})];return Bs(z.toArray().concat(te))}};return E},CM=t=>{const s=[go("onEscape"),go("onEnter"),Ie("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ie("firstTabstop",0),Ie("useTabstopAt",Oe),go("visibilitySelector")].concat([t]),a=(ge,ke)=>{const Ae=ge.visibilitySelector.bind(ft=>zd(ke,ft)).getOr(ke);return fs(Ae)>0},u=(ge,ke)=>{const Ae=ua(ge.element,ke.selector),ft=Dn(Ae,rt=>a(ke,rt));return P.from(ft[ke.firstTabstop])},h=(ge,ke)=>ke.focusManager.get(ge).bind(Ae=>zd(Ae,ke.selector)),g=(ge,ke)=>a(ge,ke)&&ge.useTabstopAt(ke),b=(ge,ke,Ae)=>{u(ge,ke).each(ft=>{ke.focusManager.set(ge,ft)})},C=(ge,ke,Ae,ft,rt)=>rt(ke,Ae,Ht=>g(ft,Ht)).fold(()=>ft.cyclic?P.some(!0):P.none(),Ht=>(ft.focusManager.set(ge,Ht),P.some(!0))),E=(ge,ke,Ae,ft)=>{const rt=ua(ge.element,Ae.selector);return h(ge,Ae).bind(Ht=>zn(rt,Fe(Uo,Ht)).bind(ut=>C(ge,rt,ut,Ae,ft)))},M=(ge,ke,Ae)=>{const ft=Ae.cyclic?FH:HH;return E(ge,ke,Ae,ft)},I=(ge,ke,Ae)=>{const ft=Ae.cyclic?SM:zH;return E(ge,ke,Ae,ft)},z=ge=>Ra(ge).bind(Iu).exists(ke=>Uo(ke,ge)),Q=(ge,ke,Ae)=>h(ge,Ae).filter(ft=>!Ae.useTabstopAt(ft)).bind(ft=>(z(ft)?M:I)(ge,ke,Ae)),te=(ge,ke,Ae)=>Ae.onEnter.bind(ft=>ft(ge,ke)),le=(ge,ke,Ae)=>Ae.onEscape.bind(ft=>ft(ge,ke)),de=ie([No(gu([Gm,Ao(Vd)]),M),No(Ao(Vd),I),No(gu([Yg,Ao(Ud)]),te)]),Ne=ie([No(Ao(yE),le),No(Ao(Vd),Q)]);return vp(s,Sl.init,de,Ne,()=>P.some(b))};var UH=CM(ao("cyclic",Me)),WH=CM(ao("cyclic",Oe));const Qb=(t,s,a)=>(Cy(t,a,kc()),P.some(!0)),Kg=(t,s,a)=>Zg(a)&&Ao(tc)(s.event)?P.none():Qb(t,s,a),bp=(t,s)=>P.some(!0),xE=[Ie("execute",Kg),Ie("useSpace",!1),Ie("useEnter",!0),Ie("useControlEnter",!1),Ie("useDown",!1)],EM=(t,s,a)=>a.execute(t,s,t.element),TM=(t,s,a,u)=>{const h=a.useSpace&&!Zg(t.element)?tc:[],g=a.useEnter?Ud:[],b=a.useDown?Xg:[],C=h.concat(g).concat(b);return[No(Ao(C),EM)].concat(a.useControlEnter?[No(gu([VH,Ao(Ud)]),EM)]:[])},jH=(t,s,a,u)=>a.useSpace&&!Zg(t.element)?[No(Ao(tc),bp)]:[];var _M=vp(xE,Sl.init,TM,jH,()=>P.none());const CE=()=>{const t=cs();return xl({readState:()=>t.get().map(h=>({numRows:String(h.numRows),numColumns:String(h.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(h,g)=>{t.set({numRows:h,numColumns:g})},getNumRows:()=>t.get().map(h=>h.numRows),getNumColumns:()=>t.get().map(h=>h.numColumns)})};var ZH=Object.freeze({__proto__:null,flatgrid:CE,init:t=>t.state(t)});const kM=t=>(s,a,u,h)=>{const g=t(s.element);return e1(g,s,a,u,h)},EE=(t,s)=>{const a=Jy(t,s);return kM(a)},TE=(t,s)=>{const a=Jy(s,t);return kM(a)},_E=t=>(s,a,u,h)=>e1(t,s,a,u,h),e1=(t,s,a,u,h)=>u.focusManager.get(s).bind(b=>t(s.element,b,u,h)).map(b=>(u.focusManager.set(s,b),!0)),Nw=_E,AM=_E,kE=_E,OM=t=>t.offsetWidth<=0&&t.offsetHeight<=0,DM=t=>!OM(t.dom),qH=(t,s)=>zn(t,s).map(a=>({index:a,candidates:t})),nc=(t,s,a)=>{const u=b=>Uo(b,s),h=ua(t,a),g=Dn(h,DM);return qH(g,u)},MM=(t,s)=>zn(t,a=>Uo(s,a)),PM=(t,s,a,u)=>{const h=Math.floor(s/a),g=s%a;return u(h,g).bind(b=>{const C=b.row*a+b.column;return C>=0&&C<t.length?P.some(t[C]):P.none()})},NM=(t,s,a,u,h)=>PM(t,s,u,(g,b)=>{const E=g===a-1?t.length-g*u:u,M=Lg(b,h,0,E-1);return P.some({row:g,column:M})}),LM=(t,s,a,u,h)=>PM(t,s,u,(g,b)=>{const C=Lg(g,h,0,a-1),M=C===a-1?t.length-C*u:u,I=_l(b,0,M-1);return P.some({row:C,column:I})}),GH=(t,s,a,u)=>NM(t,s,a,u,1),Jg=(t,s,a,u)=>NM(t,s,a,u,-1),AE=(t,s,a,u)=>LM(t,s,a,u,-1),XH=(t,s,a,u)=>LM(t,s,a,u,1),OE=[it("selector"),Ie("execute",Kg),Tl("onEscape"),Ie("captureTab",!1),Zx()],Lw=(t,s,a)=>{Zs(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},DE=(t,s)=>s.focusManager.get(t).bind(a=>zd(a,s.selector)),YH=(t,s,a,u)=>DE(t,a).bind(h=>a.execute(t,s,h)),Iw=t=>(s,a,u,h)=>nc(s,a,u.selector).bind(g=>t(g.candidates,g.index,h.getNumRows().getOr(u.initSize.numRows),h.getNumColumns().getOr(u.initSize.numColumns))),IM=(t,s,a)=>a.captureTab?P.some(!0):P.none(),KH=(t,s,a)=>a.onEscape(t,s),RM=Iw(Jg),BM=Iw(GH),JH=Iw(AE),$M=Iw(XH),Rw=ie([No(Ao(Mw),EE(RM,BM)),No(Ao(Gg),TE(RM,BM)),No(Ao(Jb),Nw(JH)),No(Ao(Xg),AM($M)),No(gu([Gm,Ao(Vd)]),IM),No(gu([Yg,Ao(Vd)]),IM),No(Ao(tc.concat(Ud)),YH)]),QH=ie([No(Ao(yE),KH),No(Ao(tc),bp)]);var e7=vp(OE,CE,Rw,QH,()=>P.some(Lw));const FM=(t,s,a,u,h)=>{const g=C=>Xr(C)==="button"&&Mn(C,"disabled")==="disabled",b=(C,E,M)=>h(C,E,u,0,M.length-1,M[E],I=>g(M[I])?b(C,I,M):P.from(M[I]));return nc(t,a,s).bind(C=>{const E=C.index,M=C.candidates;return b(E,E,M)})},HM=(t,s,a,u)=>FM(t,s,a,u,(h,g,b,C,E,M,I)=>{const z=_l(g+b,C,E);return z===h?P.from(M):I(z)}),Gf=(t,s,a,u)=>FM(t,s,a,u,(h,g,b,C,E,M,I)=>{const z=Lg(g,b,C,E);return z===h?P.none():I(z)}),zM=[it("selector"),Ie("getInitial",P.none),Ie("execute",Kg),Tl("onEscape"),Ie("executeOnMove",!1),Ie("allowVertical",!0),Ie("allowHorizontal",!0),Ie("cycles",!0)],t7=(t,s)=>s.focusManager.get(t).bind(a=>zd(a,s.selector)),t1=(t,s,a)=>t7(t,a).bind(u=>a.execute(t,s,u)),n7=(t,s,a)=>{s.getInitial(t).orThunk(()=>Zs(t.element,s.selector)).each(u=>{s.focusManager.set(t,u)})},ME=(t,s,a)=>(a.cycles?Gf:HM)(t,a.selector,s,-1),PE=(t,s,a)=>(a.cycles?Gf:HM)(t,a.selector,s,1),NE=t=>(s,a,u,h)=>t(s,a,u,h).bind(()=>u.executeOnMove?t1(s,a,u):P.some(!0)),VM=(t,s,a)=>a.onEscape(t,s),UM=(t,s,a,u)=>{const h=[...a.allowHorizontal?Mw:[]].concat(a.allowVertical?Jb:[]),g=[...a.allowHorizontal?Gg:[]].concat(a.allowVertical?Xg:[]);return[No(Ao(h),NE(EE(ME,PE))),No(Ao(g),NE(TE(ME,PE))),No(Ao(Ud),t1),No(Ao(tc),t1)]},o7=ie([No(Ao(tc),bp),No(Ao(yE),VM)]);var s7=vp(zM,Sl.init,UM,o7,()=>P.some(n7));const Bw=(t,s,a)=>P.from(t[s]).bind(u=>P.from(u[a]).map(h=>({rowIndex:s,columnIndex:a,cell:h}))),$w=(t,s,a,u)=>{const g=t[s].length,b=Lg(a,u,0,g-1);return Bw(t,s,b)},WM=(t,s,a,u)=>{const h=Lg(a,u,0,t.length-1),g=t[h].length,b=_l(s,0,g-1);return Bw(t,h,b)},n1=(t,s,a,u)=>{const g=t[s].length,b=_l(a+u,0,g-1);return Bw(t,s,b)},jM=(t,s,a,u)=>{const h=_l(a+u,0,t.length-1),g=t[h].length,b=_l(s,0,g-1);return Bw(t,h,b)},ZM=(t,s,a)=>$w(t,s,a,1),Va=(t,s,a)=>$w(t,s,a,-1),r7=(t,s,a)=>WM(t,a,s,-1),qM=(t,s,a)=>WM(t,a,s,1),GM=(t,s,a)=>n1(t,s,a,-1),i7=(t,s,a)=>n1(t,s,a,1),XM=(t,s,a)=>jM(t,a,s,-1),YM=(t,s,a)=>jM(t,a,s,1),a7=[bs("selectors",[it("row"),it("cell")]),Ie("cycles",!0),Ie("previousSelector",P.none),Ie("execute",Kg)],l7=(t,s,a)=>{s.previousSelector(t).orThunk(()=>{const h=s.selectors;return Zs(t.element,h.cell)}).each(h=>{s.focusManager.set(t,h)})},c7=(t,s,a)=>Ha(t.element).bind(u=>a.execute(t,s,u)),u7=(t,s)=>Ue(t,a=>ua(a,s.selectors.cell)),o1=(t,s)=>(a,u,h)=>{const g=h.cycles?t:s;return zd(u,h.selectors.row).bind(b=>{const C=ua(b,h.selectors.cell);return MM(C,u).bind(E=>{const M=ua(a,h.selectors.row);return MM(M,b).bind(I=>{const z=u7(M,h);return g(z,I,E).map(Q=>Q.cell)})})})},KM=o1(Va,GM),JM=o1(ZM,i7),QM=o1(r7,XM),e3=o1(qM,YM),t3=ie([No(Ao(Mw),EE(KM,JM)),No(Ao(Gg),TE(KM,JM)),No(Ao(Jb),Nw(QM)),No(Ao(Xg),AM(e3)),No(Ao(tc.concat(Ud)),c7)]),d7=ie([No(Ao(tc),bp)]);var f7=vp(a7,Sl.init,t3,d7,()=>P.some(l7));const m7=[it("selector"),Ie("execute",Kg),Ie("moveOnTab",!1)],n3=(t,s,a)=>a.focusManager.get(t).bind(u=>a.execute(t,s,u)),o3=(t,s,a)=>{Zs(t.element,s.selector).each(u=>{s.focusManager.set(t,u)})},LE=(t,s,a)=>Gf(t,a.selector,s,-1),Xf=(t,s,a)=>Gf(t,a.selector,s,1),s3=(t,s,a,u)=>a.moveOnTab?kE(LE)(t,s,a,u):P.none(),r3=(t,s,a,u)=>a.moveOnTab?kE(Xf)(t,s,a,u):P.none(),i3=ie([No(Ao(Jb),kE(LE)),No(Ao(Xg),kE(Xf)),No(gu([Gm,Ao(Vd)]),s3),No(gu([Yg,Ao(Vd)]),r3),No(Ao(Ud),n3),No(Ao(tc),n3)]),h7=ie([No(Ao(tc),bp)]);var Qg=vp(m7,Sl.init,i3,h7,()=>P.some(o3));const p7=[Tl("onSpace"),Tl("onEnter"),Tl("onShiftEnter"),Tl("onLeft"),Tl("onRight"),Tl("onTab"),Tl("onShiftTab"),Tl("onUp"),Tl("onDown"),Tl("onEscape"),Ie("stopSpaceKeyup",!1),go("focusIn")],g7=(t,s,a)=>[No(Ao(tc),a.onSpace),No(gu([Yg,Ao(Ud)]),a.onEnter),No(gu([Gm,Ao(Ud)]),a.onShiftEnter),No(gu([Gm,Ao(Vd)]),a.onShiftTab),No(gu([Yg,Ao(Vd)]),a.onTab),No(Ao(Jb),a.onUp),No(Ao(Xg),a.onDown),No(Ao(Mw),a.onLeft),No(Ao(Gg),a.onRight),No(Ao(tc),a.onSpace)],a3=(t,s,a)=>[...a.stopSpaceKeyup?[No(Ao(tc),bp)]:[],No(Ao(yE),a.onEscape)];var v7=vp(p7,Sl.init,g7,a3,t=>t.focusIn);const b7=UH.schema(),y7=WH.schema(),l3=s7.schema(),IE=e7.schema(),RE=f7.schema(),w7=_M.schema(),Xm=Qg.schema(),c3=v7.schema();var u3=Object.freeze({__proto__:null,acyclic:b7,cyclic:y7,flow:l3,flatgrid:IE,matrix:RE,execution:w7,menu:Xm,special:c3});const S7=t=>Ws(t,"setGridSize"),bn=pD({branchKey:"mode",branches:u3,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,a)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},u=>{u(t,s,a)})},setGridSize:(t,s,a,u,h)=>{S7(a)?a.setGridSize(u,h):console.error("Layout does not support setGridSize")}},state:ZH}),ev=(t,s)=>{Fm(()=>{Y6(t,s,()=>Ue(s,t.getSystem().build))},t.element)},tv=(t,s)=>{Fm(()=>{K6(t,s,()=>VD(t.element,s,t.getSystem().buildOrPatch))},t.element)},d3=(t,s,a,u)=>{sw(s);const h=tC(t.element,a,u,t.getSystem().buildOrPatch);zC(t,h),t.syncComponents()},s1=(t,s,a)=>{const u=t.getSystem().build(a);W4(t,u,s)},Ym=(t,s,a,u)=>{Wf(s),s1(t,(h,g)=>Lh(h,g,a),u)},Km=(t,s,a,u)=>(s.reuseDom?tv:ev)(t,u),x7=(t,s,a,u)=>{s1(t,Di,u)},C7=(t,s,a,u)=>{s1(t,Cc,u)},f3=(t,s,a,u)=>{const h=vu(t);It(h,b=>Uo(u.element,b.element)).each(Wf)},vu=(t,s)=>t.components(),Fw=(t,s,a,u,h)=>{const g=vu(t);return P.from(g[u]).map(b=>(h.fold(()=>Wf(b),C=>{(s.reuseDom?d3:Ym)(t,b,u,C)}),b))};var m3=Object.freeze({__proto__:null,append:x7,prepend:C7,remove:f3,replaceAt:Fw,replaceBy:(t,s,a,u,h)=>{const g=vu(t);return zn(g,u).bind(b=>Fw(t,s,a,b,h))},set:Km,contents:vu});const In=Ni({fields:[yr("reuseDom",!0)],name:"replacing",apis:m3}),h3=(t,s)=>{const a=Bs(s);return Ni({fields:[it("enabled")],name:t,active:{events:ie(a)}})},jn=(t,s)=>{const a=h3(t,s);return{key:t,value:{config:{},me:a,configAsRaw:ie({}),initialConfig:{},state:Sl}}},BE=(t,s)=>{s.ignore||(Oc(t.element),s.onFocus(t))};var E7=Object.freeze({__proto__:null,focus:BE,blur:(t,s)=>{s.ignore||Wy(t.element)},isFocused:t=>Bb(t.element)}),Hw=Object.freeze({__proto__:null,exhibit:(t,s)=>{const a=s.ignore?{}:{attributes:{tabindex:"-1"}};return wl(a)},events:t=>Bs([mt(Nf(),(s,a)=>{BE(s,t),a.stop()})].concat(t.stopMousedown?[mt(yl(),(s,a)=>{a.event.prevent()})]:[]))}),g3=[Eo("onFocus"),Ie("stopMousedown",!1),Ie("ignore",!1)];const Pn=Ni({fields:g3,name:"focusing",active:Hw,apis:E7}),v3=t=>({init:()=>{const a=un(t);return{get:()=>a.get(),set:C=>a.set(C),clear:()=>a.set(t),readState:()=>a.get()}}}),b3=(t,s,a)=>{const u=s.aria;u.update(t,u,a.get())},y3=(t,s,a)=>{s.toggleClass.each(u=>{a.get()?Nr(t.element,u):er(t.element,u)})},nv=(t,s,a,u)=>{const h=a.get();a.set(u),y3(t,s,a),b3(t,s,a),h!==u&&s.onToggled(t,u)},w3=(t,s,a)=>{nv(t,s,a,!a.get())},FE=(t,s,a)=>{nv(t,s,a,!0)},T7=(t,s,a)=>{nv(t,s,a,!1)},_7=(t,s,a)=>a.get(),S3=(t,s,a)=>{nv(t,s,a,s.selected)};var k7=Object.freeze({__proto__:null,onLoad:S3,toggle:w3,isOn:_7,on:FE,off:T7,set:nv}),O7=Object.freeze({__proto__:null,exhibit:()=>wl({}),events:(t,s)=>{const a=Cb(t,s,w3),u=Lx(t,s,S3);return Bs(nn([t.toggleOnExecute?[a]:[],[u]]))}});const x3=(t,s,a)=>{vn(t.element,"aria-pressed",a),s.syncWithExpanded&&ov(t,s,a)},r1=(t,s,a)=>{vn(t.element,"aria-selected",a)},D7=(t,s,a)=>{vn(t.element,"aria-checked",a)},ov=(t,s,a)=>{vn(t.element,"aria-expanded",a)};var HE=[Ie("selected",!1),go("toggleClass"),Ie("toggleOnExecute",!0),Eo("onToggled"),vl("aria",{mode:"none"},_o("mode",{pressed:[Ie("syncWithExpanded",!1),ps("update",x3)],checked:[ps("update",D7)],expanded:[ps("update",ov)],selected:[ps("update",r1)],none:[ps("update",F)]}))];const eo=Ni({fields:HE,name:"toggling",active:O7,apis:k7,state:v3(!1)}),zE=()=>{const t=(s,a)=>{a.stop(),Om(s)};return[mt(zh(),t),mt(Gu(),t),Yu(Nd()),Yu(yl())]},zw=t=>{const s=a=>$d((u,h)=>{a(u),h.stop()});return Bs(nn([t.map(s).toArray(),zE()]))},C3="alloy.item-hover",VE="alloy.item-focus",E3="alloy.item-toggled",UE=t=>{(Ha(t.element).isNone()||Pn.isFocused(t))&&(Pn.isFocused(t)||Pn.focus(t),Sn(t,C3,{item:t}))},T3=t=>{Sn(t,VE,{item:t})},M7=(t,s)=>{Sn(t,E3,{item:t,state:s})},WE=ie(C3),Vw=ie(VE),jE=ie(E3),ZE=t=>t.role.fold(()=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),He),P7=(t,s)=>({aria:{mode:s?"selected":"checked"},...So(t,(a,u)=>u!=="exclusive"),onToggled:(a,u)=>{X(t.onToggled)&&t.onToggled(a,u),M7(a,u)}}),N7=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:ZE(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Pc.augment(t.itemBehaviours,[t.toggling.fold(eo.revoke,s=>eo.config(P7(s,t.role.exists(a=>a==="option")))),Pn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{T3(s)}}),bn.config({mode:"execution"}),Xt.config({store:{mode:"memory",initialValue:t.data}}),jn("item-type-events",[...zE(),mt(Ld(),UE),mt(wy(),Pn.focus)])]),components:t.components,eventOrder:t.eventOrder}),L7=[it("data"),it("components"),it("dom"),Ie("hasSubmenu",!1),go("toggling"),go("role"),Pc.field("itemBehaviours",[eo,Pn,bn,Xt]),Ie("ignoreFocus",!1),Ie("domModification",{}),ps("builder",N7),Ie("eventOrder",{})],I7=t=>({dom:t.dom,components:t.components,events:Bs([Ox(wy())])}),_3=[it("dom"),it("components"),ps("builder",I7)],Uw=ie("item-widget"),qE=ie([Ji({name:"widget",overrides:t=>({behaviours:At([Xt.config({store:{mode:"manual",getValue:s=>t.data,setValue:F}})])})})]),R7=t=>{const s=Ew(Uw(),t,qE()),a=cE(Uw(),t,s.internals()),u=g=>kt(g,t,"widget").map(b=>(bn.focusIn(b),b)),h=(g,b)=>Zg(b.event.target)?P.none():(t.autofocus&&b.setSource(g.element),P.none());return{dom:t.dom,components:a,domModification:t.domModification,events:Bs([$d((g,b)=>{u(g).each(C=>{b.stop()})}),mt(Ld(),UE),mt(wy(),(g,b)=>{t.autofocus?u(g):Pn.focus(g)})]),behaviours:Pc.augment(t.widgetBehaviours,[Xt.config({store:{mode:"memory",initialValue:t.data}}),Pn.config({ignore:t.ignoreFocus,onFocus:g=>{T3(g)}}),bn.config({mode:"special",focusIn:t.autofocus?g=>{u(g)}:Fs(),onLeft:h,onRight:h,onEscape:(g,b)=>!Pn.isFocused(g)&&!t.autofocus?(Pn.focus(g),P.some(!0)):(t.autofocus&&b.setSource(g.element),P.none())})])}},B7=[it("uid"),it("data"),it("components"),it("dom"),Ie("autofocus",!1),Ie("ignoreFocus",!1),Pc.field("widgetBehaviours",[Xt,Pn,bn]),Ie("domModification",{}),Tw(qE()),ps("builder",R7)],$7=_o("type",{widget:B7,item:L7,separator:_3}),F7=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),H7=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),k3=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),z7=ie([Sw({factory:{sketch:t=>{const s=Co("menu.spec item",$7,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>Gn(s,"uid")?s:{...s,uid:Ig("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),V7=ie([Qr("role"),it("value"),it("items"),it("dom"),it("components"),Ie("eventOrder",{}),xi("menuBehaviours",[Ho,Xt,ko,bn]),vl("movement",{mode:"menu",moveOnTab:!0},_o("mode",{grid:[Zx(),ps("config",F7)],matrix:[ps("config",H7),it("rowSelector"),Ie("previousSelector",P.none)],menu:[Ie("moveOnTab",!0),ps("config",k3)]})),jx(),Ie("fakeFocus",!1),Ie("focusManager",Pw()),Eo("onHighlight"),Eo("onDehighlight"),Ie("showMenuRole",!0)]),A3=ie("alloy.menu-focus"),U7=(t,s)=>{const a=ua(t.element,'[role="menuitemradio"][aria-checked="true"]');wt(a,u=>{Uo(u,s.element)||t.getSystem().getByDom(u).each(h=>{eo.off(h)})})},W7=(t,s,a,u)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Ci(t.menuBehaviours,[Ho.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),Xt.config({store:{mode:"memory",initialValue:t.value}}),ko.config({find:P.some}),bn.config(t.movement.config(t,t.movement))]),events:Bs([mt(Vw(),(h,g)=>{const b=g.event;h.getSystem().getByDom(b.target).each(C=>{Ho.highlight(h,C),g.stop(),Sn(h,A3(),{menu:h,item:C})})}),mt(WE(),(h,g)=>{const b=g.event.item;Ho.highlight(h,b)}),mt(jE(),(h,g)=>{const{item:b,state:C}=g.event;C&&Mn(b.element,"role")==="menuitemradio"&&U7(h,b)})]),components:s,eventOrder:t.eventOrder,...t.showMenuRole?{domModification:{attributes:{role:t.role.getOr("menu")}}}:{}}),Lc=Da({name:"Menu",configFields:V7(),partFields:z7(),factory:W7}),j7=t=>Vn(t,(s,a)=>({k:s,v:a})),O3=(t,s,a,u)=>_t(a,u).bind(h=>_t(t,h).bind(g=>{const b=O3(t,s,a,g);return P.some([g].concat(b))})).getOr([]),yp=(t,s)=>{const a={};tn(t,(b,C)=>{wt(b,E=>{a[E]=C})});const u=s,h=j7(s),g=qt(h,(b,C)=>[C].concat(O3(a,u,h,C)));return qt(a,b=>_t(g,b).getOr([b]))},D3=()=>{const t=un({}),s=un({}),a=un({}),u=cs(),h=un({}),g=()=>{t.set({}),s.set({}),a.set({}),u.clear()},b=()=>u.get().isNone(),C=(rt,Ht)=>{s.set({...s.get(),[rt]:{type:"prepared",menu:Ht}})},E=(rt,Ht,Gt,ut)=>{u.set(rt),t.set(Gt),s.set(Ht),h.set(ut);const Qt=yp(ut,Gt);a.set(Qt)},M=rt=>Lo(t.get(),(Ht,Gt)=>Ht===rt),I=(rt,Ht,Gt)=>de(rt).bind(ut=>M(rt).bind(Qt=>Ht(Qt).map(Bt=>({triggeredMenu:ut,triggeringItem:Bt,triggeringPath:Gt})))),z=(rt,Ht)=>{const Gt=Dn(ge(rt).toArray(),ut=>de(ut).isSome());return _t(a.get(),rt).bind(ut=>{const Qt=ar(Gt.concat(ut)),Bt=$e(Qt,(on,co)=>I(on,Ht,Qt.slice(0,co+1)).fold(()=>Xs(u.get(),on)?[]:[P.none()],Ss=>[P.some(Ss)]));return Ys(Bt)})},Q=rt=>_t(t.get(),rt).map(Ht=>{const Gt=_t(a.get(),rt).getOr([]);return[Ht].concat(Gt)}),te=rt=>_t(a.get(),rt).bind(Ht=>Ht.length>1?P.some(Ht.slice(1)):P.none()),le=rt=>_t(a.get(),rt),de=rt=>Ne(rt).bind(M3),Ne=rt=>_t(s.get(),rt),ge=rt=>_t(t.get(),rt);return{setMenuBuilt:C,setContents:E,expand:Q,refresh:le,collapse:te,lookupMenu:Ne,lookupItem:ge,otherMenus:rt=>{const Ht=h.get();return hn(ht(Ht),rt)},getPrimary:()=>u.get().bind(de),getMenus:()=>s.get(),clear:g,isClear:b,getTriggeringPath:z}},M3=t=>t.type==="prepared"?P.some(t.menu):P.none(),Yf={init:D3,extractPreparedMenu:M3},P3=Kt("tiered-menu-item-highlight"),N3=Kt("tiered-menu-item-dehighlight");var mr;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(mr||(mr={}));const L3=(t,s)=>{const a=cs(),u=(Ct,zt,Nn)=>qt(Nn,(Cn,gn)=>{const Fn=()=>Lc.sketch({...Cn,value:gn,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(rs,$o)=>{Sn(rs,P3,{menuComp:rs,itemComp:$o})},onDehighlight:(rs,$o)=>{Sn(rs,N3,{menuComp:rs,itemComp:$o})},focusManager:t.fakeFocus?xM():Pw()});return gn===zt?{type:"prepared",menu:Ct.getSystem().build(Fn())}:{type:"notbuilt",nbMenu:Fn}}),h=Yf.init(),g=Ct=>{const zt=u(Ct,t.data.primary,t.data.menus),Nn=E();return h.setContents(t.data.primary,zt,t.data.expansions,Nn),h.getPrimary()},b=Ct=>Xt.getValue(Ct).value,C=(Ct,zt,Nn)=>bt(zt,Cn=>{if(!Cn.getSystem().isConnected())return P.none();const gn=Ho.getCandidates(Cn);return It(gn,Fn=>b(Fn)===Nn)}),E=Ct=>qt(t.data.menus,(zt,Nn)=>$e(zt.items,Cn=>Cn.type==="separator"?[]:[Cn.data.value])),M=Ho.highlight,I=(Ct,zt)=>{M(Ct,zt),Ho.getHighlighted(zt).orThunk(()=>Ho.getFirst(zt)).each(Nn=>{t.fakeFocus?Ho.highlight(zt,Nn):Cy(Ct,Nn.element,wy())})},z=(Ct,zt)=>ii(Ue(zt,Nn=>Ct.lookupMenu(Nn).bind(Cn=>Cn.type==="prepared"?P.some(Cn.menu):P.none()))),Q=(Ct,zt,Nn)=>{const Cn=z(zt,zt.otherMenus(Nn));wt(Cn,gn=>{Ku(gn.element,[t.markers.backgroundMenu]),t.stayInDom||In.remove(Ct,gn)})},te=Ct=>a.get().getOrThunk(()=>{const zt={},Nn=ua(Ct.element,`.${t.markers.item}`),Cn=Dn(Nn,gn=>Mn(gn,"aria-haspopup")==="true");return wt(Cn,gn=>{Ct.getSystem().getByDom(gn).each(Fn=>{const rs=b(Fn);zt[rs]=Fn})}),a.set(zt),zt}),le=(Ct,zt)=>{const Nn=te(Ct);tn(Nn,(Cn,gn)=>{const Fn=Ot(zt,gn);vn(Cn.element,"aria-expanded",Fn)})},de=(Ct,zt,Nn)=>P.from(Nn[0]).bind(Cn=>zt.lookupMenu(Cn).bind(gn=>{if(gn.type==="notbuilt")return P.none();{const Fn=gn.menu,rs=z(zt,Nn.slice(1));return wt(rs,$o=>{Nr($o.element,t.markers.backgroundMenu)}),oa(Fn.element)||In.append(Ct,Xl(Fn)),Ku(Fn.element,[t.markers.backgroundMenu]),I(Ct,Fn),Q(Ct,zt,Nn),P.some(Fn)}}));let Ne;(function(Ct){Ct[Ct.HighlightSubmenu=0]="HighlightSubmenu",Ct[Ct.HighlightParent=1]="HighlightParent"})(Ne||(Ne={}));const ge=(Ct,zt,Nn)=>{if(Nn.type==="notbuilt"){const Cn=Ct.getSystem().build(Nn.nbMenu());return h.setMenuBuilt(zt,Cn),Cn}else return Nn.menu},ke=(Ct,zt,Nn=Ne.HighlightSubmenu)=>{if(zt.hasConfigured(On)&&On.isDisabled(zt))return P.some(zt);{const Cn=b(zt);return h.expand(Cn).bind(gn=>(le(Ct,gn),P.from(gn[0]).bind(Fn=>h.lookupMenu(Fn).bind(rs=>{const $o=ge(Ct,Fn,rs);return oa($o.element)||In.append(Ct,Xl($o)),t.onOpenSubmenu(Ct,zt,$o,ar(gn)),Nn===Ne.HighlightSubmenu?(Ho.highlightFirst($o),de(Ct,h,gn)):(Ho.dehighlightAll($o),P.some(zt))}))))}},Ae=(Ct,zt)=>{const Nn=b(zt);return h.collapse(Nn).bind(Cn=>(le(Ct,Cn),de(Ct,h,Cn).map(gn=>(t.onCollapseMenu(Ct,zt,gn),gn))))},ft=(Ct,zt)=>{const Nn=b(zt);return h.refresh(Nn).bind(Cn=>(le(Ct,Cn),de(Ct,h,Cn)))},rt=(Ct,zt)=>Zg(zt.element)?P.none():ke(Ct,zt,Ne.HighlightSubmenu),Ht=(Ct,zt)=>Zg(zt.element)?P.none():Ae(Ct,zt),Gt=(Ct,zt)=>Ae(Ct,zt).orThunk(()=>t.onEscape(Ct,zt).map(()=>Ct)),ut=Ct=>(zt,Nn)=>zd(Nn.getSource(),`.${t.markers.item}`).bind(Cn=>zt.getSystem().getByDom(Cn).toOptional().bind(gn=>Ct(zt,gn).map(Oe))),Qt=Bs([mt(A3(),(Ct,zt)=>{const Nn=zt.event.item;h.lookupItem(b(Nn)).each(()=>{const Cn=zt.event.menu;Ho.highlight(Ct,Cn);const gn=b(zt.event.item);h.refresh(gn).each(Fn=>Q(Ct,h,Fn))})}),$d((Ct,zt)=>{const Nn=zt.event.target;Ct.getSystem().getByDom(Nn).each(Cn=>{b(Cn).indexOf("collapse-item")===0&&Ae(Ct,Cn),ke(Ct,Cn,Ne.HighlightSubmenu).fold(()=>{t.onExecute(Ct,Cn)},F)})}),$s((Ct,zt)=>{g(Ct).each(Nn=>{In.append(Ct,Xl(Nn)),t.onOpenMenu(Ct,Nn),t.highlightOnOpen===mr.HighlightMenuAndItem?I(Ct,Nn):t.highlightOnOpen===mr.HighlightJustMenu&&M(Ct,Nn)})}),mt(P3,(Ct,zt)=>{t.onHighlightItem(Ct,zt.event.menuComp,zt.event.itemComp)}),mt(N3,(Ct,zt)=>{t.onDehighlightItem(Ct,zt.event.menuComp,zt.event.itemComp)}),...t.navigateOnHover?[mt(WE(),(Ct,zt)=>{const Nn=zt.event.item;ft(Ct,Nn),ke(Ct,Nn,Ne.HighlightParent),t.onHover(Ct,Nn)})]:[]]),Bt=Ct=>Ho.getHighlighted(Ct).bind(Ho.getHighlighted),on=Ct=>{Bt(Ct).each(zt=>{Ae(Ct,zt)})},co=Ct=>{h.getPrimary().each(zt=>{I(Ct,zt)})},Ss=Ct=>P.from(Ct.components()[0]).filter(zt=>Mn(zt.element,"role")==="menu"),en={collapseMenu:on,highlightPrimary:co,repositionMenus:Ct=>{h.getPrimary().bind(Nn=>Bt(Ct).bind(Cn=>{const gn=b(Cn),Fn=Js(h.getMenus()),rs=ii(Ue(Fn,Yf.extractPreparedMenu));return h.getTriggeringPath(gn,$o=>C(Ct,rs,$o))}).map(Cn=>({primary:Nn,triggeringPath:Cn}))).fold(()=>{Ss(Ct).each(Nn=>{t.onRepositionMenu(Ct,Nn,[])})},({primary:Nn,triggeringPath:Cn})=>{t.onRepositionMenu(Ct,Nn,Cn)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Ci(t.tmenuBehaviours,[bn.config({mode:"special",onRight:ut(rt),onLeft:ut(Ht),onEscape:ut(Gt),focusIn:(Ct,zt)=>{h.getPrimary().each(Nn=>{Cy(Ct,Nn.element,wy())})}}),Ho.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),ko.config({find:Ct=>Ho.getHighlighted(Ct)}),In.config({})]),eventOrder:t.eventOrder,apis:en,events:Qt}},I3=ie("collapse-item"),R3=(t,s,a)=>({primary:t,menus:s,expansions:a}),Z7=(t,s)=>({primary:t,menus:Wu(t,s),expansions:{}}),Ww=t=>({value:Kt(I3()),meta:{text:t}}),Jm=Al({name:"TieredMenu",configFields:[Ny("onExecute"),Ny("onEscape"),$f("onOpenMenu"),$f("onOpenSubmenu"),Eo("onRepositionMenu"),Eo("onCollapseMenu"),Ie("highlightOnOpen",mr.HighlightMenuAndItem),bs("data",[it("primary"),it("menus"),it("expansions")]),Ie("fakeFocus",!1),Eo("onHighlightItem"),Eo("onDehighlightItem"),Eo("onHover"),Ng(),it("dom"),Ie("navigateOnHover",!0),Ie("stayInDom",!1),xi("tmenuBehaviours",[bn,Ho,ko,In]),Ie("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:L3,extraApis:{tieredData:R3,singleData:Z7,collapseItem:Ww}}),q7=(t,s,a,u,h)=>{const g=()=>t.lazySink(s),b=u.type==="horizontal"?{layouts:{onLtr:()=>Uy(),onRtl:()=>bC()}}:{},C=M=>M.length===2,E=M=>C(M)?b:{};return Jm.sketch({dom:{tag:"div"},data:u.data,markers:u.menu.markers,highlightOnOpen:u.menu.highlightOnOpen,fakeFocus:u.menu.fakeFocus,onEscape:()=>(Do.close(s),t.onEscape.map(M=>M(s)),P.some(!0)),onExecute:()=>P.some(!0),onOpenMenu:(M,I)=>{da.positionWithinBounds(g().getOrDie(),I,a,h())},onOpenSubmenu:(M,I,z,Q)=>{const te=g().getOrDie();da.position(te,z,{anchor:{type:"submenu",item:I,...E(Q)}})},onRepositionMenu:(M,I,z)=>{const Q=g().getOrDie();da.positionWithinBounds(Q,I,a,h()),wt(z,te=>{const le=E(te.triggeringPath);da.position(Q,te.triggeredMenu,{anchor:{type:"submenu",item:te.triggeringItem,...le}})})}})},G7=(t,s)=>{const a=(Q,te)=>t.getRelated(Q).exists(de=>op(de,te)),u=(Q,te)=>{Do.setContent(Q,te)},h=(Q,te,le)=>{const de=P.none;g(Q,te,le,de)},g=(Q,te,le,de)=>{const Ne=t.lazySink(Q).getOrDie();Do.openWhileCloaked(Q,te,()=>da.positionWithinBounds(Ne,Q,le,de())),Xt.setValue(Q,P.some({mode:"position",config:le,getBounds:de}))},b=(Q,te,le)=>{C(Q,te,le,P.none)},C=(Q,te,le,de)=>{const Ne=q7(t,Q,te,le,de);Do.open(Q,Ne),Xt.setValue(Q,P.some({mode:"menu",menu:Ne}))},E=Q=>{Do.isOpen(Q)&&(Xt.setValue(Q,P.none()),Do.close(Q))},M=Q=>Do.getState(Q),I=Q=>{Do.isOpen(Q)&&Xt.getValue(Q).each(te=>{switch(te.mode){case"menu":Do.getState(Q).each(Jm.repositionMenus);break;case"position":const le=t.lazySink(Q).getOrDie();da.positionWithinBounds(le,Q,te.config,te.getBounds());break}})},z={setContent:u,showAt:h,showWithinBounds:g,showMenuAt:b,showMenuWithinBounds:C,hide:E,getContent:M,reposition:I,isOpen:Do.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Ci(t.inlineBehaviours,[Do.config({isPartOf:(Q,te,le)=>op(te,le)||a(Q,le),getAttachPoint:Q=>t.lazySink(Q).getOrDie(),onOpen:Q=>{t.onShow(Q)},onClose:Q=>{t.onHide(Q)}}),Xt.config({store:{mode:"memory",initialValue:P.none()}}),Ka.config({channels:{...jm({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(Q=>({fireEventInstead:{event:Q.event}})).getOr({})}),...JC({...t.fireRepositionEventInstead.map(Q=>({fireEventInstead:{event:Q.event}})).getOr({}),doReposition:I})}})]),eventOrder:t.eventOrder,apis:z}},Ps=Al({name:"InlineView",configFields:[it("lazySink"),Eo("onShow"),Eo("onHide"),du("onEscape"),xi("inlineBehaviours",[Do,Xt,Ka]),Ds("fireDismissalEventInstead",[Ie("event",Vh())]),Ds("fireRepositionEventInstead",[Ie("event",iD())]),Ie("getRelated",P.none),Ie("isExtraPart",Me),Ie("eventOrder",P.none)],factory:G7,apis:{showAt:(t,s,a,u)=>{t.showAt(s,a,u)},showWithinBounds:(t,s,a,u,h)=>{t.showWithinBounds(s,a,u,h)},showMenuAt:(t,s,a,u)=>{t.showMenuAt(s,a,u)},showMenuWithinBounds:(t,s,a,u,h)=>{t.showMenuWithinBounds(s,a,u,h)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,a)=>{t.setContent(s,a)},reposition:(t,s)=>{t.reposition(s)}}});var sv=tinymce.util.Tools.resolve("tinymce.util.Delay"),wp=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),B3=tinymce.util.Tools.resolve("tinymce.EditorManager"),Sp=tinymce.util.Tools.resolve("tinymce.Env"),Ic;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Ic||(Ic={}));var xp;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(xp||(xp={}));const us=t=>s=>s.options.get(t),i1=t=>s=>P.from(t(s)),$3=t=>{const s=Sp.deviceType.isPhone(),a=Sp.deviceType.isTablet()||s,u=t.options.register,h=b=>T(b)||b===!1,g=b=>T(b)||re(b);u("skin",{processor:b=>T(b)||b===!1,default:"oxide"}),u("skin_url",{processor:"string"}),u("height",{processor:g,default:Math.max(t.getElement().offsetHeight,400)}),u("width",{processor:g,default:wp.DOM.getStyle(t.getElement(),"width")}),u("min_height",{processor:"number",default:100}),u("min_width",{processor:"number"}),u("max_height",{processor:"number"}),u("max_width",{processor:"number"}),u("style_formats",{processor:"object[]"}),u("style_formats_merge",{processor:"boolean",default:!1}),u("style_formats_autohide",{processor:"boolean",default:!1}),u("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),u("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),u("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),u("font_size_input_default_unit",{processor:"string",default:"pt"}),u("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),u("content_langs",{processor:"object[]"}),u("removed_menuitems",{processor:"string",default:""}),u("menubar",{processor:b=>T(b)||R(b),default:!s}),u("menu",{processor:"object",default:{}}),u("toolbar",{processor:b=>R(b)||T(b)||D(b)?{value:b,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Hn(9,b=>{u("toolbar"+(b+1),{processor:"string"})}),u("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),u("toolbar_groups",{processor:"object",default:{}}),u("toolbar_location",{processor:"string",default:xp.auto}),u("toolbar_persist",{processor:"boolean",default:!1}),u("toolbar_sticky",{processor:"boolean",default:t.inline}),u("toolbar_sticky_offset",{processor:"number",default:0}),u("fixed_toolbar_container",{processor:"string",default:""}),u("fixed_toolbar_container_target",{processor:"object"}),u("ui_mode",{processor:"string",default:"combined"}),u("file_picker_callback",{processor:"function"}),u("file_picker_validator_handler",{processor:"function"}),u("file_picker_types",{processor:"string"}),u("typeahead_urls",{processor:"boolean",default:!0}),u("anchor_top",{processor:h,default:"#top"}),u("anchor_bottom",{processor:h,default:"#bottom"}),u("draggable_modal",{processor:"boolean",default:!1}),u("statusbar",{processor:"boolean",default:!0}),u("elementpath",{processor:"boolean",default:!0}),u("branding",{processor:"boolean",default:!0}),u("promotion",{processor:"boolean",default:!0}),u("resize",{processor:b=>b==="both"||R(b),default:!Sp.deviceType.isTouch()}),u("sidebar_show",{processor:"string"}),u("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),u("default_font_stack",{processor:"string[]",default:[]})},F3=us("readonly"),a1=us("height"),GE=us("width"),Cp=i1(us("min_width")),rv=i1(us("min_height")),l1=i1(us("max_width")),jw=i1(us("max_height")),H3=i1(us("style_formats")),z3=us("style_formats_merge"),V3=us("style_formats_autohide"),U3=us("content_langs"),Zw=us("removed_menuitems"),Ep=us("toolbar_mode"),XE=us("toolbar_groups"),c1=us("toolbar_location"),X7=us("fixed_toolbar_container"),W3=us("fixed_toolbar_container_target"),j3=us("toolbar_persist"),Z3=us("toolbar_sticky_offset"),q3=us("menubar"),u1=us("toolbar"),G3=us("file_picker_callback"),X3=us("file_picker_validator_handler"),qw=us("font_size_input_default_unit"),YE=us("file_picker_types"),KE=us("typeahead_urls"),Y3=us("anchor_top"),Gw=us("anchor_bottom"),K3=us("draggable_modal"),J3=us("statusbar"),Q3=us("elementpath"),JE=us("branding"),eP=us("resize"),QE=us("paste_as_text"),Xw=us("sidebar_show"),tP=us("promotion"),d1=us("help_accessibility"),nP=us("default_font_stack"),eT=t=>t.options.get("skin")===!1,Yw=t=>t.options.get("menubar")!==!1,tT=t=>{const s=t.options.get("skin_url");if(eT(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const a=t.options.get("skin");return B3.baseURL+"/skins/ui/"+a}},Kw=t=>P.from(t.options.get("skin_url")),oP=t=>t.options.get("line_height_formats").split(" "),f1=t=>{const s=u1(t),a=T(s),u=D(s)&&s.length>0;return!m1(t)&&(u||a||s===!0)},nT=t=>{const s=Hn(9,u=>t.options.get("toolbar"+(u+1))),a=Dn(s,T);return wn(a.length>0,a)},m1=t=>nT(t).fold(()=>{const s=u1(t);return J(s,T)&&s.length>0},Oe),h1=t=>c1(t)===xp.bottom,Qm=t=>{var s;if(!t.inline)return P.none();const a=(s=X7(t))!==null&&s!==void 0?s:"";if(a.length>0)return Zs(Hi(),a);const u=W3(t);return ee(u)?P.some(pt.fromDom(u)):P.none()},iv=t=>t.inline&&Qm(t).isSome(),oT=t=>Qm(t).getOrThunk(()=>ml(Hr(pt.fromDom(t.getElement())))),p1=t=>t.inline&&!Yw(t)&&!f1(t)&&!m1(t),Tp=t=>(t.options.get("toolbar_sticky")||t.inline)&&!iv(t)&&!p1(t),eh=t=>!iv(t)&&t.options.get("ui_mode")==="split",sP=t=>{const s=t.options.get("menu");return qt(s,a=>({...a,items:a.items}))};var rP=Object.freeze({__proto__:null,get ToolbarMode(){return Ic},get ToolbarLocation(){return xp},register:$3,getSkinUrl:tT,getSkinUrlOption:Kw,isReadOnly:F3,isSkinDisabled:eT,getHeightOption:a1,getWidthOption:GE,getMinWidthOption:Cp,getMinHeightOption:rv,getMaxWidthOption:l1,getMaxHeightOption:jw,getUserStyleFormats:H3,shouldMergeStyleFormats:z3,shouldAutoHideStyleFormats:V3,getLineHeightFormats:oP,getContentLanguages:U3,getRemovedMenuItems:Zw,isMenubarEnabled:Yw,isMultipleToolbars:m1,isToolbarEnabled:f1,isToolbarPersist:j3,getMultipleToolbarsOption:nT,getUiContainer:oT,useFixedContainer:iv,isSplitUiMode:eh,getToolbarMode:Ep,isDraggableModal:K3,isDistractionFree:p1,isStickyToolbar:Tp,getStickyToolbarOffset:Z3,getToolbarLocation:c1,isToolbarLocationBottom:h1,getToolbarGroups:XE,getMenus:sP,getMenubar:q3,getToolbar:u1,getFilePickerCallback:G3,getFilePickerTypes:YE,useTypeaheadUrls:KE,getAnchorTop:Y3,getAnchorBottom:Gw,getFilePickerValidatorHandler:X3,getFontSizeInputDefaultUnit:qw,useStatusBar:J3,useElementPath:Q3,promotionEnabled:tP,useBranding:JE,getResize:eP,getPasteAsText:QE,getSidebarShow:Xw,useHelpAccessibility:d1,getDefaultFontStack:nP});const Y7=["visible","hidden","clip"],sT=t=>_r(t).length>0&&!Ot(Y7,t),rT=t=>{if(hi(t)){const s=ts(t,"overflow-x"),a=ts(t,"overflow-y");return sT(s)||sT(a)}else return!1},iT=t=>t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen(),K7=(t,s)=>{const a=Hg(s,rT),u=a.length===0?$l(s).map(mf).map(h=>Hg(h,rT)).getOr([]):a;return Ce(u).map(h=>({element:h,others:u.slice(1),isFullscreen:()=>iT(t)}))},Kf=(t,s)=>eh(t)?K7(t,s):P.none(),_p=t=>{const s=[...Ue(t.others,Ks),ur()];return t.isFullscreen()?ur():kf(Ks(t.element),s)},Ri=Al({name:"Button",factory:t=>{const s=zw(t.action),a=t.dom.tag,u=g=>_t(t.dom,"attributes").bind(b=>_t(b,g)),h=()=>{if(a==="button"){const g=u("type").getOr("button"),b=u("role").map(C=>({role:C})).getOr({});return{type:g,...b}}else return{role:t.role.getOr(u("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:Pc.augment(t.buttonBehaviours,[Pn.config({}),bn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:h()},eventOrder:t.eventOrder}},configFields:[Ie("uid",void 0),it("dom"),Ie("components",[]),Pc.field("buttonBehaviours",[Pn,bn]),go("action"),go("role"),Ie("eventOrder",{})]}),J7=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return Vo(s,(a,u)=>u.name==="class"?a:{...a,[u.name]:u.value},{})},aT=t=>Array.prototype.slice.call(t.dom.classList,0),ed=t=>{const s=pt.fromHtml(t),a=ui(s),u=J7(s),h=aT(s),g=a.length===0?{}:{innerHtml:Dy(s)};return{tag:Xr(s),classes:h,attributes:u,...g}},Bo=t=>{const s=CH(t)&&Ws(t,"uid")?t.uid:Ig("memento");return{get:g=>g.getSystem().getByUid(s).getOrDie(),getOpt:g=>g.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var Q7=Object.freeze({__proto__:null,exhibit:(t,s)=>wl({attributes:Pf([{key:s.tabAttr,value:"true"}])})}),e8=[Ie("tabAttr","data-alloy-tabstop")];const ys=Ni({fields:e8,name:"tabstopping",active:Q7}),aP=Kt("tooltip.exclusive"),g1=Kt("tooltip.show"),v1=Kt("tooltip.hide"),b1=Kt("tooltip.immediateHide"),y1=Kt("tooltip.immediateShow"),lP=(t,s,a)=>{t.getSystem().broadcastOn([aP],{})};var t8=Object.freeze({__proto__:null,hideAllExclusive:lP,immediateOpenClose:(t,s,a,u)=>Qn(t,u?y1:b1),isEnabled:(t,s,a)=>a.isEnabled(),setComponents:(t,s,a,u)=>{a.getTooltip().each(h=>{h.getSystem().isConnected()&&In.set(h,u)})},setEnabled:(t,s,a,u)=>a.setEnabled(u)}),lT=Object.freeze({__proto__:null,events:(t,s)=>{const a=b=>{s.getTooltip().each(C=>{C.getSystem().isConnected()&&(Wf(C),t.onHide(b,C),s.clearTooltip())}),s.clearTimer()},u=b=>{if(!s.isShowing()&&s.isEnabled()){lP(b);const C=t.lazySink(b).getOrDie(),E=b.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Bs(t.mode==="normal"?[mt(Ld(),M=>{Qn(b,g1)}),mt(yb(),M=>{Qn(b,v1)})]:[]),behaviours:At([In.config({})])});s.setTooltip(E),cp(C,E),t.onShow(b,E),da.position(C,E,{anchor:t.anchor(b)})}},h=b=>{s.getTooltip().each(C=>{const E=t.lazySink(b).getOrDie();da.position(E,C,{anchor:t.anchor(b)})})},g=()=>{switch(t.mode){case"normal":return[mt(ju(),b=>{Qn(b,y1)}),mt(wb(),b=>{Qn(b,b1)}),mt(Ld(),b=>{Qn(b,g1)}),mt(yb(),b=>{Qn(b,v1)})];case"follow-highlight":return[mt(Eg(),(b,C)=>{Qn(b,g1)}),mt(Uh(),b=>{Qn(b,v1)})];case"children-normal":return[mt(ju(),(b,C)=>{Ha(b.element).each(E=>{js(C.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Qn(b,y1)},M=>{s.isShowing()&&(t.onShow(b,M),h(b))})})}),mt(wb(),b=>{Ha(b.element).fold(()=>{Qn(b,b1)},F)}),mt(Ld(),b=>{Zs(b.element,"[data-mce-tooltip]:hover").each(C=>{s.getTooltip().fold(()=>{Qn(b,g1)},E=>{s.isShowing()&&(t.onShow(b,E),h(b))})})}),mt(yb(),b=>{Zs(b.element,"[data-mce-tooltip]:hover").fold(()=>{Qn(b,v1)},F)})];default:return[mt(ju(),(b,C)=>{Ha(b.element).each(E=>{js(C.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Qn(b,y1)},M=>{s.isShowing()&&(t.onShow(b,M),h(b))})})}),mt(wb(),b=>{Ha(b.element).fold(()=>{Qn(b,b1)},F)})]}};return Bs(nn([[dD(b=>{t.onSetup(b)}),mt(g1,b=>{s.resetTimer(()=>{u(b)},t.delayForShow())}),mt(v1,b=>{s.resetTimer(()=>{a(b)},t.delayForHide())}),mt(y1,b=>{s.resetTimer(()=>{u(b)},0)}),mt(b1,b=>{s.resetTimer(()=>{a(b)},0)}),mt(Lf(),(b,C)=>{const E=C;E.universal||Ot(E.channels,aP)&&a(b)}),Bd(b=>{a(b)})],g()]))}}),n8=[it("lazySink"),it("tooltipDom"),Ie("exclusive",!0),Ie("tooltipComponents",[]),ks("delayForShow",ie(300)),ks("delayForHide",ie(300)),ks("onSetup",F),_c("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Ie("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:ie([ti,di,ei,Ii,jr,Ki]),onRtl:ie([ti,di,ei,Ii,jr,Ki])},bubble:hu(0,-2,{})})),Eo("onHide"),Eo("onShow")],o8=Object.freeze({__proto__:null,init:()=>{const t=un(!0),s=cs(),a=cs(),u=()=>{s.on(clearTimeout)},h=(b,C)=>{u(),s.set(setTimeout(b,C))},g=ie("not-implemented");return xl({getTooltip:a.get,isShowing:a.isSet,setTooltip:a.set,clearTooltip:a.clear,clearTimer:u,resetTimer:h,readState:g,isEnabled:()=>t.get(),setEnabled:b=>t.set(b)})}});const nr=Ni({fields:n8,name:"tooltipping",active:lT,state:o8,apis:t8}),{entries:cP,setPrototypeOf:uP,isFrozen:s8,getPrototypeOf:r8,getOwnPropertyDescriptor:i8}=Object;let{freeze:Ol,seal:Rc,create:a8}=Object,{apply:cT,construct:uT}=typeof Reflect<"u"&&Reflect;cT||(cT=function(s,a,u){return s.apply(a,u)}),Ol||(Ol=function(s){return s}),Rc||(Rc=function(s){return s}),uT||(uT=function(s,a){return new s(...a)});const l8=bu(Array.prototype.forEach),c8=bu(Array.prototype.pop),w1=bu(Array.prototype.push),Qw=bu(String.prototype.toLowerCase),dT=bu(String.prototype.toString),u8=bu(String.prototype.match),td=bu(String.prototype.replace),d8=bu(String.prototype.indexOf),f8=bu(String.prototype.trim),Bc=bu(RegExp.prototype.test),th=fT(TypeError);function bu(t){return function(s){for(var a=arguments.length,u=new Array(a>1?a-1:0),h=1;h<a;h++)u[h-1]=arguments[h];return cT(t,s,u)}}function fT(t){return function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return uT(t,a)}}function ns(t,s,a){var u;a=(u=a)!==null&&u!==void 0?u:Qw,uP&&uP(t,null);let h=s.length;for(;h--;){let g=s[h];if(typeof g=="string"){const b=a(g);b!==g&&(s8(s)||(s[h]=b),g=b)}t[g]=!0}return t}function av(t){const s=a8(null);for(const[a,u]of cP(t))s[a]=u;return s}function e2(t,s){for(;t!==null;){const u=i8(t,s);if(u){if(u.get)return bu(u.get);if(typeof u.value=="function")return bu(u.value)}t=r8(t)}function a(u){return console.warn("fallback value for",u),null}return a}const mT=Ol(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),hT=Ol(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),S1=Ol(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),pT=Ol(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),t2=Ol(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),gT=Ol(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),x1=Ol(["#text"]),vT=Ol(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),yu=Ol(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),n2=Ol(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),o2=Ol(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),m8=Rc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),h8=Rc(/<%[\w\W]*|[\w\W]*%>/gm),p8=Rc(/\${[\w\W]*}/gm),C1=Rc(/^data-[\-\w.\u00B7-\uFFFF]/),g8=Rc(/^aria-[\-\w]+$/),bT=Rc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yT=Rc(/^(?:\w+script|data):/i),v8=Rc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),s2=Rc(/^html$/i);var r2=Object.freeze({__proto__:null,MUSTACHE_EXPR:m8,ERB_EXPR:h8,TMPLIT_EXPR:p8,DATA_ATTR:C1,ARIA_ATTR:g8,IS_ALLOWED_URI:bT,IS_SCRIPT_OR_DATA:yT,ATTR_WHITESPACE:v8,DOCTYPE_NAME:s2});const b8=()=>typeof window>"u"?null:window,dP=function(s,a){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let u=null;const h="data-tt-policy-suffix";a&&a.hasAttribute(h)&&(u=a.getAttribute(h));const g="dompurify"+(u?"#"+u:"");try{return s.createPolicy(g,{createHTML(b){return b},createScriptURL(b){return b}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function wT(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b8();const s=bo=>wT(bo);if(s.version="3.0.5",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;const a=t.document,u=a.currentScript;let{document:h}=t;const{DocumentFragment:g,HTMLTemplateElement:b,Node:C,Element:E,NodeFilter:M,NamedNodeMap:I=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:z,DOMParser:Q,trustedTypes:te}=t,le=E.prototype,de=e2(le,"cloneNode"),Ne=e2(le,"nextSibling"),ge=e2(le,"childNodes"),ke=e2(le,"parentNode");if(typeof b=="function"){const bo=h.createElement("template");bo.content&&bo.content.ownerDocument&&(h=bo.content.ownerDocument)}let Ae,ft="";const{implementation:rt,createNodeIterator:Ht,createDocumentFragment:Gt,getElementsByTagName:ut}=h,{importNode:Qt}=a;let Bt={};s.isSupported=typeof cP=="function"&&typeof ke=="function"&&rt&&rt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:on,ERB_EXPR:co,TMPLIT_EXPR:Ss,DATA_ATTR:Io,ARIA_ATTR:en,IS_SCRIPT_OR_DATA:Ct,ATTR_WHITESPACE:zt}=r2;let{IS_ALLOWED_URI:Nn}=r2,Cn=null;const gn=ns({},[...mT,...hT,...S1,...t2,...x1]);let Fn=null;const rs=ns({},[...vT,...yu,...n2,...o2]);let $o=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ga=null,pc=null,dd=!0,ea=!0,gc=!1,Yc=!0,sl=!1,nf=!1,tg=!1,AO=!1,Jv=!1,KS=!1,KB=!1,aJ=!0,lJ=!1;const mte="user-content-";let aX=!0,OO=!1,JS={},QS=null;const cJ=ns({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let uJ=null;const dJ=ns({},["audio","video","img","source","image","track"]);let lX=null;const fJ=ns({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),JB="http://www.w3.org/1998/Math/MathML",QB="http://www.w3.org/2000/svg",ng="http://www.w3.org/1999/xhtml";let ex=ng,cX=!1,uX=null;const hte=ns({},[JB,QB,ng],dT);let Z0;const pte=["application/xhtml+xml","text/html"],gte="text/html";let rl,tx=null;const vte=h.createElement("form"),mJ=function(st){return st instanceof RegExp||st instanceof Function},dX=function(st){if(!(tx&&tx===st)){if((!st||typeof st!="object")&&(st={}),st=av(st),Z0=pte.indexOf(st.PARSER_MEDIA_TYPE)===-1?Z0=gte:Z0=st.PARSER_MEDIA_TYPE,rl=Z0==="application/xhtml+xml"?dT:Qw,Cn="ALLOWED_TAGS"in st?ns({},st.ALLOWED_TAGS,rl):gn,Fn="ALLOWED_ATTR"in st?ns({},st.ALLOWED_ATTR,rl):rs,uX="ALLOWED_NAMESPACES"in st?ns({},st.ALLOWED_NAMESPACES,dT):hte,lX="ADD_URI_SAFE_ATTR"in st?ns(av(fJ),st.ADD_URI_SAFE_ATTR,rl):fJ,uJ="ADD_DATA_URI_TAGS"in st?ns(av(dJ),st.ADD_DATA_URI_TAGS,rl):dJ,QS="FORBID_CONTENTS"in st?ns({},st.FORBID_CONTENTS,rl):cJ,ga="FORBID_TAGS"in st?ns({},st.FORBID_TAGS,rl):{},pc="FORBID_ATTR"in st?ns({},st.FORBID_ATTR,rl):{},JS="USE_PROFILES"in st?st.USE_PROFILES:!1,dd=st.ALLOW_ARIA_ATTR!==!1,ea=st.ALLOW_DATA_ATTR!==!1,gc=st.ALLOW_UNKNOWN_PROTOCOLS||!1,Yc=st.ALLOW_SELF_CLOSE_IN_ATTR!==!1,sl=st.SAFE_FOR_TEMPLATES||!1,nf=st.WHOLE_DOCUMENT||!1,Jv=st.RETURN_DOM||!1,KS=st.RETURN_DOM_FRAGMENT||!1,KB=st.RETURN_TRUSTED_TYPE||!1,AO=st.FORCE_BODY||!1,aJ=st.SANITIZE_DOM!==!1,lJ=st.SANITIZE_NAMED_PROPS||!1,aX=st.KEEP_CONTENT!==!1,OO=st.IN_PLACE||!1,Nn=st.ALLOWED_URI_REGEXP||bT,ex=st.NAMESPACE||ng,$o=st.CUSTOM_ELEMENT_HANDLING||{},st.CUSTOM_ELEMENT_HANDLING&&mJ(st.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($o.tagNameCheck=st.CUSTOM_ELEMENT_HANDLING.tagNameCheck),st.CUSTOM_ELEMENT_HANDLING&&mJ(st.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($o.attributeNameCheck=st.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),st.CUSTOM_ELEMENT_HANDLING&&typeof st.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($o.allowCustomizedBuiltInElements=st.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),sl&&(ea=!1),KS&&(Jv=!0),JS&&(Cn=ns({},[...x1]),Fn=[],JS.html===!0&&(ns(Cn,mT),ns(Fn,vT)),JS.svg===!0&&(ns(Cn,hT),ns(Fn,yu),ns(Fn,o2)),JS.svgFilters===!0&&(ns(Cn,S1),ns(Fn,yu),ns(Fn,o2)),JS.mathMl===!0&&(ns(Cn,t2),ns(Fn,n2),ns(Fn,o2))),st.ADD_TAGS&&(Cn===gn&&(Cn=av(Cn)),ns(Cn,st.ADD_TAGS,rl)),st.ADD_ATTR&&(Fn===rs&&(Fn=av(Fn)),ns(Fn,st.ADD_ATTR,rl)),st.ADD_URI_SAFE_ATTR&&ns(lX,st.ADD_URI_SAFE_ATTR,rl),st.FORBID_CONTENTS&&(QS===cJ&&(QS=av(QS)),ns(QS,st.FORBID_CONTENTS,rl)),aX&&(Cn["#text"]=!0),nf&&ns(Cn,["html","head","body"]),Cn.table&&(ns(Cn,["tbody"]),delete ga.tbody),st.TRUSTED_TYPES_POLICY){if(typeof st.TRUSTED_TYPES_POLICY.createHTML!="function")throw th('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof st.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw th('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ae=st.TRUSTED_TYPES_POLICY,ft=Ae.createHTML("")}else Ae===void 0&&(Ae=dP(te,u)),Ae!==null&&typeof ft=="string"&&(ft=Ae.createHTML(""));Ol&&Ol(st),tx=st}},hJ=ns({},["mi","mo","mn","ms","mtext"]),pJ=ns({},["foreignobject","desc","title","annotation-xml"]),bte=ns({},["title","style","font","a","script"]),e$=ns({},hT);ns(e$,S1),ns(e$,pT);const fX=ns({},t2);ns(fX,gT);const yte=function(st){let dn=ke(st);(!dn||!dn.tagName)&&(dn={namespaceURI:ex,tagName:"template"});const $n=Qw(st.tagName),Rr=Qw(dn.tagName);return uX[st.namespaceURI]?st.namespaceURI===QB?dn.namespaceURI===ng?$n==="svg":dn.namespaceURI===JB?$n==="svg"&&(Rr==="annotation-xml"||hJ[Rr]):!!e$[$n]:st.namespaceURI===JB?dn.namespaceURI===ng?$n==="math":dn.namespaceURI===QB?$n==="math"&&pJ[Rr]:!!fX[$n]:st.namespaceURI===ng?dn.namespaceURI===QB&&!pJ[Rr]||dn.namespaceURI===JB&&!hJ[Rr]?!1:!fX[$n]&&(bte[$n]||!e$[$n]):!!(Z0==="application/xhtml+xml"&&uX[st.namespaceURI]):!1},q0=function(st){w1(s.removed,{element:st});try{st.parentNode.removeChild(st)}catch{st.remove()}},DO=function(st,dn){try{w1(s.removed,{attribute:dn.getAttributeNode(st),from:dn})}catch{w1(s.removed,{attribute:null,from:dn})}if(dn.removeAttribute(st),st==="is"&&!Fn[st])if(Jv||KS)try{q0(dn)}catch{}else try{dn.setAttribute(st,"")}catch{}},gJ=function(st){let dn,$n;if(AO)st="<remove></remove>"+st;else{const of=u8(st,/^[\r\n\t ]+/);$n=of&&of[0]}Z0==="application/xhtml+xml"&&ex===ng&&(st='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+st+"</body></html>");const Rr=Ae?Ae.createHTML(st):st;if(ex===ng)try{dn=new Q().parseFromString(Rr,Z0)}catch{}if(!dn||!dn.documentElement){dn=rt.createDocument(ex,"template",null);try{dn.documentElement.innerHTML=cX?ft:Rr}catch{}}const il=dn.body||dn.documentElement;return st&&$n&&il.insertBefore(h.createTextNode($n),il.childNodes[0]||null),ex===ng?ut.call(dn,nf?"html":"body")[0]:nf?dn.documentElement:il},vJ=function(st){return Ht.call(st.ownerDocument||st,st,M.SHOW_ELEMENT|M.SHOW_COMMENT|M.SHOW_TEXT,null,!1)},wte=function(st){return st instanceof z&&(typeof st.nodeName!="string"||typeof st.textContent!="string"||typeof st.removeChild!="function"||!(st.attributes instanceof I)||typeof st.removeAttribute!="function"||typeof st.setAttribute!="function"||typeof st.namespaceURI!="string"||typeof st.insertBefore!="function"||typeof st.hasChildNodes!="function")},t$=function(st){return typeof C=="object"?st instanceof C:st&&typeof st=="object"&&typeof st.nodeType=="number"&&typeof st.nodeName=="string"},og=function(st,dn,$n){Bt[st]&&l8(Bt[st],Rr=>{Rr.call(s,dn,$n,tx)})},bJ=function(st){let dn;if(og("beforeSanitizeElements",st,null),wte(st))return q0(st),!0;const $n=rl(st.nodeName);if(og("uponSanitizeElement",st,{tagName:$n,allowedTags:Cn}),st.hasChildNodes()&&!t$(st.firstElementChild)&&(!t$(st.content)||!t$(st.content.firstElementChild))&&Bc(/<[/\w]/g,st.innerHTML)&&Bc(/<[/\w]/g,st.textContent))return q0(st),!0;if(!Cn[$n]||ga[$n]){if(!ga[$n]&&wJ($n)&&($o.tagNameCheck instanceof RegExp&&Bc($o.tagNameCheck,$n)||$o.tagNameCheck instanceof Function&&$o.tagNameCheck($n)))return!1;if(aX&&!QS[$n]){const Rr=ke(st)||st.parentNode,il=ge(st)||st.childNodes;if(il&&Rr){const of=il.length;for(let $i=of-1;$i>=0;--$i)Rr.insertBefore(de(il[$i],!0),Ne(st))}}return q0(st),!0}return st instanceof E&&!yte(st)||($n==="noscript"||$n==="noembed"||$n==="noframes")&&Bc(/<\/no(script|embed|frames)/i,st.innerHTML)?(q0(st),!0):(sl&&st.nodeType===3&&(dn=st.textContent,dn=td(dn,on," "),dn=td(dn,co," "),dn=td(dn,Ss," "),st.textContent!==dn&&(w1(s.removed,{element:st.cloneNode()}),st.textContent=dn)),og("afterSanitizeElements",st,null),!1)},yJ=function(st,dn,$n){if(aJ&&(dn==="id"||dn==="name")&&($n in h||$n in vte))return!1;if(!(ea&&!pc[dn]&&Bc(Io,dn))){if(!(dd&&Bc(en,dn))){if(!Fn[dn]||pc[dn]){if(!(wJ(st)&&($o.tagNameCheck instanceof RegExp&&Bc($o.tagNameCheck,st)||$o.tagNameCheck instanceof Function&&$o.tagNameCheck(st))&&($o.attributeNameCheck instanceof RegExp&&Bc($o.attributeNameCheck,dn)||$o.attributeNameCheck instanceof Function&&$o.attributeNameCheck(dn))||dn==="is"&&$o.allowCustomizedBuiltInElements&&($o.tagNameCheck instanceof RegExp&&Bc($o.tagNameCheck,$n)||$o.tagNameCheck instanceof Function&&$o.tagNameCheck($n))))return!1}else if(!lX[dn]){if(!Bc(Nn,td($n,zt,""))){if(!((dn==="src"||dn==="xlink:href"||dn==="href")&&st!=="script"&&d8($n,"data:")===0&&uJ[st])){if(!(gc&&!Bc(Ct,td($n,zt,"")))){if($n)return!1}}}}}}return!0},wJ=function(st){return st.indexOf("-")>0},SJ=function(st){let dn,$n,Rr,il;og("beforeSanitizeAttributes",st,null);const{attributes:of}=st;if(!of)return;const $i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Fn};for(il=of.length;il--;){dn=of[il];const{name:sf,namespaceURI:mX}=dn;$n=sf==="value"?dn.value:f8(dn.value);const xte=$n;if(Rr=rl(sf),$i.attrName=Rr,$i.attrValue=$n,$i.keepAttr=!0,$i.forceKeepAttr=void 0,og("uponSanitizeAttribute",st,$i),$n=$i.attrValue,$i.forceKeepAttr)continue;if(!$i.keepAttr){DO(sf,st);continue}if(!Yc&&Bc(/\/>/i,$n)){DO(sf,st);continue}sl&&($n=td($n,on," "),$n=td($n,co," "),$n=td($n,Ss," "));const xJ=rl(st.nodeName);if(!yJ(xJ,Rr,$n)){DO(sf,st);continue}if(lJ&&(Rr==="id"||Rr==="name")&&(DO(sf,st),$n=mte+$n),Ae&&typeof te=="object"&&typeof te.getAttributeType=="function"&&!mX)switch(te.getAttributeType(xJ,Rr)){case"TrustedHTML":{$n=Ae.createHTML($n);break}case"TrustedScriptURL":{$n=Ae.createScriptURL($n);break}}if($n!==xte)try{mX?st.setAttributeNS(mX,sf,$n):st.setAttribute(sf,$n)}catch{DO(sf,st)}}og("afterSanitizeAttributes",st,null)},Ste=function bo(st){let dn;const $n=vJ(st);for(og("beforeSanitizeShadowDOM",st,null);dn=$n.nextNode();)og("uponSanitizeShadowNode",dn,null),!bJ(dn)&&(dn.content instanceof g&&bo(dn.content),SJ(dn));og("afterSanitizeShadowDOM",st,null)};return s.sanitize=function(bo){let st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},dn,$n,Rr,il;if(cX=!bo,cX&&(bo="<!-->"),typeof bo!="string"&&!t$(bo))if(typeof bo.toString=="function"){if(bo=bo.toString(),typeof bo!="string")throw th("dirty is not a string, aborting")}else throw th("toString is not a function");if(!s.isSupported)return bo;if(tg||dX(st),s.removed=[],typeof bo=="string"&&(OO=!1),OO){if(bo.nodeName){const sf=rl(bo.nodeName);if(!Cn[sf]||ga[sf])throw th("root node is forbidden and cannot be sanitized in-place")}}else if(bo instanceof C)dn=gJ("<!---->"),$n=dn.ownerDocument.importNode(bo,!0),$n.nodeType===1&&$n.nodeName==="BODY"||$n.nodeName==="HTML"?dn=$n:dn.appendChild($n);else{if(!Jv&&!sl&&!nf&&bo.indexOf("<")===-1)return Ae&&KB?Ae.createHTML(bo):bo;if(dn=gJ(bo),!dn)return Jv?null:KB?ft:""}dn&&AO&&q0(dn.firstChild);const of=vJ(OO?bo:dn);for(;Rr=of.nextNode();)bJ(Rr)||(Rr.content instanceof g&&Ste(Rr.content),SJ(Rr));if(OO)return bo;if(Jv){if(KS)for(il=Gt.call(dn.ownerDocument);dn.firstChild;)il.appendChild(dn.firstChild);else il=dn;return(Fn.shadowroot||Fn.shadowrootmode)&&(il=Qt.call(a,il,!0)),il}let $i=nf?dn.outerHTML:dn.innerHTML;return nf&&Cn["!doctype"]&&dn.ownerDocument&&dn.ownerDocument.doctype&&dn.ownerDocument.doctype.name&&Bc(s2,dn.ownerDocument.doctype.name)&&($i="<!DOCTYPE "+dn.ownerDocument.doctype.name+`>
`+$i),sl&&($i=td($i,on," "),$i=td($i,co," "),$i=td($i,Ss," ")),Ae&&KB?Ae.createHTML($i):$i},s.setConfig=function(bo){dX(bo),tg=!0},s.clearConfig=function(){tx=null,tg=!1},s.isValidAttribute=function(bo,st,dn){tx||dX({});const $n=rl(bo),Rr=rl(st);return yJ($n,Rr,dn)},s.addHook=function(bo,st){typeof st=="function"&&(Bt[bo]=Bt[bo]||[],w1(Bt[bo],st))},s.removeHook=function(bo){if(Bt[bo])return c8(Bt[bo])},s.removeHooks=function(bo){Bt[bo]&&(Bt[bo]=[])},s.removeAllHooks=function(){Bt={}},s}var y8=wT();const ST=t=>y8().sanitize(t);var oc=tinymce.util.Tools.resolve("tinymce.util.I18n");const w8={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},fP="temporary-placeholder",xT=t=>()=>_t(t,fP).getOr("!not found!"),CT=(t,s)=>{const a=t.toLowerCase();if(oc.isRtl()){const u=li(a,"-rtl");return Gn(s,u)?u:a}else return a},mP=(t,s)=>_t(s,CT(t,s)),ET=(t,s)=>{const a=s();return mP(t,a).getOrThunk(xT(a))},hP=(t,s,a)=>{const u=s();return mP(t,u).or(a).getOrThunk(xT(u))},S8=t=>oc.isRtl()?Gn(w8,t):!1,i2=()=>jn("add-focusable",[$s(t=>{cC(t.element,"svg").each(s=>vn(s,"focusable","false"))})]),lv=(t,s,a,u)=>{var h,g;const b=S8(s)?["tox-icon--flip"]:[],C=_t(a,CT(s,a)).or(u).getOrThunk(xT(a));return{dom:{tag:t.tag,attributes:(h=t.attributes)!==null&&h!==void 0?h:{},classes:t.classes.concat(b),innerHtml:C},behaviours:At([...(g=t.behaviours)!==null&&g!==void 0?g:[],i2()])}},sc=(t,s,a,u=P.none())=>lv(s,t,a(),u),x8=(t,s,a)=>{const u=a(),h=It(t,g=>Gn(u,CT(g,u)));return lv(s,h.getOr(fP),u,P.none())},C8={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},TT=Al({name:"Notification",factory:t=>{const s=Kt("notification-text"),a=Bo({dom:ed(`<p id=${s}>${ST(t.backstageProvider.translate(t.text))}</p>`),behaviours:At([In.config({})])}),u=le=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${le}%`}}}),h=le=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${le}%`}}),g=Bo({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[u(0)]},h(0)],behaviours:At([In.config({})])}),E={updateProgress:(le,de)=>{le.getSystem().isConnected()&&g.getOpt(le).each(Ne=>{In.set(Ne,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[u(de)]},h(de)])})},updateText:(le,de)=>{if(le.getSystem().isConnected()){const Ne=a.get(le);In.set(Ne,[tr(de)])}}},M=nn([t.icon.toArray(),t.level.toArray(),t.level.bind(le=>P.from(C8[le])).toArray()]),I=Bo(Ri.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":t.backstageProvider.translate("Close")}},components:[sc("close",{tag:"span",classes:["tox-icon"]},t.iconProvider)],buttonBehaviours:At([ys.config({}),nr.config({...t.backstageProvider.tooltips.getConfig({tooltipText:t.backstageProvider.translate("Close")})})]),action:le=>{t.onAction(le)}})),z=x8(M,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),Q={dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:At([In.config({})])},te=[z,Q];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:t.level.map(le=>["tox-notification","tox-notification--in",`tox-notification--${le}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:At([ys.config({}),Pn.config({}),bn.config({mode:"special",onEscape:le=>(t.onAction(le),P.some(!0))})]),components:te.concat(t.progress?[g.asSpec()]:[]).concat([I.asSpec()]),apis:E}},configFields:[go("level"),it("progress"),go("icon"),it("onAction"),it("text"),it("iconProvider"),it("backstageProvider")],apis:{updateProgress:(t,s,a)=>{t.updateProgress(s,a)},updateText:(t,s,a)=>{t.updateText(s,a)}}});var T8=(t,s,a,u)=>{const h=s.backstage.shared,g=()=>pt.fromDom(t.queryCommandValue("ToggleView")===""?t.getContentAreaContainer():t.getContainer()),b=()=>{const z=Ks(g());return P.some(z)},C=z=>{b().each(Q=>{wt(z,te=>{Zn(te.element,"width"),ki(te.element)>Q.width&&gt(te.element,"width",Q.width+"px")})})};return{open:(z,Q,te)=>{const le=()=>{const ke=Ht=>{In.remove(Ht,de),Ne()},Ae=(Ht,Gt)=>{ui(Ht.element).length===0?ft(Ht,Gt):rt(Ht,Gt)},ft=(Ht,Gt)=>{Ps.hide(Ht),u.clear(),Gt&&t.focus()},rt=(Ht,Gt)=>{Gt&&bn.focusIn(Ht)};u.on(Ht=>{Q();const Gt=te();ke(Ht),Ae(Ht,Gt)})},de=la(TT.sketch({text:z.text,level:Ot(["success","error","warning","warn","info"],z.type)?z.type:void 0,progress:z.progressBar===!0,icon:z.icon,onAction:le,iconProvider:h.providers.icons,backstageProvider:h.providers}));if(u.isSet()){const ke=Xl(de);u.on(Ae=>{In.append(Ae,ke),Ps.reposition(Ae),Ms.refresh(Ae),C(Ae.components())})}else{const ke=la(Ps.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:h.getSink,fireDismissalEventInstead:{},...h.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:At([bn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),In.config({}),...Tp(t)&&!h.header.isPositionedAtTop()?[]:[Ms.config({contextual:{lazyContext:()=>P.some(Ks(g())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Ht=>Kf(t,Ht.element).map(ut=>({bounds:_p(ut),optScrollEnv:P.some({currentScrollTop:ut.element.dom.scrollTop,scrollElmTop:Vi(ut.element).top})})).getOrThunk(()=>({bounds:ur(),optScrollEnv:P.none()}))})]])})),Ae=Xl(de),ft={maxHeightFunction:Rg()},rt={...h.anchors.banner(),overrides:ft};u.set(ke),a.add(ke),Ps.showWithinBounds(ke,Ae,{anchor:rt},b)}re(z.timeout)&&z.timeout>0&&sv.setEditorTimeout(t,()=>{le()},z.timeout);const Ne=()=>{u.on(ke=>{Ps.reposition(ke),Ms.refresh(ke),C(ke.components())})};return{close:le,reposition:Ne,text:ke=>{TT.updateText(de,ke)},settings:z,getEl:()=>de.element.dom,progressBar:{value:ke=>{TT.updateProgress(de,ke)}}}},close:z=>{z.close()},getArgs:z=>z.settings}};const pP={setup:(t,s)=>{const a=(h,g)=>{Sn(h,Zu(),{raw:g})},u=()=>t.getMenu().bind(Ho.getHighlighted);s.on("keydown",h=>{const g=h.which;t.isActive()&&(t.isMenuOpen()?g===13?(u().each(Om),h.preventDefault()):g===40?(u().fold(()=>{t.getMenu().each(Ho.highlightFirst)},b=>{a(b,h)}),h.preventDefault(),h.stopImmediatePropagation()):(g===37||g===38||g===39)&&u().each(b=>{a(b,h),h.preventDefault(),h.stopImmediatePropagation()}):(g===13||g===38||g===40)&&t.cancelIfNecessary())}),s.on("NodeChange",()=>{t.isActive()&&!t.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&t.cancelIfNecessary()})}};var a2;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(a2||(a2={}));var wu=a2;const _T="tox-menu-nav__js",l2="tox-collection__item",c2="tox-swatch",kT={normal:_T,color:c2},u2="tox-collection__item--enabled",gP="tox-collection__group-heading",AT="tox-collection__item-icon",d2="tox-collection__item-label",k8="tox-collection__item-accessory",f2="tox-collection__item-caret",A8="tox-collection__item-checkmark",nh="tox-collection__item--active",OT="tox-collection__item-container",kp="tox-collection__item-container--column",vP="tox-collection__item-container--row",DT="tox-collection__item-container--align-right",m2="tox-collection__item-container--align-left",O8="tox-collection__item-container--valign-top",bP="tox-collection__item-container--valign-middle",yP="tox-collection__item-container--valign-bottom",MT=t=>_t(kT,t).getOr(_T),PT=t=>t==="color"?"tox-swatches":"tox-menu",h2=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:PT(t),tieredMenu:"tox-tiered-menu"}),Ap=t=>{const s=h2(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:MT(t)}},wP=(t,s,a)=>{const u=h2(a);return{tag:"div",classes:nn([[u.menu,`tox-menu-${s}-column`],t?[u.hasIcons]:[]])}},SP=[Lc.parts.items({})],E1=(t,s,a)=>{const u=h2(a);return{dom:{tag:"div",classes:nn([[u.tieredMenu]])},markers:Ap(a)}},NT=ie([go("data"),Ie("inputAttributes",{}),Ie("inputStyles",{}),Ie("tag","input"),Ie("inputClasses",[]),Eo("onSetValue"),Ie("styles",{}),Ie("eventOrder",{}),xi("inputBehaviours",[Xt,Pn]),Ie("selectOnFocus",!0)]),xP=t=>At([Pn.config({onFocus:t.selectOnFocus?s=>{const a=s.element,u=Ff(a);a.dom.setSelectionRange(0,u.length)}:F})]),CP=t=>({...xP(t),...Ci(t.inputBehaviours,[Xt.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Ff(s.element),setValue:(s,a)=>{Ff(s.element)!==a&&tp(s.element,a)}},onSetValue:t.onSetValue})])}),EP=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),D8=(t,s)=>({uid:t.uid,dom:EP(t),components:[],behaviours:CP(t),eventOrder:t.eventOrder}),Op=Al({name:"Input",configFields:NT(),factory:D8}),TP=Kt("refetch-trigger-event"),LT=Kt("redirect-menu-item-interaction"),cv="tox-menu__searcher",T1=t=>Zs(t.element,`.${cv}`).bind(s=>t.getSystem().getByDom(s).toOptional()),_P=T1,M8=(t,s)=>{Xt.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},kP=t=>{const s=Xt.getValue(t),a=t.element.dom.selectionStart,u=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:a,selectionEnd:u}},P8=(t,s)=>{vr(s.element,"id").each(a=>vn(t.element,"aria-activedescendant",a))},N8=t=>{const s=(h,g)=>(g.cut(),P.none()),a=(h,g)=>{const b={interactionEvent:g.event,eventType:g.event.raw.type};return Sn(h,LT,b),P.some(!0)},u="searcher-events";return{dom:{tag:"div",classes:[l2]},components:[Op.sketch({inputClasses:[cv,"tox-textfield"],inputAttributes:{...t.placeholder.map(h=>({placeholder:t.i18n(h)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:At([jn(u,[mt(Id(),h=>{Qn(h,TP)}),mt(Zu(),(h,g)=>{g.event.raw.key==="Escape"&&g.stop()})]),bn.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[u,bn.name()]}})]}},Dp="tox-collection--results__js",AP=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:Kt("aria-item-search-result-id"),"aria-selected":"false"}}}:t},p2=(t,s)=>a=>{const u=rn(a,s);return Ue(u,h=>({dom:t,components:h}))},L8=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Lc.parts.items({preprocess:t!=="auto"?p2({tag:"div",classes:["tox-swatches__row"]},t):He})]}]}),OP=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Lc.parts.items({preprocess:p2({tag:"div",classes:["tox-collection__group"]},t)})]}),IT=(t,s)=>{const a=[];let u=[];return wt(t,(h,g)=>{s(h,g)?(u.length>0&&a.push(u),u=[],(Gn(h.dom,"innerHtml")||h.components&&h.components.length>0)&&u.push(h)):u.push(h)}),u.length>0&&a.push(u),Ue(a,h=>({dom:{tag:"div",classes:["tox-collection__group"]},components:h}))},RT=(t,s,a)=>Lc.parts.items({preprocess:u=>{const h=Ue(u,a);return t!=="auto"&&t>1?p2({tag:"div",classes:["tox-collection__group"]},t)(h):IT(h,(g,b)=>s[b].type==="separator")}}),BT=(t,s,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[RT(t,s,He)]}),DP=(t,s,a=!0)=>{const u=Kt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Dp].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:u}},components:[RT(t,s,AP)]}},MP=(t,s,a)=>{const u=Kt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[N8({i18n:oc.translate,placeholder:a.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],Dp],attributes:{id:u}},components:[RT(t,s,AP)]}]}},PP=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Lc.parts.items({preprocess:a=>IT(a,(u,h)=>t[h].type==="separator")})]}),g2=t=>jt(t,s=>"icon"in s&&s.icon!==void 0),Jf=t=>(console.error(Ts(t)),console.log(t),P.none()),I8=(t,s,a,u,h)=>{const g=PP(a);return{value:t,dom:g.dom,components:g.components,items:a}},$T=(t,s,a,u,h)=>{const g=()=>h.menuType!=="searchable"?BT(u,a):h.searchMode.searchMode==="search-with-field"?MP(u,a,h.searchMode):DP(u,a);if(h.menuType==="color"){const b=L8(u);return{value:t,dom:b.dom,components:b.components,items:a}}else if(h.menuType==="normal"&&u==="auto"){const b=BT(u,a);return{value:t,dom:b.dom,components:b.components,items:a}}else if(h.menuType==="normal"||h.menuType==="searchable"){const b=g();return{value:t,dom:b.dom,components:b.components,items:a}}else if(h.menuType==="listpreview"&&u!=="auto"){const b=OP(u);return{value:t,dom:b.dom,components:b.components,items:a}}else return{value:t,dom:wP(s,u,h.menuType),components:SP,items:a}},pr=Ro("type"),v2=Ro("name"),FT=Ro("label"),Qf=Ro("text"),NP=Ro("title"),LP=Ro("icon"),_1=Ro("value"),R8=Pi("fetch"),B8=Pi("getSubmenuItems"),oh=Pi("onAction"),IP=Pi("onItemAction"),Mp=ks("onSetup",()=>F),$8=Qr("name"),em=Qr("text"),F8=Qr("role"),$c=Qr("icon"),uv=Qr("tooltip"),b2=Qr("label"),y2=Qr("shortcut"),H8=du("select"),w2=yr("active",!1),z8=yr("borderless",!1),Fc=yr("enabled",!0),dv=yr("primary",!1),RP=t=>Ie("columns",t),HT=Ie("meta",{}),zT=ks("onAction",F),Pp=t=>Xi("type",t),VT=t=>Wo("name","name",Df(()=>Kt(`${t}-name`)),at),V8=t=>Wo("value","value",Df(()=>Kt(`${t}-value`)),xt()),UT=Y([pr,em]),BP=t=>Yn("separatormenuitem",UT,t),U8=Y([Pp("autocompleteitem"),w2,Fc,HT,_1,em,$c]),W8=t=>Yn("Autocompleter.Separator",UT,t),j8=t=>Yn("Autocompleter.Item",U8,t),fa=[Fc,uv,$c,em,Mp],nd=Y([pr,oh,y2].concat(fa)),$P=t=>Yn("toolbarbutton",nd,t),k1=[w2].concat(fa),WT=Y(k1.concat([pr,oh,y2])),FP=t=>Yn("ToggleButton",WT,t),HP=[ks("predicate",Me),_c("scope","node",["node","editor"]),_c("position","selection",["node","selection","line"])],A1=fa.concat([Pp("contextformbutton"),dv,oh,ao("original",He)]),S2=k1.concat([Pp("contextformbutton"),dv,oh,ao("original",He)]),jT=fa.concat([Pp("contextformbutton")]),Z8=k1.concat([Pp("contextformtogglebutton")]),od=_o("type",{contextformbutton:A1,contextformtogglebutton:S2}),q8=Y([Pp("contextform"),ks("initValue",ie("")),b2,br("commands",od),gl("launch",_o("type",{contextformbutton:jT,contextformtogglebutton:Z8}))].concat(HP)),G8=t=>Yn("ContextForm",q8,t),Hc=Y([Pp("contexttoolbar"),Ro("items")].concat(HP)),O1=t=>Yn("ContextToolbar",Hc,t),Su=[pr,Ro("src"),Qr("alt"),Pd("classes",[],at)],X8=Y(Su),os=[pr,Qf,$8,Pd("classes",["tox-collection__item-label"],at)],fv=Y(os),D1=Wr(()=>yo("type",{cardimage:X8,cardtext:fv,cardcontainer:zP})),zP=Y([pr,Xi("direction","horizontal"),Xi("align","left"),Xi("valign","middle"),br("items",D1)]),sh=[Fc,em,F8,y2,V8("menuitem"),HT],ZT=Y([pr,b2,br("items",D1),Mp,zT].concat(sh)),Y8=t=>Yn("cardmenuitem",ZT,t),qT=Y([pr,w2,$c].concat(sh)),K8=t=>Yn("choicemenuitem",qT,t),GT=[pr,Ro("fancytype"),zT],VP=[Ie("initData",{})].concat(GT),XT=[du("select"),bg("initData",{},[yr("allowCustomColors",!0),Xi("storageKey","default"),fu("colors",xt())])].concat(GT),UP=_o("fancytype",{inserttable:VP,colorswatch:XT}),x2=t=>Yn("fancymenuitem",UP,t),J8=Y([pr,Mp,zT,$c].concat(sh)),Q8=t=>Yn("menuitem",J8,t),ez=Y([pr,B8,Mp,$c].concat(sh)),tz=t=>Yn("nestedmenuitem",ez,t),nz=Y([pr,$c,w2,Mp,oh].concat(sh)),WP=t=>Yn("togglemenuitem",nz,t),YT=(t,s,a)=>{const u=ua(t.element,"."+a);if(u.length>0){const h=zn(u,g=>{const b=g.dom.getBoundingClientRect().top,C=u[0].dom.getBoundingClientRect().top;return Math.abs(b-C)>s}).getOr(u.length);return P.some({numColumns:h,numRows:Math.ceil(u.length/h)})}else return P.none()},jP=(t,s)=>At([jn(t,s)]),mv={namedEvents:jP,unnamedEvents:t=>jP(Kt("unnamed-events"),t)},sz=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),ZP="silver.readonly",qP=Y([uu("readonly")]),hv=(t,s)=>{const u=t.mainUi.outerContainer.element,h=[t.mainUi.mothership,...t.uiMotherships];s&&wt(h,g=>{g.broadcastOn([jf()],{target:u})}),wt(h,g=>{g.broadcastOn([ZP],{readonly:s})})},KT=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&hv(s,!0)}),t.on("SwitchMode",()=>hv(s,t.mode.isReadOnly())),F3(t)&&t.mode.set("readonly")},ni=()=>Ka.config({channels:{[ZP]:{schema:qP,onReceive:(t,s)=>{On.set(t,s.readonly)}}}}),xu={item:t=>On.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>On.config({disabled:t}),splitButton:t=>On.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>On.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},M1=(t,s)=>{const a=t.getApi(s);return u=>{u(a)}},ma=(t,s)=>$s(a=>{M1(t,a)(h=>{const g=t.onSetup(h);X(g)&&s.set(g)})}),rh=(t,s)=>Bd(a=>M1(t,a)(s.get())),JT=(t,s)=>$d((a,u)=>{M1(t,a)(t.onAction),!t.triggersSubmenu&&s===wu.CLOSE_ON_EXECUTE&&(a.getSystem().isConnected()&&Qn(a,Sb()),u.stop())}),GP={[kc()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Np=ii,pv=(t,s,a,u)=>{const h=un(F);return{type:"item",dom:s.dom,components:Np(s.optComponents),data:t.data,eventOrder:GP,hasSubmenu:t.triggersSubmenu,itemBehaviours:At([jn("item-events",[JT(t,a),ma(t,h),rh(t,h)]),xu.item(()=>!t.enabled||u.isDisabled()),ni(),In.config({})].concat(t.itemBehaviours))}},Lp=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),C2=t=>{const s=Sp.os.isMacOS()||Sp.os.isiOS(),h=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},g=t.split("+"),b=Ue(g,C=>{const E=C.toLowerCase().trim();return Gn(h,E)?h[E]:C});return s?b.join(""):b.join("+")},E2=(t,s,a=[AT])=>sc(t,{tag:"div",classes:a},s),XP=t=>({dom:{tag:"div",classes:[d2]},components:[tr(oc.translate(t))]}),YP=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),rz=(t,s)=>({dom:{tag:"div",classes:[d2]},components:[{dom:{tag:t.tag,styles:t.styles},components:[tr(oc.translate(s))]}]}),iz=t=>({dom:{tag:"div",classes:[k8]},components:[tr(C2(t))]}),KP=t=>E2("checkmark",t,[A8]),JP=t=>E2("chevron-right",t,[f2]),QP=t=>E2("chevron-down",t,[f2]),eN=(t,s)=>{const a=t.direction==="vertical"?kp:vP,u=t.align==="left"?m2:DT;return{dom:{tag:"div",classes:[OT,a,u,(()=>{switch(t.valign){case"top":return O8;case"middle":return bP;case"bottom":return yP}})()]},components:s}},az=(t,s,a)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:a.getOr("")}}}),lz=(t,s,a)=>{const u="custom",h="remove",g=t.value,b=t.iconContent.map(M=>hP(M,s.icons,a)),C=t.ariaLabel.map(M=>({"aria-label":s.translate(M),"data-mce-name":M})).getOr({});return{dom:(()=>{const M=c2,I=b.getOr(""),z={tag:"div",attributes:C,classes:[M]};return g===u?{...z,tag:"button",classes:[...z.classes,"tox-swatches__picker-btn"],innerHtml:I}:g===h?{...z,classes:[...z.classes,"tox-swatch--remove"],innerHtml:I}:ee(g)?{...z,attributes:{...z.attributes,"data-mce-color":g},styles:{"background-color":g},innerHtml:I}:z})(),optComponents:[]}},tN=t=>{const s=t.map(a=>({attributes:{id:Kt("menu-item"),"aria-label":oc.translate(a)}})).getOr({});return{tag:"div",classes:[_T,l2],...s}},gv=(t,s,a,u)=>{const h={tag:"div",classes:[AT]},g=Q=>sc(Q,h,s.icons,u),b=()=>P.some({dom:h}),C=a?t.iconContent.map(g).orThunk(b):P.none(),E=t.checkMark,M=P.from(t.meta).fold(()=>XP,Q=>Gn(Q,"style")?Fe(rz,Q.style):XP),I=t.htmlContent.fold(()=>t.textContent.map(M),Q=>P.some(YP(Q,[d2])));return{dom:tN(t.ariaLabel),optComponents:[C,I,t.shortcutContent.map(iz),E,t.caret]}},P1=(t,s,a,u=P.none())=>t.presets==="color"?lz(t,s,u):gv(t,s,a,u),QT=(t,s,a)=>_t(t,"tooltipWorker").map(u=>[nr.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:h=>({type:"submenu",item:h,overrides:{maxHeightFunction:Rg}}),mode:"follow-highlight",onShow:(h,g)=>{u(b=>{nr.setComponents(h,[sC({element:pt.fromDom(b)})])})}})]).getOrThunk(()=>a.map(u=>[nr.config({...s.providers.tooltips.getConfig({tooltipText:u}),mode:"follow-highlight"})]).getOr([])),nN=t=>wp.DOM.encode(t),e_=(t,s)=>{const a=oc.translate(t),u=nN(a);if(s.length>0){const h=new RegExp(sz(s),"gi");return u.replace(h,g=>`<span class="tox-autocompleter-highlight">${g}</span>`)}else return u},oN=(t,s,a,u,h,g,b,C=!0)=>{const E=P1({presets:u,textContent:P.none(),htmlContent:a?t.text.map(I=>e_(I,s)):P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:t.value},b.providers,C,t.icon),M=t.text.filter(I=>!a&&I!=="");return pv({data:Lp(t),enabled:t.enabled,getApi:ie({}),onAction:I=>h(t.value,t.meta),onSetup:ie(F),triggersSubmenu:!1,itemBehaviours:QT(t,b,M)},E,g,b.providers)},T2=(t,s)=>Ue(t,a=>{switch(a.type){case"cardcontainer":return eN(a,T2(a.items,s));case"cardimage":return az(a.src,a.classes,a.alt);case"cardtext":const h=a.name.exists(g=>Ot(s.cardText.highlightOn,g))?P.from(s.cardText.matchText).getOr(""):"";return YP(e_(a.text,h),a.classes)}}),t_=(t,s,a,u)=>{const h=b=>({isEnabled:()=>!On.isDisabled(b),setEnabled:C=>{On.set(b,!C),wt(ua(b.element,"*"),E=>{b.getSystem().getByDom(E).each(M=>{M.hasConfigured(On)&&On.set(M,!C)})})}}),g={dom:tN(t.label),optComponents:[P.some({dom:{tag:"div",classes:[OT,vP]},components:T2(t.items,u)})]};return pv({data:Lp({text:P.none(),...t}),enabled:t.enabled,getApi:h,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(u.itemBehaviours).getOr([])},g,s,a.providers)},n_=(t,s,a,u,h,g,b,C=!0)=>{const E=z=>({setActive:Q=>{eo.set(z,Q)},isActive:()=>eo.isOn(z),isEnabled:()=>!On.isDisabled(z),setEnabled:Q=>On.set(z,!Q)}),M=P1({presets:a,textContent:s?t.text:P.none(),htmlContent:P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:P.none(),checkMark:s?P.some(KP(b.icons)):P.none(),caret:P.none(),value:t.value},b,C),I=t.text.filter(ie(!s)).map(z=>nr.config(b.tooltips.getConfig({tooltipText:b.translate(z)})));return Us(pv({data:Lp(t),enabled:t.enabled,getApi:E,onAction:z=>u(t.value),onSetup:z=>(z.setActive(h),F),triggersSubmenu:!1,itemBehaviours:[...I.toArray()]},M,g,b),{toggling:{toggleClass:u2,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},o_=iE(Uw(),qE()),sN=t=>({value:aN(t)}),s_=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,rN=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,iN=t=>s_.test(t)||rN.test(t),aN=t=>zs(t,"#").toUpperCase(),lN=t=>iN(t)?P.some({value:aN(t)}):P.none(),cN=t=>({value:t.value.replace(s_,(a,u,h,g)=>u+u+h+h+g+g)}),uN=t=>{const s=cN(t),a=rN.exec(s.value);return a===null?["FFFFFF","FF","FF","FF"]:a},r_=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},N1=t=>{const s=r_(t.red)+r_(t.green)+r_(t.blue);return sN(s)},dN=Math.min,fN=Math.max,_2=Math.round,cz=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,uz=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Ip=(t,s,a,u)=>({red:t,green:s,blue:a,alpha:u}),i_=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},mN=t=>{let s,a,u;const h=(t.hue||0)%360;let g=t.saturation/100,b=t.value/100;if(g=fN(0,dN(g,1)),b=fN(0,dN(b,1)),g===0)return s=a=u=_2(255*b),Ip(s,a,u,1);const C=h/60,E=b*g,M=E*(1-Math.abs(C%2-1)),I=b-E;switch(Math.floor(C)){case 0:s=E,a=M,u=0;break;case 1:s=M,a=E,u=0;break;case 2:s=0,a=E,u=M;break;case 3:s=0,a=M,u=E;break;case 4:s=M,a=0,u=E;break;case 5:s=E,a=0,u=M;break;default:s=a=u=0}return s=_2(255*(s+I)),a=_2(255*(a+I)),u=_2(255*(u+I)),Ip(s,a,u,1)},L1=t=>{const s=uN(t),a=parseInt(s[1],16),u=parseInt(s[2],16),h=parseInt(s[3],16);return Ip(a,u,h,1)},a_=(t,s,a,u)=>{const h=parseInt(t,10),g=parseInt(s,10),b=parseInt(a,10),C=parseFloat(u);return Ip(h,g,b,C)},l_=t=>{const s=cz.exec(t);if(s!==null)return P.some(a_(s[1],s[2],s[3],"1"));const a=uz.exec(t);return a!==null?P.some(a_(a[1],a[2],a[3],a[4])):P.none()},hN=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,pN=Ip(255,0,0,1),dz=t=>{t.dispatch("SkinLoaded")},fz=(t,s)=>{t.dispatch("SkinLoadError",s)},k2=t=>{t.dispatch("ResizeEditor")},A2=(t,s)=>{t.dispatch("ResizeContent",s)},mz=(t,s)=>{t.dispatch("ScrollContent",s)},gN=(t,s)=>{t.dispatch("TextColorChange",s)},hz=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},pz=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),gz=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},vz=(t,s)=>{t.dispatch("StylesTextUpdate",s)},c_=(t,s)=>{t.dispatch("AlignTextUpdate",s)},vN=(t,s)=>{t.dispatch("FontSizeTextUpdate",s)},bN=(t,s)=>{t.dispatch("FontSizeInputTextUpdate",s)},bz=(t,s)=>{t.dispatch("BlocksTextUpdate",s)},yN=(t,s)=>{t.dispatch("FontFamilyTextUpdate",s)},yz=t=>{t.dispatch("ToggleSidebar")},wz=t=>{t.dispatch("ToggleView")},O2=(t,s)=>()=>{t(),s()},Ma=t=>Rp(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),Sz=(t,s)=>a=>{const u=_a(),h=()=>{a.setActive(t.formatter.match(s));const g=t.formatter.formatChanged(s,a.setActive);u.set(g)};return t.initialized?h():t.once("init",h),()=>{t.off("init",h),u.clear()}},D2=(t,s)=>a=>{const u=Ma(t)(a),h=Sz(t,s)(a);return()=>{u(),h()}},Rp=(t,s,a)=>u=>{const h=()=>a(u),g=()=>{a(u),t.on(s,h)};return t.initialized?g():t.once("init",g),()=>{t.off("init",g),t.off(s,h)}},wN=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},Dl=(t,s)=>()=>t.execCommand(s);var Bp=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const I1={},u_=(t,s=10)=>{const a=Bp.getItem(t),u=T(a)?JSON.parse(a):[],g=(M=>s-M.length<0?M.slice(0,s):M)(u),b=M=>{Ve(g,M).each(C),g.unshift(M),g.length>s&&g.pop(),Bp.setItem(t,JSON.stringify(g))},C=M=>{g.splice(M,1)};return{add:b,state:()=>g.slice(0)}},M2=t=>_t(I1,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,a=Bp.getItem(s);if(G(a)){const h=Bp.getItem("tinymce-custom-colors");Bp.setItem(s,ee(h)?h:"[]")}const u=u_(s,10);return I1[t]=u,u}),SN=t=>Ue(M2(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),xN=(t,s)=>{M2(t).add(s)},R1=(t,s,a)=>({hue:t,saturation:s,value:a}),B1=t=>{let s=0,a=0,u=0;const h=t.red/255,g=t.green/255,b=t.blue/255,C=Math.min(h,Math.min(g,b)),E=Math.max(h,Math.max(g,b));if(C===E)return u=C,R1(0,0,u*100);const M=h===C?g-b:b===C?h-g:b-h;return s=h===C?3:b===C?1:5,s=60*(s-M/(E-C)),a=(E-C)/E,u=E,R1(Math.round(s),Math.round(a*100),Math.round(u*100))},d_=t=>B1(L1(t)),$1=t=>N1(mN(t)),CN=t=>lN(t).orThunk(()=>l_(t).map(N1)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const a=s.getContext("2d");a.clearRect(0,0,s.width,s.height),a.fillStyle="#FFFFFF",a.fillStyle=t,a.fillRect(0,0,1,1);const u=a.getImageData(0,0,1,1).data,h=u[0],g=u[1],b=u[2],C=u[3];return N1(Ip(h,g,b,C))}),f_="forecolor",m_="hilitecolor",xz=5,Cz=t=>{const s=[];for(let a=0;a<t.length;a+=2)s.push({text:t[a+1],value:"#"+CN(t[a]).value,icon:"checkmark",type:"choiceitem"});return s},Wd=t=>s=>s.options.get(t),h_="#000000",Ez=t=>{const s=t.options.register,a=h=>J(h,T)?{value:Cz(h),valid:!0}:{valid:!1,message:"Must be an array of strings."},u=h=>re(h)&&h>0?{value:h,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:a,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:a}),s("color_map_foreground",{processor:a}),s("color_cols",{processor:u,default:p_(t)}),s("color_cols_foreground",{processor:u,default:EN(t,f_)}),s("color_cols_background",{processor:u,default:EN(t,m_)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:h_}),s("color_default_background",{processor:"string",default:h_})},P2=(t,s)=>s===f_&&t.options.isSet("color_map_foreground")?Wd("color_map_foreground")(t):s===m_&&t.options.isSet("color_map_background")?Wd("color_map_background")(t):Wd("color_map")(t),p_=(t,s="default")=>Math.max(xz,Math.ceil(Math.sqrt(P2(t,s).length))),EN=(t,s)=>{const a=Wd("color_cols")(t),u=p_(t,s);return a===p_(t)?u:a},TN=(t,s="default")=>Math.round(s===f_?Wd("color_cols_foreground")(t):s===m_?Wd("color_cols_background")(t):Wd("color_cols")(t)),_N=Wd("custom_colors"),Tz=Wd("color_default_foreground"),kN=Wd("color_default_background"),_z="rgba(0, 0, 0, 0)",kz=t=>l_(t).exists(s=>s.alpha!==0),jd=t=>wg(t,s=>{if(To(s)){const a=ts(s,"background-color");return wn(kz(a),a)}else return P.none()}).getOr(_z),AN=(t,s)=>{const a=pt.fromDom(t.selection.getStart()),u=s==="hilitecolor"?jd(a):ts(a,"color");return l_(u).map(h=>"#"+N1(h).value)},Az=(t,s,a)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:a}),t.nodeChanged()})},g_=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},fi=t=>{t.addCommand("mceApplyTextcolor",(s,a)=>{Az(t,s,a)}),t.addCommand("mceRemoveTextcolor",s=>{g_(t,s)})},ON=t=>{const s="choiceitem",a={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[a,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},v_=(t,s,a,u)=>{a==="custom"?IN(t)(g=>{g.each(b=>{xN(s,b),t.execCommand("mceApplyTextcolor",s,b),u(b)})},AN(t,s).getOr(h_)):a==="remove"?(u(""),t.execCommand("mceRemoveTextcolor",s)):(u(a),t.execCommand("mceApplyTextcolor",s,a))},b_=(t,s,a)=>t.concat(SN(s).concat(ON(a))),DN=(t,s,a)=>u=>{u(b_(t,s,a))},y_=(t,s,a)=>{const u=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(u,a)},MN=(t,s)=>{t.setTooltip(s)},PN=(t,s)=>a=>{const u=AN(t,s);return Xs(u,a.toUpperCase())},w_=(t,s,a)=>{if(be(a))return s==="forecolor"?"Text color":"Background color";const u=s==="forecolor"?"Text color {0}":"Background color {0}",h=b_(P2(t,s),s,!1),g=It(h,b=>b.value===a).getOr({text:""}).text;return t.translate([u,t.translate(g)])},NN=(t,s,a,u)=>{t.ui.registry.addSplitButton(s,{tooltip:w_(t,a,u.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:PN(t,a),columns:TN(t,a),fetch:DN(P2(t,a),a,_N(t)),onAction:h=>{v_(t,a,u.get(),F)},onItemAction:(h,g)=>{v_(t,a,g,b=>{u.set(b),gN(t,{name:s,color:b})})},onSetup:h=>{y_(h,s,u.get());const g=b=>{b.name===s&&(y_(h,b.name,b.color),MN(h,w_(t,a,b.color)))};return t.on("TextColorChange",g),O2(Ma(t)(h),()=>{t.off("TextColorChange",g)})}})},LN=(t,s,a,u,h)=>{t.ui.registry.addNestedMenuItem(s,{text:u,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:g=>(MN(g,w_(t,a,h.get())),y_(g,s,h.get()),Ma(t)(g)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:PN(t,a),initData:{storageKey:a},onAction:g=>{v_(t,a,g.value,b=>{h.set(b),gN(t,{name:s,color:b})})}}]})},IN=t=>(s,a)=>{let u=!1;const h=C=>{const M=C.getData().colorpicker;u?(s(P.from(M)),C.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",M]))},g=(C,E)=>{E.name==="hex-valid"&&(u=E.value)},b={colorpicker:a};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b,onAction:g,onSubmit:h,onClose:F,onCancel:()=>{s(P.none())}})},Oz=t=>{fi(t);const s=Tz(t),a=kN(t),u=un(s),h=un(a);NN(t,"forecolor","forecolor",u),NN(t,"backcolor","hilitecolor",h),LN(t,"forecolor","forecolor","Text color",u),LN(t,"backcolor","hilitecolor","Background color",h)},S_=(t,s,a,u,h,g,b,C)=>{const E=g2(s),I=Dz(s,a,u,h!=="color"?"normal":"color",g,b,C);return $T(t,E,I,u,{menuType:h})},Dz=(t,s,a,u,h,g,b)=>ii(Ue(t,C=>C.type==="choiceitem"?K8(C).fold(Jf,E=>P.some(n_(E,a===1,u,s,g(E.value),h,b,g2(t)))):P.none())),N2=(t,s)=>{const a=Ap(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:h=>s==="color"?Zs(h.element,"[aria-checked=true]"):P.none()}},Mz=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${c2}`:`.${l2}`}},Pz=(t,s)=>{const a=Nz(t,s),u=s.colorinput.getColorCols(t.initData.storageKey),h="color",b={...S_(Kt("menu-value"),a,C=>{t.onAction({value:C})},u,h,wu.CLOSE_ON_EXECUTE,t.select.getOr(Me),s.shared.providers),markers:Ap(h),movement:N2(u,h),showMenuRole:!1};return{type:"widget",data:{value:Kt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[o_.widget(Lc.sketch(b))]}},Nz=(t,s)=>{const a=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>b_(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,a),u=>u.concat(ON(a)))},RN=Kt("cell-over"),BN=Kt("cell-execute"),Lz=t=>(s,a)=>t.shared.providers.translate(["{0} columns, {1} rows",a,s]),Iz=(t,s,a)=>{const u=b=>Sn(b,RN,{row:t,col:s}),h=b=>Sn(b,BN,{row:t,col:s}),g=(b,C)=>{C.stop(),h(b)};return la({dom:{tag:"div",attributes:{role:"button","aria-label":a}},behaviours:At([jn("insert-table-picker-cell",[mt(Ld(),Pn.focus),mt(kc(),h),mt(zh(),g),mt(Gu(),g)]),eo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Pn.config({onFocus:u})])})},Rz=(t,s,a)=>{const u=[];for(let h=0;h<s;h++){const g=[];for(let b=0;b<a;b++){const C=t(h+1,b+1);g.push(Iz(h,b,C))}u.push(g)}return u},Bz=(t,s,a,u,h)=>{for(let g=0;g<u;g++)for(let b=0;b<h;b++)eo.set(t[g][b],g<=s&&b<=a)},$z=t=>$e(t,s=>Ue(s,Xl)),x_=(t,s)=>tr(`${s}x${t}`),$N={inserttable:(t,s)=>{const h=Lz(s),g=Rz(h,10,10),b=x_(0,0),C=Bo({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[b],behaviours:At([In.config({})])});return{type:"widget",data:{value:Kt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[o_.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:$z(g).concat(C.asSpec()),behaviours:At([jn("insert-table-picker",[$s(E=>{In.set(C.get(E),[b])}),Ax(RN,(E,M,I)=>{const{row:z,col:Q}=I.event;Bz(g,z,Q,10,10),In.set(C.get(E),[x_(z+1,Q+1)])}),Ax(BN,(E,M,I)=>{const{row:z,col:Q}=I.event;Qn(E,Sb()),t.onAction({numRows:z+1,numColumns:Q+1})})]),bn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:Pz},Fz=(t,s)=>_t($N,t.fancytype).map(a=>a(t,s)),Hz=(t,s,a,u=!0,h=!1)=>{const g=h?QP(a.icons):JP(a.icons),b=E=>({isEnabled:()=>!On.isDisabled(E),setEnabled:M=>On.set(E,!M),setIconFill:(M,I)=>{Zs(E.element,`svg path[class="${M}"], rect[class="${M}"]`).each(z=>{vn(z,"fill",I)})},setTooltip:M=>{const I=a.translate(M);vn(E.element,"aria-label",I)}}),C=P1({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.some(g),checkMark:P.none(),shortcutContent:t.shortcut},a,u);return pv({data:Lp(t),getApi:b,enabled:t.enabled,onAction:F,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},C,s,a)},zz=(t,s,a,u=!0)=>{const h=b=>({isEnabled:()=>!On.isDisabled(b),setEnabled:C=>On.set(b,!C)}),g=P1({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.none(),checkMark:P.none(),shortcutContent:t.shortcut},a,u);return pv({data:Lp(t),getApi:h,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,s,a)},FN=t=>({type:"separator",dom:{tag:"div",classes:[l2,gP]},components:t.text.map(tr).toArray()}),Vz=(t,s,a,u=!0)=>{const h=b=>({setActive:C=>{eo.set(b,C)},isActive:()=>eo.isOn(b),isEnabled:()=>!On.isDisabled(b),setEnabled:C=>On.set(b,!C)}),g=P1({iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,checkMark:P.some(KP(a.icons)),caret:P.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},a,u);return Us(pv({data:Lp(t),enabled:t.enabled,getApi:h,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,s,a),{toggling:{toggleClass:u2,toggleOnExecute:!1,selected:t.active},role:t.role.getOrUndefined()})},Uz=oN,HN=FN,Wz=zz,zN=Hz,jz=Vz,VN=Fz,Zz=t_;var Gz=Object.freeze({__proto__:null,getCoupled:(t,s,a,u)=>a.getOrCreate(t,s,u),getExistingCoupled:(t,s,a,u)=>a.getExisting(t,s,u)}),Xz=[lo("others",hs(Xn.value,xt()))],Yz=Object.freeze({__proto__:null,init:()=>{const t={},s=(g,b)=>{if(ht(g.others).length===0)throw new Error("Cannot find any known coupled components");return _t(t,b)},a=(g,b,C)=>s(b,C).getOrThunk(()=>{const M=_t(b.others,C).getOrDie("No information found for coupled component: "+C)(g),I=g.getSystem().build(M);return t[C]=I,I}),u=(g,b,C)=>s(b,C).orThunk(()=>(_t(b.others,C).getOrDie("No information found for coupled component: "+C),P.none())),h=ie({});return xl({readState:h,getExisting:u,getOrCreate:a})}});const hr=Ni({fields:Xz,name:"coupling",apis:Gz,state:Yz}),C_=t=>{let s=P.none(),a=[];const u=M=>C_(I=>{h(z=>{I(M(z))})}),h=M=>{b()?E(M):a.push(M)},g=M=>{b()||(s=P.some(M),C(a),a=[])},b=()=>s.isSome(),C=M=>{wt(M,E)},E=M=>{s.each(I=>{setTimeout(()=>{M(I)},0)})};return t(g),{get:h,map:u,isReady:b}},Kz={nu:C_,pure:t=>C_(s=>{s(t)})},Jz=t=>{setTimeout(()=>{throw t},0)},vv=t=>{const s=E=>{t().then(E,Jz)};return{map:E=>vv(()=>t().then(E)),bind:E=>vv(()=>t().then(M=>E(M).toPromise())),anonBind:E=>vv(()=>t().then(()=>E.toPromise())),toLazy:()=>Kz.nu(s),toCached:()=>{let E=null;return vv(()=>(E===null&&(E=t()),E))},toPromise:t,get:s}},Bi={nu:t=>vv(()=>new Promise(t)),pure:t=>vv(()=>Promise.resolve(t))},UN=ie("sink"),WN=ie(Ql({name:UN(),overrides:ie({dom:{tag:"div"},behaviours:At([da.config({useFixed:Oe})]),events:Bs([Yu(Zu()),Yu(yl()),Yu(zh())])})})),jN=(t,s)=>{const a=t.getHotspot(s).getOr(s),u="hotspot",h=t.getAnchorOverrides();return t.layouts.fold(()=>({type:u,hotspot:a,overrides:h}),g=>({type:u,hotspot:a,overrides:h,layouts:g}))},Qz=(t,s,a)=>{const u=t.fetch;return u(a).map(s)},eV=(t,s,a,u,h,g,b)=>{const C=Qz(t,s,u),E=T_(u,t);return C.map(M=>M.bind(I=>{const z=I.menus[I.primary];return P.from(z).each(Q=>{t.listRole.each(te=>{Q.role=te})}),P.from(Jm.sketch({...g.menu(),uid:Ig(""),data:I,highlightOnOpen:b,onOpenMenu:(Q,te)=>{const le=E().getOrDie();da.position(le,te,{anchor:a}),Do.decloak(h)},onOpenSubmenu:(Q,te,le)=>{const de=E().getOrDie();da.position(de,le,{anchor:{type:"submenu",item:te}}),Do.decloak(h)},onRepositionMenu:(Q,te,le)=>{const de=E().getOrDie();da.position(de,te,{anchor:a}),wt(le,Ne=>{da.position(de,Ne.triggeredMenu,{anchor:{type:"submenu",item:Ne.triggeringItem}})})},onEscape:()=>(Pn.focus(u),Do.close(h),P.some(!0))}))}))},bv=(t,s,a,u,h,g,b)=>{const C=jN(t,a);return eV(t,s,C,a,u,h,b).map(M=>(M.fold(()=>{Do.isOpen(u)&&Do.close(u)},I=>{Do.cloak(u),Do.open(u,I),g(u)}),u))},tV=(t,s,a,u,h,g,b)=>(Do.close(u),Bi.pure(u)),E_=(t,s,a,u,h,g)=>{const b=hr.getCoupled(a,"sandbox");return(Do.isOpen(b)?tV:bv)(t,s,a,b,u,h,g)},nV=(t,s,a)=>{const u=ko.getCurrent(s).getOr(s),h=ki(t.element);a?gt(u.element,"min-width",h+"px"):Cd(u.element,h)},T_=(t,s)=>t.getSystem().getByUid(s.uid+"-"+UN()).map(a=>()=>Xn.value(a)).getOrThunk(()=>s.lazySink.fold(()=>()=>Xn.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(t))),__=t=>{Do.getState(t).each(s=>{Jm.repositionMenus(s)})},k_=(t,s,a)=>{const u=uC(),h=(C,E)=>{const M=jN(t,s);u.link(s.element),t.matchWidth&&nV(M.hotspot,E,t.useMinWidth),t.onOpen(M,C,E),a!==void 0&&a.onOpen!==void 0&&a.onOpen(C,E)},g=(C,E)=>{u.unlink(s.element),b().getOr(E).element.dom.dispatchEvent(new window.FocusEvent("focusout")),a!==void 0&&a.onClose!==void 0&&a.onClose(C,E)},b=T_(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:u.id}},behaviours:Pc.augment(t.sandboxBehaviours,[Xt.config({store:{mode:"memory",initialValue:s}}),Do.config({onOpen:h,onClose:g,isPartOf:(C,E,M)=>op(E,M)||op(s,M),getAttachPoint:()=>b().getOrDie()}),ko.config({find:C=>Do.getState(C).bind(E=>ko.getCurrent(E))}),Ka.config({channels:{...jm({isExtraPart:Me}),...JC({doReposition:__})}})])}},ZN=t=>{const s=hr.getCoupled(t,"sandbox");__(s)},L2=()=>[Ie("sandboxClasses",[]),Pc.field("sandboxBehaviours",[ko,Ka,Do,Xt])],oV=ie([it("dom"),it("fetch"),Eo("onOpen"),Tl("onExecute"),Ie("getHotspot",P.some),Ie("getAnchorOverrides",ie({})),Hm(),xi("dropdownBehaviours",[eo,hr,bn,Pn]),it("toggleClass"),Ie("eventOrder",{}),go("lazySink"),Ie("matchWidth",!1),Ie("useMinWidth",!1),go("role"),go("listRole")].concat(L2())),sV=ie([Nc({schema:[Ng(),Ie("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),WN()]),rV=(t,s,a,u)=>{const h=I=>_t(t.dom,"attributes").bind(z=>_t(z,I)),g=I=>{Do.getState(I).each(z=>{Jm.highlightPrimary(z)})},b=(I,z,Q)=>E_(t,He,I,u,z,Q),C=I=>{b(I,g,mr.HighlightMenuAndItem).get(F)},E={expand:I=>{eo.isOn(I)||b(I,F,mr.HighlightNone).get(F)},open:I=>{eo.isOn(I)||b(I,F,mr.HighlightMenuAndItem).get(F)},refetch:I=>hr.getExistingCoupled(I,"sandbox").fold(()=>b(I,F,mr.HighlightMenuAndItem).map(F),Q=>bv(t,He,I,Q,u,F,mr.HighlightMenuAndItem).map(F)),isOpen:eo.isOn,close:I=>{eo.isOn(I)&&b(I,F,mr.HighlightMenuAndItem).get(F)},repositionMenus:I=>{eo.isOn(I)&&ZN(I)}},M=(I,z)=>(Om(I),P.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:Ci(t.dropdownBehaviours,[eo.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),hr.config({others:{sandbox:I=>k_(t,I,{onOpen:()=>eo.on(I),onClose:()=>eo.off(I)})}}),bn.config({mode:"special",onSpace:M,onEnter:M,onDown:(I,z)=>{if(zc.isOpen(I)){const Q=hr.getCoupled(I,"sandbox");g(Q)}else zc.open(I);return P.some(!0)},onEscape:(I,z)=>zc.isOpen(I)?(zc.close(I),P.some(!0)):P.none()}),Pn.config({})]),events:zw(P.some(C)),eventOrder:{...t.eventOrder,[kc()]:["disabling","toggling","alloy.base.behaviour"]},apis:E,domModification:{attributes:{"aria-haspopup":t.listRole.getOr("true"),...t.role.fold(()=>({}),I=>({role:I})),...t.dom.tag==="button"?{type:h("type").getOr("button")}:{}}}}},zc=Da({name:"Dropdown",configFields:oV(),partFields:sV(),factory:rV,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),iV=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},aV=t=>{const s=Xt.getValue(t),a=T1(t).map(kP);zc.refetch(s).get(()=>{const u=hr.getCoupled(s,"sandbox");a.each(h=>T1(u).each(g=>M8(g,h)))})},I2=(t,s)=>{lV(t).each(a=>{_x(t,a.element,s.event.eventType,s.event.interactionEvent)})},lV=t=>Do.getState(t).bind(Ho.getHighlighted).bind(Ho.getHighlighted),R2=t=>Cl(t.element,Dp)?P.some(t.element):Zs(t.element,"."+Dp),qN=(t,s,a)=>{_P(t).each(u=>{P8(u,a),R2(s).each(g=>{vr(g,"id").each(b=>vn(u.element,"aria-controls",b))})}),vn(a.element,"aria-selected","true")},cV=(t,s,a)=>{vn(a.element,"aria-selected","false")},uV=t=>{_P(t).each(s=>Pn.focus(s))},dV=t=>hr.getExistingCoupled(t,"sandbox").bind(T1).map(kP).map(a=>a.fetchPattern).getOr("");var A_;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(A_||(A_={}));const B2=(t,s,a,u,h)=>{const g=a.shared.providers,b=C=>h?{...C,shortcut:P.none(),icon:C.text.isSome()?P.none():C.icon}:C;switch(t.type){case"menuitem":return Q8(t).fold(Jf,C=>P.some(Wz(b(C),s,g,u)));case"nestedmenuitem":return tz(t).fold(Jf,C=>P.some(zN(b(C),s,g,u,h)));case"togglemenuitem":return WP(t).fold(Jf,C=>P.some(jz(b(C),s,g,u)));case"separator":return BP(t).fold(Jf,C=>P.some(HN(C)));case"fancymenuitem":return x2(t).fold(Jf,C=>VN(C,a));default:return console.error("Unknown item in general menu",t),P.none()}},yv=(t,s,a,u,h,g,b)=>{const C=u===1,E=!C||g2(t);return ii(Ue(t,M=>{switch(M.type){case"separator":return W8(M).fold(Jf,I=>P.some(HN(I)));case"cardmenuitem":return Y8(M).fold(Jf,I=>P.some(Zz({...I,onAction:z=>{I.onAction(z),a(I.value,I.meta)}},h,g,{itemBehaviours:QT(I.meta,g,P.none()),cardText:{matchText:s,highlightOn:b}})));case"autocompleteitem":default:return j8(M).fold(Jf,I=>P.some(Uz(I,s,C,"normal",a,h,g,E)))}}))},O_=(t,s,a,u,h,g)=>{const b=g2(s),C=ii(Ue(s,I=>{const z=te=>h?!Gn(te,"text"):b,Q=te=>B2(te,a,u,z(te),h);return I.type==="nestedmenuitem"&&I.getSubmenuItems().length<=0?Q({...I,enabled:!1}):Q(I)})),E=iV(g);return(h?I8:$T)(t,b,C,1,E)},$2=t=>Jm.singleData(t.value,t),fV=(t,s,a,u)=>{const h=N2(s,u),g=Ap(u);return{data:$2({...t,movement:h,menuBehaviours:mv.unnamedEvents(s!=="auto"?[]:[$s((b,C)=>{YT(b,4,g.item).each(({numColumns:E,numRows:M})=>{bn.setGridSize(b,M,E)})})])}),menu:{markers:Ap(u),fakeFocus:a===A_.ContentFocus}}},mV=t=>ew.create(pt.fromDom(t.startContainer),t.startOffset,pt.fromDom(t.endContainer),t.endOffset),hV={register:(t,s)=>{const a=Kt("autocompleter"),u=un(!1),h=un(!1),g=cs(),b=la(Ps.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:a}},components:[],fireDismissalEventInstead:{},inlineBehaviours:At([jn("dismissAutocompleter",[mt(Vh(),()=>z()),mt(Eg(),(ge,ke)=>{vr(ke.event.target,"id").each(Ae=>vn(pt.fromDom(t.getBody()),"aria-activedescendant",Ae))})])]),lazySink:s.getSink})),C=()=>Ps.isOpen(b),E=h.get,M=()=>{if(C()){Ps.hide(b),t.dom.remove(a,!1);const ge=pt.fromDom(t.getBody());vr(ge,"aria-owns").filter(ke=>ke===a).each(()=>{W(ge,"aria-owns"),W(ge,"aria-activedescendant")})}},I=()=>Ps.getContent(b).bind(ge=>oe(ge.components(),0)),z=()=>t.execCommand("mceAutocompleterClose"),Q=ge=>{const ke=bt(ge,Ae=>P.from(Ae.columns)).getOr(1);return $e(ge,Ae=>{const ft=Ae.items;return yv(ft,Ae.matchText,(rt,Ht)=>{const Gt={hide:()=>z(),reload:ut=>{M(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:ut})}};t.execCommand("mceAutocompleterRefreshActiveRange"),g.get().each(ut=>{u.set(!0),Ae.onAction(Gt,ut,rt,Ht),u.set(!1)})},ke,wu.BUBBLE_TO_SANDBOX,s,Ae.highlightOn)})},te=(ge,ke)=>{const Ae=bt(ge,ft=>P.from(ft.columns)).getOr(1);Ps.showMenuAt(b,{anchor:{type:"selection",getSelection:()=>g.get().map(mV),root:pt.fromDom(t.getBody())}},fV($T("autocompleter-value",!0,ke,Ae,{menuType:"normal"}),Ae,A_.ContentFocus,"normal")),I().each(Ho.highlightFirst)},le=ge=>{const ke=Q(ge);ke.length>0?(te(ge,ke),vn(pt.fromDom(t.getBody()),"aria-owns",a),t.inline||de()):M()},de=()=>{t.dom.get(a)&&t.dom.remove(a,!1);const ge=t.getDoc().documentElement,ke=t.selection.getNode(),Ae=My(b.element);oo(Ae,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${ke.offsetTop}px`,left:`${ke.offsetLeft}px`}),t.dom.add(ge,Ae.dom),Zs(Ae,'[role="menu"]').each(ft=>{Zn(ft,"position"),Zn(ft,"max-height")})};t.on("AutocompleterStart",({lookupData:ge})=>{h.set(!0),u.set(!1),le(ge)}),t.on("AutocompleterUpdate",({lookupData:ge})=>le(ge)),t.on("AutocompleterUpdateActiveRange",({range:ge})=>g.set(ge)),t.on("AutocompleterEnd",()=>{M(),h.set(!1),u.set(!1),g.clear()});const Ne={cancelIfNecessary:z,isMenuOpen:C,isActive:E,isProcessingAction:u.get,getMenu:I};pP.setup(Ne,t)}},F1=(t,s,a)=>zd(t,s,a).isSome(),GN=(t,s)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...g)=>{a=setTimeout(()=>{t.apply(null,g),a=null},s)}}},XN=5,pV=400,YN=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?P.none():P.some(s.touches[0])},gV=(t,s)=>{const a=Math.abs(t.clientX-s.x),u=Math.abs(t.clientY-s.y);return a>XN||u>XN},vV=t=>{const s=cs(),a=un(!1),u=GN(M=>{t.triggerEvent(aa(),M),a.set(!0)},pV),h=M=>(YN(M).each(I=>{u.cancel();const z={x:I.clientX,y:I.clientY,target:M.target};u.schedule(M),a.set(!1),s.set(z)}),P.none()),g=M=>(u.cancel(),YN(M).each(I=>{s.on(z=>{gV(I,z)&&s.clear()})}),P.none()),b=M=>{u.cancel();const I=z=>Uo(z.target,M.target);return s.get().filter(I).map(z=>a.get()?(M.prevent(),!1):t.triggerEvent(Gu(),M))},C=Pf([{key:Nd(),value:h},{key:py(),value:g},{key:Am(),value:b}]);return{fireIfReady:(M,I)=>_t(C,I).bind(z=>z(M))}},KN=t=>t.raw.which===wM[0]&&!Ot(["input","textarea"],Xr(t.target))&&!F1(t.target,'[contenteditable="true"]'),wv=(t,s)=>{const a={stopBackspace:!0,...s},u=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],h=vV(a),g=Ue(u.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),te=>za(t,te,le=>{h.fireIfReady(le,te).each(Ne=>{Ne&&le.kill()}),a.triggerEvent(te,le)&&le.kill()})),b=cs(),C=za(t,"paste",te=>{h.fireIfReady(te,"paste").each(de=>{de&&te.kill()}),a.triggerEvent("paste",te)&&te.kill(),b.set(setTimeout(()=>{a.triggerEvent(yy(),te)},0))}),E=za(t,"keydown",te=>{a.triggerEvent("keydown",te)?te.kill():a.stopBackspace&&KN(te)&&te.prevent()}),M=za(t,"focusin",te=>{a.triggerEvent("focusin",te)&&te.kill()}),I=cs(),z=za(t,"focusout",te=>{a.triggerEvent("focusout",te)&&te.kill(),I.set(setTimeout(()=>{a.triggerEvent(wb(),te)},0))});return{unbind:()=>{wt(g,te=>{te.unbind()}),E.unbind(),M.unbind(),z.unbind(),C.unbind(),b.on(clearTimeout),I.on(clearTimeout)}}},ih=(t,s)=>{const a=_t(t,"target").getOr(s);return un(a)},bV=(t,s)=>{const a=un(!1),u=un(!1);return{stop:()=>{a.set(!0)},cut:()=>{u.set(!0)},isStopped:a.get,isCut:u.get,event:t,setSource:s.set,getSource:s.get}},JN=t=>{const s=un(!1);return{stop:()=>{s.set(!0)},cut:F,isStopped:s.get,isCut:Me,event:t,setSource:xe("Cannot set source of a broadcasted event"),getSource:xe("Cannot get source of a broadcasted event")}},Sv=bl.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),H1=(t,s,a,u,h,g)=>{const b=t(s,u),C=bV(a,h);return b.fold(()=>(g.logEventNoHandlers(s,u),Sv.complete()),E=>{const M=E.descHandler;return Lb(M)(C),C.isStopped()?(g.logEventStopped(s,E.element,M.purpose),Sv.stopped()):C.isCut()?(g.logEventCut(s,E.element,M.purpose),Sv.complete()):xa(E.element).fold(()=>(g.logNoParent(s,E.element,M.purpose),Sv.complete()),z=>(g.logEventResponse(s,E.element,M.purpose),Sv.resume(z)))})},QN=(t,s,a,u,h,g)=>H1(t,s,a,u,h,g).fold(Oe,b=>QN(t,s,a,b,h,g),Me),z1=(t,s,a,u,h)=>{const g=ih(a,u);return H1(t,s,a,u,g,h)},V1=(t,s,a)=>{const u=JN(s);return wt(t,h=>{const g=h.descHandler;Lb(g)(u)}),u.isStopped()},yV=(t,s,a,u)=>eL(t,s,a,a.target,u),eL=(t,s,a,u,h)=>{const g=ih(a,u);return QN(t,s,a,u,g,h)},wV=(t,s)=>({element:t,descHandler:s}),SV=(t,s)=>({id:t,descHandler:s}),xV=()=>{const t={},s=(b,C,E)=>{tn(E,(M,I)=>{const z=t[I]!==void 0?t[I]:{};z[C]=Nb(M,b),t[I]=z})},a=(b,C)=>Mb(C).bind(E=>_t(b,E)).map(E=>wV(C,E));return{registerId:s,unregisterId:b=>{tn(t,(C,E)=>{Gn(C,b)&&delete C[b]})},filterByType:b=>_t(t,b).map(C=>ls(C,(E,M)=>SV(M,E))).getOr([]),find:(b,C,E)=>_t(t,C).bind(M=>wg(E,I=>a(M,I),b))}},CV=()=>{const t=xV(),s={},a=M=>{const I=M.element;return Mb(I).getOrThunk(()=>DF("uid-",M.element))},u=(M,I)=>{const z=s[I];if(z===M)g(M);else throw new Error('The tagId "'+I+'" is already used by: '+Pm(z.element)+`
Cannot use it for: `+Pm(M.element)+`
The conflicting element is`+(oa(z.element)?" ":" not ")+"already in the DOM")},h=M=>{const I=a(M);Ws(s,I)&&u(M,I);const z=[M];t.registerId(z,I,M.events),s[I]=M},g=M=>{Mb(M.element).each(I=>{delete s[I],t.unregisterId(I)})};return{find:(M,I,z)=>t.find(M,I,z),filter:M=>t.filterByType(M),register:h,unregister:g,getById:M=>_t(s,M)}},sd=Al({name:"Container",factory:t=>{const{attributes:s,...a}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...a},components:t.components,behaviours:qb(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[Ie("components",[]),xi("containerBehaviours",[]),Ie("events",{}),Ie("domModification",{}),Ie("eventOrder",{})]}),U1=t=>{const s=ge=>xa(t.element).fold(Oe,ke=>Uo(ge,ke)),a=CV(),u=(ge,ke)=>a.find(s,ge,ke),h=wv(t.element,{triggerEvent:(ge,ke)=>Nm(ge,ke.target,Ae=>yV(u,ge,ke,Ae))}),g={debugInfo:ie("real"),triggerEvent:(ge,ke,Ae)=>{Nm(ge,ke,ft=>eL(u,ge,Ae,ke,ft))},triggerFocus:(ge,ke)=>{Mb(ge).fold(()=>{Oc(ge)},Ae=>{Nm(Nf(),ge,ft=>(z1(u,Nf(),{originator:ke,kill:F,prevent:F,target:ge},ge,ft),!1))})},triggerEscape:(ge,ke)=>{g.triggerEvent("keydown",ge.element,ke.event)},getByUid:ge=>de(ge),getByDom:ge=>Ne(ge),build:la,buildOrPatch:Fy,addToGui:ge=>{E(ge)},removeFromGui:ge=>{M(ge)},addToWorld:ge=>{b(ge)},removeFromWorld:ge=>{C(ge)},broadcast:ge=>{Q(ge)},broadcastOn:(ge,ke)=>{te(ge,ke)},broadcastEvent:(ge,ke)=>{le(ge,ke)},isConnected:Oe},b=ge=>{ge.connect(g),Ar(ge.element)||(a.register(ge),wt(ge.components(),b),g.triggerEvent(Sy(),ge.element,{target:ge.element}))},C=ge=>{Ar(ge.element)||(wt(ge.components(),C),a.unregister(ge)),ge.disconnect()},E=ge=>{cp(t,ge)},M=ge=>{Wf(ge)},I=()=>{h.unbind(),Ta(t.element)},z=ge=>{const ke=a.filter(Lf());wt(ke,Ae=>{const ft=Ae.descHandler;Lb(ft)(ge)})},Q=ge=>{z({universal:!0,data:ge})},te=(ge,ke)=>{z({universal:!1,channels:ge,data:ke})},le=(ge,ke)=>{const Ae=a.filter(ge);return V1(Ae,ke)},de=ge=>a.getById(ge).fold(()=>Xn.error(new Error('Could not find component with uid: "'+ge+'" in system.')),Xn.value),Ne=ge=>{const ke=Mb(ge).getOr("not found");return de(ke)};return b(t),{root:t,element:t.element,destroy:I,add:E,remove:M,getByUid:de,getByDom:Ne,addToWorld:b,removeFromWorld:C,broadcast:Q,broadcastOn:te,broadcastEvent:le}},EV=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ue(t.items,s.interpreter)}),TV=ie([Ie("prefix","form-field"),xi("fieldBehaviours",[ko,Xt])]),_V=ie([Ql({schema:[it("dom")],name:"label"}),Ql({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[it("text")],name:"aria-descriptor"}),Ji({factory:{sketch:t=>{const s=wx(t,["factory"]);return t.factory.sketch(s)}},schema:[it("factory")],name:"field"})]),tL=(t,s,a,u)=>{const h=Ci(t.fieldBehaviours,[ko.config({find:C=>kt(C,t,"field")}),Xt.config({store:{mode:"manual",getValue:C=>ko.getCurrent(C).bind(Xt.getValue),setValue:(C,E)=>{ko.getCurrent(C).each(M=>{Xt.setValue(M,E)})}}})]),g=Bs([$s((C,E)=>{const M=uM(C,t,["label","field","aria-descriptor"]);M.field().each(I=>{const z=Kt(t.prefix);M.label().each(Q=>{vn(Q.element,"for",z),vn(I.element,"id",z)}),M["aria-descriptor"]().each(Q=>{const te=Kt(t.prefix);vn(Q.element,"id",te),vn(I.element,"aria-describedby",te)})})})]),b={getField:C=>kt(C,t,"field"),getLabel:C=>kt(C,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:h,events:g,apis:b}},qo=Da({name:"FormField",configFields:TV(),partFields:_V(),factory:tL,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var kV=tinymce.util.Tools.resolve("tinymce.html.Entities");const W1=(t,s,a,u)=>{const h=AV(t,s,a,u);return qo.sketch(h)},nL=(t,s)=>W1(t,s,[],[]),AV=(t,s,a,u)=>({dom:oL(a),components:t.toArray().concat([s]),fieldBehaviours:At(u)}),OV=()=>oL([]),oL=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),ah=(t,s)=>qo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[tr(s.translate(t))]}),Qa=Kt("form-component-change"),xv=Kt("form-close"),tm=Kt("form-cancel"),Zd=Kt("form-action"),j1=Kt("form-submit"),M_=Kt("form-block"),P_=Kt("form-unblock"),sL=Kt("form-tabchange"),N_=Kt("form-resize"),Cv=(t,s,a)=>{const u=t.label.map(te=>ah(te,s)),h=s.icons(),g=te=>{var le;return(le=h[te])!==null&&le!==void 0?le:te},b=te=>(le,de)=>{zd(de.event.target,"[data-collection-item-value]").each(Ne=>{te(le,de,Ne,Mn(Ne,"data-collection-item-value"))})},C=(te,le)=>{const de=Ue(le,ke=>{const Ae=oc.translate(ke.text),ft=t.columns===1?`<div class="tox-collection__item-label">${Ae}</div>`:"",rt=`<div class="tox-collection__item-icon">${g(ke.icon)}</div>`,Ht={_:" "," - ":" ","-":" "},Gt=Ae.replace(/\_| \- |\-/g,Qt=>Ht[Qt]),ut=s.isDisabled()?" tox-collection__item--state-disabled":"";return`<div data-mce-tooltip="${Gt}" class="tox-collection__item${ut}" tabindex="-1" data-collection-item-value="${kV.encodeAllRaw(ke.value)}" aria-label="${Gt}">${rt}${ft}</div>`}),Ne=t.columns!=="auto"&&t.columns>1?rn(de,t.columns):[de],ge=Ue(Ne,ke=>`<div class="tox-collection__group">${ke.join("")}</div>`);Mm(te.element,ge.join(""))},E=b((te,le,de,Ne)=>{le.stop(),s.isDisabled()||Sn(te,Zd,{name:t.name,value:Ne})}),M=[mt(Ld(),b((te,le,de)=>{Oc(de)})),mt(zh(),E),mt(Gu(),E),mt(ju(),b((te,le,de)=>{Zs(te.element,"."+nh).each(Ne=>{er(Ne,nh)}),Nr(de,nh)})),mt(vy(),b(te=>{Zs(te.element,"."+nh).each(le=>{er(le,nh),Wy(le)})})),$d(b((te,le,de,Ne)=>{Sn(te,Zd,{name:t.name,value:Ne})}))],I=(te,le)=>Ue(ua(te.element,".tox-collection__item"),le),z=qo.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:He},behaviours:At([On.config({disabled:s.isDisabled,onDisabled:te=>{I(te,le=>{Nr(le,"tox-collection__item--state-disabled"),vn(le,"aria-disabled",!0)})},onEnabled:te=>{I(te,le=>{er(le,"tox-collection__item--state-disabled"),W(le,"aria-disabled")})}}),ni(),In.config({}),nr.config({...s.tooltips.getConfig({tooltipText:"",onShow:te=>{Zs(te.element,"."+nh+"[data-mce-tooltip]").each(le=>{vr(le,"data-mce-tooltip").each(de=>{nr.setComponents(te,s.tooltips.getComponents({tooltipText:de}))})})}}),mode:"children-keyboard-focus",anchor:te=>({type:"node",node:Zs(te.element,"."+nh).orThunk(()=>Ya(".tox-collection__item")),root:te.element,layouts:{onLtr:ie([ti,di,ei,Ii,jr,Ki]),onRtl:ie([ti,di,ei,Ii,jr,Ki])},bubble:hu(0,-2,{})})}),Xt.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(te,le)=>{C(te,le),t.columns==="auto"&&YT(te,5,"tox-collection__item").each(({numRows:de,numColumns:Ne})=>{bn.setGridSize(te,de,Ne)}),Qn(te,N_)}}),ys.config({}),bn.config(Mz(t.columns,"normal")),jn("collection-events",M)]),eventOrder:{[kc()]:["disabling","alloy.base.behaviour","collection-events"],[ju()]:["collection-events","tooltipping"]}});return W1(u,z,["tox-form__group--collection"],[])},DV=["input","textarea"],rL=t=>{const s=Xr(t);return Ot(DV,s)},iL=(t,s)=>{const a=s.getRoot(t).getOr(t.element);er(a,s.invalidClass),s.notify.each(u=>{rL(t.element)&&vn(t.element,"aria-invalid",!1),u.getContainer(t).each(h=>{Mm(h,u.validHtml)}),u.onValid(t)})},Z1=(t,s,a,u)=>{const h=s.getRoot(t).getOr(t.element);Nr(h,s.invalidClass),s.notify.each(g=>{rL(t.element)&&vn(t.element,"aria-invalid",!0),g.getContainer(t).each(b=>{Mm(b,u)}),g.onInvalid(t,u)})},rc=(t,s,a)=>s.validator.fold(()=>Bi.pure(Xn.value(!0)),u=>u.validate(t)),q1=(t,s,a)=>(s.notify.each(u=>{u.onValidate(t)}),rc(t,s).map(u=>t.getSystem().isConnected()?u.fold(h=>(Z1(t,s,a,h),Xn.error(h)),h=>(iL(t,s),Xn.value(h))):Xn.error("No longer in system")));var PV=Object.freeze({__proto__:null,markValid:iL,markInvalid:Z1,query:rc,run:q1,isInvalid:(t,s)=>{const a=s.getRoot(t).getOr(t.element);return Cl(a,s.invalidClass)}}),NV=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(a=>Bs([mt(a.onEvent,u=>{q1(u,t,s).get(He)})].concat(a.validateOnLoad?[$s(u=>{q1(u,t,s).get(F)})]:[]))).getOr({})}),LV=[it("invalidClass"),Ie("getRoot",P.none),Ds("notify",[Ie("aria","alert"),Ie("getContainer",P.none),Ie("validHtml",""),Eo("onValid"),Eo("onInvalid"),Eo("onValidate")]),Ds("validator",[it("validate"),Ie("onEvent","input"),Ie("validateOnLoad",!0)])];const rd=Ni({fields:LV,name:"invalidating",active:NV,apis:PV,extra:{validation:t=>s=>{const a=Xt.getValue(s);return Bi.pure(t(a))}}});var RV=Object.freeze({__proto__:null,events:()=>Bs([uD(tF(),Oe)]),exhibit:()=>wl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const Ev=Ni({fields:[],name:"unselecting",active:RV}),BV=(t,s)=>zc.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:At([xu.button(s.providers.isDisabled),ni(),Ev.config({}),ys.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:a=>Bi.nu(u=>t.fetch(u)).map(u=>P.from($2(Us(S_(Kt("menu-value"),u,h=>{t.onItemAction(a,h)},t.columns,t.presets,wu.CLOSE_ON_EXECUTE,Me,s.providers),{movement:N2(t.columns,t.presets)})))),parts:{menu:E1(!1,1,t.presets)}}),L_=Kt("color-input-change"),I_=Kt("color-swatch-change"),R_=Kt("color-picker-cancel"),$V=(t,s,a,u)=>{const h=qo.parts.field({factory:Op,inputClasses:["tox-textfield"],data:u,onSetValue:M=>rd.run(M).get(F),inputBehaviours:At([On.config({disabled:s.providers.isDisabled}),ni(),ys.config({}),rd.config({invalidClass:"tox-textbox-field-invalid",getRoot:M=>na(M.element),notify:{onValid:M=>{const I=Xt.getValue(M);Sn(M,L_,{color:I})}},validator:{validateOnLoad:!1,validate:M=>{const I=Xt.getValue(M);if(I.length===0)return Bi.pure(Xn.value(!0));{const z=pt.fromTag("span");gt(z,"background-color",I);const Q=vs(z,"background-color").fold(()=>Xn.error("blah"),te=>Xn.value(I));return Bi.pure(Q)}}}})]),selectOnFocus:!1}),g=t.label.map(M=>ah(M,s.providers)),b=(M,I)=>{Sn(M,I_,{value:I})},C=(M,I)=>{E.getOpt(M).each(z=>{I==="custom"?a.colorPicker(Q=>{Q.fold(()=>Qn(z,R_),te=>{b(z,te),xN(t.storageKey,te)})},"#ffffff"):I==="remove"?b(z,""):b(z,I)})},E=Bo(BV({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[jr,ei,ti],onLtr:()=>[ei,jr,ti]},components:[],fetch:DN(a.getColors(t.storageKey),t.storageKey,a.hasCustomColors()),columns:a.getColorCols(t.storageKey),presets:"color",onItemAction:C},s));return qo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:g.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[h,E.asSpec()]}]),fieldBehaviours:At([jn("form-field-events",[mt(L_,(M,I)=>{E.getOpt(M).each(z=>{gt(z.element,"background-color",I.event.color)}),Sn(M,Qa,{name:t.name})}),mt(I_,(M,I)=>{qo.getField(M).each(z=>{Xt.setValue(z,I.event.value),ko.getCurrent(M).each(Pn.focus)})}),mt(R_,(M,I)=>{qo.getField(M).each(z=>{ko.getCurrent(M).each(Pn.focus)})})])])})},FV=Ql({schema:[it("dom")],name:"label"}),lh=t=>Ql({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),u=>({events:Bs([Ty(Nd(),(h,g,b)=>u(h,b),[s]),Ty(yl(),(h,g,b)=>u(h,b),[s]),Ty(gy(),(h,g,b)=>{b.mouseIsDown.get()&&u(h,b)},[s])])}))}),HV=lh("top-left"),zV=lh("top"),VV=lh("top-right"),B_=lh("right"),UV=lh("bottom-right"),WV=lh("bottom"),aL=lh("bottom-left"),jV=lh("left"),ZV=Ji({name:"thumb",defaults:ie({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Bs([Wh(Nd(),t,"spectrum"),Wh(py(),t,"spectrum"),Wh(Am(),t,"spectrum"),Wh(yl(),t,"spectrum"),Wh(gy(),t,"spectrum"),Wh(xx(),t,"spectrum")])})}),F2=t=>Gm(t.event),qV=Ji({schema:[ao("mouseIsDown",()=>un(!1))],name:"spectrum",overrides:t=>{const a=t.model.manager,u=(h,g)=>a.getValueFromEvent(g).map(b=>a.setValueFrom(h,t,b));return{behaviours:At([bn.config({mode:"special",onLeft:(h,g)=>a.onLeft(h,t,F2(g)),onRight:(h,g)=>a.onRight(h,t,F2(g)),onUp:(h,g)=>a.onUp(h,t,F2(g)),onDown:(h,g)=>a.onDown(h,t,F2(g))}),ys.config({}),Pn.config({})]),events:Bs([mt(Nd(),u),mt(py(),u),mt(yl(),u),mt(gy(),(h,g)=>{t.mouseIsDown.get()&&u(h,g)})])}}});var GV=[FV,jV,B_,zV,WV,HV,VV,aL,UV,ZV,qV];const G1=ie("slider.change.value"),lL=t=>t.type.indexOf("touch")!==-1,H2=t=>{const s=t.event.raw;if(lL(s)){const a=s;return a.touches!==void 0&&a.touches.length===1?P.some(a.touches[0]).map(u=>Os(u.clientX,u.clientY)):P.none()}else{const a=s;return a.clientX!==void 0?P.some(a).map(u=>Os(u.clientX,u.clientY)):P.none()}},XV="top",YV="right",KV="bottom",JV="left",$p=t=>t.model.minX,Fp=t=>t.model.minY,X1=t=>t.model.minX-1,Y1=t=>t.model.minY-1,ch=t=>t.model.maxX,nm=t=>t.model.maxY,z2=t=>t.model.maxX+1,K1=t=>t.model.maxY+1,cL=(t,s,a)=>s(t)-a(t),$_=t=>cL(t,ch,$p),F_=t=>cL(t,nm,Fp),uL=t=>$_(t)/2,V2=t=>F_(t)/2,ic=(t,s)=>s?t.stepSize*t.speedMultiplier:t.stepSize,dL=t=>t.snapToGrid,Tv=t=>t.snapStart,fL=t=>t.rounded,_v=(t,s)=>t[s+"-edge"]!==void 0,mL=t=>_v(t,JV),hL=t=>_v(t,YV),pL=t=>_v(t,XV),H_=t=>_v(t,KV),om=t=>t.model.value.get(),qd=(t,s)=>({x:t,y:s}),ac=(t,s)=>{Sn(t,G1(),{value:s})},z_=(t,s)=>{ac(t,qd(X1(s),Y1(s)))},QV=(t,s)=>{ac(t,Y1(s))},lc=(t,s)=>{ac(t,qd(uL(s),Y1(s)))},e9=(t,s)=>{ac(t,qd(z2(s),Y1(s)))},t9=(t,s)=>{ac(t,z2(s))},gL=(t,s)=>{ac(t,qd(z2(s),V2(s)))},vL=(t,s)=>{ac(t,qd(z2(s),K1(s)))},n9=(t,s)=>{ac(t,K1(s))},o9=(t,s)=>{ac(t,qd(uL(s),K1(s)))},s9=(t,s)=>{ac(t,qd(X1(s),K1(s)))},r9=(t,s)=>{ac(t,X1(s))},i9=(t,s)=>{ac(t,qd(X1(s),V2(s)))},V_=(t,s,a,u)=>t<s?t:t>a?a:t===s?s-1:Math.max(s,t-u),U_=(t,s,a,u)=>t>a?t:t<s?s:t===a?a+1:Math.min(a,t+u),W_=(t,s,a)=>Math.max(s,Math.min(a,t)),a9=(t,s,a,u,h)=>h.fold(()=>{const g=t-s,b=Math.round(g/u)*u;return W_(s+b,s-1,a+1)},g=>{const b=(t-g)%u,C=Math.round(b/u),E=Math.floor((t-g)/u),M=Math.floor((a-g)/u),I=Math.min(M,E+C),z=g+I*u;return Math.max(g,z)}),l9=(t,s,a)=>Math.min(a,Math.max(t,s))-s,bL=t=>{const{min:s,max:a,range:u,value:h,step:g,snap:b,snapStart:C,rounded:E,hasMinEdge:M,hasMaxEdge:I,minBound:z,maxBound:Q,screenRange:te}=t,le=M?s-1:s,de=I?a+1:a;if(h<z)return le;if(h>Q)return de;{const Ne=l9(h,z,Q),ge=W_(Ne/te*u+s,le,de);return b&&ge>=s&&ge<=a?a9(ge,s,a,g,C):E?Math.round(ge):ge}},j_=t=>{const{min:s,max:a,range:u,value:h,hasMinEdge:g,hasMaxEdge:b,maxBound:C,maxOffset:E,centerMinEdge:M,centerMaxEdge:I}=t;return h<s?g?0:M:h>a?b?C:I:(h-s)/u*E},J1="top",Z_="right",q_="bottom",U2="left",yL="width",G_="height",Gd=t=>t.element.dom.getBoundingClientRect(),cc=(t,s)=>t[s],sm=t=>{const s=Gd(t);return cc(s,U2)},X_=t=>{const s=Gd(t);return cc(s,Z_)},Q1=t=>{const s=Gd(t);return cc(s,J1)},Y_=t=>{const s=Gd(t);return cc(s,q_)},wL=t=>{const s=Gd(t);return cc(s,yL)},SL=t=>{const s=Gd(t);return cc(s,G_)},e0=(t,s,a)=>(t+s)/2-a,xL=(t,s)=>{const a=Gd(t),u=Gd(s),h=cc(a,U2),g=cc(a,Z_),b=cc(u,U2);return e0(h,g,b)},CL=(t,s)=>{const a=Gd(t),u=Gd(s),h=cc(a,J1),g=cc(a,q_),b=cc(u,J1);return e0(h,g,b)},t0=(t,s)=>{Sn(t,G1(),{value:s})},W2=(t,s,a)=>{const u={min:$p(s),max:ch(s),range:$_(s),value:a,step:ic(s),snap:dL(s),snapStart:Tv(s),rounded:fL(s),hasMinEdge:mL(s),hasMaxEdge:hL(s),minBound:sm(t),maxBound:X_(t),screenRange:wL(t)};return bL(u)},K_=(t,s,a)=>{const u=W2(t,s,a);return t0(t,u),u},EL=(t,s)=>{const a=$p(s);t0(t,a)},Ua=(t,s)=>{const a=ch(s);t0(t,a)},TL=(t,s,a,u)=>{const g=(t>0?U_:V_)(om(a),$p(a),ch(a),ic(a,u));return t0(s,g),P.some(g)},_L=t=>(s,a,u)=>TL(t,s,a,u).map(Oe),c9=t=>H2(t).map(a=>a.left),kL=(t,s,a,u,h)=>{const b=wL(t),C=u.bind(I=>P.some(xL(I,t))).getOr(0),E=h.bind(I=>P.some(xL(I,t))).getOr(b),M={min:$p(s),max:ch(s),range:$_(s),value:a,hasMinEdge:mL(s),hasMaxEdge:hL(s),minBound:sm(t),minOffset:0,maxBound:X_(t),maxOffset:b,centerMinEdge:C,centerMaxEdge:E};return j_(M)},J_=(t,s,a,u,h,g)=>{const b=kL(s,g,a,u,h);return sm(s)-sm(t)+b},u9=(t,s,a,u)=>{const h=om(a),g=J_(t,u.getSpectrum(t),h,u.getLeftEdge(t),u.getRightEdge(t),a),b=ki(s.element)/2;gt(s.element,"left",g-b+"px")},d9=_L(-1),AL=_L(1),Xd=P.none,Q_=P.none,OL={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some(t9),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some(r9)};var j2=Object.freeze({__proto__:null,setValueFrom:K_,setToMin:EL,setToMax:Ua,findValueOfOffset:W2,getValueFromEvent:c9,findPositionOfValue:J_,setPositionFromValue:u9,onLeft:d9,onRight:AL,onUp:Xd,onDown:Q_,edgeActions:OL});const kv=(t,s)=>{Sn(t,G1(),{value:s})},ek=(t,s,a)=>{const u={min:Fp(s),max:nm(s),range:F_(s),value:a,step:ic(s),snap:dL(s),snapStart:Tv(s),rounded:fL(s),hasMinEdge:pL(s),hasMaxEdge:H_(s),minBound:Q1(t),maxBound:Y_(t),screenRange:SL(t)};return bL(u)},f9=(t,s,a)=>{const u=ek(t,s,a);return kv(t,u),u},m9=(t,s)=>{const a=Fp(s);kv(t,a)},h9=(t,s)=>{const a=nm(s);kv(t,a)},p9=(t,s,a,u)=>{const g=(t>0?U_:V_)(om(a),Fp(a),nm(a),ic(a,u));return kv(s,g),P.some(g)},DL=t=>(s,a,u)=>p9(t,s,a,u).map(Oe),g9=t=>H2(t).map(a=>a.top),ML=(t,s,a,u,h)=>{const b=SL(t),C=u.bind(I=>P.some(CL(I,t))).getOr(0),E=h.bind(I=>P.some(CL(I,t))).getOr(b),M={min:Fp(s),max:nm(s),range:F_(s),value:a,hasMinEdge:pL(s),hasMaxEdge:H_(s),minBound:Q1(t),minOffset:0,maxBound:Y_(t),maxOffset:b,centerMinEdge:C,centerMaxEdge:E};return j_(M)},tk=(t,s,a,u,h,g)=>{const b=ML(s,g,a,u,h);return Q1(s)-Q1(t)+b},Yd=(t,s,a,u)=>{const h=om(a),g=tk(t,u.getSpectrum(t),h,u.getTopEdge(t),u.getBottomEdge(t),a),b=fs(s.element)/2;gt(s.element,"top",g-b+"px")},Z2=P.none,v9=P.none,b9=DL(-1),PL=DL(1),NL={"top-left":P.none(),top:P.some(QV),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some(n9),"bottom-left":P.none(),left:P.none()};var nk=Object.freeze({__proto__:null,setValueFrom:f9,setToMin:m9,setToMax:h9,findValueOfOffset:ek,getValueFromEvent:g9,findPositionOfValue:tk,setPositionFromValue:Yd,onLeft:Z2,onRight:v9,onUp:b9,onDown:PL,edgeActions:NL});const Hp=(t,s)=>{Sn(t,G1(),{value:s})},uh=(t,s)=>({x:t,y:s}),n0=(t,s,a)=>{const u=W2(t,s,a.left),h=ek(t,s,a.top),g=uh(u,h);return Hp(t,g),g},LL=(t,s,a,u,h)=>{const g=t>0?U_:V_,b=s?om(u).x:g(om(u).x,$p(u),ch(u),ic(u,h)),C=s?g(om(u).y,Fp(u),nm(u),ic(u,h)):om(u).y;return Hp(a,uh(b,C)),P.some(b)},o0=(t,s)=>(a,u,h)=>LL(t,s,a,u,h).map(Oe),IL=(t,s)=>{const a=$p(s),u=Fp(s);Hp(t,uh(a,u))},RL=(t,s)=>{const a=ch(s),u=nm(s);Hp(t,uh(a,u))},y9=t=>H2(t),w9=(t,s,a,u)=>{const h=om(a),g=J_(t,u.getSpectrum(t),h.x,u.getLeftEdge(t),u.getRightEdge(t),a),b=tk(t,u.getSpectrum(t),h.y,u.getTopEdge(t),u.getBottomEdge(t),a),C=ki(s.element)/2,E=fs(s.element)/2;gt(s.element,"left",g-C+"px"),gt(s.element,"top",b-E+"px")},S9=o0(-1,!1),x9=o0(1,!1),C9=o0(-1,!0),BL=o0(1,!0),$L={"top-left":P.some(z_),top:P.some(lc),"top-right":P.some(e9),right:P.some(gL),"bottom-right":P.some(vL),bottom:P.some(o9),"bottom-left":P.some(s9),left:P.some(i9)};var E9=Object.freeze({__proto__:null,setValueFrom:n0,setToMin:IL,setToMax:RL,getValueFromEvent:y9,setPositionFromValue:w9,onLeft:S9,onRight:x9,onUp:C9,onDown:BL,edgeActions:$L});const FL=[Ie("stepSize",1),Ie("speedMultiplier",10),Ie("onChange",F),Ie("onChoose",F),Ie("onInit",F),Ie("onDragStart",F),Ie("onDragEnd",F),Ie("snapToGrid",!1),Ie("rounded",!0),go("snapStart"),lo("model",_o("mode",{x:[Ie("minX",0),Ie("maxX",100),ao("value",t=>un(t.mode.minX)),it("getInitialValue"),ps("manager",j2)],y:[Ie("minY",0),Ie("maxY",100),ao("value",t=>un(t.mode.minY)),it("getInitialValue"),ps("manager",nk)],xy:[Ie("minX",0),Ie("maxX",100),Ie("minY",0),Ie("maxY",100),ao("value",t=>un({x:t.mode.minX,y:t.mode.minY})),it("getInitialValue"),ps("manager",E9)]})),xi("sliderBehaviours",[bn,Xt]),ao("mouseIsDown",()=>un(!1))],Vc=Da({name:"Slider",configFields:FL,partFields:GV,factory:(t,s,a,u)=>{const h=rt=>ec(rt,t,"thumb"),g=rt=>ec(rt,t,"spectrum"),b=rt=>kt(rt,t,"left-edge"),C=rt=>kt(rt,t,"right-edge"),E=rt=>kt(rt,t,"top-edge"),M=rt=>kt(rt,t,"bottom-edge"),I=t.model,z=I.manager,Q=(rt,Ht)=>{z.setPositionFromValue(rt,Ht,t,{getLeftEdge:b,getRightEdge:C,getTopEdge:E,getBottomEdge:M,getSpectrum:g})},te=(rt,Ht)=>{I.value.set(Ht);const Gt=h(rt);Q(rt,Gt)},le=(rt,Ht)=>{te(rt,Ht);const Gt=h(rt);return t.onChange(rt,Gt,Ht),P.some(!0)},de=rt=>{z.setToMin(rt,t)},Ne=rt=>{z.setToMax(rt,t)},ge=rt=>{const Ht=()=>{kt(rt,t,"thumb").each(ut=>{const Qt=I.value.get();t.onChoose(rt,ut,Qt)})},Gt=t.mouseIsDown.get();t.mouseIsDown.set(!1),Gt&&Ht()},ke=(rt,Ht)=>{Ht.stop(),t.mouseIsDown.set(!0),t.onDragStart(rt,h(rt))},Ae=(rt,Ht)=>{Ht.stop(),t.onDragEnd(rt,h(rt)),ge(rt)},ft=rt=>{kt(rt,t,"spectrum").map(bn.focusIn)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Ci(t.sliderBehaviours,[bn.config({mode:"special",focusIn:ft}),Xt.config({store:{mode:"manual",getValue:rt=>I.value.get(),setValue:te}}),Ka.config({channels:{[cw()]:{onReceive:ge}}})]),events:Bs([mt(G1(),(rt,Ht)=>{le(rt,Ht.event.value)}),$s((rt,Ht)=>{const Gt=I.getInitialValue();I.value.set(Gt);const ut=h(rt);Q(rt,ut);const Qt=g(rt);t.onInit(rt,ut,Qt,I.value.get())}),mt(Nd(),ke),mt(Am(),Ae),mt(yl(),(rt,Ht)=>{ft(rt),ke(rt,Ht)}),mt(xx(),Ae)]),apis:{resetToMin:de,resetToMax:Ne,setValue:te,refresh:Q},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,a)=>{t.setValue(s,a)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),zp=Kt("rgb-hex-update"),HL=Kt("slider-update"),ok=Kt("palette-update"),T9=(t,s)=>{const a=Vc.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),u=Vc.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return Vc.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ie(0)},components:[a,u],sliderBehaviours:At([Pn.config({})]),onChange:(h,g,b)=>{vn(h.element,"aria-valuenow",Math.floor(360-b*3.6)),Sn(h,HL,{value:b})}})},zL="form",_9=[xi("formBehaviours",[Xt])],VL=t=>"<alloy.field."+t+">",UL=t=>{const s=(()=>{const g=[];return{field:(C,E)=>(g.push(C),lE(zL,VL(C),E)),record:ie(g)}})(),a=t(s),u=s.record(),h=Ue(u,g=>Ji({name:g,pname:VL(g)}));return hp(zL,_9,h,WL,a)},k9=(t,s)=>t.fold(()=>Xn.error(s),Xn.value),WL=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Ci(t.formBehaviours,[Xt.config({store:{mode:"manual",getValue:a=>{const u=uE(a,t);return qt(u,(h,g)=>h().bind(b=>{const C=ko.getCurrent(b);return k9(C,new Error(`Cannot find a current component to extract the value from for form part '${g}': `+Pm(b.element)))}).map(Xt.getValue))},setValue:(a,u)=>{tn(u,(h,g)=>{kt(a,t,g).each(b=>{ko.getCurrent(b).each(C=>{Xt.setValue(C,h)})})})}}})]),apis:{getField:(a,u)=>kt(a,t,u).bind(ko.getCurrent)}}),dh={getField:Iy((t,s,a)=>t.getField(s,a)),sketch:UL},Kd=Kt("valid-input"),q2=Kt("invalid-input"),sk=Kt("validating-input"),G2="colorcustom.rgb.",rk={isEnabled:Oe,setEnabled:F,immediatelyShow:F,immediatelyHide:F},jL=(t,s,a,u,h,g)=>{const b=(de,Ne)=>{const ge=Ne.get();de!==ge.isEnabled()&&(ge.setEnabled(de),de?ge.immediatelyShow():ge.immediatelyHide())},C=(de,Ne,ge)=>rd.config({invalidClass:s("invalid"),notify:{onValidate:ke=>{Sn(ke,sk,{type:de})},onValid:ke=>{b(!1,ge),Sn(ke,Kd,{type:de,value:Xt.getValue(ke)})},onInvalid:ke=>{b(!0,ge),Sn(ke,q2,{type:de,value:Xt.getValue(ke)})}},validator:{validate:ke=>{const Ae=Xt.getValue(ke),ft=Ne(Ae)?Xn.value(!0):Xn.error(t("aria.input.invalid"));return Bi.pure(ft)},validateOnLoad:!1}}),E=(de,Ne,ge,ke,Ae)=>{const ft=un(rk),rt=t(G2+"range"),Ht=qo.parts.label({dom:{tag:"label",attributes:{"aria-label":ke}},components:[tr(ge)]}),Gt=qo.parts.field({data:Ae,factory:Op,inputAttributes:{type:"text",...Ne==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:At([C(Ne,de,ft),ys.config({}),nr.config({...h({tooltipText:"",onSetup:Io=>{ft.set({isEnabled:()=>nr.isEnabled(Io),setEnabled:en=>nr.setEnabled(Io,en),immediatelyShow:()=>nr.immediateOpenClose(Io,!0),immediatelyHide:()=>nr.immediateOpenClose(Io,!1)}),nr.setEnabled(Io,!1)},onShow:(Io,en)=>{nr.setComponents(Io,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[tr(t(Ne==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Io=>{rd.isInvalid(Io)&&rd.run(Io).get(F)}}),ut=Kt("aria-invalid"),Qt=Bo(g("invalid",P.some(ut),"warning")),Bt=Bo({dom:{tag:"div",classes:[s("invalid-icon")]},components:[Qt.asSpec()]}),on=[Ht,Gt,Bt.asSpec()],co=Ne!=="hex"?[qo.parts["aria-descriptor"]({text:rt})]:[],Ss=on.concat(co);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:Ss}},M=(de,Ne)=>{const ge=N1(Ne);return dh.getField(de,"hex").each(ke=>{Pn.isFocused(ke)||Xt.setValue(de,{hex:ge.value})}),ge},I=(de,Ne)=>{const ge=Ne.red,ke=Ne.green,Ae=Ne.blue;Xt.setValue(de,{red:ge,green:ke,blue:Ae})},z=Bo({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),Q=(de,Ne)=>{z.getOpt(de).each(ge=>{gt(ge.element,"background-color","#"+Ne.value)})};return Al({factory:()=>{const de={red:un(P.some(255)),green:un(P.some(255)),blue:un(P.some(255)),hex:un(P.some("ffffff"))},Ne=(en,Ct)=>{const zt=L1(Ct);I(en,zt),ft(zt)},ge=en=>de[en].get(),ke=(en,Ct)=>{de[en].set(Ct)},Ae=()=>ge("red").bind(en=>ge("green").bind(Ct=>ge("blue").map(zt=>Ip(en,Ct,zt,1)))),ft=en=>{const Ct=en.red,zt=en.green,Nn=en.blue;ke("red",P.some(Ct)),ke("green",P.some(zt)),ke("blue",P.some(Nn))},rt=(en,Ct)=>{const zt=Ct.event;zt.type!=="hex"?ke(zt.type,P.none()):u(en)},Ht=(en,Ct)=>{a(en);const zt=sN(Ct);ke("hex",P.some(zt.value));const Nn=L1(zt);I(en,Nn),ft(Nn),Sn(en,zp,{hex:zt}),Q(en,zt)},Gt=(en,Ct,zt)=>{const Nn=parseInt(zt,10);ke(Ct,P.some(Nn)),Ae().each(Cn=>{const gn=M(en,Cn);Sn(en,zp,{hex:gn}),Q(en,gn)})},ut=en=>en.type==="hex",Qt=(en,Ct)=>{const zt=Ct.event;ut(zt)?Ht(en,zt.value):Gt(en,zt.type,zt.value)},Bt=en=>({label:t(G2+en+".label"),description:t(G2+en+".description")}),on=Bt("red"),co=Bt("green"),Ss=Bt("blue"),Io=Bt("hex");return Us(dh.sketch(en=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[en.field("red",qo.sketch(E(i_,"red",on.label,on.description,255))),en.field("green",qo.sketch(E(i_,"green",co.label,co.description,255))),en.field("blue",qo.sketch(E(i_,"blue",Ss.label,Ss.description,255))),en.field("hex",qo.sketch(E(iN,"hex",Io.label,Io.description,"ffffff"))),z.asSpec()],formBehaviours:At([rd.config({invalidClass:s("form-invalid")}),jn("rgb-form-events",[mt(Kd,Qt),mt(q2,rt),mt(sk,rt)])])})),{apis:{updateHex:(en,Ct)=>{Xt.setValue(en,{hex:Ct.value}),Ne(en,Ct),Q(en,Ct)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(de,Ne,ge)=>{de.updateHex(Ne,ge)}},extraApis:{}})},X2=(t,s)=>{const a=Vc.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),u=Vc.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),h=(M,I)=>{const{width:z,height:Q}=M,te=M.getContext("2d");if(te===null)return;te.fillStyle=I,te.fillRect(0,0,z,Q);const le=te.createLinearGradient(0,0,z,0);le.addColorStop(0,"rgba(255,255,255,1)"),le.addColorStop(1,"rgba(255,255,255,0)"),te.fillStyle=le,te.fillRect(0,0,z,Q);const de=te.createLinearGradient(0,0,0,Q);de.addColorStop(0,"rgba(0,0,0,0)"),de.addColorStop(1,"rgba(0,0,0,1)"),te.fillStyle=de,te.fillRect(0,0,z,Q)},g=(M,I)=>{const z=M.components()[0].element.dom,Q=R1(I,100,100),te=mN(Q);h(z,hN(te))},b=(M,I)=>{const z=B1(L1(I));Vc.setValue(M,{x:z.saturation,y:100-z.value}),vn(M.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",z.saturation,z.value]))};return Al({factory:M=>{const I=ie({x:0,y:0}),z=(le,de,Ne)=>{re(Ne)||vn(le.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Math.floor(Ne.x),Math.floor(100-Ne.y)])),Sn(le,ok,{value:Ne})},Q=(le,de,Ne,ge)=>{h(Ne.element.dom,hN(pN))},te=At([ko.config({find:P.some}),Pn.config({})]);return Vc.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":t(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:I},rounded:!1,components:[a,u],onChange:z,onInit:Q,sliderBehaviours:te})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(M,I,z)=>{g(I,z)},setThumb:(M,I,z)=>{b(I,z)}},extraApis:{}})},ZL=(t,s,a,u)=>{const h=b=>{const C=jL(t,s,b.onValidHex,b.onInvalidHex,a,u),E=X2(t,s),M=ut=>(100-ut)/100*360,I=ut=>100-ut/360*100,z={paletteRgba:un(pN),paletteHue:un(0)},Q=Bo(T9(t,s)),te=Bo(E.sketch({})),le=Bo(C.sketch({})),de=(ut,Qt,Bt)=>{te.getOpt(ut).each(on=>{E.setHue(on,Bt)})},Ne=(ut,Qt)=>{le.getOpt(ut).each(Bt=>{C.updateHex(Bt,Qt)})},ge=(ut,Qt,Bt)=>{Q.getOpt(ut).each(on=>{Vc.setValue(on,I(Bt))})},ke=(ut,Qt)=>{te.getOpt(ut).each(Bt=>{E.setThumb(Bt,Qt)})},Ae=(ut,Qt)=>{const Bt=L1(ut);z.paletteRgba.set(Bt),z.paletteHue.set(Qt)},ft=(ut,Qt,Bt,on)=>{Ae(Qt,Bt),wt(on,co=>{co(ut,Qt,Bt)})},rt=()=>{const ut=[Ne];return(Qt,Bt)=>{const on=Bt.event.value,co=z.paletteHue.get(),Ss=R1(co,on.x,100-on.y),Io=$1(Ss);ft(Qt,Io,co,ut)}},Ht=()=>{const ut=[de,Ne];return(Qt,Bt)=>{const on=M(Bt.event.value),co=z.paletteRgba.get(),Ss=B1(co),Io=R1(on,Ss.saturation,Ss.value),en=$1(Io);ft(Qt,en,on,ut)}},Gt=()=>{const ut=[de,ge,ke];return(Qt,Bt)=>{const on=Bt.event.hex,co=d_(on);ft(Qt,on,co.hue,ut)}};return{uid:b.uid,dom:b.dom,components:[te.asSpec(),Q.asSpec(),le.asSpec()],behaviours:At([jn("colour-picker-events",[mt(zp,Gt()),mt(ok,rt()),mt(HL,Ht())]),ko.config({find:ut=>le.getOpt(ut)}),bn.config({mode:"acyclic"})])}};return Al({name:"ColourPicker",configFields:[it("dom"),Ie("onValidHex",F),Ie("onInvalidHex",F)],factory:h})},Cu={self:()=>ko.config({find:P.some}),memento:t=>ko.config({find:t.getOpt}),childAt:t=>ko.config({find:s=>pi(s.element,t).bind(a=>s.getSystem().getByDom(a).toOptional())})},O9=Y([Ie("preprocess",He),Ie("postprocess",He)]),D9=(t,s)=>{const a=Co("RepresentingConfigs.memento processors",O9,s);return Xt.config({store:{mode:"manual",getValue:u=>{const h=t.get(u),g=Xt.getValue(h);return a.postprocess(g)},setValue:(u,h)=>{const g=a.preprocess(h),b=t.get(u);Xt.setValue(b,g)}}})},fh=(t,s,a)=>Xt.config({store:{mode:"manual",...t.map(u=>({initialValue:u})).getOr({}),getValue:s,setValue:a}}),ik=(t,s,a)=>fh(t,u=>s(u.element),(u,h)=>a(u.element,h)),M9=t=>ik(t,Dy,Mm),Y2=t=>Xt.config({store:{mode:"memory",initialValue:t}}),P9={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},K2=t=>s=>T(s)?t.translate(P9[s]):t.translate(s),N9=(t,s,a)=>{const u=M=>"tox-"+M,h=(M,I,z=M,Q=M)=>sc(z,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+M],attributes:{title:s.translate(Q),"aria-live":"polite",...I.fold(()=>({}),te=>({id:te}))}},s.icons),g=ZL(K2(s),u,s.tooltips.getConfig,h),b=M=>{Sn(M,Zd,{name:"hex-valid",value:!0})},C=M=>{Sn(M,Zd,{name:"hex-valid",value:!1})},E=Bo(g.sketch({dom:{tag:"div",classes:[u("color-picker-container")],attributes:{role:"presentation"}},onValidHex:b,onInvalidHex:C}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:At([fh(a,M=>{const I=E.get(M);return ko.getCurrent(I).bind(te=>Xt.getValue(te).hex).map(te=>"#"+zs(te,"#")).getOr("")},(M,I)=>{const z=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,Q=P.from(z.exec(I)).bind(de=>oe(de,1)),te=E.get(M);ko.getCurrent(te).fold(()=>{console.log("Can not find form")},de=>{Xt.setValue(de,{hex:Q.getOr("")}),dh.getField(de,"hex").each(Ne=>{Qn(Ne,Id())})})}),Cu.self()])}};var L9=tinymce.util.Tools.resolve("tinymce.Resource");const ak=t=>Gn(t,"init"),qL=t=>{const s=cs(),a=Bo({dom:{tag:t.tag}}),u=cs(),h=!ak(t)&&t.onFocus.isSome()?[Pn.config({onFocus:g=>{t.onFocus.each(b=>{b(g.element.dom)})}}),ys.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:At([jn("custom-editor-events",[$s(g=>{a.getOpt(g).each(b=>{(ak(t)?t.init(b.element.dom):L9.load(t.scriptId,t.scriptUrl).then(C=>C(b.element.dom,t.settings))).then(C=>{u.on(E=>{C.setValue(E)}),u.clear(),s.set(C)})})})]),fh(P.none(),()=>s.get().fold(()=>u.get().getOr(""),g=>g.getValue()),(g,b)=>{s.get().fold(()=>u.set(b),C=>C.setValue(b))}),Cu.self()].concat(h)),components:[a.asSpec()]}};var rm=tinymce.util.Tools.resolve("tinymce.util.Tools");const I9=(t,s)=>{const a=rm.explode(s.getOption("images_file_types")),u=h=>jt(a,g=>ya(h.name.toLowerCase(),`.${g.toLowerCase()}`));return Dn(qe(t),u)},lk=(t,s,a)=>{const u=(Q,te)=>{te.stop()},h=Q=>(te,le)=>{wt(Q,de=>{de(te,le)})},g=(Q,te)=>{var le;if(!On.isDisabled(Q)){const de=te.event.raw;C(Q,(le=de.dataTransfer)===null||le===void 0?void 0:le.files)}},b=(Q,te)=>{const le=te.event.raw.target;C(Q,le.files)},C=(Q,te)=>{te&&(Xt.setValue(Q,I9(te,s)),Sn(Q,Qa,{name:t.name}))},E=Bo({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:At([jn("input-file-events",[Yu(zh()),Yu(Gu())])])}),M=Q=>({uid:Q.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:At([Y2(a.getOr([])),Cu.self(),On.config({}),eo.config({toggleClass:"dragenter",toggleOnExecute:!1}),jn("dropzone-events",[mt("dragenter",h([u,eo.toggle])),mt("dragleave",h([u,eo.toggle])),mt("dragover",u),mt("drop",h([u,g])),mt(Sg(),b)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[tr(s.translate("Drop an image here"))]},Ri.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[tr(s.translate("Browse for an image")),E.asSpec()],action:te=>{E.get(te).element.dom.click()},buttonBehaviours:At([ys.config({}),xu.button(s.isDisabled),ni()])})]}]}),I=t.label.map(Q=>ah(Q,s)),z=qo.parts.field({factory:{sketch:M}});return W1(I,z,["tox-form__group--stretched"],[])},R9=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:Ue(t.items,s.interpreter)}),GL=(t,s)=>{let a=null,u=null;return{cancel:()=>{L(a)||(clearTimeout(a),a=null,u=null)},throttle:(...b)=>{u=b,L(a)&&(a=setTimeout(()=>{const C=u;a=null,u=null,t.apply(null,C)},s))}}},B9=(t,s)=>{let a=null;return{cancel:()=>{L(a)||(clearTimeout(a),a=null)},throttle:(...g)=>{L(a)&&(a=setTimeout(()=>{a=null,t.apply(null,g)},s))}}},ck=(t,s)=>{let a=null;const u=()=>{L(a)||(clearTimeout(a),a=null)};return{cancel:u,throttle:(...g)=>{u(),a=setTimeout(()=>{a=null,t.apply(null,g)},s)}}},uk=Kt("alloy-fake-before-tabstop"),J2=Kt("alloy-fake-after-tabstop"),dk=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:At([Pn.config({ignore:!0}),ys.config({})])}),XL=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[dk([uk]),s,dk([J2])],behaviours:At([Cu.childAt(1)])}),YL=(t,s)=>{Sn(t,Zu(),{raw:{which:9,shiftKey:s}})},$9=(t,s)=>{const a=s.element;Cl(a,uk)?YL(t,!0):Cl(a,J2)&&YL(t,!1)},s0=t=>F1(t,["."+uk,"."+J2].join(","),Me),r0=Kt("update-dialog"),KL=Kt("update-title"),fk=Kt("update-body"),JL=Kt("update-footer"),QL=Kt("body-send-message"),Q2=Kt("dialog-focus-shifted"),mk=so().browser,i0=mk.isSafari(),F9=mk.isFirefox(),eI=i0||F9,H9=mk.isChromium(),z9=({scrollTop:t,scrollHeight:s,clientHeight:a})=>Math.ceil(t)+a>=s,eS=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),V9=(t,s)=>{const a=t.body;return P.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!H9&&!i0||ee(a)&&(a.scrollTop!==0||Math.abs(a.scrollHeight-a.clientHeight)>1))?a:t.documentElement)},tI=(t,s,a)=>{const u=t.dom;P.from(u.contentDocument).fold(a,h=>{let g=0;const b=V9(h,s).map(E=>(g=E.scrollTop,E)).forall(z9),C=()=>{const E=u.contentWindow;ee(E)&&(b?eS(E,"bottom"):!b&&eI&&g!==0&&eS(E,g))};i0&&u.addEventListener("load",C,{once:!0}),h.open(),h.write(s),h.close(),i0||C()})},a0=wn(eI,i0?500:200).map(t=>GL(tI,t)),hk=(t,s)=>{const a=un(t.getOr(""));return{getValue:u=>a.get(),setValue:(u,h)=>{if(a.get()!==h){const g=u.element,b=()=>vn(g,"srcdoc",h);s?a0.fold(ie(tI),C=>C.throttle)(g,h,b):b()}a.set(h)}}},U9=(t,s,a)=>{const u="tox-dialog__iframe",h=t.transparent?[]:[`${u}--opaque`],g=t.border?["tox-navobj-bordered"]:[],b={...t.label.map(z=>({title:z})).getOr({}),...a.map(z=>({srcdoc:z})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},C=hk(a,t.streamContent),E=t.label.map(z=>ah(z,s)),M=z=>XL(P.from(g),{uid:z.uid,dom:{tag:"iframe",attributes:b,classes:[u,...h]},behaviours:At([ys.config({}),Pn.config({}),fh(a,C.getValue,C.setValue),Ka.config({channels:{[Q2]:{onReceive:(Q,te)=>{te.newFocus.each(le=>{na(Q.element).each(de=>{(Uo(Q.element,le)?Nr:er)(de,"tox-navobj-bordered-focus")})})}}}})])}),I=qo.parts.field({factory:{sketch:M}});return W1(E,I,["tox-form__group--stretched"],[])},W9=t=>new Promise((s,a)=>{const u=()=>{g(),s(t)},h=[za(t,"load",u),za(t,"error",()=>{g(),a("Unable to load data from image: "+t.dom.src)})],g=()=>wt(h,b=>b.unbind());t.dom.complete&&u()}),pk=(t,s,a,u,h)=>{const g=a*h,b=u*h,C=Math.max(0,t/2-g/2),E=Math.max(0,s/2-b/2);return{left:C.toString()+"px",top:E.toString()+"px",width:g.toString()+"px",height:b.toString()+"px"}},j9=(t,s,a)=>{const u=ki(t),h=fs(t);return Math.min(u/s,h/a,1)},gk=(t,s)=>{const a=un(s.getOr({url:""})),u=Bo({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(E=>({src:E.url})).getOr({})}}),h=Bo({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[u.asSpec()]}),g=(E,M)=>{const I={url:M.url};M.zoom.each(Q=>I.zoom=Q),M.cachedWidth.each(Q=>I.cachedWidth=Q),M.cachedHeight.each(Q=>I.cachedHeight=Q),a.set(I);const z=()=>{const{cachedWidth:Q,cachedHeight:te,zoom:le}=I;if(!q(Q)&&!q(te)){if(q(le)){const Ne=j9(E.element,Q,te);I.zoom=Ne}const de=pk(ki(E.element),fs(E.element),Q,te,I.zoom);h.getOpt(E).each(Ne=>{oo(Ne.element,de)})}};u.getOpt(E).each(Q=>{const te=Q.element;M.url!==Mn(te,"src")&&(vn(te,"src",M.url),er(E.element,"tox-imagepreview__loaded")),z(),W9(te).then(le=>{E.getSystem().isConnected()&&(Nr(E.element,"tox-imagepreview__loaded"),I.cachedWidth=le.dom.naturalWidth,I.cachedHeight=le.dom.naturalHeight,z())})})},b={};t.height.each(E=>b.height=E);const C=s.map(E=>({url:E.url,zoom:P.from(E.zoom),cachedWidth:P.from(E.cachedWidth),cachedHeight:P.from(E.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:b,attributes:{role:"presentation"}},components:[h.asSpec()],behaviours:At([Cu.self(),fh(C,()=>a.get(),g)])}},nI=(t,s,a)=>{const u="tox-label",h=t.align==="center"?[`${u}--center`]:[],g=t.align==="end"?[`${u}--end`]:[],b=Bo({dom:{tag:"label",classes:[u,...h,...g]},components:[tr(s.providers.translate(t.label))]}),C=Ue(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[b.asSpec(),...C],behaviours:At([Cu.self(),In.config({}),M9(P.none()),bn.config({mode:"acyclic"}),jn("label",[$s(E=>{t.for.each(M=>{a(M).each(I=>{b.getOpt(E).each(z=>{var Q;const te=(Q=Mn(I.element,"id"))!==null&&Q!==void 0?Q:Kt("form-field");vn(I.element,"id",te),vn(z.element,"for",te)})})})})])])}},oI=Kt("toolbar.button.execute"),Z9=t=>$d((s,a)=>{M1(t,s)(u=>{Sn(s,oI,{buttonApi:u}),t.onAction(u)})}),mh=Kt("common-button-display-events"),vk={[kc()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Xu()]:["toolbar-button-events",mh],[Rd()]:["toolbar-button-events","dropdown-events","tooltipping"],[yl()]:["focusing","alloy.base.behaviour",mh]},bk=t=>gt(t.element,"width",ts(t.element,"width")),yk=(t,s,a)=>sc(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},s),tS=(t,s)=>yk(t,s,[]),hh=(t,s)=>yk(t,s,[In.config({})]),wk=(t,s,a)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[tr(a.translate(t))],behaviours:At([In.config({})])}),uc=Kt("update-menu-text"),ph=Kt("update-menu-icon"),Sk=(t,s,a,u)=>{const h=un(F),g=t.text.map(de=>Bo(wk(de,s,a.providers))),b=t.icon.map(de=>Bo(hh(de,a.providers.icons))),C=(de,Ne)=>{const ge=Xt.getValue(de);return Pn.focus(ge),Sn(ge,"keydown",{raw:Ne.event.raw}),zc.close(ge),P.some(!0)},E=t.role.fold(()=>({}),de=>({role:de})),M=P.from(t.listRole).map(de=>({listRole:de})).getOr({}),I=t.ariaLabel.fold(()=>({}),de=>({"aria-label":a.providers.translate(de)})),z=sc("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},a.providers.icons),Q=Kt("common-button-display-events"),te="dropdown-events";return Bo(zc.sketch({...t.uid?{uid:t.uid}:{},...E,...M,dom:{tag:"button",classes:[s,`${s}--select`].concat(Ue(t.classes,de=>`${s}--${de}`)),attributes:{...I,...ee(u)?{"data-mce-name":u}:{}}},components:Np([b.map(de=>de.asSpec()),g.map(de=>de.asSpec()),P.some(z)]),matchWidth:!0,useMinWidth:!0,onOpen:(de,Ne,ge)=>{t.searchable&&uV(ge)},dropdownBehaviours:At([...t.dropdownBehaviours,xu.button(()=>t.disabled||a.providers.isDisabled()),ni(),Ev.config({}),In.config({}),...t.tooltip.map(de=>nr.config(a.providers.tooltips.getConfig({tooltipText:a.providers.translate(de)}))).toArray(),jn(te,[ma(t,h),rh(t,h)]),jn(Q,[$s((de,Ne)=>t.listRole==="listbox"?F:bk(de))]),jn("menubutton-update-display-text",[mt(uc,(de,Ne)=>{g.bind(ge=>ge.getOpt(de)).each(ge=>{In.set(ge,[tr(a.providers.translate(Ne.event.text))])})}),mt(ph,(de,Ne)=>{b.bind(ge=>ge.getOpt(de)).each(ge=>{In.set(ge,[hh(Ne.event.icon,a.providers.icons)])})})])]),eventOrder:Us(vk,{[yl()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Xu()]:["toolbar-button-events",nr.name(),te,Q]}),sandboxBehaviours:At([bn.config({mode:"special",onLeft:C,onRight:C}),jn("dropdown-sandbox-events",[mt(TP,(de,Ne)=>{aV(de),Ne.stop()}),mt(LT,(de,Ne)=>{I2(de,Ne),Ne.stop()})])]),lazySink:a.getSink,toggleClass:`${s}--active`,parts:{menu:{...E1(!1,t.columns,t.presets),fakeFocus:t.searchable,...t.listRole==="listbox"?{}:{onHighlightItem:qN,onCollapseMenu:(de,Ne,ge)=>{Ho.getHighlighted(ge).each(ke=>{qN(de,ge,ke)})},onDehighlightItem:cV}}},getAnchorOverrides:()=>({maxHeightFunction:(de,Ne)=>{h4()(de,Ne-10)}}),fetch:de=>Bi.nu(Fe(t.fetch,de))})).asSpec()},q9=t=>T(t),sI=t=>t.type==="separator",rI=t=>Gn(t,"getSubmenuItems"),G9={type:"separator"},iI=(t,s)=>{const a=Vo(t,(u,h)=>q9(h)?h===""?u:h==="|"?u.length>0&&!sI(u[u.length-1])?u.concat([G9]):u:Gn(s,h.toLowerCase())?u.concat([s[h.toLowerCase()]]):u:u.concat([h]),[]);return a.length>0&&sI(a[a.length-1])&&a.pop(),a},X9=(t,s)=>{const a=t.getSubmenuItems(),u=nS(a,s),h=Us(u.menus,{[t.value]:u.items}),g=Us(u.expansions,{[t.value]:t.value});return{item:t,menus:h,expansions:g}},Y9=t=>{const s=_t(t,"value").getOrThunk(()=>Kt("generated-menu-item"));return Us({value:s},t)},nS=(t,s)=>{const a=iI(T(t)?t.split(" "):t,s);return Cs(a,(u,h)=>{if(rI(h)){const g=Y9(h),b=X9(g,s);return{menus:Us(u.menus,b.menus),items:[b.item,...u.items],expansions:Us(u.expansions,b.expansions)}}else return{...u,items:[h,...u.items]}},{menus:{},expansions:{},items:[]})},K9=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),J9=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),Av=(t,s,a,u)=>{const h=Kt("primary-menu"),g=nS(t,a.shared.providers.menuItems());if(g.items.length===0)return P.none();const b=K9(u),C=O_(h,g.items,s,a,u.isHorizontalMenu,b),E=J9(u),M=qt(g.menus,(z,Q)=>O_(Q,z,s,a,!1,E)),I=Us(M,Wu(h,C));return P.from(Jm.tieredData(h,I,g.expansions))},Ov=t=>!Gn(t,"items"),aI="data-value",xk=(t,s,a,u,h)=>Ue(a,g=>Ov(g)?{type:"togglemenuitem",...h?{}:{role:"option"},text:g.text,value:g.value,active:g.value===u,onAction:()=>{Xt.setValue(t,g.value),Sn(t,Qa,{name:s}),Pn.focus(t)}}:{type:"nestedmenuitem",text:g.text,getSubmenuItems:()=>xk(t,s,g.items,u,h)}),Ck=(t,s)=>bt(t,a=>Ov(a)?wn(a.value===s,a):Ck(a.items,s)),lI=(t,s,a)=>{const u=jt(t.items,M=>!Ov(M)),h=s.shared.providers,g=a.bind(M=>Ck(t.items,M)).orThunk(()=>Ce(t.items).filter(Ov)),b=t.label.map(M=>ah(M,h)),C=qo.parts.field({dom:{},factory:{sketch:M=>Sk({uid:M.uid,text:g.map(I=>I.text),icon:P.none(),tooltip:P.none(),role:wn(!u,"combobox"),...u?{}:{listRole:"listbox"},ariaLabel:t.label,fetch:(I,z)=>{const Q=xk(I,t.name,t.items,Xt.getValue(I),u);z(Av(Q,wu.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:P.none()}))},onSetup:ie(F),getApi:ie({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ys.config({}),fh(g.map(I=>I.value),I=>Mn(I.element,aI),(I,z)=>{Ck(t.items,z).each(Q=>{vn(I.element,aI,Q.value),Sn(I,uc,{text:Q.text})})})]},"tox-listbox",s.shared)}}),E={dom:{tag:"div",classes:["tox-listboxfield"]},components:[C]};return qo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:nn([b.toArray(),[E]]),fieldBehaviours:At([On.config({disabled:ie(!t.enabled),onDisabled:M=>{qo.getField(M).each(On.disable)},onEnabled:M=>{qo.getField(M).each(On.enable)}})])})},Q9=(t,s)=>({dom:{tag:"div",classes:t.classes},components:Ue(t.items,s.shared.interpreter)}),eU=(t,s)=>{const a=Ue(t.options,h=>({dom:{tag:"option",value:h.value,innerHtml:h.text}})),u=t.data.map(h=>Wu("initialValue",h)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:a,behaviours:Ci(t.selectBehaviours,[Pn.config({}),Xt.config({store:{mode:"manual",getValue:h=>Ff(h.element),setValue:(h,g)=>{const b=Ce(t.options);It(t.options,E=>E.value===g).isSome()?tp(h.element,g):h.element.dom.selectedIndex===-1&&g===""&&b.each(E=>tp(h.element,E.value))},...u}})])}},tU=Al({name:"HtmlSelect",configFields:[it("options"),xi("selectBehaviours",[Pn,Xt]),Ie("selectClasses",[]),Ie("selectAttributes",{}),go("data")],factory:eU}),nU=(t,s,a)=>{const u=Ue(t.items,E=>({text:s.translate(E.text),value:E.value})),h=t.label.map(E=>ah(E,s)),g=qo.parts.field({dom:{},...a.map(E=>({data:E})).getOr({}),selectAttributes:{size:t.size},options:u,factory:tU,selectBehaviours:At([On.config({disabled:()=>!t.enabled||s.isDisabled()}),ys.config({}),jn("selectbox-change",[mt(Sg(),(E,M)=>{Sn(E,Qa,{name:t.name})})])])}),b=t.size>1?P.none():P.some(sc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),C={dom:{tag:"div",classes:["tox-selectfield"]},components:nn([[g],b.toArray()])};return qo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:nn([h.toArray(),[C]]),fieldBehaviours:At([On.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:E=>{qo.getField(E).each(On.disable)},onEnabled:E=>{qo.getField(E).each(On.enable)}}),ni()])})},oU=ie([Ie("field1Name","field1"),Ie("field2Name","field2"),$f("onLockedChange"),Jh(["lockClass"]),Ie("locked",!1),Pc.field("coupledFieldBehaviours",[ko,Xt])]),cI=(t,s,a)=>kt(t,s,a).bind(ko.getCurrent),uI=(t,s)=>Ji({factory:qo,name:t,overrides:a=>({fieldBehaviours:At([jn("coupled-input-behaviour",[mt(Id(),u=>{cI(u,a,s).each(h=>{kt(u,a,"lock").each(g=>{eo.isOn(g)&&a.onLockedChange(u,h,g)})})})])])})}),sU=ie([uI("field1","field2"),uI("field2","field1"),Ji({factory:Ri,schema:[it("dom")],name:"lock",overrides:t=>({buttonBehaviours:At([eo.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),dI=(t,s,a,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Pc.augment(t.coupledFieldBehaviours,[ko.config({find:P.some}),Xt.config({store:{mode:"manual",getValue:h=>{const g=Yb(h,t,["field1","field2"]);return{[t.field1Name]:Xt.getValue(g.field1()),[t.field2Name]:Xt.getValue(g.field2())}},setValue:(h,g)=>{const b=Yb(h,t,["field1","field2"]);Ws(g,t.field1Name)&&Xt.setValue(b.field1(),g[t.field1Name]),Ws(g,t.field2Name)&&Xt.setValue(b.field2(),g[t.field2Name])}}})]),apis:{getField1:h=>kt(h,t,"field1"),getField2:h=>kt(h,t,"field2"),getLock:h=>kt(h,t,"lock")}}),dc=Da({name:"FormCoupledInputs",configFields:oU(),partFields:sU(),factory:dI,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),rU=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},a=h=>h in s?s[h]:1;let u=t.value.toFixed(a(t.unit));return u.indexOf(".")!==-1&&(u=u.replace(/\.?0*$/,"")),u+t.unit},Ek=t=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(a!==null){const u=parseFloat(a[1]),h=a[2];return Xn.value({value:u,unit:h})}else return Xn.error(t)},Tk=(t,s)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=h=>Gn(a,h);return t.unit===s?P.some(t.value):u(t.unit)&&u(s)?a[t.unit]===a[s]?P.some(t.value):P.some(t.value/a[t.unit]*a[s]):P.none()},_k=t=>P.none(),iU=(t,s)=>a=>Tk(a,s).map(u=>({value:u*t,unit:s})),aU=(t,s)=>{const a=Ek(t).toOptional(),u=Ek(s).toOptional();return lr(a,u,(h,g)=>Tk(h,g.unit).map(b=>g.value/b).map(b=>iU(b,g.unit)).getOr(_k)).getOr(_k)},fI=(t,s)=>{let a=_k;const u=Kt("ratio-event"),h=te=>sc(te,{tag:"span",classes:["tox-icon","tox-lock-icon__"+te]},s.icons),g=t.label.getOr("Constrain proportions"),b=s.translate(g),C=dc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":b,"data-mce-name":g}},components:[h("lock"),h("unlock")],buttonBehaviours:At([On.config({disabled:()=>!t.enabled||s.isDisabled()}),ni(),ys.config({}),nr.config(s.tooltips.getConfig({tooltipText:b}))])}),E=te=>({dom:{tag:"div",classes:["tox-form__group"]},components:te}),M=te=>qo.parts.field({factory:Op,inputClasses:["tox-textfield"],inputBehaviours:At([On.config({disabled:()=>!t.enabled||s.isDisabled()}),ni(),ys.config({}),jn("size-input-events",[mt(ju(),(le,de)=>{Sn(le,u,{isField1:te})}),mt(Sg(),(le,de)=>{Sn(le,Qa,{name:t.name})})])]),selectOnFocus:!1}),I=te=>({dom:{tag:"label",classes:["tox-label"]},components:[tr(s.translate(te))]}),z=dc.parts.field1(E([qo.parts.label(I("Width")),M(!0)])),Q=dc.parts.field2(E([qo.parts.label(I("Height")),M(!1)]));return dc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[z,Q,E([I(ip),C])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(te,le,de)=>{Ek(Xt.getValue(te)).each(Ne=>{a(Ne).each(ge=>{Xt.setValue(le,rU(ge))})})},coupledFieldBehaviours:At([On.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:te=>{dc.getField1(te).bind(qo.getField).each(On.disable),dc.getField2(te).bind(qo.getField).each(On.disable),dc.getLock(te).each(On.disable)},onEnabled:te=>{dc.getField1(te).bind(qo.getField).each(On.enable),dc.getField2(te).bind(qo.getField).each(On.enable),dc.getLock(te).each(On.enable)}}),ni(),jn("size-input-events2",[mt(u,(te,le)=>{const de=le.event.isField1,Ne=de?dc.getField1(te):dc.getField2(te),ge=de?dc.getField2(te):dc.getField1(te),ke=Ne.map(Xt.getValue).getOr(""),Ae=ge.map(Xt.getValue).getOr("");a=aU(ke,Ae)})])])})},mI=(t,s,a)=>{const u=Vc.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[tr(s.translate(t.label))]}),h=Vc.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),g=Vc.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Vc.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:ie(a.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[u,h,g],sliderBehaviours:At([Cu.self(),Pn.config({})]),onChoose:(b,C,E)=>{Sn(b,Qa,{name:t.name,value:E})},onChange:(b,C,E)=>{Sn(b,Qa,{name:t.name,value:E})}})},hI=(t,s)=>{const a=C=>({dom:{tag:"th",innerHtml:s.translate(C)}}),u=C=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ue(C,a)}]}),h=C=>({dom:{tag:"td",innerHtml:s.translate(C)}}),g=C=>({dom:{tag:"tr"},components:Ue(C,h)}),b=C=>({dom:{tag:"tbody"},components:Ue(C,g)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[u(t.header),b(t.cells)],behaviours:At([ys.config({}),Pn.config({})])}},l0=(t,s)=>{const a=t.label.map(te=>ah(te,s)),u=[On.config({disabled:()=>t.disabled||s.isDisabled()}),ni(),bn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:te=>(Qn(te,j1),P.some(!0))}),jn("textfield-change",[mt(Id(),(te,le)=>{Sn(te,Qa,{name:t.name})}),mt(yy(),(te,le)=>{Sn(te,Qa,{name:t.name})})]),ys.config({})],h=t.validation.map(te=>rd.config({getRoot:le=>na(le.element),invalidClass:"tox-invalid",validator:{validate:le=>{const de=Xt.getValue(le),Ne=te.validator(de);return Bi.pure(Ne===!0?Xn.value(de):Xn.error(Ne))},validateOnLoad:te.validateOnLoad}})).toArray(),g=t.placeholder.fold(ie({}),te=>({placeholder:s.translate(te)})),b=t.inputMode.fold(ie({}),te=>({inputmode:te})),C={...g,...b,"data-mce-name":t.name},E=qo.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(te=>({data:te})).getOr({}),inputAttributes:C,inputClasses:[t.classname],inputBehaviours:At(nn([u,h])),selectOnFocus:!1,factory:Op}),M=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[E]}:E,z=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),Q=[On.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:te=>{qo.getField(te).each(On.disable)},onEnabled:te=>{qo.getField(te).each(On.enable)}}),ni()];return W1(a,M,z,Q)},lU=(t,s,a)=>l0({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:P.none(),maximized:t.maximized,data:a},s),cU=(t,s,a)=>l0({name:t.name,multiline:!0,label:t.label,inputMode:P.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:P.none(),maximized:t.maximized,data:a},s),c0=(t,s)=>s.getAnimationRoot.fold(()=>t.element,a=>a(t)),im=t=>t.dimension.property,gh=(t,s)=>t.dimension.getDimension(s),oS=(t,s)=>{const a=c0(t,s);Ku(a,[s.shrinkingClass,s.growingClass])},kk=(t,s)=>{er(t.element,s.openClass),Nr(t.element,s.closedClass),gt(t.element,im(s),"0px"),zi(t.element)},Ak=(t,s)=>{er(t.element,s.closedClass),Nr(t.element,s.openClass),Zn(t.element,im(s))},Ok=(t,s,a,u)=>{a.setCollapsed(),gt(t.element,im(s),gh(s,t.element)),oS(t,s),kk(t,s),s.onStartShrink(t),s.onShrunk(t)},pI=(t,s,a,u)=>{const h=u.getOrThunk(()=>gh(s,t.element));a.setCollapsed(),gt(t.element,im(s),h),zi(t.element);const g=c0(t,s);er(g,s.growingClass),Nr(g,s.shrinkingClass),kk(t,s),s.onStartShrink(t)},gI=(t,s,a)=>{const u=gh(s,t.element);(u==="0px"?Ok:pI)(t,s,a,P.some(u))},vI=(t,s,a)=>{const u=c0(t,s),h=Cl(u,s.shrinkingClass),g=gh(s,t.element);Ak(t,s);const b=gh(s,t.element);(h?()=>{gt(t.element,im(s),g),zi(t.element)}:()=>{kk(t,s)})(),er(u,s.shrinkingClass),Nr(u,s.growingClass),Ak(t,s),gt(t.element,im(s),b),a.setExpanded(),s.onStartGrow(t)},bI=(t,s,a)=>{if(a.isExpanded()){Zn(t.element,im(s));const u=gh(s,t.element);gt(t.element,im(s),u)}},uU=(t,s,a)=>{a.isExpanded()||vI(t,s,a)},dU=(t,s,a)=>{a.isExpanded()&&gI(t,s,a)},Rn=(t,s,a)=>{a.isExpanded()&&Ok(t,s,a)},u0=(t,s,a)=>a.isExpanded(),yI=(t,s,a)=>a.isCollapsed(),Dk=(t,s,a)=>{const u=c0(t,s);return Cl(u,s.growingClass)===!0},Mk=(t,s,a)=>{const u=c0(t,s);return Cl(u,s.shrinkingClass)===!0};var d0=Object.freeze({__proto__:null,refresh:bI,grow:uU,shrink:dU,immediateShrink:Rn,hasGrown:u0,hasShrunk:yI,isGrowing:Dk,isShrinking:Mk,isTransitioning:(t,s,a)=>Dk(t,s)||Mk(t,s),toggleGrow:(t,s,a)=>{(a.isExpanded()?gI:vI)(t,s,a)},disableTransitions:oS,immediateGrow:(t,s,a)=>{a.isExpanded()||(Ak(t,s),gt(t.element,im(s),gh(s,t.element)),oS(t,s),a.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),pU=Object.freeze({__proto__:null,exhibit:(t,s,a)=>{const u=s.expanded;return wl(u?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:Wu(s.dimension.property,"0px")})},events:(t,s)=>Bs([Tg(qu(),(a,u)=>{u.event.raw.propertyName===t.dimension.property&&(oS(a,t),s.isExpanded()&&Zn(a.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(a))})])}),gU=[it("closedClass"),it("openClass"),it("shrinkingClass"),it("growingClass"),go("getAnimationRoot"),Eo("onShrunk"),Eo("onStartShrink"),Eo("onGrown"),Eo("onStartGrow"),Ie("expanded",!1),lo("dimension",_o("property",{width:[ps("property","width"),ps("getDimension",t=>ki(t)+"px")],height:[ps("property","height"),ps("getDimension",t=>fs(t)+"px")]}))],wI=Object.freeze({__proto__:null,init:t=>{const s=un(t.expanded),a=()=>"expanded: "+s.get();return xl({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:Fe(s.set,!1),setExpanded:Fe(s.set,!0),readState:a})}});const Pa=Ni({fields:gU,name:"sliding",active:pU,apis:d0,state:wI}),Pk=t=>({isEnabled:()=>!On.isDisabled(t),setEnabled:s=>On.set(t,!s),setActive:s=>{const a=t.element;s?(Nr(a,"tox-tbtn--enabled"),vn(a,"aria-pressed",!0)):(er(a,"tox-tbtn--enabled"),W(a,"aria-pressed"))},isActive:()=>Cl(t.element,"tox-tbtn--enabled"),setText:s=>{Sn(t,uc,{text:s})},setIcon:s=>Sn(t,ph,{icon:s})}),f0=(t,s,a,u,h=!0,g)=>Sk({text:t.text,icon:t.icon,tooltip:t.tooltip,ariaLabel:t.tooltip,searchable:t.search.isSome(),role:u,fetch:(b,C)=>{const E={pattern:t.search.isSome()?dV(b):""};t.fetch(M=>{C(Av(M,wu.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:t.search}))},E,Pk(b))},onSetup:t.onSetup,getApi:Pk,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...h?[ys.config({})]:[]]},s,a.shared,g),vU=(t,s,a)=>{const u=g=>b=>{const C=!b.isActive();b.setActive(C),g.storage.set(C),a.shared.getSink().each(E=>{s().getOpt(E).each(M=>{Oc(M.element),Sn(M,Zd,{name:g.name,value:g.storage.get()})})})},h=g=>b=>{b.setActive(g.storage.get())};return g=>{g(Ue(t,b=>{const C=b.text.fold(()=>({}),E=>({text:E}));return{type:b.type,active:!1,...C,onAction:u(b),onSetup:h(b)}}))}},SI=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":t}},components:[tr(t)]}),xI=Kt("leaf-label-event-id"),Nk=({leaf:t,onLeafAction:s,visible:a,treeId:u,selectedId:h,backstage:g})=>{const b=t.menu.map(E=>f0(E,"tox-mbtn",g,P.none(),a)),C=[SI(t.title)];return b.each(E=>C.push(E)),Ri.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:C,role:"treeitem",action:E=>{s(t.id),E.getSystem().broadcastOn([`update-active-item-${u}`],{value:t.id})},eventOrder:{[Zu()]:[xI,"keying"]},buttonBehaviours:At([...a?[ys.config({})]:[],eo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Ka.config({channels:{[`update-active-item-${u}`]:{onReceive:(E,M)=>{(M.value===t.id?eo.on:eo.off)(E)}}}}),jn(xI,[$s((E,M)=>{h.each(I=>{(I===t.id?eo.on:eo.off)(E)})}),mt(Zu(),(E,M)=>{const I=M.event.raw.code==="ArrowLeft",z=M.event.raw.code==="ArrowRight";I?(np(E.element,".tox-tree--directory").each(Q=>{E.getSystem().getByDom(Q).each(te=>{cC(Q,".tox-tree--directory__label").each(le=>{te.getSystem().getByDom(le).each(Pn.focus)})})}),M.stop()):z&&M.stop()})])])})},bU=(t,s,a)=>sc(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:a},s),yU=(t,s)=>bU(t,s,[]),CI=Kt("directory-label-event-id"),wU=({directory:t,visible:s,noChildren:a,backstage:u})=>{const h=t.menu.map(C=>f0(C,"tox-mbtn",u,P.none())),g=[{dom:{tag:"div",classes:["tox-chevron"]},components:[yU("chevron-right",u.shared.providers.icons)]},SI(t.title)];h.each(C=>{g.push(C)});const b=C=>{np(C.element,".tox-tree--directory").each(E=>{C.getSystem().getByDom(E).each(M=>{const I=!eo.isOn(M);eo.toggle(M),Sn(C,"expand-tree-node",{expanded:I,node:t.id})})})};return Ri.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:g,action:b,eventOrder:{[Zu()]:[CI,"keying"]},buttonBehaviours:At([...s?[ys.config({})]:[],jn(CI,[mt(Zu(),(C,E)=>{const M=E.event.raw.code==="ArrowRight",I=E.event.raw.code==="ArrowLeft";M&&a&&E.stop(),(M||I)&&np(C.element,".tox-tree--directory").each(z=>{C.getSystem().getByDom(z).each(Q=>{!eo.isOn(Q)&&M||eo.isOn(Q)&&I?(b(C),E.stop()):I&&!eo.isOn(Q)&&(np(Q.element,".tox-tree--directory").each(te=>{cC(te,".tox-tree--directory__label").each(le=>{Q.getSystem().getByDom(le).each(Pn.focus)})}),E.stop())})})})])])})},SU=({children:t,onLeafAction:s,visible:a,treeId:u,expandedIds:h,selectedId:g,backstage:b})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(C=>C.type==="leaf"?Nk({leaf:C,selectedId:g,onLeafAction:s,visible:a,treeId:u,backstage:b}):Lk({directory:C,expandedIds:h,selectedId:g,onLeafAction:s,labelTabstopping:a,treeId:u,backstage:b})),behaviours:At([Pa.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),In.config({})])}),EI=Kt("directory-event-id"),Lk=({directory:t,onLeafAction:s,labelTabstopping:a,treeId:u,backstage:h,expandedIds:g,selectedId:b})=>{const{children:C}=t,E=un(g),M=z=>C.map(Q=>Q.type==="leaf"?Nk({leaf:Q,selectedId:b,onLeafAction:s,visible:z,treeId:u,backstage:h}):Lk({directory:Q,expandedIds:E.get(),selectedId:b,onLeafAction:s,labelTabstopping:z,treeId:u,backstage:h})),I=g.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[wU({directory:t,visible:a,noChildren:t.children.length===0,backstage:h}),SU({children:C,expandedIds:g,selectedId:b,onLeafAction:s,visible:I,treeId:u,backstage:h})],behaviours:At([jn(EI,[$s((z,Q)=>{eo.set(z,I)}),mt("expand-tree-node",(z,Q)=>{const{expanded:te,node:le}=Q.event;E.set(te?[...E.get(),le]:E.get().filter(de=>de!==le))})]),eo.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(z,Q)=>{const te=z.components()[1],le=M(Q);Q?Pa.grow(te):Pa.shrink(te),In.set(te,le)}})])}},xU=Kt("tree-event-id"),CU=(t,s)=>{const a=t.onLeafAction.getOr(F),u=t.onToggleExpand.getOr(F),h=t.defaultExpandedIds,g=un(h),b=un(t.defaultSelectedId),C=Kt("tree-id"),E=(M,I)=>t.items.map(z=>z.type==="leaf"?Nk({leaf:z,selectedId:M,onLeafAction:a,visible:!0,treeId:C,backstage:s}):Lk({directory:z,selectedId:M,onLeafAction:a,expandedIds:I,labelTabstopping:!0,treeId:C,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:E(b.get(),g.get()),behaviours:At([bn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),jn(xU,[mt("expand-tree-node",(M,I)=>{const{expanded:z,node:Q}=I.event;g.set(z?[...g.get(),Q]:g.get().filter(te=>te!==Q)),u(g.get(),{expanded:z,node:Q})})]),Ka.config({channels:{[`update-active-item-${C}`]:{onReceive:(M,I)=>{b.set(P.some(I.value)),In.set(M,E(P.some(I.value),g.get()))}}}}),In.config({})])}};var EU=Object.freeze({__proto__:null,events:(t,s)=>{const u=t.stream.streams.setup(t,s);return Bs([mt(t.event,u),Bd(()=>s.cancel())].concat(t.cancelEvent.map(h=>[mt(h,()=>s.cancel())]).getOr([])))}});const TI=t=>{const s=un(null);return xl({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:g=>{s.set(g)},cancel:()=>{const g=s.get();g!==null&&g.cancel()}})};var TU=Object.freeze({__proto__:null,throttle:TI,init:t=>t.stream.streams.state(t)});const _U=(t,s)=>{const a=t.stream,u=ck(t.onStream,a.delay);return s.setTimer(u),(h,g)=>{u.throttle(h,g),a.stopEvent&&g.stop()}};var kU=[lo("stream",_o("mode",{throttle:[it("delay"),Ie("stopEvent",!0),ps("streams",{setup:_U,state:TI})]})),Ie("event","input"),go("cancelEvent"),$f("onStream")];const Ik=Ni({fields:kU,name:"streaming",active:EU,state:TU}),m0=(t,s,a)=>{const u=Xt.getValue(a);Xt.setValue(s,u),kI(s)},_I=(t,s)=>{const a=t.element,u=Ff(a),h=a.dom;Mn(a,"type")!=="number"&&s(h,u)},kI=t=>{_I(t,(s,a)=>s.setSelectionRange(a.length,a.length))},AU=(t,s)=>{_I(t,(a,u)=>a.setSelectionRange(s,u.length))},OU=(t,s,a)=>{if(t.selectsOver){const u=Xt.getValue(s),h=t.getDisplayText(u),g=Xt.getValue(a);return t.getDisplayText(g).indexOf(h)===0?P.some(()=>{m0(t,s,a),AU(s,h.length)}):P.none()}else return P.none()},Rk=ie("alloy.typeahead.itemexecute"),DU=(t,s,a,u)=>{const h=(z,Q,te)=>{t.previewing.set(!1);const le=hr.getCoupled(z,"sandbox");if(Do.isOpen(le))ko.getCurrent(le).each(de=>{Ho.getHighlighted(de).fold(()=>{te(de)},()=>{If(le,de.element,"keydown",Q)})});else{const de=Ne=>{ko.getCurrent(Ne).each(te)};bv(t,b(z),z,le,u,de,mr.HighlightMenuAndItem).get(F)}},g=xP(t),b=z=>Q=>Q.map(te=>{const le=Js(te.menus),de=$e(le,ge=>Dn(ge.items,ke=>ke.type==="item"));return Xt.getState(z).update(Ue(de,ge=>ge.data)),te}),C=z=>ko.getCurrent(z),E="typeaheadevents",M=[Pn.config({}),Xt.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:z=>Ff(z.element),getFallbackEntry:z=>({value:z,meta:{}}),setValue:(z,Q)=>{tp(z.element,t.model.getDisplayText(Q))},...t.initialData.map(z=>Wu("initialValue",z)).getOr({})}}),Ik.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(z,Q)=>{const te=hr.getCoupled(z,"sandbox");if(Pn.isFocused(z)&&Ff(z.element).length>=t.minChars){const de=C(te).bind(ge=>Ho.getHighlighted(ge).map(Xt.getValue));t.previewing.set(!0);const Ne=ge=>{C(te).each(ke=>{de.fold(()=>{t.model.selectsOver&&Ho.highlightFirst(ke)},Ae=>{Ho.highlightBy(ke,ft=>Xt.getValue(ft).value===Ae.value),Ho.getHighlighted(ke).orThunk(()=>(Ho.highlightFirst(ke),P.none()))})})};bv(t,b(z),z,te,u,Ne,mr.HighlightJustMenu).get(F)}},cancelEvent:Ex()}),bn.config({mode:"special",onDown:(z,Q)=>(h(z,Q,Ho.highlightFirst),P.some(!0)),onEscape:z=>{const Q=hr.getCoupled(z,"sandbox");return Do.isOpen(Q)?(Do.close(Q),P.some(!0)):P.none()},onUp:(z,Q)=>(h(z,Q,Ho.highlightLast),P.some(!0)),onEnter:z=>{const Q=hr.getCoupled(z,"sandbox"),te=Do.isOpen(Q);if(te&&!t.previewing.get())return C(Q).bind(le=>Ho.getHighlighted(le)).map(le=>(Sn(z,Rk(),{item:le}),!0));{const le=Xt.getValue(z);return Qn(z,Ex()),t.onExecute(Q,z,le),te&&Do.close(Q),P.some(!0)}}}),eo.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),hr.config({others:{sandbox:z=>k_(t,z,{onOpen:()=>eo.on(z),onClose:()=>{t.lazyTypeaheadComp.get().each(Q=>W(Q.element,"aria-activedescendant")),eo.off(z)}})}}),jn(E,[$s(z=>{t.lazyTypeaheadComp.set(P.some(z))}),Bd(z=>{t.lazyTypeaheadComp.set(P.none())}),$d(z=>{const Q=F;E_(t,b(z),z,u,Q,mr.HighlightMenuAndItem).get(F)}),mt(Rk(),(z,Q)=>{const te=hr.getCoupled(z,"sandbox");m0(t.model,z,Q.event.item),Qn(z,Ex()),t.onItemExecute(z,te,Q.event.item,Xt.getValue(z)),Do.close(te),kI(z)})].concat(t.dismissOnBlur?[mt(wb(),z=>{const Q=hr.getCoupled(z,"sandbox");Ha(Q.element).isNone()&&Do.close(Q)})]:[]))],I={[Rd()]:[Xt.name(),Ik.name(),E],...t.eventOrder};return{uid:t.uid,dom:EP(Us(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...g,...Ci(t.typeaheadBehaviours,M)},eventOrder:I}},AI=ie([go("lazySink"),it("fetch"),Ie("minChars",5),Ie("responseTime",1e3),Eo("onOpen"),Ie("getHotspot",P.some),Ie("getAnchorOverrides",ie({})),Ie("layouts",P.none()),Ie("eventOrder",{}),bg("model",{},[Ie("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),Ie("selectsOver",!0),Ie("populateFromBrowse",!0)]),Eo("onSetValue"),Tl("onExecute"),Eo("onItemExecute"),Ie("inputClasses",[]),Ie("inputAttributes",{}),Ie("inputStyles",{}),Ie("matchWidth",!0),Ie("useMinWidth",!1),Ie("dismissOnBlur",!0),Jh(["openClass"]),go("initialData"),go("listRole"),xi("typeaheadBehaviours",[Pn,Xt,Ik,bn,eo,hr]),ao("lazyTypeaheadComp",()=>un(P.none)),ao("previewing",()=>un(!0))].concat(NT()).concat(L2())),MU=ie([Nc({schema:[Ng()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,a,u)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(h=>{OU(t.model,h,u).fold(()=>{t.model.selectsOver?(Ho.dehighlight(a,u),t.previewing.set(!0)):t.previewing.set(!1)},g=>{g(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(h=>{t.model.populateFromBrowse&&m0(t.model,h,u),vr(u.element,"id").each(g=>vn(h.element,"aria-activedescendant",g))})},onExecute:(s,a)=>t.lazyTypeaheadComp.get().map(u=>(Sn(u,Rk(),{item:a}),!0)),onHover:(s,a)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(u=>{t.model.populateFromBrowse&&m0(t.model,u,a)})}})})]),OI=Da({name:"Typeahead",configFields:AI(),partFields:MU(),factory:DU}),Eu=t=>({...t,toCached:()=>Eu(t.toCached()),bindFuture:E=>Eu(t.bind(M=>M.fold(I=>Bi.pure(Xn.error(I)),I=>E(I)))),bindResult:E=>Eu(t.map(M=>M.bind(E))),mapResult:E=>Eu(t.map(M=>M.map(E))),mapError:E=>Eu(t.map(M=>M.mapError(E))),foldResult:(E,M)=>t.map(I=>I.fold(E,M)),withTimeout:(E,M)=>Eu(Bi.nu(I=>{let z=!1;const Q=setTimeout(()=>{z=!0,I(Xn.error(M()))},E);t.get(te=>{z||(clearTimeout(Q),I(te))})}))}),Bk=t=>Eu(Bi.nu(t)),$k=t=>Eu(Bi.pure(Xn.value(t))),LU={nu:Bk,wrap:Eu,pure:$k,value:$k,error:t=>Eu(Bi.pure(Xn.error(t))),fromResult:t=>Eu(Bi.pure(t)),fromFuture:t=>Eu(t.map(Xn.value)),fromPromise:t=>Bk(s=>{t.then(a=>{s(Xn.value(a))},a=>{s(Xn.error(a))})})},h0=(t,s,a=[],u,h,g,b)=>{const C=s.fold(()=>({}),I=>({action:I})),E={buttonBehaviours:At([xu.button(()=>!t.enabled||b.isDisabled()),ni(),ys.config({}),...g.map(I=>nr.config(b.tooltips.getConfig({tooltipText:b.translate(I)}))).toArray(),jn("button press",[oF("click")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...C},M=Us(E,{dom:u});return Us(M,{components:h})},IU=(t,s,a,u=[],h)=>{const g=t.tooltip.map(M=>({"aria-label":a.translate(M)})).getOr({}),b={tag:"button",classes:["tox-tbtn"],attributes:{...g,"data-mce-name":h}},C=t.icon.map(M=>tS(M,a.icons)),E=Np([C]);return h0(t,s,u,b,E,t.tooltip,a)},Fk=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},Tu=(t,s,a,u=[],h=[])=>{const g=a.translate(t.text),b=t.icon.map(te=>tS(te,a.icons)),C=[b.getOrThunk(()=>tr(g))],E=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),z={tag:"button",classes:[...Fk(E),...b.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...h],attributes:{"aria-label":g,"data-mce-name":t.text}},Q=t.icon.map(ie(g));return h0(t,s,u,z,C,Q,a)},p0=(t,s,a,u=[],h=[])=>{const g=Tu(t,P.some(s),a,u,h);return Ri.sketch(g)},g0=(t,s)=>a=>{s==="custom"?Sn(a,Zd,{name:t,value:{}}):s==="submit"?Qn(a,j1):s==="cancel"?Qn(a,tm):console.error("Unknown button type: ",s)},RU=(t,s)=>s==="menu",Hk=(t,s)=>s==="custom"||s==="cancel"||s==="submit",BU=(t,s)=>s==="togglebutton",zk=(t,s,a)=>{var u,h;const g=t.icon.map(Ae=>hh(Ae,s.icons)).map(Bo),b=Ae=>{Sn(Ae,Zd,{name:t.name,value:{setIcon:ft=>{g.map(rt=>rt.getOpt(Ae).each(Ht=>{In.set(Ht,[hh(ft,s.icons)])}))}}})},C=t.buttonType.getOr(t.primary?"primary":"secondary"),E={...t,name:(u=t.name)!==null&&u!==void 0?u:"",primary:C==="primary",tooltip:t.tooltip,enabled:(h=t.enabled)!==null&&h!==void 0?h:!1,borderless:!1},M=E.tooltip.or(t.text).map(Ae=>({"aria-label":s.translate(Ae)})).getOr({}),I=Fk(C??"secondary"),z=t.icon.isSome()&&t.text.isSome(),Q={tag:"button",classes:[...I.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...z?["tox-button--icon-and-text"]:[]],attributes:{...M,...ee(a)?{"data-mce-name":a}:{}}},te=[],le=s.translate(t.text.getOr("")),de=tr(le),ge=[...Np([g.map(Ae=>Ae.asSpec())]),...t.text.isSome()?[de]:[]],ke=h0(E,P.some(b),te,Q,ge,t.tooltip,s);return Ri.sketch(ke)},v0=(t,s,a)=>{if(RU(t,s)){const u=()=>b,h=t,g={...t,type:"menubutton",search:P.none(),onSetup:C=>(C.setEnabled(t.enabled),F),fetch:vU(h.items,u,a)},b=Bo(f0(g,"tox-tbtn",a,P.none(),!0,t.text.or(t.tooltip).getOrUndefined()));return b.asSpec()}else if(Hk(t,s)){const u=g0(t.name,s),h={...t,borderless:!1};return p0(h,u,a.shared.providers,[])}else{if(BU(t,s))return zk(t,a.shared.providers,t.text.or(t.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},Vk=(t,s)=>{const a=g0(t.name,"custom");return nL(P.none(),qo.parts.field({factory:Ri,...Tu(t,P.some(a),s,[Y2(""),Cu.self()])}))},$U={type:"separator"},FU=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:F}),sS=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:F}),HU=t=>Ue(t,FU),zU=(t,s)=>Dn(s,a=>a.type===t),rS=(t,s)=>HU(zU(t,s)),VU=t=>rS("header",t.targets),UU=t=>rS("anchor",t.targets),MI=t=>P.from(t.anchorTop).map(s=>sS("<top>",s)).toArray(),PI=t=>P.from(t.anchorBottom).map(s=>sS("<bottom>",s)).toArray(),WU=t=>Ue(t,s=>sS(s,s)),jU=t=>Vo(t,(s,a)=>s.length===0||a.length===0?s.concat(a):s.concat($U,a),[]),Uk=(t,s)=>{const a=t.toLowerCase();return Dn(s,u=>{var h;const g=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text,b=(h=u.value)!==null&&h!==void 0?h:"";return Qs(g.toLowerCase(),a)||Qs(b.toLowerCase(),a)})},ZU=(t,s,a)=>{var u,h;const g=Xt.getValue(s),b=(h=(u=g==null?void 0:g.meta)===null||u===void 0?void 0:u.text)!==null&&h!==void 0?h:g.value;return a.getLinkInformation().fold(()=>[],E=>{const M=Uk(b,WU(a.getHistory(t)));return t==="file"?jU([M,Uk(b,VU(E)),Uk(b,nn([MI(E),UU(E),PI(E)]))]):M})},Wk=Kt("aria-invalid"),id=(t,s,a,u)=>{const h=s.shared.providers,g=ke=>{const Ae=Xt.getValue(ke);a.addToHistory(Ae.value,t.filetype)},b={...u.map(ke=>({initialData:ke})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":Wk,type:"url"},minChars:0,responseTime:0,fetch:ke=>{const Ae=ZU(t.filetype,ke,a),ft=Av(Ae,wu.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:P.none()});return Bi.pure(ft)},getHotspot:ke=>le.getOpt(ke),onSetValue:(ke,Ae)=>{ke.hasConfigured(rd)&&rd.run(ke).get(F)},typeaheadBehaviours:At([...a.getValidationHandler().map(ke=>rd.config({getRoot:Ae=>na(Ae.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Ae,ft)=>{I.getOpt(Ae).each(rt=>{vn(rt.element,"title",h.translate(ft))})}},validator:{validate:Ae=>{const ft=Xt.getValue(Ae);return LU.nu(rt=>{ke({type:t.filetype,url:ft.value},Ht=>{if(Ht.status==="invalid"){const Gt=Xn.error(Ht.message);rt(Gt)}else{const Gt=Xn.value(Ht.message);rt(Gt)}})})},validateOnLoad:!1}})).toArray(),On.config({disabled:()=>!t.enabled||h.isDisabled()}),ys.config({}),jn("urlinput-events",[mt(Id(),ke=>{const Ae=Ff(ke.element),ft=Ae.trim();ft!==Ae&&tp(ke.element,ft),t.filetype==="file"&&Sn(ke,Qa,{name:t.name})}),mt(Sg(),ke=>{Sn(ke,Qa,{name:t.name}),g(ke)}),mt(yy(),ke=>{Sn(ke,Qa,{name:t.name}),g(ke)})])]),eventOrder:{[Id()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ke=>ke.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:E1(!1,1,"normal")},onExecute:(ke,Ae,ft)=>{Sn(Ae,j1,{})},onItemExecute:(ke,Ae,ft,rt)=>{g(ke),Sn(ke,Qa,{name:t.name})}},C=qo.parts.field({...b,factory:OI}),E=t.label.map(ke=>ah(ke,h)),I=Bo(((ke,Ae,ft=ke,rt=ke)=>sc(ft,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ke],attributes:{title:h.translate(rt),"aria-live":"polite",...Ae.fold(()=>({}),Ht=>({id:Ht}))}},h.icons))("invalid",P.some(Wk),"warning")),z=Bo({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[I.asSpec()]}),Q=a.getUrlPicker(t.filetype),te=Kt("browser.url.event"),le=Bo({dom:{tag:"div",classes:["tox-control-wrap"]},components:[C,z.asSpec()],behaviours:At([On.config({disabled:()=>!t.enabled||h.isDisabled()})])}),de=Bo(p0({name:t.name,icon:P.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:P.none(),borderless:!0},ke=>Qn(ke,te),h,[],["tox-browse-url"])),Ne=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:nn([[le.asSpec()],Q.map(()=>de.asSpec()).toArray()])}),ge=ke=>{ko.getCurrent(ke).each(Ae=>{const ft=Xt.getValue(Ae),rt={fieldname:t.name,...ft};Q.each(Ht=>{Ht(rt).get(Gt=>{Xt.setValue(Ae,Gt),Sn(ke,Qa,{name:t.name})})})})};return qo.sketch({dom:OV(),components:E.toArray().concat([Ne()]),fieldBehaviours:At([On.config({disabled:()=>!t.enabled||h.isDisabled(),onDisabled:ke=>{qo.getField(ke).each(On.disable),de.getOpt(ke).each(On.disable)},onEnabled:ke=>{qo.getField(ke).each(On.enable),de.getOpt(ke).each(On.enable)}}),ni(),jn("url-input-events",[mt(te,ge)])])})},jk=(t,s)=>{const a=ET(t.icon,s.icons);return sd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:a},components:t.url?[Ri.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:a,attributes:{title:s.translate(t.iconTooltip)}},action:u=>Sn(u,Zd,{name:"alert-banner",value:t.url}),buttonBehaviours:At([i2()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},qU=(t,s)=>{t.dom.checked=s},GU=t=>t.dom.checked,XU=(t,s,a)=>{const u=E=>(E.element.dom.click(),P.some(!0)),h=qo.parts.field({factory:{sketch:He},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:At([Cu.self(),On.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:E=>{na(E.element).each(M=>Nr(M,"tox-checkbox--disabled"))},onEnabled:E=>{na(E.element).each(M=>er(M,"tox-checkbox--disabled"))}}),ys.config({}),Pn.config({}),ik(a,GU,qU),bn.config({mode:"special",onEnter:u,onSpace:u,stopSpaceKeyup:!0}),jn("checkbox-events",[mt(Sg(),(E,M)=>{Sn(E,Qa,{name:t.name})})])])}),g=qo.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[tr(s.translate(t.label))],behaviours:At([Ev.config({})])}),b=E=>sc(E==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+E]},s.icons),C=Bo({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[b("checked"),b("unchecked")]});return qo.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[h,C.asSpec(),g],fieldBehaviours:At([On.config({disabled:()=>!t.enabled||s.isDisabled()}),ni()])})},YU=(t,s)=>{const a=["tox-form__group",...t.stretched?["tox-form__group--stretched"]:[]],u=jn("htmlpanel",[$s(h=>{t.onInit(h.element.dom)})]);return t.presets==="presentation"?sd.sketch({dom:{tag:"div",classes:a,innerHtml:t.html},containerBehaviours:At([nr.config({...s.tooltips.getConfig({tooltipText:"",onShow:h=>{Zs(h.element,"[data-mce-tooltip]:hover").orThunk(()=>Ha(h.element)).each(g=>{vr(g,"data-mce-tooltip").each(b=>{nr.setComponents(h,s.tooltips.getComponents({tooltipText:b}))})})}}),mode:"children-normal",anchor:h=>({type:"node",node:Zs(h.element,"[data-mce-tooltip]:hover").orThunk(()=>Ha(h.element).filter(g=>vr(g,"data-mce-tooltip").isSome())),root:h.element,layouts:{onLtr:ie([ti,di,ei,Ii,jr,Ki]),onRtl:ie([ti,di,ei,Ii,jr,Ki])},bubble:hu(0,-2,{})})}),u])}):sd.sketch({dom:{tag:"div",classes:a,innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:At([ys.config({}),Pn.config({}),u])})},oi=t=>(s,a,u,h,g)=>_t(a,"name").fold(()=>t(a,h,P.none(),g),b=>s.field(b,t(a,h,_t(u,b),g))),NI=t=>(s,a,u,h,g)=>{const b=Us(a,{source:"dynamic"});return oi(t)(s,b,u,h,g)},LI={bar:oi((t,s)=>EV(t,s.shared)),collection:oi((t,s,a)=>Cv(t,s.shared.providers,a)),alertbanner:oi((t,s)=>jk(t,s.shared.providers)),input:oi((t,s,a)=>lU(t,s.shared.providers,a)),textarea:oi((t,s,a)=>cU(t,s.shared.providers,a)),label:oi((t,s,a,u)=>nI(t,s.shared,u)),iframe:NI((t,s,a)=>U9(t,s.shared.providers,a)),button:oi((t,s)=>Vk(t,s.shared.providers)),checkbox:oi((t,s,a)=>XU(t,s.shared.providers,a)),colorinput:oi((t,s,a)=>$V(t,s.shared,s.colorinput,a)),colorpicker:oi((t,s,a)=>N9(t,s.shared.providers,a)),dropzone:oi((t,s,a)=>lk(t,s.shared.providers,a)),grid:oi((t,s)=>R9(t,s.shared)),listbox:oi((t,s,a)=>lI(t,s,a)),selectbox:oi((t,s,a)=>nU(t,s.shared.providers,a)),sizeinput:oi((t,s)=>fI(t,s.shared.providers)),slider:oi((t,s,a)=>mI(t,s.shared.providers,a)),urlinput:oi((t,s,a)=>id(t,s,s.urlinput,a)),customeditor:oi(qL),htmlpanel:oi((t,s)=>YU(t,s.shared.providers)),imagepreview:oi((t,s,a)=>gk(t,a)),table:oi((t,s)=>hI(t,s.shared.providers)),tree:oi((t,s)=>CU(t,s)),panel:oi((t,s)=>Q9(t,s))},IK={field:(t,s)=>s,record:ie([])},KU=(t,s,a,u,h)=>{const g=Us(u,{shared:{interpreter:b=>Ei(t,b,a,g,h)}});return Ei(t,s,a,g,h)},Ei=(t,s,a,u,h)=>_t(LI,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),g=>g(t,s,a,u,h)),iS=(t,s,a,u)=>Ei(IK,t,s,a,u),vh="layout-inset",Dv=t=>t.x,II=(t,s)=>t.x+t.width/2-s.width/2,Zk=(t,s)=>t.x+t.width-s.width,qk=t=>t.y,Gk=(t,s)=>t.y+t.height-s.height,RI=(t,s)=>t.y+t.height/2-s.height/2,aS=(t,s,a)=>yi(Zk(t,s),Gk(t,s),a.insetSouthwest(),Yt(),"southwest",Li(t,{right:0,bottom:3}),vh),lS=(t,s,a)=>yi(Dv(t),Gk(t,s),a.insetSoutheast(),zy(),"southeast",Li(t,{left:1,bottom:3}),vh),b0=(t,s,a)=>yi(Zk(t,s),qk(t),a.insetNorthwest(),fC(),"northwest",Li(t,{right:0,top:2}),vh),Mv=(t,s,a)=>yi(Dv(t),qk(t),a.insetNortheast(),Hy(),"northeast",Li(t,{left:1,top:2}),vh),Ml=(t,s,a)=>yi(II(t,s),qk(t),a.insetNorth(),Rb(),"north",Li(t,{top:2}),vh),Pv=(t,s,a)=>yi(II(t,s),Gk(t,s),a.insetSouth(),mC(),"south",Li(t,{bottom:3}),vh),Xk=(t,s,a)=>yi(Zk(t,s),RI(t,s),a.insetEast(),e4(),"east",Li(t,{right:0}),vh),BI=(t,s,a)=>yi(Dv(t),RI(t,s),a.insetWest(),QD(),"west",Li(t,{left:1}),vh),$I=t=>{switch(t){case"north":return Ml;case"northeast":return Mv;case"northwest":return b0;case"south":return Pv;case"southeast":return lS;case"southwest":return aS;case"east":return Xk;case"west":return BI}},FI=(t,s,a,u,h)=>c4(u).map($I).getOr(Ml)(t,s,a,u,h),JU=t=>{switch(t){case"north":return Pv;case"northeast":return lS;case"northwest":return aS;case"south":return Ml;case"southeast":return Mv;case"southwest":return b0;case"east":return BI;case"west":return Xk}},HI=(t,s,a,u,h)=>c4(u).map(JU).getOr(Ml)(t,s,a,u,h),cS={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},RK=(t,s,a)=>{const h={maxHeightFunction:Rg()},g=()=>({type:"node",root:ml(Hr(t())),node:P.from(t()),bubble:hu(12,12,cS),layouts:{onRtl:()=>[Mv],onLtr:()=>[b0]},overrides:h}),b=()=>({type:"hotspot",hotspot:s(),bubble:hu(-12,12,cS),layouts:{onRtl:()=>[ei,jr,ti],onLtr:()=>[jr,ei,ti]},overrides:h});return()=>a()?g():b()},QU=(t,s,a,u)=>{const g={maxHeightFunction:Rg()},b=()=>({type:"node",root:ml(Hr(s())),node:P.from(s()),bubble:hu(12,12,cS),layouts:{onRtl:()=>[Ml],onLtr:()=>[Ml]},overrides:g}),C=()=>t?{type:"node",root:ml(Hr(s())),node:P.from(s()),bubble:hu(0,-Za(s()),cS),layouts:{onRtl:()=>[di],onLtr:()=>[di]},overrides:g}:{type:"hotspot",hotspot:a(),bubble:hu(0,0,cS),layouts:{onRtl:()=>[di],onLtr:()=>[di]},overrides:g};return()=>u()?b():C()},eW=(t,s,a)=>{const u=()=>({type:"node",root:ml(Hr(t())),node:P.from(t()),layouts:{onRtl:()=>[Ml],onLtr:()=>[Ml]}}),h=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[ti],onLtr:()=>[ti]}});return()=>a()?u():h()},tW=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const a=t.selection.getRng(),u=t.model.table.getSelectedCells();if(u.length>1){const h=u[0],g=u[u.length-1],b={firstCell:pt.fromDom(h),lastCell:pt.fromDom(g)};return P.some(b)}return P.some(Hb.range(pt.fromDom(a.startContainer),a.startOffset,pt.fromDom(a.endContainer),a.endOffset))}}),zI=t=>s=>({type:"node",root:t(),node:s}),Yk=(t,s,a,u)=>{const h=iv(t),g=()=>pt.fromDom(t.getBody()),b=()=>pt.fromDom(t.getContentAreaContainer()),C=()=>h||!u();return{inlineDialog:RK(b,s,C),inlineBottomDialog:QU(t.inline,b,a,C),banner:eW(b,s,C),cursor:tW(t,g),node:zI(g)}},nW=t=>(s,a)=>{IN(t)(s,a)},oW=t=>()=>_N(t),VI=t=>s=>P2(t,s),sW=t=>s=>TN(t,s),rW=t=>({colorPicker:nW(t),hasCustomColors:oW(t),getColors:VI(t),getColorCols:sW(t)}),iW=t=>()=>K3(t),aW=t=>({isDraggableModal:iW(t)}),Kk=t=>{const s=un(h1(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},Jk=t=>Ws(t,"items"),UI=t=>Ws(t,"format"),WI=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],lW=t=>Gn(t,"items"),cW=t=>Gn(t,"block"),jI=t=>Gn(t,"inline"),uW=t=>Gn(t,"selector"),y0=t=>Vo(t,(s,a)=>{if(lW(a)){const u=y0(a.items);return{customFormats:s.customFormats.concat(u.customFormats),formats:s.formats.concat([{title:a.title,items:u.formats}])}}else if(jI(a)||cW(a)||uW(a)){const h=`custom-${T(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:h,format:a}]),formats:s.formats.concat([{title:a.title,format:h,icon:a.icon}])}}else return{...s,formats:s.formats.concat(a)}},{customFormats:[],formats:[]}),dW=(t,s)=>{const a=y0(s),u=h=>{wt(h,g=>{t.formatter.has(g.name)||t.formatter.register(g.name,g.format)})};return t.formatter?u(a.customFormats):t.on("init",()=>{u(a.customFormats)}),a.formats},w0=t=>H3(t).map(s=>{const a=dW(t,s);return z3(t)?WI.concat(a):a}).getOr(WI),fW=t=>{const s=ht(t);return s.length===1&&Ot(s,"title")},uS=(t,s,a)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:a(t.format)}),Nv=(t,s,a,u)=>{const h=E=>uS(E,a,u),g=E=>{const M=C(E.items);return{...E,type:"submenu",getStyleItems:ie(M)}},b=E=>{const M=T(E.name)?E.name:Kt(E.title),I=`custom-${M}`,z={...E,type:"formatter",format:I,isSelected:a(I),getStylePreview:u(I)};return t.formatter.register(M,z),z},C=E=>Ue(E,M=>Jk(M)?g(M):UI(M)?h(M):fW(M)?{...M,type:"separator"}:b(M));return C(s)},ZI=t=>{const s=C=>()=>t.formatter.match(C),a=C=>()=>{const E=t.formatter.get(C);return E!==void 0?P.some({tag:E.length>0&&(E[0].inline||E[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))}):P.none()},u=un([]),h=un([]),g=un(!1);return t.on("PreInit",C=>{const E=w0(t),M=Nv(t,E,s,a);u.set(M)}),t.on("addStyleModifications",C=>{const E=Nv(t,C.items,s,a);h.set(E),g.set(C.replace)}),{getData:()=>{const C=g.get()?[]:u.get(),E=h.get();return C.concat(E)}}},mW=t=>{let u=0;const h=()=>u>0,g=C=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[tr(C.tooltipText)]}];return{getConfig:C=>({delayForShow:()=>h()?60:300,delayForHide:ie(300),exclusive:!0,lazySink:t,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:g(C),onShow:(E,M)=>{u++,C.onShow&&C.onShow(E,M)},onHide:(E,M)=>{u--,C.onHide&&C.onHide(E,M)},onSetup:C.onSetup}),getComponents:g}},qI=t=>ee(t)&&t.nodeType===1,GI=rm.trim,Qk=t=>s=>!!(qI(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),hW=Qk("true"),eA=Qk("false"),S0=(t,s,a,u,h)=>({type:t,title:s,url:a,level:u,attach:h}),pW=t=>{let s=t;for(;s=s.parentNode;){const a=s.contentEditable;if(a&&a!=="inherit")return hW(s)}return!1},gW=(t,s)=>Ue(ua(pt.fromDom(s),t),a=>a.dom),Vp=t=>t.innerText||t.textContent,XI=t=>t.id?t.id:Kt("h"),vW=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,YI=t=>vW(t)&&fS(t),dS=t=>t&&/^(H[1-6])$/.test(t.nodeName),fS=t=>pW(t)&&!eA(t),bW=t=>dS(t)&&fS(t),yW=t=>dS(t)?parseInt(t.nodeName.substr(1),10):0,wW=t=>{var s;const a=XI(t),u=()=>{t.id=a};return S0("header",(s=Vp(t))!==null&&s!==void 0?s:"","#"+a,yW(t),u)},tA=t=>{const s=t.id||t.name,a=Vp(t);return S0("anchor",a||"#"+s,"#"+s,0,F)},SW=t=>Ue(Dn(t,bW),wW),xW=t=>Ue(Dn(t,YI),tA),CW=t=>gW("h1,h2,h3,h4,h5,h6,a:not([href])",t),EW=t=>GI(t.title).length>0,TW={find:t=>{const s=CW(t);return Dn(SW(s).concat(xW(s)),EW)}},mS="tinymce-url-history",nA=5,KI=t=>T(t)&&/^https?/.test(t),x0=t=>D(t)&&t.length<=nA&&Tr(t,KI),JI=t=>k(t)&&Lo(t,s=>!x0(s)).isNone(),QI=()=>{const t=Bp.getItem(mS);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+mS+" was not valid JSON",a),{};throw a}return JI(s)?s:(console.log("Local storage "+mS+" was not valid format",s),{})},oA=t=>{if(!JI(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Bp.setItem(mS,JSON.stringify(t))},eR=t=>{const s=QI();return _t(s,t).getOr([])},_W=(t,s)=>{if(!KI(t))return;const a=QI(),u=_t(a,s).getOr([]),h=Dn(u,g=>g!==t);a[s]=[t].concat(h).slice(0,nA),oA(a)},tR=t=>!!t,kW=t=>qt(rm.makeMap(t,/[, ]/),tR),sA=t=>P.from(G3(t)),AW=t=>{const s=P.from(YE(t)).filter(tR).map(kW);return sA(t).fold(Me,a=>s.fold(Oe,u=>ht(u).length>0?u:!1))},OW=(t,s)=>{const a=AW(t);return R(a)?a?sA(t):P.none():a[s]?sA(t):P.none()},DW=(t,s)=>OW(t,s).map(a=>u=>Bi.nu(h=>{const g=(C,E)=>{if(!T(C))throw new Error("Expected value to be string");if(E!==void 0&&!k(E))throw new Error("Expected meta to be a object");h({value:C,meta:E})},b={filetype:s,fieldname:u.fieldname,...P.from(u.meta).getOr({})};a.call(t,g,u.value,b)})),nR=t=>P.from(t).filter(T).getOrUndefined(),MW=t=>KE(t)?P.some({targets:TW.find(t.getBody()),anchorTop:nR(Y3(t)),anchorBottom:nR(Gw(t))}):P.none(),$K=t=>P.from(X3(t)),PW=t=>({getHistory:eR,addToHistory:_W,getLinkInformation:()=>MW(t),getValidationHandler:()=>$K(t),getUrlPicker:s=>DW(t,s)}),oR=(t,s,a,u)=>{const h=un(!1),g=Kk(s),b={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:oc.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get,tooltips:mW(t.dialog)},C=PW(s),E=ZI(s),M=rW(s),I=aW(s),z=()=>h.get(),Q=ge=>h.set(ge),te={shared:{providers:b,anchors:Yk(s,a,u,g.isPositionedAtTop),header:g},urlinput:C,styles:E,colorinput:M,dialog:I,isContextMenuOpen:z,setContextMenuState:Q},le=ge=>P.none(),de={...te,shared:{...te.shared,interpreter:ge=>iS(ge,{},de,le),getSink:t.popup}},Ne={...te,shared:{...te.shared,interpreter:ge=>iS(ge,{},Ne,le),getSink:t.dialog}};return{popup:de,dialog:Ne}},sR=(t,s,a)=>{const u=(ut,Qt)=>{wt([s,...a],Bt=>{Bt.broadcastEvent(ut,Qt)})},h=(ut,Qt)=>{wt([s,...a],Bt=>{Bt.broadcastOn([ut],Qt)})},g=ut=>h(jf(),{target:ut.target}),b=Wl(),C=za(b,"touchstart",g),E=za(b,"touchmove",ut=>u(nF(),ut)),M=za(b,"touchend",ut=>u(rD(),ut)),I=za(b,"mousedown",g),z=za(b,"mouseup",ut=>{ut.raw.button===0&&h(cw(),{target:ut.target})}),Q=ut=>h(jf(),{target:pt.fromDom(ut.target)}),te=ut=>{ut.button===0&&h(cw(),{target:pt.fromDom(ut.target)})},le=()=>{wt(t.editorManager.get(),ut=>{t!==ut&&ut.dispatch("DismissPopups",{relatedTarget:t})})},de=ut=>u(xy(),CC(ut)),Ne=ut=>{h(Wg(),{}),u(xg(),CC(ut))},ge=Hr(pt.fromDom(t.getElement())),ke=xC(ge,"scroll",ut=>{requestAnimationFrame(()=>{const Qt=t.getContainer();if(Qt!=null){const on=Kf(t,s.element).map(co=>[co.element,...co.others]).getOr([]);jt(on,co=>Uo(co,ut.target))&&(t.dispatch("ElementScroll",{target:ut.target.dom}),u(aD(),ut))}})}),Ae=()=>h(Wg(),{}),ft=ut=>{ut.state&&h(jf(),{target:pt.fromDom(t.getContainer())})},rt=ut=>{h(jf(),{target:pt.fromDom(ut.relatedTarget.getContainer())})},Ht=ut=>t.dispatch("focusin",ut),Gt=ut=>t.dispatch("focusout",ut);t.on("PostRender",()=>{t.on("click",Q),t.on("tap",Q),t.on("mouseup",te),t.on("mousedown",le),t.on("ScrollWindow",de),t.on("ResizeWindow",Ne),t.on("ResizeEditor",Ae),t.on("AfterProgressState",ft),t.on("DismissPopups",rt),wt([s,...a],ut=>{ut.element.dom.addEventListener("focusin",Ht),ut.element.dom.addEventListener("focusout",Gt)})}),t.on("remove",()=>{t.off("click",Q),t.off("tap",Q),t.off("mouseup",te),t.off("mousedown",le),t.off("ScrollWindow",de),t.off("ResizeWindow",Ne),t.off("ResizeEditor",Ae),t.off("AfterProgressState",ft),t.off("DismissPopups",rt),wt([s,...a],ut=>{ut.element.dom.removeEventListener("focusin",Ht),ut.element.dom.removeEventListener("focusout",Gt)}),I.unbind(),C.unbind(),E.unbind(),M.unbind(),z.unbind(),ke.unbind()}),t.on("detach",()=>{wt([s,...a],VC),wt([s,...a],ut=>ut.destroy())})},Lr=SH,ad=yH,NW=ie([Ie("shell",!1),it("makeItem"),Ie("setupItem",F),Pc.field("listBehaviours",[In])]),LW=Ql({name:"items",overrides:()=>({behaviours:At([In.config({})])})}),IW=ie([LW]),RW=ie("CustomList"),BW=(t,s,a,u)=>{const h=(C,E)=>{b(C).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},M=>{const I=In.contents(M),z=E.length,Q=z-I.length,te=Q>0?Hn(Q,()=>t.makeItem()):[],le=I.slice(z);wt(le,Ne=>In.remove(M,Ne)),wt(te,Ne=>In.append(M,Ne));const de=In.contents(M);wt(de,(Ne,ge)=>{t.setupItem(C,Ne,E[ge],ge)})})},g=t.shell?{behaviours:[In.config({})],components:[]}:{behaviours:[],components:s},b=C=>t.shell?P.some(C):kt(C,t,"items");return{uid:t.uid,dom:t.dom,components:g.components,behaviours:Ci(t.listBehaviours,g.behaviours),apis:{setItems:h}}},rR=Da({name:RW(),configFields:NW(),partFields:IW(),factory:BW,apis:{setItems:(t,s,a)=>{t.setItems(s,a)}}}),Up=ie([it("dom"),Ie("shell",!0),xi("toolbarBehaviours",[In])]),FW=ie([Ql({name:"groups",overrides:()=>({behaviours:At([In.config({})])})})]),iR=(t,s,a,u)=>{const h=(C,E)=>{g(C).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},M=>{In.set(M,E)})},g=C=>t.shell?P.some(C):kt(C,t,"groups"),b=t.shell?{behaviours:[In.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:b.components,behaviours:Ci(t.toolbarBehaviours,b.behaviours),apis:{setGroups:h,refresh:F},domModification:{attributes:{role:"group"}}}},ld=Da({name:"Toolbar",configFields:Up(),partFields:FW(),factory:iR,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)}}}),HW=F,zW=Me,bh=ie([]);var aR=Object.freeze({__proto__:null,setup:HW,isDocked:zW,getBehaviours:bh});const Wp=ie(Kt("toolbar-height-change")),Uc={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},rA="tox-tinymce--toolbar-sticky-on",iA="tox-tinymce--toolbar-sticky-off",lR=(t,s)=>{const a=Fr(s),h=Or(s).dom.innerHeight,g=ji(a),b=pt.fromDom(t.elm),C=lu(b),E=fs(b),M=C.y,I=M+E,z=Vi(s),Q=fs(s),te=z.top,le=te+Q,de=Math.abs(te-g.top)<2,Ne=Math.abs(le-(g.top+h))<2;if(de&&M<le)zu(g.left,M-Q,a);else if(Ne&&I>te){const ge=M-h+E+Q;zu(g.left,ge,a)}},aA=(t,s)=>Ot(Ms.getModes(t),s),lA=t=>{const s=u=>Za(u)+(parseInt(ts(u,"margin-top"),10)||0)+(parseInt(ts(u,"margin-bottom"),10)||0),a=t.element;na(a).each(u=>{const h="padding-"+Ms.getModes(t)[0];if(Ms.isDocked(t)){const g=ki(u);gt(a,"width",g+"px"),gt(u,h,s(a)+"px")}else Zn(a,"width"),Zn(u,h)})},cR=(t,s)=>{s?(er(t,Uc.fadeOutClass),kg(t,[Uc.transitionClass,Uc.fadeInClass])):(er(t,Uc.fadeInClass),kg(t,[Uc.fadeOutClass,Uc.transitionClass]))},uR=(t,s)=>{const a=pt.fromDom(t.getContainer());s?(Nr(a,rA),er(a,iA)):(Nr(a,iA),er(a,rA))},VW=(t,s)=>{const a=Fr(s);Ju(a).filter(u=>!Uo(s,u)).filter(u=>Uo(u,pt.fromDom(a.dom.body))||Rl(t,u)).each(()=>Oc(s))},UW=(t,s)=>Ha(t).orThunk(()=>s().toOptional().bind(a=>Ha(a.element))),Lv=(t,s,a)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{a().each(Ms.reset)}),t.on("ResizeWindow ResizeEditor",()=>{a().each(lA)}),t.on("SkinLoaded",()=>{a().each(u=>{Ms.isDocked(u)?Ms.reset(u):Ms.refresh(u)})}),t.on("FullscreenStateChanged",()=>{a().each(Ms.reset)})),t.on("AfterScrollIntoView",u=>{a().each(h=>{Ms.refresh(h);const g=h.element;DM(g)&&lR(u,g)})}),t.on("PostRender",()=>{uR(t,!1)})},C0=t=>t().map(Ms.isDocked).getOr(!1),cA=()=>[Ka.config({channels:{[Wp()]:{onReceive:lA}}})],dR=(t,s)=>{const a=cs(),u=s.getSink,h=C=>{u().each(E=>C(E.element))},g=C=>{t.inline||lA(C),uR(t,Ms.isDocked(C)),C.getSystem().broadcastOn([Wg()],{}),u().each(E=>E.getSystem().broadcastOn([Wg()],{}))},b=t.inline?[]:cA();return[Pn.config({}),Ms.config({contextual:{lazyContext:C=>{const E=Za(C.element),M=t.inline?t.getContentAreaContainer():t.getContainer();return P.from(M).map(I=>{const z=Ks(pt.fromDom(I));return Kf(t,C.element).fold(()=>{const te=z.height-E,le=z.y+(aA(C,"top")?0:E);return Vs(z.x,le,z.width,te)},te=>{const le=_f(z,_p(te)),de=aA(C,"top")?le.y:le.y+E;return Vs(le.x,de,le.width,le.height-E)})})},onShow:()=>{h(C=>cR(C,!0))},onShown:C=>{h(E=>Ku(E,[Uc.transitionClass,Uc.fadeInClass])),a.get().each(E=>{VW(C.element,E),a.clear()})},onHide:C=>{UW(C.element,u).fold(a.clear,a.set),h(E=>cR(E,!1))},onHidden:()=>{h(C=>Ku(C,[Uc.transitionClass]))},...Uc},lazyViewport:C=>Kf(t,C.element).fold(()=>{const M=ur(),I=Z3(t),z=M.y+(aA(C,"top")?I:0),Q=M.height-(aA(C,"bottom")?I:0);return{bounds:Vs(M.x,z,M.width,Q),optScrollEnv:P.none()}},M=>({bounds:_p(M),optScrollEnv:P.some({currentScrollTop:M.element.dom.scrollTop,scrollElmTop:Vi(M.element).top})})),modes:[s.header.getDockingMode()],onDocked:g,onUndocked:g}),...b]};var WW=Object.freeze({__proto__:null,setup:Lv,isDocked:C0,getBehaviours:dR});const uA=t=>{const s=t.editor,a=t.sticky?dR:bh;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:At(a(s,t.sharedBackstage))}},jW=Y([pr,lo("items",j([nt([v2,br("items",at)]),at]))].concat(fa)),E0=t=>Yn("GroupToolbarButton",jW,t),fR=[Qr("text"),Qr("tooltip"),Qr("icon"),vl("search",!1,j([Tn,Y([Qr("placeholder")])],t=>R(t)?t?P.some({placeholder:P.none()}):P.none():P.some(t))),Pi("fetch"),ks("onSetup",()=>F)],mR=Y([pr,...fR]),hR=t=>Yn("menubutton",mR,t),ZW=Y([pr,uv,$c,em,H8,R8,Mp,_c("presets","normal",["normal","color","listpreview"]),RP(1),oh,IP]),qW=t=>Yn("SplitButton",ZW,t);var dA=Al({factory:(t,s)=>{const a=(h,g)=>{const b=Ue(g,C=>{const E={type:"menubutton",text:C.text,fetch:I=>{I(C.getItems())}},M=hR(E).mapError(I=>Ts(I)).getOrDie();return f0(M,"tox-mbtn",s.backstage,P.some("menuitem"))});In.set(h,b)},u={focus:bn.focusIn,setMenus:a};return{uid:t.uid,dom:t.dom,components:[],behaviours:At([In.config({}),jn("menubar-events",[$s(h=>{t.onSetup(h)}),mt(Ld(),(h,g)=>{Zs(h.element,".tox-mbtn--active").each(b=>{zd(g.event.target,".tox-mbtn").each(C=>{Uo(b,C)||h.getSystem().getByDom(b).each(E=>{h.getSystem().getByDom(C).each(M=>{zc.expand(M),zc.close(E),Pn.focus(M)})})})})}),mt(Cg(),(h,g)=>{g.event.prevFocus.bind(b=>h.getSystem().getByDom(b).toOptional()).each(b=>{g.event.newFocus.bind(C=>h.getSystem().getByDom(C).toOptional()).each(C=>{zc.isOpen(b)&&(zc.expand(C),zc.close(b))})})})]),bn.config({mode:"flow",selector:".tox-mbtn",onEscape:h=>(t.onEscape(h),P.some(!0))}),ys.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[it("dom"),it("uid"),it("onEscape"),it("backstage"),Ie("onSetup",F)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,a)=>{t.setMenus(s,a)}}});const pR="⚡️Upgrade",gR="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",fA=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:gR,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:pR}}]}),vR="container",hS=[xi("slotBehaviours",[])],T0=t=>"<alloy.field."+t+">",bR=t=>{const s=(()=>{const g=[];return{slot:(C,E)=>(g.push(C),lE(vR,T0(C),E)),record:ie(g)}})(),a=t(s),u=s.record(),h=Ue(u,g=>Ji({name:g,pname:T0(g)}));return hp(vR,hS,h,GW,a)},GW=(t,s)=>{const a=de=>Xb(t),u=(de,Ne)=>kt(de,t,Ne),h=(de,Ne)=>(ge,ke)=>kt(ge,t,ke).map(Ae=>de(Ae,ke)).getOr(Ne),g=de=>(Ne,ge)=>{wt(ge,ke=>de(Ne,ke))},b=(de,Ne)=>Mn(de.element,"aria-hidden")!=="true",C=(de,Ne)=>{if(!b(de)){const ge=de.element;Zn(ge,"display"),W(ge,"aria-hidden"),Sn(de,Tx(),{name:Ne,visible:!0})}},E=(de,Ne)=>{if(b(de)){const ge=de.element;gt(ge,"display","none"),vn(ge,"aria-hidden","true"),Sn(de,Tx(),{name:Ne,visible:!1})}},M=h(b,!1),I=h(E),z=g(I),Q=de=>z(de,a()),te=h(C),le={getSlotNames:a,getSlot:u,isShowing:M,hideSlot:I,hideAllSlots:Q,showSlot:te};return{uid:t.uid,dom:t.dom,components:s,behaviours:qb(t.slotBehaviours),apis:le}},ha={...qt({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,a)=>t.getSlot(s,a),isShowing:(t,s,a)=>t.isShowing(s,a),hideSlot:(t,s,a)=>t.hideSlot(s,a),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,a)=>t.showSlot(s,a)},t=>Iy(t)),sketch:bR},XW=Y([$c,uv,ks("onShow",F),ks("onHide",F),Mp]),mA=t=>Yn("sidebar",XW,t),hA=t=>{const{sidebars:s}=t.ui.registry.getAll();wt(ht(s),a=>{const u=s[a],h=()=>Xs(P.from(t.queryCommandValue("ToggleSidebar")),a);t.ui.registry.addToggleButton(a,{icon:u.icon,tooltip:u.tooltip,onAction:g=>{t.execCommand("ToggleSidebar",!1,a),g.setActive(h())},onSetup:g=>{g.setActive(h());const b=()=>g.setActive(h());return t.on("ToggleSidebar",b),()=>{t.off("ToggleSidebar",b)}}})})},YW=t=>({element:()=>t.element.dom}),pA=(t,s)=>{const a=Ue(ht(s),u=>{const h=s[u],g=ot(mA(h));return{name:u,getApi:YW,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return Ue(a,u=>{const h=un(F);return t.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:mv.unnamedEvents([ma(u,h),rh(u,h),mt(Tx(),(g,b)=>{const C=b.event;It(a,M=>M.name===C.name).each(M=>{(C.visible?M.onShow:M.onHide)(M.getApi(g))})})])})})},KW=t=>ha.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:pA(s,t),slotBehaviours:mv.unnamedEvents([$s(a=>ha.hideAllSlots(a))])})),JW=(t,s,a)=>{ko.getCurrent(t).each(h=>{In.set(h,[KW(s)]);const g=a==null?void 0:a.toLowerCase();T(g)&&Gn(s,g)&&ko.getCurrent(h).each(b=>{ha.showSlot(b,g),Pa.immediateGrow(h),Zn(h.element,"width"),pS(t.element,"region")})})},pS=(t,s)=>{vn(t,"role",s)},QW=(t,s)=>{ko.getCurrent(t).each(u=>{ko.getCurrent(u).each(g=>{Pa.hasGrown(u)?ha.isShowing(g,s)?(Pa.shrink(u),pS(t.element,"presentation")):(ha.hideAllSlots(g),ha.showSlot(g,s),pS(t.element,"region")):(ha.hideAllSlots(g),ha.showSlot(g,s),Pa.grow(u),pS(t.element,"region"))})})},ej=t=>ko.getCurrent(t).bind(a=>Pa.isGrowing(a)||Pa.hasGrown(a)?ko.getCurrent(a).bind(g=>It(ha.getSlotNames(g),b=>ha.isShowing(g,b))):P.none()),yR=Kt("FixSizeEvent"),wR=Kt("AutoSizeEvent"),SR=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:At([ys.config({}),Pn.config({}),Pa.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{ko.getCurrent(s).each(ha.hideAllSlots),Qn(s,wR)},onGrown:s=>{Qn(s,wR)},onStartGrow:s=>{Sn(s,yR,{width:vs(s.element,"width").getOr("")})},onStartShrink:s=>{Sn(s,yR,{width:ki(s.element)+"px"})}}),In.config({}),ko.config({find:s=>{const a=In.contents(s);return Ce(a)}})])}],behaviours:At([Cu.childAt(0),jn("sidebar-sliding-events",[mt(yR,(s,a)=>{gt(s.element,"width",a.event.width)}),mt(wR,(s,a)=>{Zn(s.element,"width")})])])});var nj=Object.freeze({__proto__:null,block:(t,s,a,u)=>{vn(t.element,"aria-busy",!0);const h=s.getRoot(t).getOr(t),g=At([bn.config({mode:"special",onTab:()=>P.some(!0),onShiftTab:()=>P.some(!0)}),Pn.config({})]),b=u(h,g),C=h.getSystem().build(b);In.append(h,Xl(C)),C.hasConfigured(bn)&&s.focus&&bn.focusIn(C),a.isBlocked()||s.onBlock(t),a.blockWith(()=>In.remove(h,C))},unblock:(t,s,a)=>{W(t.element,"aria-busy"),a.isBlocked()&&s.onUnblock(t),a.clear()},isBlocked:(t,s,a)=>a.isBlocked()}),oj=[ks("getRoot",P.none),yr("focus",!0),Eo("onBlock"),Eo("onUnblock")],sj=Object.freeze({__proto__:null,init:()=>{const t=Af(),s=a=>{t.set({destroy:a})};return xl({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const _u=Ni({fields:oj,name:"blocking",apis:nj,state:sj}),rj=t=>(s,a)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:ed('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),xR=t=>ko.getCurrent(t).each(s=>Oc(s.element,!0)),ij=(t,s)=>{const a="tabindex",u=`data-mce-${a}`;P.from(t.iframeElement).map(pt.fromDom).each(h=>{s?(vr(h,a).each(g=>vn(h,u,g)),vn(h,a,-1)):(W(h,a),vr(h,u).each(g=>{vn(h,a,g),W(h,u)}))})},jK=(t,s,a,u)=>{const h=s.element;if(ij(t,a),a)_u.block(s,rj(u)),Zn(h,"display"),W(h,"aria-hidden"),t.hasFocus()&&xR(s);else{const g=ko.getCurrent(s).exists(b=>Bb(b.element));_u.unblock(s),gt(h,"display","none"),vn(h,"aria-hidden","true"),g&&t.focus()}},ZK=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:At([In.config({}),_u.config({focus:!1}),ko.config({find:s=>Ce(s.components())})]),components:[]}),CR=t=>t.type==="focusin",ER=t=>CR(t)?(t.composed?Ce(t.composedPath()):P.from(t.target)).map(pt.fromDom).filter(To).exists(a=>Cl(a,"mce-pastebin")):!1,aj=(t,s,a)=>{const u=un(!1),h=cs(),g=C=>{u.get()&&!ER(C)&&(C.preventDefault(),xR(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",g),t.on("BeforeExecCommand",C=>{C.command.toLowerCase()==="mcefocus"&&C.value!==!0&&g(C)})});const b=C=>{C!==u.get()&&(u.set(C),jK(t,s(),C,a.providers),hz(t,C))};t.on("ProgressState",C=>{if(h.on(clearTimeout),re(C.time)){const E=sv.setEditorTimeout(t,()=>b(C.state),C.time);h.set(E)}else b(C.state),h.clear()})},lj=(t,s)=>Vo(t,(h,g)=>s(g,h.len).fold(ie(h),C=>({len:C.finish,list:h.list.concat([C])})),{len:0,list:[]}).list,el=(t,s,a)=>({within:t,extra:s,withinWidth:a}),TR=(t,s,a)=>{const u=lj(t,(C,E)=>{const M=a(C);return P.some({element:C,start:E,finish:E+M,width:M})}),h=Dn(u,C=>C.finish<=s),g=Cs(h,(C,E)=>C+E.width,0),b=u.slice(h.length);return{within:h,extra:b,withinWidth:g}},_0=t=>Ue(t,s=>s.element),_R=(t,s,a)=>{const u=_0(t.concat(s));return el(u,[],a)},cj=(t,s,a,u)=>{const h=_0(t).concat([a]);return el(h,_0(s),u)},k0=(t,s,a)=>el(_0(t),[],a),uj=(t,s,a)=>{const u=TR(s,t,a);return u.extra.length===0?P.some(u):P.none()},gS=(t,s,a,u)=>{const h=uj(t,s,a).getOrThunk(()=>TR(s,t-a(u),a)),g=h.within,b=h.extra,C=h.withinWidth;return b.length===1&&b[0].width<=a(u)?_R(g,b,C):b.length>=1?cj(g,b,u,C):k0(g,b,C)},kR=(t,s)=>{const a=Ue(s,u=>Xl(u));ld.setGroups(t,a)},vS=t=>bt(t,s=>Ha(s.element).bind(a=>s.getSystem().getByDom(a).toOptional())),AR=(t,s,a)=>{const u=s.builtGroups.get();if(u.length===0)return;const h=ec(t,s,"primary"),g=hr.getCoupled(t,"overflowGroup");gt(h.element,"visibility","hidden");const b=u.concat([g]),C=vS(b);a([]),kR(h,b);const E=ki(h.element),M=gS(E,s.builtGroups.get(),I=>Math.ceil(I.element.dom.getBoundingClientRect().width),g);M.extra.length===0?(In.remove(h,g),a([])):(kR(h,M.within),a(M.extra)),Zn(h.element,"visibility"),zi(h.element),C.each(Pn.focus)},OR=ie([xi("splitToolbarBehaviours",[hr]),ao("builtGroups",()=>un([]))]),Wc=ie([Jh(["overflowToggledClass"]),du("getOverflowBounds"),it("lazySink"),ao("overflowGroups",()=>un([])),Eo("onOpened"),Eo("onClosed")].concat(OR())),dj=ie([Ji({factory:ld,schema:Up(),name:"primary"}),Nc({schema:Up(),name:"overflow"}),Nc({name:"overflow-button"}),Nc({name:"overflow-group"})]),Iv=ie((t,s)=>{ig(t,Math.floor(s))}),DR=ie([Jh(["toggledClass"]),it("lazySink"),Pi("fetch"),du("getBounds"),Ds("fireDismissalEventInstead",[Ie("event",Vh())]),Hm(),Eo("onToggled")]),MR=ie([Nc({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:At([eo.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),Nc({factory:ld,schema:Up(),name:"toolbar",overrides:t=>({toolbarBehaviours:At([bn.config({mode:"cyclic",onEscape:s=>(kt(s,t,"button").each(Pn.focus),P.none())})])})})]),bS=cs(),PR=(t,s)=>{bS.set(!0),gA(t,s),bS.clear()},gA=(t,s)=>{const a=hr.getCoupled(t,"toolbarSandbox");Do.isOpen(a)?Do.close(a):Do.open(a,s.toolbar())},vA=(t,s,a,u)=>{const h=a.getBounds.map(b=>b()),g=a.lazySink(t).getOrDie();da.positionWithinBounds(g,s,{anchor:{type:"hotspot",hotspot:t,layouts:u,overrides:{maxWidthFunction:Iv()}}},h)},NR=(t,s,a,u,h)=>{ld.setGroups(s,h),vA(t,s,a,u),eo.on(t)},fj=(t,s,a)=>{const u=uC(),h=(b,C)=>{const E=bS.get().getOr(!1);a.fetch().get(M=>{NR(t,C,a,s.layouts,M),u.link(t.element),E||bn.focusIn(C)})},g=()=>{eo.off(t),bS.get().getOr(!1)||Pn.focus(t),u.unlink(t.element)};return{dom:{tag:"div",attributes:{id:u.id}},behaviours:At([bn.config({mode:"special",onEscape:b=>(Do.close(b),P.some(!0))}),Do.config({onOpen:h,onClose:g,isPartOf:(b,C,E)=>op(C,E)||op(t,E),getAttachPoint:()=>a.lazySink(t).getOrDie()}),Ka.config({channels:{...jm({isExtraPart:Me,...a.fireDismissalEventInstead.map(b=>({fireEventInstead:{event:b.event}})).getOr({})}),...JC({doReposition:()=>{Do.getState(hr.getCoupled(t,"toolbarSandbox")).each(b=>{vA(t,b,a,s.layouts)})}})}})])}},yh=Da({name:"FloatingToolbarButton",factory:(t,s,a,u)=>({...Ri.sketch({...u.button(),action:h=>{gA(h,u)},buttonBehaviours:Pc.augment({dump:u.button().buttonBehaviours},[hr.config({others:{toolbarSandbox:h=>fj(h,a,t)}})])}),apis:{setGroups:(h,g)=>{Do.getState(hr.getCoupled(h,"toolbarSandbox")).each(b=>{NR(h,b,t,a.layouts,g)})},reposition:h=>{Do.getState(hr.getCoupled(h,"toolbarSandbox")).each(g=>{vA(h,g,t,a.layouts)})},toggle:h=>{gA(h,u)},toggleWithoutFocusing:h=>{PR(h,u)},getToolbar:h=>Do.getState(hr.getCoupled(h,"toolbarSandbox")),isOpen:h=>Do.isOpen(hr.getCoupled(h,"toolbarSandbox"))}}),configFields:DR(),partFields:MR(),apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),mj=ie([it("items"),Jh(["itemSelector"]),xi("tgroupBehaviours",[bn])]),LR=ie([Sw({name:"items",unit:"item"})]),IR=(t,s,a,u)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Ci(t.tgroupBehaviours,[bn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),A0=Da({name:"ToolbarGroup",configFields:mj(),partFields:LR(),factory:IR}),RR=t=>Ue(t,s=>Xl(s)),BR=(t,s,a)=>{AR(t,a,u=>{a.overflowGroups.set(u),s.getOpt(t).each(h=>{yh.setGroups(h,RR(u))})})},$R=(t,s,a,u)=>{const h=Bo(yh.sketch({fetch:()=>Bi.nu(g=>{g(RR(t.overflowGroups.get()))}),layouts:{onLtr:()=>[jr,ei],onRtl:()=>[ei,jr],onBottomLtr:()=>[Ki,Ii],onBottomRtl:()=>[Ii,Ki]},getBounds:a.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()},onToggled:(g,b)=>t[b?"onOpened":"onClosed"](g)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:Ci(t.splitToolbarBehaviours,[hr.config({others:{overflowGroup:()=>A0.sketch({...u["overflow-group"](),items:[h.asSpec()]})}})]),apis:{setGroups:(g,b)=>{t.builtGroups.set(Ue(b,g.getSystem().build)),BR(g,h,t)},refresh:g=>BR(g,h,t),toggle:g=>{h.getOpt(g).each(b=>{yh.toggle(b)})},toggleWithoutFocusing:g=>{h.getOpt(g).each(yh.toggleWithoutFocusing)},isOpen:g=>h.getOpt(g).map(yh.isOpen).getOr(!1),reposition:g=>{h.getOpt(g).each(b=>{yh.reposition(b)})},getOverflow:g=>h.getOpt(g).bind(yh.getToolbar)},domModification:{attributes:{role:"group"}}}},bA=Da({name:"SplitFloatingToolbar",configFields:Wc(),partFields:dj(),factory:$R,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),FR=ie([Jh(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Eo("onOpened"),Eo("onClosed")].concat(OR())),hj=ie([Ji({factory:ld,schema:Up(),name:"primary"}),Ji({factory:ld,schema:Up(),name:"overflow",overrides:t=>({toolbarBehaviours:At([Pa.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{kt(s,t,"overflow-button").each(a=>{eo.off(a)}),t.onClosed(s)},onGrown:s=>{t.onOpened(s)},onStartGrow:s=>{kt(s,t,"overflow-button").each(eo.on)}}),bn.config({mode:"acyclic",onEscape:s=>(kt(s,t,"overflow-button").each(Pn.focus),P.some(!0))})])})}),Nc({name:"overflow-button",overrides:t=>({buttonBehaviours:At([eo.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Nc({name:"overflow-group"})]),pj=(t,s)=>kt(t,s,"overflow").map(Pa.hasGrown).getOr(!1),yA=(t,s,a)=>{kt(t,s,"overflow-button").each(u=>{kt(t,s,"overflow").each(h=>{if(yS(t,s),Pa.hasShrunk(h)){const g=s.onOpened;s.onOpened=b=>{a||bn.focusIn(h),g(b),s.onOpened=g}}else{const g=s.onClosed;s.onClosed=b=>{a||Pn.focus(u),g(b),s.onClosed=g}}Pa.toggleGrow(h)})})},yS=(t,s)=>{kt(t,s,"overflow").each(a=>{AR(t,s,u=>{const h=Ue(u,g=>Xl(g));ld.setGroups(a,h)}),kt(t,s,"overflow-button").each(u=>{Pa.hasGrown(a)&&eo.on(u)}),Pa.refresh(a)})},gj=(t,s,a,u)=>{const h="alloy.toolbar.toggle",g=(b,C)=>{const E=Ue(C,b.getSystem().build);t.builtGroups.set(E)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Ci(t.splitToolbarBehaviours,[hr.config({others:{overflowGroup:b=>A0.sketch({...u["overflow-group"](),items:[Ri.sketch({...u["overflow-button"](),action:C=>{Qn(b,h)}})]})}}),jn("toolbar-toggle-events",[mt(h,b=>{yA(b,t,!1)})])]),apis:{setGroups:(b,C)=>{g(b,C),yS(b,t)},refresh:b=>yS(b,t),toggle:b=>{yA(b,t,!1)},toggleWithoutFocusing:b=>{yA(b,t,!0)},isOpen:b=>pj(b,t)},domModification:{attributes:{role:"group"}}}},wA=Da({name:"SplitSlidingToolbar",configFields:FR(),partFields:hj(),factory:gj,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),HR=t=>{const s=t.title.fold(()=>({}),a=>({attributes:{title:a}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[A0.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:At([ys.config({}),Pn.config({})])}},wS=t=>A0.sketch(HR(t)),zR=(t,s)=>{const a=$s(u=>{const h=Ue(t.initGroups,wS);ld.setGroups(u,h)});return At([xu.toolbarButton(t.providers.isDisabled),ni(),bn.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),jn("toolbar-events",[a])])},VR=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":HR({title:P.none(),items:[]}),"overflow-button":IU({name:"more",icon:P.some("more-drawer"),enabled:!0,tooltip:P.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:P.none(),borderless:!1},P.none(),t.providers,[],"overflow-button")},splitToolbarBehaviours:zR(t,s)}},vj=t=>{const s=VR(t),a=4,u=bA.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return bA.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const h=t.moreDrawerData.lazyHeader().element,g=lu(h),b=eu(h),C=lu(b),E=Math.max(b.dom.scrollHeight,C.height);return Vs(g.x+a,C.y,g.width-a*2,E)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:h=>t.onToggled(h,!0),onClosed:h=>t.onToggled(h,!1)})},bj=t=>{const s=wA.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=wA.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=VR(t);return wA.sketch({...u,components:[s,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:h=>{h.getSystem().broadcastOn([Wp()],{type:"opened"}),t.onToggled(h,!0)},onClosed:h=>{h.getSystem().broadcastOn([Wp()],{type:"closed"}),t.onToggled(h,!1)}})},SS=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return ld.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Ic.scrolling?["tox-toolbar--scrolling"]:[])},components:[ld.parts.groups({})],toolbarBehaviours:zR(t,s)})},UR=[em,$c,Qr("tooltip"),_c("buttonType","secondary",["primary","secondary"]),yr("borderless",!1),Pi("onAction")],WR=[...UR,Qf,fr("type",["button"])],yj=[...UR,yr("active",!1),fr("type",["togglebutton"])],jR={button:WR,togglebutton:yj},SA=[fr("type",["group"]),Pd("buttons",[],_o("type",jR))],wj=_o("type",{...jR,group:SA}),xS=Y([Pd("buttons",[],wj),Pi("onShow"),Pi("onHide")]),Sj=t=>Yn("view",xS,t),ZR=(t,s)=>{var a,u;const h=t.type==="togglebutton",g=t.icon.map(Ae=>hh(Ae,s.icons)).map(Bo),C=Ae=>{const ft=Gt=>{g.map(ut=>ut.getOpt(Ae).each(Qt=>{In.set(Qt,[hh(Gt,s.icons)])}))},rt=Gt=>{const ut=Ae.element;Gt?(Nr(ut,"tox-button--enabled"),vn(ut,"aria-pressed",!0)):(er(ut,"tox-button--enabled"),W(ut,"aria-pressed"))},Ht=()=>Cl(Ae.element,"tox-button--enabled");if(h)return t.onAction({setIcon:ft,setActive:rt,isActive:Ht});if(t.type==="button")return t.onAction({setIcon:ft})},E={...t,name:h?t.text.getOr(t.icon.getOr("")):(a=t.text)!==null&&a!==void 0?a:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:P.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},M=Fk((u=t.buttonType)!==null&&u!==void 0?u:"secondary"),I=h?t.text.map(s.translate):P.some(s.translate(t.text)),z=I.map(tr),Q=E.tooltip.or(I).map(Ae=>({"aria-label":s.translate(Ae)})).getOr({}),te=g.map(Ae=>Ae.asSpec()),le=Np([te,z]),de=t.icon.isSome()&&z.isSome(),Ne={tag:"button",classes:M.concat(...t.icon.isSome()&&!de?["tox-button--icon"]:[]).concat(...de?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:Q},ge=[],ke=h0(E,P.some(C),ge,Ne,le,t.tooltip,s);return Ri.sketch(ke)},qR=(t,s)=>ZR(t,s),xj=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ue(t.buttons,a=>qR(a,s))}),Cj=so().deviceType,Ej=Cj.isPhone(),Tj=Cj.isTablet(),xA=t=>{let s=!1;const a=Ue(t.buttons,u=>u.type==="group"?(s=!0,xj(u,t.providers)):qR(u,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...Ej||Tj?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:At([Pn.config({}),bn.config({mode:"flow",selector:"button, .tox-button",focusInside:gp.OnEnterOrSpaceMode})]),components:s?a:[sd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),sd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}},_j=t=>({uid:t.uid,behaviours:At([Pn.config({}),ys.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),CS=(t,s,a,u)=>{const h={getPane:g=>Lr.getPart(g,t,"pane"),getOnShow:g=>t.viewConfig.onShow,getOnHide:g=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,behaviours:At([Pn.config({}),bn.config({mode:"cyclic",focusInside:gp.OnEnterOrSpaceMode})]),apis:h}};var jp=Da({name:"silver.View",configFields:[it("viewConfig")],partFields:[Ql({factory:{sketch:xA},schema:[it("buttons"),it("providers")],name:"header"}),Ql({factory:{sketch:_j},schema:[],name:"pane"})],factory:CS,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const GR=(t,s,a)=>ls(s,(u,h)=>{const g=ot(Sj(u));return t.slot(h,jp.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:g,components:[...g.buttons.length>0?[jp.parts.header({buttons:g.buttons,providers:a})]:[],jp.parts.pane({})]}))}),CA=(t,s)=>ha.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:GR(a,t,s),slotBehaviours:mv.unnamedEvents([$s(u=>ha.hideAllSlots(u))])})),XR=t=>It(ha.getSlotNames(t),s=>ha.isShowing(t,s)),YR=t=>{const s=t.element;gt(s,"display","none"),vn(s,"aria-hidden","true")},Rv=t=>{const s=t.element;Zn(s,"display"),W(s,"aria-hidden")},KR=t=>({getContainer:ie(t)}),JR=(t,s,a)=>{ha.getSlot(t,s).each(u=>{jp.getPane(u).each(h=>{a(u)(KR(h.element.dom))})})},kj=(t,s)=>JR(t,s,jp.getOnShow),Aj=(t,s)=>JR(t,s,jp.getOnHide);var ES=Al({factory:(t,s)=>{const g={setViews:(b,C)=>{In.set(b,[CA(C,s.backstage.shared.providers)])},whichView:b=>ko.getCurrent(b).bind(XR),toggleView:(b,C,E,M)=>ko.getCurrent(b).exists(I=>{const z=XR(I),Q=z.exists(le=>M===le),te=ha.getSlot(I,M).isSome();return te&&(ha.hideAllSlots(I),Q?(YR(b),C()):(E(),Rv(b),ha.showSlot(I,M),kj(I,M)),z.each(le=>Aj(I,le))),te})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:At([In.config({}),ko.config({find:b=>{const C=In.contents(b);return Ce(C)}})]),apis:g}},name:"silver.ViewWrapper",configFields:[it("backstage")],apis:{setViews:(t,s,a)=>t.setViews(s,a),toggleView:(t,s,a,u,h)=>t.toggleView(s,a,u,h),whichView:(t,s)=>t.whichView(s)}});const Oj=(t,s,a)=>{let u=!1;const h=b=>{Hd(b,".tox-statusbar").each(C=>{ts(C,"display")==="none"&&Mn(C,"aria-hidden")==="true"?(Zn(C,"display"),W(C,"aria-hidden")):(gt(C,"display","none"),vn(C,"aria-hidden","true"))})},g={getSocket:b=>Lr.getPart(b,t,"socket"),setSidebar:(b,C,E)=>{Lr.getPart(b,t,"sidebar").each(M=>JW(M,C,E))},toggleSidebar:(b,C)=>{Lr.getPart(b,t,"sidebar").each(E=>QW(E,C))},whichSidebar:b=>Lr.getPart(b,t,"sidebar").bind(ej).getOrNull(),getHeader:b=>Lr.getPart(b,t,"header"),getToolbar:b=>Lr.getPart(b,t,"toolbar"),setToolbar:(b,C)=>{Lr.getPart(b,t,"toolbar").each(E=>{const M=Ue(C,wS);E.getApis().setGroups(E,M)})},setToolbars:(b,C)=>{Lr.getPart(b,t,"multiple-toolbar").each(E=>{const M=Ue(C,I=>Ue(I,wS));rR.setItems(E,M)})},refreshToolbar:b=>{Lr.getPart(b,t,"toolbar").each(E=>E.getApis().refresh(E))},toggleToolbarDrawer:b=>{Lr.getPart(b,t,"toolbar").each(C=>{Fo(C.getApis().toggle,E=>E(C))})},toggleToolbarDrawerWithoutFocusing:b=>{Lr.getPart(b,t,"toolbar").each(C=>{Fo(C.getApis().toggleWithoutFocusing,E=>E(C))})},isToolbarDrawerToggled:b=>Lr.getPart(b,t,"toolbar").bind(C=>P.from(C.getApis().isOpen).map(E=>E(C))).getOr(!1),getThrobber:b=>Lr.getPart(b,t,"throbber"),focusToolbar:b=>{Lr.getPart(b,t,"toolbar").orThunk(()=>Lr.getPart(b,t,"multiple-toolbar")).each(E=>{bn.focusIn(E)})},setMenubar:(b,C)=>{Lr.getPart(b,t,"menubar").each(E=>{dA.setMenus(E,C)})},focusMenubar:b=>{Lr.getPart(b,t,"menubar").each(C=>{dA.focus(C)})},setViews:(b,C)=>{Lr.getPart(b,t,"viewWrapper").each(E=>{ES.setViews(E,C)})},toggleView:(b,C)=>Lr.getPart(b,t,"viewWrapper").exists(E=>ES.toggleView(E,()=>g.showMainView(b),()=>g.hideMainView(b),C)),whichView:b=>Lr.getPart(b,t,"viewWrapper").bind(ES.whichView).getOrNull(),hideMainView:b=>{u=g.isToolbarDrawerToggled(b),u&&g.toggleToolbarDrawer(b),Lr.getPart(b,t,"editorContainer").each(C=>{const E=C.element;h(E),gt(E,"display","none"),vn(E,"aria-hidden","true")})},showMainView:b=>{u&&g.toggleToolbarDrawer(b),Lr.getPart(b,t,"editorContainer").each(C=>{const E=C.element;h(E),Zn(E,"display"),W(E,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:g,behaviours:t.behaviours}},e5=ad.optional({factory:dA,name:"menubar",schema:[it("backstage")]}),t5=t=>t.type===Ic.sliding?bj:t.type===Ic.floating?vj:SS,TS=ad.optional({factory:{sketch:t=>rR.sketch({uid:t.uid,dom:t.dom,listBehaviours:At([bn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>SS({type:t.type,uid:Kt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),P.some(!0))}),setupItem:(s,a,u,h)=>{ld.setGroups(a,u)},shell:!0})},name:"multiple-toolbar",schema:[it("dom"),it("onEscape")]}),EA=ad.optional({factory:{sketch:t=>{const s=t5(t),a={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),P.some(!0)),onToggled:(u,h)=>t.onToolbarToggled(h),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(a)}},name:"toolbar",schema:[it("dom"),it("onEscape"),it("getSink")]}),Dj=ad.optional({factory:{sketch:uA},name:"header",schema:[it("dom")]}),Mj=ad.optional({factory:{sketch:fA},name:"promotion",schema:[it("dom")]}),n5=ad.optional({name:"socket",schema:[it("dom")]}),Pj=ad.optional({factory:{sketch:SR},name:"sidebar",schema:[it("dom")]}),Nj=ad.optional({factory:{sketch:ZK},name:"throbber",schema:[it("dom")]}),Lj=ad.optional({factory:ES,name:"viewWrapper",schema:[it("backstage")]}),o5=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),Ij=ad.optional({factory:{sketch:o5},name:"editorContainer",schema:[]});var ws=Da({name:"OuterContainer",factory:Oj,configFields:[it("dom"),it("behaviours")],partFields:[Dj,e5,EA,TS,n5,Pj,Mj,Nj,Lj,Ij],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,a,u)=>{t.setSidebar(s,a,u)},toggleSidebar:(t,s,a)=>{t.toggleSidebar(s,a)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,a)=>{t.setToolbar(s,a)},setToolbars:(t,s,a)=>{t.setToolbars(s,a)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,a)=>{t.setMenubar(s,a)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,a)=>{t.setViews(s,a)},toggleView:(t,s,a)=>t.toggleView(s,a),whichView:(t,s)=>t.whichView(s)}});const TA="file edit view insert format tools table help",s5={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},Rj=(t,s,a)=>{const u=Zw(a).split(/[ ,]/);return{text:t.title,getItems:()=>$e(t.items,h=>{const g=h.toLowerCase();return g.trim().length===0?[]:jt(u,b=>b===g)?[]:g==="separator"||g==="|"?[{type:"separator"}]:s.menuItems[g]?[s.menuItems[g]]:[]})}},_S=t=>t.split(" "),r5=(t,s)=>{const a={...s5,...s.menus},u=ht(s.menus).length>0,h=s.menubar===void 0||s.menubar===!0?_S(TA):_S(s.menubar===!1?"":s.menubar),g=Dn(h,C=>{const E=Gn(s5,C);return u?E||_t(s.menus,C).exists(M=>Gn(M,"items")):E}),b=Ue(g,C=>{const E=a[C];return Rj({title:E.title,items:_S(E.items)},s,t)});return Dn(b,C=>{const E=M=>T(M)||M.type!=="separator";return C.getItems().length>0&&jt(C.getItems(),E)})},i5=t=>{const s=()=>{t._skinLoaded=!0,dz(t)};return()=>{t.initialized?s():t.on("init",s)}},Bj=(t,s)=>()=>fz(t,{message:s}),_A=(t,s,a)=>(t.on("remove",()=>a.unload(s)),a.load(s)),kA=(t,s,a,u)=>(t.on("remove",()=>u.unloadRawCss(s)),u.loadRawCss(s,a)),$j=async(t,s)=>{const u="ui/"+Kw(t).getOr("default")+"/skin.css",h=tinymce.Resource.get(u);if(T(h))kA(t,u,h,t.ui.styleSheetLoader);else{const g=t.editorManager.suffix,b=s+`/skin${g}.css`;return _A(t,b,t.ui.styleSheetLoader)}},Fj=async(t,s)=>{if(xd(pt.fromDom(t.getElement()))){const h="ui/"+Kw(t).getOr("default")+"/skin.shadowdom.css",g=tinymce.Resource.get(h);if(T(g))kA(t,h,g,wp.DOM.styleSheetLoader);else{const b=t.editorManager.suffix,C=s+`/skin.shadowdom${b}.css`;return _A(t,C,wp.DOM.styleSheetLoader)}}},a5=async(t,s)=>{const a=()=>{const h=tT(s),g=s.editorManager.suffix;h&&s.contentCSS.push(h+(t?"/content.inline":"/content")+`${g}.css`)};Kw(s).fold(a,h=>{const g="ui/"+h+(t?"/content.inline":"/content")+".css",b=tinymce.Resource.get(g);T(b)?kA(s,g,b,s.ui.styleSheetLoader):a()});const u=tT(s);if(!eT(s)&&T(u))return Promise.all([$j(s,u),Fj(s,u)]).then()},l5=(t,s)=>a5(t,s).then(i5(s),Bj(s,"Skin could not be loaded")),Hj=Fe(l5,!1),zj=Fe(l5,!0),wh=(t,s,a)=>be(a)?t.translate(s):t.translate([s,t.translate(a)]),AA=(t,s)=>{const a=(b,C,E,M)=>{const I=t.shared.providers.translate(b.title);if(b.type==="separator")return P.some({type:"separator",text:I});if(b.type==="submenu"){const z=$e(b.getStyleItems(),Q=>u(Q,C,M));return C===0&&z.length<=0?P.none():P.some({type:"nestedmenuitem",text:I,enabled:z.length>0,getSubmenuItems:()=>$e(b.getStyleItems(),Q=>u(Q,C,M))})}else return P.some({type:"togglemenuitem",text:I,icon:b.icon,active:b.isSelected(M),enabled:!E,onAction:s.onAction(b),...b.getStylePreview().fold(()=>({}),z=>({meta:{style:z}}))})},u=(b,C,E)=>{const M=b.type==="formatter"&&s.isInvalid(b);return C===0?M?[]:a(b,C,!1,E).toArray():a(b,C,M,E).toArray()},h=b=>{const C=s.getCurrentValue(),E=s.shouldHide?0:1;return $e(b,M=>u(M,E,C))};return{validateItems:h,getFetch:(b,C)=>(E,M)=>{const I=C(),z=h(I),Q=Av(z,wu.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:P.none()});M(Q)}}},Bv=(t,s)=>{const a=s.dataset,u=a.type==="basic"?()=>Ue(a.data,h=>uS(h,s.isSelectedFor,s.getPreviewFor)):a.getData;return{items:AA(t,s),getStyleItems:u}},O0=(t,s,a,u,h,g)=>{const{items:b,getStyleItems:C}=Bv(s,a),E=un(a.tooltip),M=z=>({getComponent:ie(z),setTooltip:Q=>{const te=s.shared.providers.translate(Q);vn(z.element,"aria-label",te),E.set(Q)}}),I=z=>{const Q=te=>z.setTooltip(wh(t,u(te.value),te.value));return t.on(h,Q),O2(Rp(t,"NodeChange",te=>{const le=te.getComponent();a.updateText(le),On.set(te.getComponent(),!t.selection.isEditable())})(z),()=>t.off(h,Q))};return Sk({text:a.icon.isSome()?P.none():a.text,icon:a.icon,ariaLabel:P.some(a.tooltip),tooltip:P.none(),role:P.none(),fetch:b.getFetch(s,C),onSetup:I,getApi:M,columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[nr.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(a.tooltip),onShow:z=>{if(a.tooltip!==E.get()){const Q=s.shared.providers.translate(E.get());nr.setComponents(z,s.shared.providers.tooltips.getComponents({tooltipText:Q}))}}})})]},"tox-tbtn",s.shared,g)},Vj=t=>Ue(t,s=>{let a=s,u=s;const h=s.split("=");return h.length>1&&(a=h[0],u=h[1]),{title:a,format:u}}),Uj=t=>({type:"basic",data:t});var $v;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})($v||($v={}));const Wj=(t,s)=>s===$v.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),OA=(t,s,a)=>{const u=t.options.get(s);return{type:"basic",data:Vj(Wj(u,a))}},jj="Align",c5=ie("Alignment {0}"),DA="left",Fv=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],kS=t=>{const s=()=>It(Fv,C=>t.formatter.match(C.format)),a=C=>()=>t.formatter.match(C),u=C=>P.none,h=C=>{const M=s().fold(ie(DA),I=>I.title.toLowerCase());Sn(C,ph,{icon:`align-${M}`}),c_(t,{value:M})},g=Uj(Fv),b=C=>()=>It(Fv,E=>E.format===C.format).each(E=>t.execCommand(E.command));return{tooltip:wh(t,c5(),DA),text:P.none(),icon:P.some("align-left"),isSelectedFor:a,getCurrentValue:P.none,getPreviewFor:u,onAction:b,updateText:h,dataset:g,shouldHide:!1,isInvalid:C=>!t.formatter.canApply(C.format)}},u5=(t,s)=>O0(t,s,kS(t),c5,"AlignTextUpdate","align"),Sh=(t,s)=>{const a=Bv(s,kS(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate(jj),onSetup:Ma(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},MA=(t,s)=>{const a=s(),u=Ue(a,h=>h.format);return P.from(t.formatter.closest(u)).bind(h=>It(a,g=>g.format===h))},Zj="Blocks",d5=ie("Block {0}"),PA="Paragraph",f5=t=>{const s=g=>()=>t.formatter.match(g),a=g=>()=>{const b=t.formatter.get(g);return b?P.some({tag:b.length>0&&(b[0].inline||b[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(g))}):P.none()},u=g=>{const C=MA(t,()=>h.data).fold(ie(PA),E=>E.title);Sn(g,uc,{text:C}),bz(t,{value:C})},h=OA(t,"block_formats",$v.SemiColon);return{tooltip:wh(t,d5(),PA),text:P.some(PA),icon:P.none(),isSelectedFor:s,getCurrentValue:P.none,getPreviewFor:a,onAction:wN(t),updateText:u,dataset:h,shouldHide:!1,isInvalid:g=>!t.formatter.canApply(g.format)}},qj=(t,s)=>O0(t,s,f5(t),d5,"BlocksTextUpdate","blocks"),Gj=(t,s)=>{const a=Bv(s,f5(t));t.ui.registry.addNestedMenuItem("blocks",{text:Zj,onSetup:Ma(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},Xj="Fonts",NA=ie("Font {0}"),LA="System Font",Yj=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],AS=t=>{const s=t.split(/\s*,\s*/);return Ue(s,a=>a.replace(/^['"]+|['"]+$/g,""))},m5=(t,s)=>s.length>0&&Tr(s,a=>t.indexOf(a.toLowerCase())>-1),Kj=(t,s)=>{if(t.indexOf("-apple-system")===0||s.length>0){const a=AS(t.toLowerCase());return m5(a,Yj)||m5(a,s)}else return!1},h5=t=>{const s=()=>{const E=le=>le?AS(le)[0]:"",M=t.queryCommandValue("FontName"),I=C.data,z=M?M.toLowerCase():"",Q=nP(t);return{matchOpt:It(I,le=>{const de=le.format;return de.toLowerCase()===z||E(de).toLowerCase()===E(z).toLowerCase()}).orThunk(()=>wn(Kj(z,Q),{title:LA,format:z})),font:M}},a=E=>M=>M.exists(I=>I.format===E),u=()=>{const{matchOpt:E}=s();return E},h=E=>()=>P.some({tag:"div",styles:E.indexOf("dings")===-1?{"font-family":E}:{}}),g=E=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,E.format)})},b=E=>{const{matchOpt:M,font:I}=s(),z=M.fold(ie(I),Q=>Q.title);Sn(E,uc,{text:z}),yN(t,{value:z})},C=OA(t,"font_family_formats",$v.SemiColon);return{tooltip:wh(t,NA(),LA),text:P.some(LA),icon:P.none(),isSelectedFor:a,getCurrentValue:u,getPreviewFor:h,onAction:g,updateText:b,dataset:C,shouldHide:!1,isInvalid:Me}},Jj=(t,s)=>O0(t,s,h5(t),NA,"FontFamilyTextUpdate","fontfamily"),Qj=(t,s)=>{const a=Bv(s,h5(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(Xj),onSetup:Ma(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},eZ={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},p5=(()=>{const t="[0-9]+",a="[eE]"+("[+-]?"+t),u="\\.",h=C=>`(?:${C})?`,b=`[+-]?(?:${["Infinity",t+u+h(t)+h(a),u+t+h(a),t+h(a)].join("|")})`;return new RegExp(`^(${b})(.*)$`)})(),g5=(t,s)=>jt(s,a=>jt(eZ[a],u=>t===u)),D0=(t,s)=>P.from(p5.exec(t)).bind(u=>{const h=Number(u[1]),g=u[2];return g5(g,s)?P.some({value:h,unit:g}):P.none()}),tZ=(t,s)=>D0(t,s).map(({value:a,unit:u})=>a+u),IA={tab:ie(9),escape:ie(27),enter:ie(13),backspace:ie(8),delete:ie(46),left:ie(37),up:ie(38),right:ie(39),down:ie(40),space:ie(32),home:ie(36),end:ie(35),pageUp:ie(33),pageDown:ie(34)},nZ=(t,s,a,u)=>{let h=P.none();const g=Ae=>Ae.map(ft=>Xt.getValue(ft)).getOr(""),b=Rp(t,"NodeChange SwitchMode",Ae=>{const ft=Ae.getComponent();h=P.some(ft),a.updateInputValue(ft),On.set(ft,!t.selection.isEditable())}),C=Ae=>({getComponent:ie(Ae)}),E=un(F),M=Kt("custom-number-input-events"),I=(Ae,ft,rt)=>{const Ht=g(h),Gt=a.getNewValue(Ht,Ae),ut=Ht.length-`${Gt}`.length,Qt=h.map(on=>on.element.dom.selectionStart-ut),Bt=h.map(on=>on.element.dom.selectionEnd-ut);a.onAction(Gt,rt),h.each(on=>{Xt.setValue(on,Gt),ft&&(Qt.each(co=>on.element.dom.selectionStart=co),Bt.each(co=>on.element.dom.selectionEnd=co))})},z=(Ae,ft)=>I((rt,Ht)=>rt-Ht,Ae,ft),Q=(Ae,ft)=>I((rt,Ht)=>rt+Ht,Ae,ft),te=Ae=>na(Ae.element).fold(P.none,ft=>(Oc(ft),P.some(!0))),le=Ae=>Bb(Ae.element)?(Iu(Ae.element).each(ft=>Oc(ft)),P.some(!0)):P.none(),de=(Ae,ft,rt,Ht)=>{const Gt=un(F),ut=s.shared.providers.translate(rt),Qt=Kt("altExecuting"),Bt=Rp(t,"NodeChange SwitchMode",co=>{On.set(co.getComponent(),!t.selection.isEditable())}),on=co=>{On.isDisabled(co)||Ae(!0)};return Ri.sketch({dom:{tag:"button",attributes:{"aria-label":ut,"data-mce-name":ft},classes:Ht.concat(ft)},components:[tS(ft,s.shared.providers.icons)],buttonBehaviours:At([On.config({}),nr.config(s.shared.providers.tooltips.getConfig({tooltipText:ut})),jn(Qt,[ma({onSetup:Bt,getApi:C},Gt),rh({getApi:C},Gt),mt(Zu(),(co,Ss)=>{(Ss.event.raw.keyCode===IA.space()||Ss.event.raw.keyCode===IA.enter())&&(On.isDisabled(co)||Ae(!1))}),mt(zh(),on),mt(Am(),on)])]),eventOrder:{[Zu()]:[Qt,"keying"],[zh()]:[Qt,"alloy.base.behaviour"],[Am()]:[Qt,"alloy.base.behaviour"],[Xu()]:["alloy.base.behaviour",Qt,"tooltipping"],[Rd()]:[Qt,"tooltipping"]}})},Ne=Bo(de(Ae=>z(!1,Ae),"minus","Decrease font size",[])),ge=Bo(de(Ae=>Q(!1,Ae),"plus","Increase font size",[])),ke=Bo({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Op.sketch({inputBehaviours:At([On.config({}),jn(M,[ma({onSetup:b,getApi:C},E),rh({getApi:C},E)]),jn("input-update-display-text",[mt(uc,(Ae,ft)=>{Xt.setValue(Ae,ft.event.text)}),mt(vy(),Ae=>{a.onAction(Xt.getValue(Ae))}),mt(Sg(),Ae=>{a.onAction(Xt.getValue(Ae))})]),bn.config({mode:"special",onEnter:Ae=>(I(He,!0,!0),P.some(!0)),onEscape:te,onUp:Ae=>(Q(!0,!1),P.some(!0)),onDown:Ae=>(z(!0,!1),P.some(!0)),onLeft:(Ae,ft)=>(ft.cut(),P.none()),onRight:(Ae,ft)=>(ft.cut(),P.none())})])})],behaviours:At([Pn.config({}),bn.config({mode:"special",onEnter:le,onSpace:le,onEscape:te}),jn("input-wrapper-events",[mt(Ld(),Ae=>{wt([Ne,ge],ft=>{const rt=pt.fromDom(ft.get(Ae).element.dom);Bb(rt)&&Wy(rt)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...ee(u)?{"data-mce-name":u}:{}}},components:[Ne.asSpec(),ke.asSpec(),ge.asSpec()],behaviours:At([Pn.config({}),bn.config({mode:"flow",focusInside:gp.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ae=>Bb(Ae.element)?P.none():(Oc(Ae.element),P.some(!0))})])}},oZ="Font sizes",v5=ie("Font size {0}"),RA="12pt",sZ={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},b5={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},rZ=(t,s)=>{const a=Math.pow(10,s);return Math.round(t*a)/a},iZ=(t,s)=>/[0-9.]+px$/.test(t)?rZ(parseInt(t,10)*72/96,s||0)+"pt":_t(b5,t).getOr(t),aZ=t=>_t(sZ,t).getOr(""),y5=t=>{const s=()=>{let E=P.none();const M=C.data,I=t.queryCommandValue("FontSize");if(I)for(let z=3;E.isNone()&&z>=0;z--){const Q=iZ(I,z),te=aZ(Q);E=It(M,le=>le.format===I||le.format===Q||le.format===te)}return{matchOpt:E,size:I}},a=E=>M=>M.exists(I=>I.format===E),u=()=>{const{matchOpt:E}=s();return E},h=ie(P.none),g=E=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,E.format)})},b=E=>{const{matchOpt:M,size:I}=s(),z=M.fold(ie(I),Q=>Q.title);Sn(E,uc,{text:z}),vN(t,{value:z})},C=OA(t,"font_size_formats",$v.Space);return{tooltip:wh(t,v5(),RA),text:P.some(RA),icon:P.none(),isSelectedFor:a,getPreviewFor:h,getCurrentValue:u,onAction:g,updateText:b,dataset:C,shouldHide:!1,isInvalid:Me}},lZ=(t,s)=>O0(t,s,y5(t),v5,"FontSizeTextUpdate","fontsize"),cZ=t=>{var s;const a={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:a},uZ=16,w5=t=>t>=0,dZ=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:u=>Sn(u,uc,{text:s()}),onAction:(u,h)=>t.execCommand("FontSize",!1,u,{skip_focus:!h}),getNewValue:(u,h)=>{D0(u,["unsupportedLength","empty"]);const g=s(),b=D0(u,["unsupportedLength","empty"]).or(D0(g,["unsupportedLength","empty"])),C=b.map(Q=>Q.value).getOr(uZ),E=qw(t),M=b.map(Q=>Q.unit).filter(Q=>Q!=="").getOr(E),I=h(C,cZ(M).step),z=`${w5(I)?I:C}${M}`;return z!==g&&bN(t,{value:z}),z}}},fZ=(t,s)=>nZ(t,s,dZ(t),"fontsizeinput"),mZ=(t,s)=>{const a=Bv(s,y5(t));t.ui.registry.addNestedMenuItem("fontsize",{text:oZ,onSetup:Ma(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},hZ="Formats",S5=t=>be(t)?"Formats":"Format {0}",x5=(t,s)=>{const a="Formats",u=b=>()=>t.formatter.match(b),h=b=>()=>{const C=t.formatter.get(b);return C!==void 0?P.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(b))}):P.none()},g=b=>{const C=z=>Jk(z)?$e(z.items,C):UI(z)?[{title:z.title,format:z.format}]:[],E=$e(w0(t),C),I=MA(t,ie(E)).fold(ie({title:a,tooltipLabel:""}),z=>({title:z.title,tooltipLabel:z.title}));Sn(b,uc,{text:I.title}),vz(t,{value:I.tooltipLabel})};return{tooltip:wh(t,S5(""),""),text:P.some(a),icon:P.none(),isSelectedFor:u,getCurrentValue:P.none,getPreviewFor:h,onAction:wN(t),updateText:g,shouldHide:V3(t),isInvalid:b=>!t.formatter.canApply(b.format),dataset:s}},pZ=(t,s)=>{const a={type:"advanced",...s.styles};return O0(t,s,x5(t,a),S5,"StylesTextUpdate","styles")},C5=(t,s)=>{const a={type:"advanced",...s.styles},u=Bv(s,x5(t,a));t.ui.registry.addNestedMenuItem("styles",{text:hZ,onSetup:Ma(t),getSubmenuItems:()=>u.items.validateItems(u.getStyleItems())})},gZ=ie([it("toggleClass"),it("fetch"),$f("onExecute"),Ie("getHotspot",P.some),Ie("getAnchorOverrides",ie({})),Hm(),$f("onItemExecute"),go("lazySink"),it("dom"),Eo("onOpen"),xi("splitDropdownBehaviours",[hr,bn,Pn]),Ie("matchWidth",!1),Ie("useMinWidth",!1),Ie("eventOrder",{}),go("role"),go("listRole")].concat(L2())),vZ=Ji({factory:Ri,schema:[it("dom")],name:"arrow",defaults:()=>({buttonBehaviours:At([Pn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(Om)},buttonBehaviours:At([eo.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),E5=Ji({factory:Ri,schema:[it("dom")],name:"button",defaults:()=>({buttonBehaviours:At([Pn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(a=>{t.onExecute(a,s)})}})}),bZ=ie([vZ,E5,Ql({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[it("text")],name:"aria-descriptor"}),Nc({schema:[Ng()],name:"menu",defaults:t=>({onExecute:(s,a)=>{s.getSystem().getByUid(t.uid).each(u=>{t.onItemExecute(u,s,a)})}})}),WN()]),T5=(t,s,a,u)=>{const h=I=>{ko.getCurrent(I).each(z=>{Ho.highlightFirst(z),bn.focusIn(z)})},g=I=>{E_(t,He,I,u,h,mr.HighlightMenuAndItem).get(F)},b=I=>(g(I),P.some(!0)),C=I=>{const z=ec(I,t,"button");return Om(z),P.some(!0)},E={...Bs([$s((I,z)=>{kt(I,t,"aria-descriptor").each(te=>{const le=Kt("aria");vn(te.element,"id",le),vn(I.element,"aria-describedby",le)})})]),...zw(P.some(g))},M={repositionMenus:I=>{eo.isOn(I)&&ZN(I)}};return{uid:t.uid,dom:t.dom,components:s,apis:M,eventOrder:{...t.eventOrder,[kc()]:["disabling","toggling","alloy.base.behaviour"]},events:E,behaviours:Ci(t.splitDropdownBehaviours,[hr.config({others:{sandbox:I=>{const z=ec(I,t,"arrow");return k_(t,I,{onOpen:()=>{eo.on(z),eo.on(I)},onClose:()=>{eo.off(z),eo.off(I)}})}}}),bn.config({mode:"special",onSpace:C,onEnter:C,onDown:b}),Pn.config({}),eo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},M0=Da({name:"SplitDropdown",configFields:gZ(),partFields:bZ(),factory:T5,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),_5=t=>({isEnabled:()=>!On.isDisabled(t),setEnabled:s=>On.set(t,!s),setText:s=>Sn(t,uc,{text:s}),setIcon:s=>Sn(t,ph,{icon:s})}),yZ=t=>({setActive:s=>{eo.set(t,s)},isActive:()=>eo.isOn(t),isEnabled:()=>!On.isDisabled(t),setEnabled:s=>On.set(t,!s),setText:s=>Sn(t,uc,{text:s}),setIcon:s=>Sn(t,ph,{icon:s})}),k5=(t,s)=>t.map(a=>({"aria-label":s.translate(a)})).getOr({}),Zp=Kt("focus-button"),BA=(t,s,a,u,h,g)=>{const b=s.map(E=>Bo(wk(E,"tox-tbtn",h))),C=t.map(E=>Bo(hh(E,h.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...k5(a,h),...ee(g)?{"data-mce-name":g}:{}}},components:Np([C.map(E=>E.asSpec()),b.map(E=>E.asSpec())]),eventOrder:{[yl()]:["focusing","alloy.base.behaviour",mh],[Xu()]:[mh,"toolbar-group-button-events"]},buttonBehaviours:At([xu.toolbarButton(h.isDisabled),ni(),jn(mh,[$s((E,M)=>bk(E)),mt(uc,(E,M)=>{b.bind(I=>I.getOpt(E)).each(I=>{In.set(I,[tr(h.translate(M.event.text))])})}),mt(ph,(E,M)=>{C.bind(I=>I.getOpt(E)).each(I=>{In.set(I,[hh(M.event.icon,h.icons)])})}),mt(yl(),(E,M)=>{M.event.prevent(),Qn(E,Zp)})])].concat(u.getOr([])))}},wZ=(t,s,a,u,h)=>{const g=s.shared,b=un(F),C={toolbarButtonBehaviours:[],getApi:_5,onSetup:t.onSetup},E=[jn("toolbar-group-button-events",[ma(C,b),rh(C,b)])];return yh.sketch({lazySink:g.getSink,fetch:()=>Bi.nu(M=>{M(Ue(a(t.items),wS))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:BA(t.icon,t.text,t.tooltip,P.some(E),g.providers,h),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:u}}}})},A5=(t,s,a,u)=>{var h;const g=un(F),b=BA(t.icon,t.text,t.tooltip,P.none(),a,u);return Ri.sketch({dom:b.dom,components:b.components,eventOrder:vk,buttonBehaviours:{...At([jn("toolbar-button-events",[Z9({onAction:t.onAction,getApi:s.getApi}),ma(s,g),rh(s,g)]),...t.tooltip.map(C=>nr.config(a.tooltips.getConfig({tooltipText:a.translate(C)+t.shortcut.map(E=>` (${C2(E)})`).getOr("")}))).toArray(),xu.toolbarButton(()=>!t.enabled||a.isDisabled()),ni()].concat(s.toolbarButtonBehaviours)),[mh]:(h=b.buttonBehaviours)===null||h===void 0?void 0:h[mh]}})},SZ=(t,s,a)=>O5(t,s,[],a),O5=(t,s,a,u)=>A5(t,{toolbarButtonBehaviours:a.length>0?[jn("toolbarButtonWith",a)]:[],getApi:_5,onSetup:t.onSetup},s,u),xZ=(t,s,a)=>D5(t,s,[],a),D5=(t,s,a,u)=>A5(t,{toolbarButtonBehaviours:[In.config({}),eo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[jn("toolbarToggleButtonWith",a)]:[]),getApi:yZ,onSetup:t.onSetup},s,u),CZ=(t,s,a)=>u=>Bi.nu(h=>s.fetch(h)).map(h=>P.from($2(Us(S_(Kt("menu-value"),h,g=>{s.onItemAction(t(u),g)},s.columns,s.presets,wu.CLOSE_ON_EXECUTE,s.select.getOr(Me),a),{movement:N2(s.columns,s.presets),menuBehaviours:mv.unnamedEvents(s.columns!=="auto"?[]:[$s((g,b)=>{YT(g,4,MT(s.presets)).each(({numRows:C,numColumns:E})=>{bn.setGridSize(g,C,E)})})])})))),$A=(t,s,a)=>{const u=un(t.tooltip.getOr("")),h=C=>({isEnabled:()=>!On.isDisabled(C),setEnabled:E=>On.set(C,!E),setIconFill:(E,M)=>{Zs(C.element,`svg path[class="${E}"], rect[class="${E}"]`).each(I=>{vn(I,"fill",M)})},setActive:E=>{vn(C.element,"aria-pressed",E),Zs(C.element,"span").each(M=>{C.getSystem().getByDom(M).each(I=>eo.set(I,E))})},isActive:()=>Zs(C.element,"span").exists(E=>C.getSystem().getByDom(E).exists(eo.isOn)),setText:E=>Zs(C.element,"span").each(M=>C.getSystem().getByDom(M).each(I=>Sn(I,uc,{text:E}))),setIcon:E=>Zs(C.element,"span").each(M=>C.getSystem().getByDom(M).each(I=>Sn(I,ph,{icon:E}))),setTooltip:E=>{const M=s.providers.translate(E);vn(C.element,"aria-label",M),u.set(E)}}),g=un(F),b={getApi:h,onSetup:t.onSetup};return M0.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...k5(t.tooltip,s.providers),...ee(a)?{"data-mce-name":a}:{}}},onExecute:C=>{const E=h(C);E.isEnabled()&&t.onAction(E)},onItemExecute:(C,E,M)=>{},splitDropdownBehaviours:At([xu.splitButton(s.providers.isDisabled),ni(),jn("split-dropdown-events",[$s((C,E)=>bk(C)),mt(Zp,Pn.focus),ma(b,g),rh(b,g)]),Ev.config({}),...t.tooltip.map(C=>nr.config({...s.providers.tooltips.getConfig({tooltipText:s.providers.translate(C),onShow:E=>{if(u.get()!==C){const M=s.providers.translate(u.get());nr.setComponents(E,s.providers.tooltips.getComponents({tooltipText:M}))}}})})).toArray()]),eventOrder:{[Xu()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Rd()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:CZ(h,t,s.providers),parts:{menu:E1(!1,t.columns,t.presets)},components:[M0.parts.button(BA(t.icon,t.text,P.none(),P.some([eo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),M0.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:ET("chevron-down",s.providers.icons)},buttonBehaviours:At([xu.splitButton(s.providers.isDisabled),ni(),i2()])}),M0.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},EZ=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],P0=(t,s)=>(a,u,h,g)=>{const b=t(a).mapError(C=>Ts(C)).getOrDie();return s(b,u,h,g)},M5={button:P0($P,(t,s,a,u)=>SZ(t,s.shared.providers,u)),togglebutton:P0(FP,(t,s,a,u)=>xZ(t,s.shared.providers,u)),menubutton:P0(hR,(t,s,a,u)=>f0(t,"tox-tbtn",s,P.none(),!1,u)),splitbutton:P0(qW,(t,s,a,u)=>$A(t,s.shared,u)),grouptoolbarbutton:P0(E0,(t,s,a,u)=>{const h=a.ui.registry.getAll().buttons,g=C=>N0(a,{buttons:h,toolbar:C,allowToolbarGroups:!1},s,P.none()),b={[TC]:s.shared.header.isPositionedAtTop()?zf.TopToBottom:zf.BottomToTop};switch(Ep(a)){case Ic.floating:return wZ(t,s,g,b,u);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},P5=(t,s,a,u)=>_t(M5,t.type).fold(()=>(console.error("skipping button defined by",t),P.none()),h=>P.some(h(t,s,a,u))),N5={styles:pZ,fontsize:lZ,fontsizeinput:fZ,fontfamily:Jj,blocks:qj,align:u5},TZ=t=>{const s=Ue(EZ,a=>{const u=Dn(a.items,h=>Gn(t,h)||Gn(N5,h));return{name:a.name,items:u}});return Dn(s,a=>a.items.length>0)},_Z=t=>{const s=t.split("|");return Ue(s,a=>({items:a.trim().split(" ")}))},kZ=t=>J(t,s=>Gn(s,"name")&&Gn(s,"items")),AZ=t=>{const s=t.toolbar,a=t.buttons;return s===!1?[]:s===void 0||s===!0?TZ(a):T(s)?_Z(s):kZ(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},OZ=(t,s,a,u,h,g)=>_t(s,a.toLowerCase()).orThunk(()=>g.bind(b=>bt(b,C=>_t(s,C+a.toLowerCase())))).fold(()=>_t(N5,a.toLowerCase()).map(b=>b(t,h)),b=>b.type==="grouptoolbarbutton"&&!u?(console.warn(`Ignoring the '${a}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),P.none()):P5(b,h,t,a.toLowerCase())),N0=(t,s,a,u)=>{const h=AZ(s),g=Ue(h,b=>{const C=$e(b.items,E=>E.trim().length===0?[]:OZ(t,s.buttons,E,s.allowToolbarGroups,a,u).toArray());return{title:P.from(t.translate(b.name)),items:C}});return Dn(g,b=>b.items.length>0)},L5=(t,s,a,u)=>{const h=s.mainUi.outerContainer,g=a.toolbar,b=a.buttons;if(J(g,T)){const C=g.map(E=>{const M={toolbar:E,buttons:b,allowToolbarGroups:a.allowToolbarGroups};return N0(t,M,u,P.none())});ws.setToolbars(h,C)}else ws.setToolbar(h,N0(t,a,u,P.none()))},I5=so(),DZ=I5.os.isiOS()&&I5.os.version.major<=12,MZ=(t,s)=>{const{uiMotherships:a}=s,u=t.dom;let h=t.getWin();const g=t.getDoc().documentElement,b=un(Os(h.innerWidth,h.innerHeight)),C=un(Os(g.offsetWidth,g.offsetHeight)),E=()=>{const Q=b.get();(Q.left!==h.innerWidth||Q.top!==h.innerHeight)&&(b.set(Os(h.innerWidth,h.innerHeight)),A2(t))},M=()=>{const Q=t.getDoc().documentElement,te=C.get();(te.left!==Q.offsetWidth||te.top!==Q.offsetHeight)&&(C.set(Os(Q.offsetWidth,Q.offsetHeight)),A2(t))},I=Q=>{mz(t,Q)};u.bind(h,"resize",E),u.bind(h,"scroll",I);const z=xC(pt.fromDom(t.getBody()),"load",M);t.on("hide",()=>{wt(a,Q=>{gt(Q.element,"display","none")})}),t.on("show",()=>{wt(a,Q=>{Zn(Q.element,"display")})}),t.on("NodeChange",M),t.on("remove",()=>{z.unbind(),u.unbind(h,"resize",E),u.unbind(h,"scroll",I),h=null})},OS=(t,s,a)=>{eh(t)&&up(a.mainUi.mothership.element,a.popupUi.mothership),Z4(s,a.dialogUi.mothership)};var DS=Object.freeze({__proto__:null,render:(t,s,a,u,h)=>{const{mainUi:g,uiMotherships:b}=s,C=un(0),E=g.outerContainer;Hj(t);const M=pt.fromDom(h.targetNode),I=ml(Hr(M));up(M,g.mothership),OS(t,I,s),t.on("SkinLoaded",()=>{ws.setSidebar(E,a.sidebar,Xw(t)),L5(t,s,a,u),C.set(t.getWin().innerWidth),ws.setMenubar(E,r5(t,a)),ws.setViews(E,a.views),MZ(t,s)});const z=ws.getSocket(E).getOrDie("Could not find expected socket element");if(DZ){oo(z.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const de=B9(()=>{t.dispatch("ScrollContent")},20),Ne=za(z.element,"scroll",de.throttle);t.on("remove",Ne.unbind)}KT(t,s),t.addCommand("ToggleSidebar",(de,Ne)=>{ws.toggleSidebar(E,Ne),yz(t)}),t.addQueryValueHandler("ToggleSidebar",()=>{var de;return(de=ws.whichSidebar(E))!==null&&de!==void 0?de:""}),t.addCommand("ToggleView",(de,Ne)=>{if(ws.toggleView(E,Ne)){const ge=E.element;g.mothership.broadcastOn([jf()],{target:ge}),wt(b,ke=>{ke.broadcastOn([jf()],{target:ge})}),L(ws.whichView(E))&&(t.focus(),t.nodeChanged(),ws.refreshToolbar(E)),wz(t)}}),t.addQueryValueHandler("ToggleView",()=>{var de;return(de=ws.whichView(E))!==null&&de!==void 0?de:""});const Q=Ep(t),te=()=>{ws.refreshToolbar(s.mainUi.outerContainer)};(Q===Ic.sliding||Q===Ic.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const de=t.getWin().innerWidth;de!==C.get()&&(te(),C.set(de))});const le={setEnabled:de=>{hv(s,!de)},isEnabled:()=>!On.isDisabled(E)};return{iframeContainer:z.element.dom,editorContainer:E.element.dom,api:le}}});const L0=t=>/^[0-9\.]+(|px)$/i.test(""+t)?P.some(parseInt(""+t,10)):P.none(),MS=t=>re(t)?t+"px":t,PS=(t,s,a)=>{const u=s.filter(g=>t<g),h=a.filter(g=>t>g);return u.or(h).getOr(t)},PZ=t=>{const s=a1(t),a=rv(t),u=jw(t);return L0(s).map(h=>PS(h,a,u))},NZ=t=>PZ(t).getOr(a1(t)),R5=t=>{const s=GE(t),a=Cp(t),u=l1(t);return L0(s).map(h=>PS(h,a,u))},LZ=t=>R5(t).getOr(GE(t)),{ToolbarLocation:Hv,ToolbarMode:FA}=rP,B5=40,$5=(t,s,a,u,h)=>{const{mainUi:g,uiMotherships:b}=a,C=wp.DOM,E=iv(t),M=Tp(t),I=l1(t).or(R5(t)),z=u.shared.header,Q=z.isPositionedAtTop,te=150,le=Ep(t),de=le===FA.sliding||le===FA.floating,Ne=un(!1),ge=()=>Ne.get()&&!t.removed,ke=en=>de?en.fold(ie(0),Ct=>Ct.components().length>1?fs(Ct.components()[1].element):0):0,Ae=en=>{switch(c1(t)){case Hv.auto:const Ct=ws.getToolbar(g.outerContainer),zt=ke(Ct),Nn=fs(en.element)-zt,Cn=Ks(s);if(Cn.y>Nn)return"top";{const Fn=eu(s),rs=Math.max(Fn.dom.scrollHeight,fs(Fn));return Cn.bottom<rs-Nn||ur().bottom<Cn.bottom-Nn?"bottom":"top"}case Hv.bottom:return"bottom";case Hv.top:default:return"top"}},ft=en=>{h.on(Ct=>{Ms.setModes(Ct,[en]),z.setDockingMode(en);const zt=Q()?zf.TopToBottom:zf.BottomToTop;vn(Ct.element,TC,zt)})},rt=()=>{h.on(en=>{const Ct=I.getOrThunk(()=>Ef().width-vf(s).left-10);gt(en.element,"max-width",Ct+"px")})},Ht=(en,Ct)=>{h.on(zt=>{const Nn=ws.getToolbar(g.outerContainer),Cn=ke(Nn),gn=Ks(s),Fn=Gt(t,g.outerContainer.element),rs=()=>Fn.fold(()=>gn.x,ea=>{const gc=Ks(ea);return Uo(ea,Hi())?gn.x:gn.x-gc.x}),$o=()=>Fn.fold(()=>Q()?Math.max(gn.y-fs(zt.element)+Cn,0):gn.bottom,ea=>{var gc;const Yc=Ks(ea),sl=(gc=ea.dom.scrollTop)!==null&&gc!==void 0?gc:0,tg=Uo(ea,Hi())?Math.max(gn.y-fs(zt.element)+Cn,0):gn.y-Yc.y+sl-fs(zt.element)+Cn;return Q()?tg:gn.bottom}),ga=rs(),pc=wn(en,Math.ceil(g.outerContainer.element.dom.getBoundingClientRect().width)).filter(ea=>ea>te).map(ea=>{const gc=Ct.getOr(ji()),Yc=window.innerWidth-(ga-gc.left),sl=Math.max(Math.min(ea,Yc),te);return Yc<ea&&gt(g.outerContainer.element,"width",sl+"px"),{width:sl+"px"}}).getOr({width:"max-content"}),dd={position:"absolute",left:Math.round(ga)+"px",top:$o()+"px"};oo(g.outerContainer.element,{...dd,...pc})})},Gt=(en,Ct)=>eh(en)?Tb(Ct):P.none(),ut=()=>{wt(b,en=>{en.broadcastOn([Wg()],{})})},Qt=()=>!E&&(Vi(g.outerContainer.element).left+ho(g.outerContainer.element)>=window.innerWidth-B5||vs(g.outerContainer.element,"width").isSome())?(gt(g.outerContainer.element,"position","absolute"),gt(g.outerContainer.element,"left","0px"),Zn(g.outerContainer.element,"width"),!0):!1,Bt=en=>{if(!ge())return;E||rt();const Ct=ji(),zt=E?!1:Qt();if(de&&ws.refreshToolbar(g.outerContainer),!E){const Nn=ji(),Cn=wn(Ct.left!==Nn.left,Ct);Ht(zt,Cn),Cn.each(gn=>{zu(gn.left,Nn.top)})}M&&h.on(en),ut()},on=()=>E||!M||!ge()?!1:h.get().exists(en=>{const Ct=z.getDockingMode(),zt=Ae(en);return zt!==Ct?(ft(zt),!0):!1});return{isVisible:ge,isPositionedAtTop:Q,show:()=>{Ne.set(!0),gt(g.outerContainer.element,"display","flex"),C.addClass(t.getBody(),"mce-edit-focus"),wt(b,en=>{Zn(en.element,"display")}),on(),eh(t)?Bt(en=>Ms.isDocked(en)?Ms.reset(en):Ms.refresh(en)):Bt(Ms.refresh)},hide:()=>{Ne.set(!1),gt(g.outerContainer.element,"display","none"),C.removeClass(t.getBody(),"mce-edit-focus"),wt(b,en=>{gt(en.element,"display","none")})},update:Bt,updateMode:()=>{on()&&Bt(Ms.reset)},repositionPopups:ut}},HA=(t,s)=>{const a=Ks(t);return{pos:s?a.y:a.bottom,bounds:a}},IZ=(t,s,a,u)=>{const h=un(HA(s,a.isPositionedAtTop())),g=M=>{const{pos:I,bounds:z}=HA(s,a.isPositionedAtTop()),{pos:Q,bounds:te}=h.get(),le=z.height!==te.height||z.width!==te.width;h.set({pos:I,bounds:z}),le&&A2(t,M),a.isVisible()&&(Q!==I?a.update(Ms.reset):le&&(a.updateMode(),a.repositionPopups()))};u||(t.on("activate",a.show),t.on("deactivate",a.hide)),t.on("SkinLoaded ResizeWindow",()=>a.update(Ms.reset)),t.on("NodeChange keydown",M=>{requestAnimationFrame(()=>g(M))});let b=0;const C=ck(()=>a.update(Ms.refresh),33);t.on("ScrollWindow",()=>{const M=ji().left;M!==b&&(b=M,C.throttle()),a.updateMode()}),eh(t)&&t.on("ElementScroll",M=>{a.update(Ms.refresh)});const E=_a();E.set(xC(pt.fromDom(t.getBody()),"load",M=>g(M.raw))),t.on("remove",()=>{E.clear()})};var BZ=Object.freeze({__proto__:null,render:(t,s,a,u,h)=>{const{mainUi:g}=s,b=cs(),C=pt.fromDom(h.targetNode),E=$5(t,C,s,u,b),M=j3(t);zj(t);const I=()=>{if(b.isSet()){E.show();return}b.set(ws.getHeader(g.outerContainer).getOrDie());const Q=oT(t);eh(t)?(up(C,g.mothership),up(C,s.popupUi.mothership)):Z4(Q,g.mothership),Z4(Q,s.dialogUi.mothership);const te=()=>{L5(t,s,a,u),ws.setMenubar(g.outerContainer,r5(t,a)),E.show(),IZ(t,C,E,M),t.nodeChanged()};M?t.once("SkinLoaded",te):te()};t.on("show",I),t.on("hide",E.hide),M||(t.on("focus",I),t.on("blur",E.hide)),t.on("init",()=>{(t.hasFocus()||M)&&I()}),KT(t,s);const z={show:I,hide:E.hide,setEnabled:Q=>{hv(s,!Q)},isEnabled:()=>!On.isDisabled(g.outerContainer)};return{editorContainer:g.outerContainer.element.dom,api:z}}});const $Z=()=>{const t=cs(),s=cs(),a=cs();return{dialogUi:t,popupUi:s,mainUi:a,getUiMotherships:()=>{const g=t.get().map(C=>C.mothership),b=s.get().map(C=>C.mothership);return g.fold(()=>b.toArray(),C=>b.fold(()=>[C],E=>Uo(C.element,E.element)?[C]:[C,E]))},lazyGetInOuterOrDie:(g,b)=>()=>a.get().bind(C=>b(C.outerContainer)).getOrDie(`Could not find ${g} element in OuterContainer`)}},FZ="contexttoolbar-show",F5="contexttoolbar-hide",HZ=t=>({hide:()=>Qn(t,Sb()),getValue:()=>Xt.getValue(t)}),zv=(t,s)=>mt(oI,(a,u)=>{const h=t.get(a),g=HZ(h);s.onAction(g,u.event.buttonApi)}),zZ=(t,s,a)=>{const{primary:u,...h}=s.original,g=ot($P({...h,type:"button",onAction:F}));return O5(g,a,[zv(t,s)])},VZ=(t,s,a)=>{const{primary:u,...h}=s.original,g=ot(FP({...h,type:"togglebutton",onAction:F}));return D5(g,a,[zv(t,s)])},UZ=t=>t.type==="contextformtogglebutton",H5=(t,s,a)=>UZ(s)?VZ(t,s,a):zZ(t,s,a),WZ=(t,s,a)=>{const u=Ue(s,b=>Bo(H5(t,b,a)));return{asSpecs:()=>Ue(u,b=>b.asSpec()),findPrimary:b=>bt(s,(C,E)=>C.primary?P.from(u[E]).bind(M=>M.getOpt(b)).filter(he(On.isDisabled)):P.none())}},zA=(t,s)=>{const a=t.label.fold(()=>({}),g=>({"aria-label":g})),u=Bo(Op.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:a,selectOnFocus:!0,inputBehaviours:At([bn.config({mode:"special",onEnter:g=>h.findPrimary(g).map(b=>(Om(b),!0)),onLeft:(g,b)=>(b.cut(),P.none()),onRight:(g,b)=>(b.cut(),P.none())})])})),h=WZ(u,t.commands,s);return[{title:P.none(),items:[u.asSpec()]},{title:P.none(),items:h.asSpecs()}]},jZ={renderContextForm:(t,s,a)=>SS({type:t,uid:Kt("context-toolbar"),initGroups:zA(s,a),onEscape:P.none,cyclicKeying:!0,providers:a}),buildInitGroups:zA},z5=(t,s,a)=>s.bottom-t.y>=a&&t.bottom-s.y>=a,ZZ=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const a=fl(pt.fromDom(t.startContainer),t.startOffset).element;return(Ar(a)?xa(a):P.some(a)).filter(To).map(h=>h.dom.getBoundingClientRect()).getOr(s)}else return s},VA=t=>{const s=t.selection.getRng(),a=ZZ(s);if(t.inline){const u=ji();return Vs(u.left+a.left,u.top+a.top,a.width,a.height)}else{const u=lu(pt.fromDom(t.getBody()));return Vs(u.x+a.left,u.y+a.top,a.width,a.height)}},I0=(t,s)=>s.filter(a=>oa(a)&&hi(a)).map(lu).getOrThunk(()=>VA(t)),V5=(t,s,a)=>{const u=Math.max(t.x+a,s.x),h=Math.min(t.right-a,s.right);return{x:u,width:h-u}},qZ=(t,s,a,u,h,g)=>{const b=pt.fromDom(t.getContainer()),C=Zs(b,".tox-editor-header").getOr(b),E=Ks(C),M=E.y>=s.bottom,I=u&&!M;if(t.inline&&I)return{y:Math.max(E.bottom+g,a.y),bottom:a.bottom};if(t.inline&&!I)return{y:a.y,bottom:Math.min(E.y-g,a.bottom)};const z=h==="line"?Ks(b):s;return I?{y:Math.max(E.bottom+g,a.y),bottom:Math.min(z.bottom-g,a.bottom)}:{y:Math.max(z.y+g,a.y),bottom:Math.min(E.y-g,a.bottom)}},U5=(t,s,a,u=0)=>{const h=Ef(window),g=Ks(pt.fromDom(t.getContentAreaContainer())),b=Yw(t)||f1(t)||m1(t),{x:C,width:E}=V5(g,h,u);if(t.inline&&!b)return Vs(C,h.y,E,h.height);{const M=s.header.isPositionedAtTop(),{y:I,bottom:z}=qZ(t,g,h,M,a,u);return Vs(C,I,E,z-I)}},R0=12,NS={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},UA={maxHeightFunction:Rg(),maxWidthFunction:Iv()},W5=(t,s)=>{const a=t.selection.getRng(),u=fl(pt.fromDom(a.startContainer),a.startOffset);return a.startContainer===a.endContainer&&a.startOffset===a.endOffset-1&&Uo(u.element,s)},GZ=(t,s,a)=>{const u=vs(t,"position");gt(t,"position",s);const h=a(t);return u.each(g=>gt(t,"position",g)),h},qp=t=>t==="node",LS=(t,s,a,u,h)=>{const g=VA(t),b=u.lastElement().exists(C=>Uo(a,C));if(W5(t,a))return b?FI:Ml;if(b)return GZ(s,u.getMode(),()=>z5(g,Ks(s),-20)&&!u.isReposition()?HI:FI);{const C=u.getMode()==="fixed"?h.y+ji().top:h.y,E=fs(s)+R0;return C+E<=g.y?Ml:Pv}},IS=(t,s,a,u)=>{const h=E=>(M,I,z,Q,te)=>{const le=LS(t,Q,E,a,te),de={...M,y:te.y,height:te.height};return{...le(de,I,z,Q,te),alwaysFit:!0}},g=E=>qp(u)?[h(E)]:[];return s?{onLtr:E=>[ti,ei,jr,Ii,Ki,di].concat(g(E)),onRtl:E=>[ti,jr,ei,Ki,Ii,di].concat(g(E))}:{onLtr:E=>[di,ti,Ii,ei,Ki,jr].concat(g(E)),onRtl:E=>[di,ti,Ki,jr,Ii,ei].concat(g(E))}},WA=(t,s,a,u)=>s==="line"?{bubble:hu(R0,0,NS),layouts:{onLtr:()=>[gC],onRtl:()=>[vC]},overrides:UA}:{bubble:hu(0,R0,NS,1/R0),layouts:IS(t,a,u,s),overrides:UA},B0=(t,s)=>{const a=Dn(s,g=>g.predicate(t.dom)),{pass:u,fail:h}=as(a,g=>g.type==="contexttoolbar");return{contextToolbars:u,contextForms:h}},j5=t=>{if(t.length<=1)return t;{const s=g=>jt(t,b=>b.position===g),a=g=>Dn(t,b=>b.position===g),u=s("selection"),h=s("node");if(u||h)if(h&&u){const g=a("node"),b=Ue(a("selection"),C=>({...C,position:"node"}));return g.concat(b)}else return a(u?"selection":"node");else return a("line")}},RS=t=>{if(t.length<=1)return t;{const s=u=>It(t,h=>h.position===u);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(u=>u.position).fold(()=>[],u=>Dn(t,h=>h.position===u))}},Z5=(t,s,a)=>{const u=B0(t,s);if(u.contextForms.length>0)return P.some({elem:t,toolbars:[u.contextForms[0]]});{const h=B0(t,a);if(h.contextForms.length>0)return P.some({elem:t,toolbars:[h.contextForms[0]]});if(u.contextToolbars.length>0||h.contextToolbars.length>0){const g=j5(u.contextToolbars.concat(h.contextToolbars));return P.some({elem:t,toolbars:g})}else return P.none()}},q5=(t,s,a)=>t(s)?P.none():hy(s,u=>{if(To(u)){const{contextToolbars:h,contextForms:g}=B0(u,a.inNodeScope),b=g.length>0?g:RS(h);return b.length>0?P.some({elem:u,toolbars:b}):P.none()}else return P.none()},t),jA=(t,s)=>{const a=pt.fromDom(s.getBody()),u=b=>Uo(b,a),h=b=>!u(b)&&!Rl(a,b),g=pt.fromDom(s.selection.getNode());return h(g)?P.none():Z5(g,t.inNodeScope,t.inEditorScope).orThunk(()=>q5(u,g,t))},XZ=(t,s)=>{const a={},u=[],h=[],g={},b={},C=(I,z)=>{const Q=ot(G8(z));a[I]=Q,Q.launch.map(te=>{g["form:"+I]={...z.launch,type:te.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(Q)}}}),Q.scope==="editor"?h.push(Q):u.push(Q),b[I]=Q},E=(I,z)=>{O1(z).each(Q=>{z.scope==="editor"?h.push(Q):u.push(Q),b[I]=Q})},M=ht(t);return wt(M,I=>{const z=t[I];z.type==="contextform"?C(I,z):z.type==="contexttoolbar"&&E(I,z)}),{forms:a,inNodeScope:u,inEditorScope:h,lookupTable:b,formNavigators:g}},ZA=Kt("forward-slide"),G5=Kt("backward-slide"),qA=Kt("change-slide-event"),Vv="tox-pop--resizing",X5=t=>{const s=un([]);return Ps.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:a=>{s.set([]),Ps.getContent(a).each(u=>{Zn(u.element,"visibility")}),er(a.element,Vv),Zn(a.element,"width")},inlineBehaviours:At([jn("context-toolbar-events",[Tg(qu(),(a,u)=>{u.event.raw.propertyName==="width"&&(er(a.element,Vv),Zn(a.element,"width"))}),mt(qA,(a,u)=>{const h=a.element;Zn(h,"width");const g=ki(h);Ps.setContent(a,u.event.contents),Nr(h,Vv);const b=ki(h);gt(h,"width",g+"px"),Ps.getContent(a).each(C=>{u.event.focus.bind(E=>(Oc(E),Ha(h))).orThunk(()=>(bn.focusIn(C),Ju(Hr(h))))}),setTimeout(()=>{gt(a.element,"width",b+"px")},0)}),mt(ZA,(a,u)=>{Ps.getContent(a).each(h=>{s.set(s.get().concat([{bar:h,focus:Ju(Hr(a.element))}]))}),Sn(a,qA,{contents:u.event.forwardContents,focus:P.none()})}),mt(G5,(a,u)=>{Le(s.get()).each(h=>{s.set(s.get().slice(0,s.get().length-1)),Sn(a,qA,{contents:Xl(h.bar),focus:h.focus})})})]),bn.config({mode:"special",onEscape:a=>Le(s.get()).fold(()=>t.onEscape(),u=>(Qn(a,G5),P.some(!0)))})]),lazySink:()=>Xn.value(t.sink)})},GA="tox-pop--transition",YZ=(t,s,a,u)=>{const h=u.backstage,g=h.shared,b=so().deviceType.isTouch,C=cs(),E=cs(),M=cs(),I=la(X5({sink:a,onEscape:()=>(t.focus(),P.some(!0))})),z=()=>{const Bt=M.get().getOr("node"),on=qp(Bt)?1:0;return U5(t,g,Bt,on)},Q=()=>!t.removed&&!(b()&&h.isContextMenuOpen()),te=Bt=>Xs(lr(Bt,C.get(),Uo),!0),le=()=>{if(Q()){const Bt=z(),on=Xs(M.get(),"node")?I0(t,C.get()):VA(t);return Bt.height<=0||!z5(on,Bt,.01)}else return!0},de=()=>{C.clear(),E.clear(),M.clear(),Ps.hide(I)},Ne=()=>{if(Ps.isOpen(I)){const Bt=I.element;Zn(Bt,"display"),le()?gt(Bt,"display","none"):(E.set(0),Ps.reposition(I))}},ge=Bt=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Bt],behaviours:At([bn.config({mode:"acyclic"}),jn("pop-dialog-wrap-events",[$s(on=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>bn.focusIn(on))}),Bd(on=>{t.shortcuts.remove("ctrl+F9")})])])}),ke=Ui(()=>XZ(s,Bt=>{const on=rt([Bt]);Sn(I,ZA,{forwardContents:ge(on)})})),Ae=(Bt,on)=>N0(t,{buttons:Bt,toolbar:on.items,allowToolbarGroups:!1},u.backstage,P.some(["form:"])),ft=(Bt,on)=>jZ.buildInitGroups(Bt,on),rt=Bt=>{const{buttons:on}=t.ui.registry.getAll(),co=ke(),Ss={...on,...co.formNavigators},Io=Ep(t)===Ic.scrolling?Ic.scrolling:Ic.default,en=nn(Ue(Bt,Ct=>Ct.type==="contexttoolbar"?Ae(Ss,Ct):ft(Ct,g.providers)));return SS({type:Io,uid:Kt("context-toolbar"),initGroups:en,onEscape:P.none,cyclicKeying:!0,providers:g.providers})},Ht=(Bt,on)=>{const co=Bt==="node"?g.anchors.node(on):g.anchors.cursor(),Ss=WA(t,Bt,b(),{lastElement:C.get,isReposition:()=>Xs(E.get(),0),getMode:()=>da.getMode(a)});return Us(co,Ss)},Gt=(Bt,on)=>{if(Qt.cancel(),!Q())return;const co=rt(Bt),Ss=Bt[0].position,Io=Ht(Ss,on);M.set(Ss),E.set(1);const en=I.element;Zn(en,"display"),te(on)||(er(en,GA),da.reset(a,I)),Ps.showWithinBounds(I,ge(co),{anchor:Io,transition:{classes:[GA],mode:"placement"}},()=>P.some(z())),on.fold(C.clear,C.set),le()&&gt(en,"display","none")};let ut=!1;const Qt=ck(()=>{if(!(!t.hasFocus()||t.removed||ut))if(Cl(I.element,GA))Qt.throttle();else{const Bt=ke();jA(Bt,t).fold(de,on=>{Gt(on.toolbars,P.some(on.elem))})}},17);t.on("init",()=>{t.on("remove",de),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Ne),t.on("click keyup focus SetContent",Qt.throttle),t.on(F5,de),t.on(FZ,Bt=>{const on=ke();_t(on.lookupTable,Bt.toolbarKey).each(co=>{Gt([co],wn(Bt.target!==t,Bt.target)),Ps.getContent(I).each(bn.focusIn)})}),t.on("focusout",Bt=>{sv.setEditorTimeout(t,()=>{Ha(a.element).isNone()&&Ha(I.element).isNone()&&de()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&de()}),t.on("ExecCommand",({command:Bt})=>{Bt.toLowerCase()==="toggleview"&&de()}),t.on("AfterProgressState",Bt=>{Bt.state?de():t.hasFocus()&&Qt.throttle()}),t.on("dragstart",()=>{ut=!0}),t.on("dragend drop",()=>{ut=!1}),t.on("NodeChange",Bt=>{Ha(I.element).fold(Qt.throttle,F)})})},KZ=t=>{wt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],a=>{t.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onAction:Dl(t,a.cmd),onSetup:D2(t,a.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Ma(t),onAction:Dl(t,"JustifyNone")})},Y5=(t,s)=>{const a=()=>{const u=s.getOptions(t),h=s.getCurrent(t).map(s.hash),g=cs();return Ue(u,b=>({type:"togglemenuitem",text:s.display(b),onSetup:C=>{const E=I=>{I&&(g.on(z=>z.setActive(!1)),g.set(C)),C.setActive(I)};E(Xs(h,s.hash(b)));const M=s.watcher(t,b,E);return()=>{g.clear(),M()}},onAction:()=>s.setCurrent(t,b)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:u=>u(a()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:a,onSetup:s.onMenuSetup})},JZ=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:oP,hash:s=>tZ(s,["fixed","relative","empty"]).getOr(s),display:He,watcher:(s,a,u)=>s.formatter.formatChanged("lineheight",u,!1,{value:a}).unbind,getCurrent:s=>P.from(s.queryCommandValue("LineHeight")),setCurrent:(s,a)=>s.execCommand("LineHeight",!1,a),onToolbarSetup:Ma(t),onMenuSetup:Ma(t)}),K5=t=>P.from(U3(t)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:ie(a),hash:u=>q(u.customCode)?u.code:`${u.code}/${u.customCode}`,display:u=>u.title,watcher:(u,h,g)=>{var b;return u.formatter.formatChanged("lang",g,!1,{value:h.code,customValue:(b=h.customCode)!==null&&b!==void 0?b:null}).unbind},getCurrent:u=>{const h=pt.fromDom(u.selection.getNode());return wg(h,g=>P.some(g).filter(To).bind(b=>vr(b,"lang").map(E=>{const M=vr(b,"data-mce-lang").getOrUndefined();return{code:E,customCode:M,title:""}})))},setCurrent:(u,h)=>u.execCommand("Lang",!1,h),onToolbarSetup:u=>{const h=_a();return u.setActive(t.formatter.match("lang",{},void 0,!0)),h.set(t.formatter.formatChanged("lang",u.setActive,!0)),O2(h.clear,Ma(t)(u))},onMenuSetup:Ma(t)})),J5=t=>{Y5(t,JZ(t)),K5(t).each(s=>Y5(t,s))},Q5=(t,s)=>{Sh(t,s),Qj(t,s),C5(t,s),Gj(t,s),mZ(t,s)},eB=t=>Rp(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),QZ=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:eB(t),onAction:Dl(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Ma(t),onAction:Dl(t,"indent")})},tB=t=>{QZ(t)},XA=(t,s)=>a=>{a.setActive(s.get());const u=h=>{s.set(h.state),a.setActive(h.state)};return t.on("PastePlainTextToggle",u),O2(()=>t.off("PastePlainTextToggle",u),Ma(t)(a))},eq=t=>{const s=un(QE(t)),a=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:a,onSetup:XA(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:a,onSetup:XA(t,s)})},nB=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},tq=t=>{rm.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,a)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:D2(t,s.name),onAction:nB(t,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const a="h"+s,u=`Access+${s}`;t.ui.registry.addToggleButton(a,{text:a.toUpperCase(),tooltip:"Heading "+s,onSetup:D2(t,a),onAction:nB(t,a),shortcut:u})}},nq=t=>{rm.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Dl(t,s.action),shortcut:s.shortcut})}),rm.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Ma(t),onAction:Dl(t,s.action)})})},oq=t=>{rm.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:Dl(t,s.action),onSetup:D2(t,s.name)})})},sq=t=>{tq(t),nq(t),oq(t)},rq=t=>{rm.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:Dl(t,s.action)})}),rm.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:Ma(t),onAction:Dl(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Ma(t),onAction:nB(t,"code")})},iq=t=>{sq(t),rq(t)},BS=(t,s)=>Rp(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),aq=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:BS(t,"hasUndo"),onAction:Dl(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:BS(t,"hasRedo"),onAction:Dl(t,"redo")})},lq=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:BS(t,"hasUndo"),onAction:Dl(t,"undo"),shortcut:"Meta+Z"}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:BS(t,"hasRedo"),onAction:Dl(t,"redo"),shortcut:"Meta+Y"})},cq=t=>{aq(t),lq(t)},uq=t=>Rp(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),dq=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:uq(t),onAction:Dl(t,"mceToggleVisualAid")})},fq=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Dl(t,"mceToggleVisualAid")})},oB=t=>{fq(t),dq(t)},mq=(t,s)=>{KZ(t),iq(t),Q5(t,s),cq(t),Oz(t),oB(t),tB(t),J5(t),eq(t)},hq=t=>T(t)?t.split(/[ ,]/):t,sB=t=>s=>s.options.get(t),pq=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:a=>a===!1?{value:[],valid:!0}:T(a)||J(a,T)?{value:hq(a),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},rB=sB("contextmenu_never_use_native"),gq=sB("contextmenu_avoid_overlap"),vq=t=>iB(t).length===0,iB=t=>{const s=t.ui.registry.getAll().contextMenus,a=t.options.get("contextmenu");return t.options.isSet("contextmenu")?a:Dn(a,u=>Gn(s,u))},$0=(t,s)=>({type:"makeshift",x:t,y:s}),YA=(t,s,a)=>$0(t.x+s,t.y+a),aB=t=>t.type==="longpress"||t.type.indexOf("touch")===0,bq=t=>{if(aB(t)){const s=t.touches[0];return $0(s.pageX,s.pageY)}else return $0(t.pageX,t.pageY)},KA=t=>{if(aB(t)){const s=t.touches[0];return $0(s.clientX,s.clientY)}else return $0(t.clientX,t.clientY)},lB=(t,s)=>{const a=wp.DOM.getPos(t);return YA(s,a.x,a.y)},cB=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?bq(s):lB(t.getContentAreaContainer(),KA(s)):uB(t),uB=t=>({type:"selection",root:pt.fromDom(t.selection.getNode())}),yq=t=>({type:"node",node:P.some(pt.fromDom(t.selection.getNode())),root:pt.fromDom(t.getBody())}),dB=(t,s,a)=>{switch(a){case"node":return yq(t);case"point":return cB(t,s);case"selection":return uB(t)}},wq=(t,s,a,u,h,g)=>{const b=a(),C=dB(t,s,g);Av(b,wu.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:P.none()}).map(E=>{s.preventDefault(),Ps.showMenuAt(h,{anchor:C},{menu:{markers:Ap("normal")},data:E})})},Sq={onLtr:()=>[ti,ei,jr,Ii,Ki,di,Ml,Pv,Mv,lS,b0,aS],onRtl:()=>[ti,jr,ei,Ki,Ii,di,Ml,Pv,b0,aS,Mv,lS]},JA=12,xq={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},fB=(t,s)=>{const a=t.selection;if(a.isCollapsed()||s.touches.length<1)return!1;{const u=s.touches[0],h=a.getRng();return wi(t.getWin(),Hb.domRange(h)).exists(b=>b.left<=u.clientX&&b.right>=u.clientX&&b.top<=u.clientY&&b.bottom>=u.clientY)}},Cq=t=>{const s=t.selection.getRng(),a=()=>{sv.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),g()};t.once("touchend",a);const u=b=>{b.preventDefault(),b.stopImmediatePropagation()};t.on("mousedown",u,!0);const h=()=>g();t.once("longpresscancel",h);const g=()=>{t.off("touchend",a),t.off("longpresscancel",h),t.off("mousedown",u)}},Eq=(t,s,a)=>{const u=dB(t,s,a);return{bubble:hu(0,a==="point"?JA:0,xq),layouts:Sq,overrides:{maxWidthFunction:Iv(),maxHeightFunction:Rg()},...u}},QA=(t,s,a,u,h,g,b)=>{const C=Eq(t,s,g);Av(a,wu.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!0,search:P.none()}).map(E=>{s.preventDefault();const M=b?mr.HighlightMenuAndItem:mr.HighlightNone;Ps.showMenuWithinBounds(h,{anchor:C},{menu:{markers:Ap("normal"),highlightOnOpen:M},data:E,type:"horizontal"},()=>P.some(U5(t,u.shared,g==="node"?"node":"selection"))),t.dispatch(F5)})},Tq=(t,s,a,u,h,g)=>{const b=so(),C=b.os.isiOS(),E=b.os.isMacOS(),M=b.os.isAndroid(),I=b.deviceType.isTouch(),z=()=>!(M||C||E&&I),Q=()=>{const te=a();QA(t,s,te,u,h,g,z())};if((E||C)&&g!=="node"){const te=()=>{Cq(t),Q()};fB(t,s)?te():(t.once("selectionchange",te),t.once("touchend",()=>t.off("selectionchange",te)))}else Q()},eO=t=>T(t)?t==="|":t.type==="separator",tO={type:"separator"},mB=t=>{const s=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(T(t))return t;switch(t.type){case"separator":return tO;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const u=t.getSubmenuItems();return T(u)?u:Ue(u,mB)}};default:const a=t;return{type:"menuitem",...s(a),onAction:ce(a.onAction)}}},$S=(t,s)=>{if(s.length===0)return t;const u=Le(t).filter(h=>!eO(h)).fold(()=>[],h=>[tO]);return t.concat(u).concat(s).concat([tO])},_q=(t,s,a)=>{const u=Vo(s,(h,g)=>_t(t,g.toLowerCase()).map(b=>{const C=b.update(a);if(T(C)&&ve(_r(C)))return $S(h,C.split(" "));if(D(C)&&C.length>0){const E=Ue(C,mB);return $S(h,E)}else return h}).getOrThunk(()=>h.concat([g])),[]);return u.length>0&&eO(u[u.length-1])&&u.pop(),u},kq=(t,s)=>s.ctrlKey&&!rB(t),Aq=t=>t.type==="longpress"||Gn(t,"touches"),hB=(t,s)=>!Aq(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),pB=(t,s)=>hB(t,s)?t.selection.getStart(!0):s.target,gB=(t,s)=>{const a=gq(t),u=hB(t,s)?"selection":"point";if(ve(a)){const h=pB(t,s);return F1(pt.fromDom(h),a)?"node":u}else return u},Oq=(t,s,a)=>{const h=so().deviceType.isTouch,g=la(Ps.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:At([jn("dismissContextMenu",[mt(Vh(),(E,M)=>{Do.close(E),t.focus()})])])})),b=()=>Ps.hide(g),C=E=>{if(rB(t)&&E.preventDefault(),kq(t,E)||vq(t))return;const M=gB(t,E),I=()=>{const Q=pB(t,E),te=t.ui.registry.getAll(),le=iB(t);return _q(te.contextMenus,le,Q)};(h()?Tq:wq)(t,E,I,a,g,M)};t.on("init",()=>{const E="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(h()?"":" ResizeWindow");t.on(E,b),t.on("longpress contextmenu",C)})},nO=bl.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),FS=t=>s=>s.translate(-t.left,-t.top),HS=t=>s=>s.translate(t.left,t.top),am=t=>(s,a)=>Vo(t,(u,h)=>h(u),Os(s,a)),zS=(t,s,a)=>t.fold(am([HS(a),FS(s)]),am([FS(s)]),am([])),Uv=(t,s,a)=>t.fold(am([HS(a)]),am([]),am([HS(s)])),vB=(t,s,a)=>t.fold(am([]),am([FS(a)]),am([HS(s),FS(a)])),bB=(t,s,a,u,h,g)=>{const b=Uv(t,h,g),C=Uv(s,h,g);return Math.abs(b.left-C.left)<=a&&Math.abs(b.top-C.top)<=u},Dq=(t,s,a,u,h,g)=>{const b=Uv(t,h,g),C=Uv(s,h,g),E=Math.abs(b.left-C.left),M=Math.abs(b.top-C.top);return Os(E,M)},oO=(t,s,a)=>{const u=t.fold((h,g)=>({position:P.some("absolute"),left:P.some(h+"px"),top:P.some(g+"px")}),(h,g)=>({position:P.some("absolute"),left:P.some(h-a.left+"px"),top:P.some(g-a.top+"px")}),(h,g)=>({position:P.some("fixed"),left:P.some(h+"px"),top:P.some(g+"px")}));return{right:P.none(),bottom:P.none(),...u}},Mq=(t,s,a)=>t.fold((u,h)=>VS(u+s,h+a),(u,h)=>fc(u+s,h+a),(u,h)=>xh(u+s,h+a)),sO=(t,s,a,u)=>{const h=(g,b)=>(C,E)=>{const M=g(s,a,u);return b(C.getOr(M.left),E.getOr(M.top))};return t.fold(h(vB,VS),h(Uv,fc),h(zS,xh))},VS=nO.offset,fc=nO.absolute,xh=nO.fixed,yB=(t,s)=>{const a=Mn(t,s);return q(a)?NaN:parseInt(a,10)},Pq=(t,s)=>{const a=t.element,u=yB(a,s.leftAttr),h=yB(a,s.topAttr);return isNaN(u)||isNaN(h)?P.none():P.some(Os(u,h))},Nq=(t,s,a)=>{const u=t.element;vn(u,s.leftAttr,a.left+"px"),vn(u,s.topAttr,a.top+"px")},Lq=(t,s)=>{const a=t.element;W(a,s.leftAttr),W(a,s.topAttr)},wB=(t,s,a,u)=>Pq(t,s).fold(()=>a,h=>xh(h.left+u.left,h.top+u.top)),Iq=(t,s,a,u,h,g)=>{const b=wB(t,s,a,u),C=s.mustSnap?Bq(t,s,b,h,g):$q(t,s,b,h,g),E=zS(b,h,g);return Nq(t,s,E),C.fold(()=>({coord:xh(E.left,E.top),extra:P.none()}),M=>({coord:M.output,extra:M.extra}))},Rq=(t,s)=>{Lq(t,s)},SB=(t,s,a,u)=>bt(t,h=>{const g=h.sensor;return bB(s,g,h.range.left,h.range.top,a,u)?P.some({output:sO(h.output,s,a,u),extra:h.extra}):P.none()}),Bq=(t,s,a,u,h)=>{const g=s.getSnapPoints(t);return SB(g,a,u,h).orThunk(()=>Vo(g,(E,M)=>{const I=M.sensor,z=Dq(a,I,M.range.left,M.range.top,u,h);return E.deltas.fold(()=>({deltas:P.some(z),snap:P.some(M)}),Q=>{const te=(z.left+z.top)/2,le=(Q.left+Q.top)/2;return te<=le?{deltas:P.some(z),snap:P.some(M)}:E})},{deltas:P.none(),snap:P.none()}).snap.map(E=>({output:sO(E.output,a,u,h),extra:E.extra})))},$q=(t,s,a,u,h)=>{const g=s.getSnapPoints(t);return SB(g,a,u,h)},Fq=(t,s,a)=>({coord:sO(t.output,t.output,s,a),extra:t.extra});var Hq=Object.freeze({__proto__:null,snapTo:(t,s,a,u)=>{const h=s.getTarget(t.element);if(s.repositionTarget){const g=Fr(t.element),b=ji(g),C=bD(h),E=Fq(u,b,C),M=oO(E.coord,b,C);ds(h,M)}}});const rO="data-initial-z-index",zq=t=>{xa(t.element).filter(To).each(s=>{vr(s,rO).fold(()=>Zn(s,"z-index"),a=>gt(s,"z-index",a)),W(s,rO)})},xB=t=>{xa(t.element).filter(To).each(s=>{vs(s,"z-index").each(a=>{vn(s,rO,a)}),gt(s,"z-index",ts(t.element,"z-index"))})},iO=(t,s)=>{t.getSystem().addToGui(s),xB(s)},Vq=t=>{zq(t),t.getSystem().removeFromGui(t)},Wv=(t,s,a)=>t.getSystem().build(sd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:a}));var Uq=Ds("snaps",[it("getSnapPoints"),Eo("onSensor"),it("leftAttr"),it("topAttr"),Ie("lazyViewport",ur),Ie("mustSnap",!1)]);const aO=[Ie("useFixed",Me),it("blockerClass"),Ie("getTarget",He),Ie("onDrag",F),Ie("repositionTarget",!0),Ie("onDrop",F),ks("getBounds",ur),Uq],lO=t=>cl(vs(t,"left"),vs(t,"top"),vs(t,"position"),(s,a,u)=>(u==="fixed"?xh:VS)(parseInt(s,10),parseInt(a,10))).getOrThunk(()=>{const s=Vi(t);return fc(s.left,s.top)}),Wq=(t,s,a,u,h)=>{const g=h.bounds,b=Uv(s,a,u),C=_l(b.left,g.x,g.x+g.width-h.width),E=_l(b.top,g.y,g.y+g.height-h.height),M=fc(C,E);return s.fold(()=>{const I=vB(M,a,u);return VS(I.left,I.top)},ie(M),()=>{const I=zS(M,a,u);return xh(I.left,I.top)})},jq=(t,s,a,u,h,g,b)=>{const C=s.fold(()=>{const E=Mq(a,g.left,g.top),M=zS(E,u,h);return xh(M.left,M.top)},E=>{const M=Iq(t,E,a,g,u,h);return M.extra.each(I=>{E.onSensor(t,I)}),M.coord});return Wq(t,C,u,h,b)},Zq=(t,s,a,u)=>{const h=s.getTarget(t.element);if(s.repositionTarget){const g=Fr(t.element),b=ji(g),C=bD(h),E=lO(h),M=jq(t,s.snaps,E,b,C,u,a),I=oO(M,b,C);ds(h,I)}s.onDrag(t,h,u)},CB=(t,s)=>({bounds:t.getBounds(),height:Za(s.element),width:ho(s.element)}),cO=(t,s,a,u,h)=>{const g=a.update(u,h),b=a.getStartData().getOrThunk(()=>CB(s,t));g.each(C=>{Zq(t,s,b,C)})},EB=(t,s,a,u)=>{s.each(Vq),a.snaps.each(g=>{Rq(t,g)});const h=a.getTarget(t.element);u.reset(),a.onDrop(t,h)},uO=t=>(s,a)=>{const u=h=>{a.setStartData(CB(s,h))};return Bs([mt(xy(),h=>{a.getStartData().each(()=>u(h))}),...t(s,a,u)])},qq=t=>Bs([mt(yl(),t.forceDrop),mt(xx(),t.drop),mt(gy(),(s,a)=>{t.move(a.event)}),mt(yb(),t.delayDrop)]);var Gq=Object.freeze({__proto__:null,getData:t=>P.from(Os(t.x,t.y)),getDelta:(t,s)=>Os(s.left-t.left,s.top-t.top)});const TB=(t,s,a)=>[mt(yl(),(u,h)=>{if(h.event.raw.button!==0)return;h.stop();const b=()=>EB(u,P.some(M),t,s),C=GN(b,200),E={drop:b,delayDrop:C.schedule,forceDrop:b,move:z=>{C.cancel(),cO(u,t,s,Gq,z)}},M=Wv(u,t.blockerClass,qq(E));(()=>{a(u),iO(u,M)})()})],Xq=[...aO,ps("dragger",{handlers:uO(TB)})],Yq=t=>Bs([mt(Nd(),t.forceDrop),mt(Am(),t.drop),mt(sD(),t.drop),mt(py(),(s,a)=>{t.move(a.event)})]),Kq=t=>{const s=t[0];return P.some(Os(s.clientX,s.clientY))};var F0=Object.freeze({__proto__:null,getData:t=>{const a=t.raw.touches;return a.length===1?Kq(a):P.none()},getDelta:(t,s)=>Os(s.left-t.left,s.top-t.top)});const _B=(t,s,a)=>{const u=cs(),h=g=>{EB(g,u.get(),t,s),u.clear()};return[mt(Nd(),(g,b)=>{b.stop();const C=()=>h(g),E={drop:C,delayDrop:F,forceDrop:C,move:z=>{cO(g,t,s,F0,z)}},M=Wv(g,t.blockerClass,Yq(E));u.set(M),(()=>{a(g),iO(g,M)})()}),mt(py(),(g,b)=>{b.stop(),cO(g,t,s,F0,b.event)}),mt(Am(),(g,b)=>{b.stop(),h(g)}),mt(sD(),h)]},Jq=[...aO,ps("dragger",{handlers:uO(_B)})],Qq=(t,s,a)=>[...TB(t,s,a),..._B(t,s,a)],eG=[...aO,ps("dragger",{handlers:uO(Qq)})];var nG=Object.freeze({__proto__:null,mouse:Xq,touch:Jq,mouseOrTouch:eG}),oG=Object.freeze({__proto__:null,init:()=>{let t=P.none(),s=P.none();const a=()=>{t=P.none(),s=P.none()},u=(E,M)=>{const I=t.map(z=>E.getDelta(z,M));return t=P.some(M),I},h=(E,M)=>E.getData(M).bind(I=>u(E,I)),g=E=>{s=P.some(E)},b=()=>s,C=ie({});return xl({readState:C,reset:a,update:h,getStartData:b,setStartData:g})}});const Gp=pD({branchKey:"mode",branches:nG,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:P.from(t.extra)})},state:oG,apis:Hq}),dO=40,jv=dO/2,fO=(t,s,a,u,h,g)=>t.fold(()=>Gp.snap({sensor:fc(a-jv,u-jv),range:Os(h,g),output:fc(P.some(a),P.some(u)),extra:{td:s}}),b=>{const C=a-jv,E=u-jv,M=dO,I=dO,z=b.element.dom.getBoundingClientRect();return Gp.snap({sensor:fc(C,E),range:Os(M,I),output:fc(P.some(a-z.width/2),P.some(u-z.height/2)),extra:{td:s}})}),kB=(t,s,a)=>{const u=(h,g)=>h.exists(b=>Uo(b,g));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(h,g)=>{const b=g.td;u(s.get(),b)||(s.set(b),a(b))},mustSnap:!0}},AB=t=>Bo(Ri.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:At([Gp.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),Ev.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),sG=(t,s)=>{const a=un([]),u=un([]),h=un(!1),g=cs(),b=cs(),C=Gt=>{const ut=lu(Gt);return fO(te.getOpt(s),Gt,ut.x,ut.y,ut.width,ut.height)},E=()=>Ue(a.get(),Gt=>C(Gt)),M=Gt=>{const ut=lu(Gt);return fO(le.getOpt(s),Gt,ut.right,ut.bottom,ut.width,ut.height)},I=()=>Ue(u.get(),Gt=>M(Gt)),z=kB(E,g,Gt=>{b.get().each(ut=>{t.dispatch("TableSelectorChange",{start:Gt,finish:ut})})}),Q=kB(I,b,Gt=>{g.get().each(ut=>{t.dispatch("TableSelectorChange",{start:ut,finish:Gt})})}),te=AB(z),le=AB(Q),de=la(te.asSpec()),Ne=la(le.asSpec()),ge=(Gt,ut,Qt,Bt)=>{const on=ut.dom.getBoundingClientRect();Zn(Gt.element,"display");const co=Or(pt.fromDom(t.getBody())).dom.innerHeight,Ss=Qt(on),Io=Bt(on,co);(Ss||Io)&&gt(Gt.element,"display","none")},ke=(Gt,ut,Qt,Bt)=>{const on=Qt(ut);Gp.snapTo(Gt,on),ge(Gt,ut,Io=>Io[Bt]<0,(Io,en)=>Io[Bt]>en)},Ae=Gt=>ke(de,Gt,C,"top"),ft=()=>g.get().each(Ae),rt=Gt=>ke(Ne,Gt,M,"bottom"),Ht=()=>b.get().each(rt);if(so().deviceType.isTouch()){const Gt=ut=>Ue(ut,pt.fromDom);t.on("TableSelectionChange",ut=>{h.get()||(cp(s,de),cp(s,Ne),h.set(!0));const Qt=pt.fromDom(ut.start),Bt=pt.fromDom(ut.finish);g.set(Qt),b.set(Bt),P.from(ut.otherCells).each(on=>{a.set(Gt(on.upOrLeftCells)),u.set(Gt(on.downOrRightCells)),Ae(Qt),rt(Bt)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{ft(),Ht()}),t.on("TableSelectionClear",()=>{h.get()&&(Wf(de),Wf(Ne),h.set(!1)),g.clear(),b.clear()})}};var rG=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const iG=(t,s)=>{const a=P.from(Mn(t,"id")).getOrThunk(()=>{const u=Kt("aria");return vn(s,"id",u),u});vn(t,"aria-describedby",a)},aG=t=>{W(t,"aria-describedby")},lG=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",cG=(t,s,a)=>{var u;const h=(u=s.delimiter)!==null&&u!==void 0?u:"›",g=(M,I,z)=>Ri.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":z}},components:[tr(M)],action:Q=>{t.focus(),t.selection.select(I),t.nodeChanged()},buttonBehaviours:At([nr.config({...a.tooltips.getConfig({tooltipText:a.translate(["Select the {0} element",I.nodeName.toLowerCase()]),onShow:(Q,te)=>{iG(Q.element,te.element)},onHide:Q=>{aG(Q.element)}})}),xu.button(a.isDisabled),ni()])}),b=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[tr(` ${h} `)]}),C=M=>Vo(M,(I,z,Q)=>{const te=g(z.name,z.element,Q);return Q===0?I.concat([te]):I.concat([b(),te])},[]),E=M=>{const I=[];let z=M.length;for(;z-- >0;){const Q=M[z];if(Q.nodeType===1&&!lG(Q)){const te=pz(t,Q);if(te.isDefaultPrevented()||I.push({name:te.name,element:Q}),te.isPropagationStopped())break}}return I};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:At([bn.config({mode:"flow",selector:"div[role=button]"}),On.config({disabled:a.isDisabled}),ni(),ys.config({}),In.config({}),jn("elementPathEvents",[$s((M,I)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>bn.focusIn(M)),t.on("NodeChange",z=>{const Q=E(z.parents),te=Q.length>0?C(Q):[];In.set(M,te)})})])]),components:[]}};var Ch;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Ch||(Ch={}));const uG=(t,s,a,u,h)=>{const g={height:PS(u+s.top,rv(t),jw(t))};return a===Ch.Both&&(g.width=PS(h+s.left,Cp(t),l1(t))),g},OB=(t,s,a)=>{const u=pt.fromDom(t.getContainer()),h=uG(t,s,a,fs(u),ki(u));tn(h,(g,b)=>{re(g)&&gt(u,b,MS(g))}),k2(t)},dG=t=>{const s=eP(t);return s===!1?Ch.None:s==="both"?Ch.Both:Ch.Vertical},US=(t,s,a,u)=>{const g=Os(a*20,u*20);return OB(t,g,s),P.some(!0)},fG=(t,s)=>{const a=dG(t);if(a===Ch.None)return P.none();const u=a===Ch.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return P.some(sc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":s.translate(u),"data-mce-name":"resize-handle"},behaviours:[Gp.config({mode:"mouse",repositionTarget:!1,onDrag:(h,g,b)=>OB(t,b,a),blockerClass:"tox-blocker"}),bn.config({mode:"special",onLeft:()=>US(t,a,-1,0),onRight:()=>US(t,a,1,0),onUp:()=>US(t,a,0,-1),onDown:()=>US(t,a,0,1)}),ys.config({}),Pn.config({}),nr.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")}))]},s.icons))},DB=(t,s)=>{const a=(u,h,g)=>In.set(u,[tr(s.translate(["{0} "+g,h[g]]))]);return Ri.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:At([xu.button(s.isDisabled),ni(),ys.config({}),In.config({}),Xt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),jn("wordcount-events",[$d(u=>{const h=Xt.getValue(u),g=h.mode==="words"?"characters":"words";Xt.setValue(u,{mode:g,count:h.count}),a(u,h.count,g)}),$s(u=>{t.on("wordCountUpdate",h=>{const{mode:g}=Xt.getValue(u);Xt.setValue(u,{mode:g,count:h.wordCount}),a(u,h.wordCount,g)})})])]),eventOrder:{[kc()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},mG=(t,s)=>{const a=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":t.translate(["Build with {0}","TinyMCE"])},innerHtml:t.translate(["Build with {0}",rG.trim()])},behaviours:At([Pn.config({})])}]}),u=()=>{const C=C2("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[tr(oc.translate(["Press {0} for help",C]))]}},h=()=>{const C=[];return t.hasPlugin("wordcount")&&C.push(DB(t,s)),JE(t)&&C.push(a()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:C}},g=()=>{const C=[],E=d1(t),M=Q3(t),I=JE(t)||t.hasPlugin("wordcount"),z=()=>{const Q="tox-statusbar__text-container--flex-start",te="tox-statusbar__text-container--flex-end",le="tox-statusbar__text-container--space-around";if(E){const de="tox-statusbar__text-container-3-cols";return!I&&!M?[de,le]:I&&!M?[de,te]:[de,Q]}return[I&&!M?te:Q]};return M&&C.push(cG(t,{},s)),E&&C.push(u()),I&&C.push(h()),C.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...z()]},components:C}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const C=g(),E=fG(t,s);return C.concat(E.toArray())})()}},MB=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),hG=(t,s)=>{const a=t.inline,u=a?BZ:DS,h=Tp(t)?WW:aR,g=$Z(),b=cs(),C=cs(),E=cs(),Q=so().deviceType.isTouch()?["tox-platform-touch"]:[],te=h1(t),le=Ep(t),de=Bo({dom:{tag:"div",classes:["tox-anchorbar"]}}),Ne=Bo({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),ge=()=>g.mainUi.get().map(gn=>gn.outerContainer).bind(ws.getHeader),ke=()=>Xn.fromOption(g.dialogUi.get().map(gn=>gn.sink),"UI has not been rendered"),Ae=()=>Xn.fromOption(g.popupUi.get().map(gn=>gn.sink),"(popup) UI has not been rendered"),ft=g.lazyGetInOuterOrDie("anchor bar",de.getOpt),rt=g.lazyGetInOuterOrDie("bottom anchor bar",Ne.getOpt),Ht=g.lazyGetInOuterOrDie("toolbar",ws.getToolbar),Gt=g.lazyGetInOuterOrDie("throbber",ws.getThrobber),ut=oR({popup:Ae,dialog:ke},t,ft,rt),Qt=()=>{const gn={attributes:{[TC]:te?zf.BottomToTop:zf.TopToBottom}},Fn=ws.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ut.popup,onEscape:()=>{t.focus()}}),rs=ws.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ut.popup.shared.getSink,providers:ut.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:tg=>{gz(t,tg)},type:le,lazyToolbar:Ht,lazyHeader:()=>ge().getOrDie("Could not find header element"),...gn}),$o=ws.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ut.popup.shared.providers,onEscape:()=>{t.focus()},type:le}),ga=m1(t),pc=f1(t),dd=Yw(t),ea=tP(t),gc=Bt(),Yc=ga||pc||dd,sl=()=>ga?[$o]:pc?[rs]:[],nf=ea?[gc,Fn]:[Fn];return ws.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Yc?[]:["tox-editor-header--empty"]),...gn},components:nn([dd?nf:[],sl(),iv(t)?[]:[de.asSpec()]]),sticky:Tp(t),editor:t,sharedBackstage:ut.popup.shared})},Bt=()=>ws.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),on=()=>{const gn=ws.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Fn=ws.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[gn,Fn]}},co=()=>{const gn=oT(t),Fn=Uo(Hi(),gn)&&ts(gn,"display")==="grid",rs={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(Q),attributes:{...oc.isRtl()?{dir:"rtl"}:{}}},behaviours:At([da.config({useFixed:()=>h.isDocked(ge)})])},$o={dom:{styles:{width:document.body.clientWidth+"px"}},events:Bs([mt(xg(),dd=>{gt(dd.element,"width",document.body.clientWidth+"px")})])},ga=la(Us(rs,Fn?$o:{})),pc=U1(ga);return C.set(pc),{sink:ga,mothership:pc}},Ss=()=>{const gn={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(Q),attributes:{...oc.isRtl()?{dir:"rtl"}:{}}},behaviours:At([da.config({useFixed:()=>h.isDocked(ge),getBounds:()=>s.getPopupSinkBounds()})])},Fn=la(gn),rs=U1(Fn);return E.set(rs),{sink:Fn,mothership:rs}},Io=()=>{const gn=Qt(),Fn=on(),rs=ws.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ut.popup}),$o=ws.parts.viewWrapper({backstage:ut.popup}),ga=J3(t)&&!a?P.some(mG(t,ut.popup.shared.providers)):P.none(),pc=nn([te?[]:[gn],a?[]:[Fn],te?[gn]:[]]),dd=ws.parts.editorContainer({components:nn([pc,a?[]:[Ne.asSpec()]])}),ea=p1(t),gc={role:"application",...oc.isRtl()?{dir:"rtl"}:{},...ea?{"aria-hidden":"true"}:{}},Yc=la(ws.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(te?["tox-tinymce--toolbar-bottom"]:[]).concat(Q),styles:{visibility:"hidden",...ea?{opacity:"0",border:"0"}:{}},attributes:gc},components:[dd,...a?[]:[$o,...ga.toArray()],rs],behaviours:At([ni(),On.config({disableClass:"tox-tinymce--disabled"}),bn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),sl=U1(Yc);return b.set(sl),{mothership:sl,outerContainer:Yc}},en=gn=>{const Fn=MS(NZ(t)),rs=MS(LZ(t));return t.inline||(Hl("div","width",rs)&&gt(gn.element,"width",rs),Hl("div","height",Fn)?gt(gn.element,"height",Fn):gt(gn.element,"height","400px")),Fn},Ct=gn=>{t.addShortcut("alt+F9","focus menubar",()=>{ws.focusMenubar(gn)}),t.addShortcut("alt+F10","focus toolbar",()=>{ws.focusToolbar(gn)}),t.addCommand("ToggleToolbarDrawer",(Fn,rs)=>{rs!=null&&rs.skipFocus?ws.toggleToolbarDrawerWithoutFocusing(gn):ws.toggleToolbarDrawer(gn)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>ws.isToolbarDrawerToggled(gn))},zt=gn=>{const{mainUi:Fn,popupUi:rs,uiMotherships:$o}=gn;qt(XE(t),(Jv,KS)=>{t.ui.registry.addGroupToolbarButton(KS,Jv)});const{buttons:ga,menuItems:pc,contextToolbars:dd,sidebars:ea,views:gc}=t.ui.registry.getAll(),Yc=nT(t),sl={menuItems:pc,menus:sP(t),menubar:q3(t),toolbar:Yc.getOrThunk(()=>u1(t)),allowToolbarGroups:le===Ic.floating,buttons:ga,sidebar:ea,views:gc};Ct(Fn.outerContainer),sR(t,Fn.mothership,$o),h.setup(t,ut.popup.shared,ge),mq(t,ut.popup),Oq(t,ut.popup.shared.getSink,ut.popup),hA(t),aj(t,Gt,ut.popup.shared),YZ(t,dd,rs.sink,{backstage:ut.popup}),sG(t,rs.sink);const nf=t.getElement(),tg=en(Fn.outerContainer),AO={targetNode:nf,height:tg};return u.render(t,gn,sl,ut.popup,AO)},Nn=gn=>(E.set(gn.mothership),gn),Cn=()=>{const gn=Io(),Fn=co(),rs=eh(t)?Ss():Nn(Fn);g.dialogUi.set(Fn),g.popupUi.set(rs),g.mainUi.set(gn);const $o={popupUi:rs,dialogUi:Fn,mainUi:gn,uiMotherships:g.getUiMotherships()};return zt($o)};return{popups:{backstage:ut.popup,getMothership:()=>MB("popups",E)},dialogs:{backstage:ut.dialog,getMothership:()=>MB("dialogs",C)},renderUI:Cn}},pG=t=>t.dom.textContent,gG=(t,s)=>{const a=vr(t,"id").fold(()=>{const u=Kt("dialog-label");return vn(s,"id",u),u},He);vn(t,"aria-labelledby",a)},vG=ie([it("lazySink"),go("dragBlockClass"),ks("getBounds",ur),Ie("useTabstopAt",Oe),Ie("firstTabstop",0),Ie("eventOrder",{}),xi("modalBehaviours",[bn]),Tl("onExecute"),Ny("onEscape")]),mO={sketch:He},bG=ie([Ql({name:"draghandle",overrides:(t,s)=>({behaviours:At([Gp.config({mode:"mouse",getTarget:a=>np(a,'[role="dialog"]').getOr(a),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Ji({schema:[it("dom")],name:"title"}),Ji({factory:mO,schema:[it("dom")],name:"close"}),Ji({factory:mO,schema:[it("dom")],name:"body"}),Ql({factory:mO,schema:[it("dom")],name:"footer"}),Nc({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[Ie("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ie("components",[])],name:"blocker"})]),PB=(t,s,a,u)=>{const h=cs(),g=le=>{h.set(le);const de=t.lazySink(le).getOrDie(),Ne=u.blocker(),ge=de.getSystem().build({...Ne,components:Ne.components.concat([Xl(le)]),behaviours:At([Pn.config({}),jn("dialog-blocker-events",[Tg(ju(),()=>{_u.isBlocked(le)?F():bn.focusIn(le)})])])});cp(de,ge),bn.focusIn(le)},b=le=>{h.clear(),xa(le.element).each(de=>{le.getSystem().getByDom(de).each(Ne=>{Wf(Ne)})})},C=le=>ec(le,t,"body"),E=le=>kt(le,t,"footer"),M=(le,de)=>{_u.block(le,de)},I=le=>{_u.unblock(le)},z=Kt("modal-events"),Q={...t.eventOrder,[Xu()]:[z].concat(t.eventOrder["alloy.system.attached"]||[])},te=so();return{uid:t.uid,dom:t.dom,components:s,apis:{show:g,hide:b,getBody:C,getFooter:E,setIdle:I,setBusy:M},eventOrder:Q,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ci(t.modalBehaviours,[In.config({}),bn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),_u.config({getRoot:h.get}),jn(z,[$s(le=>{const de=ec(le,t,"title").element,Ne=pG(de);te.os.isMacOS()&&ee(Ne)?vn(le.element,"aria-label",Ne):gG(le.element,de)})])])}},Zr=Da({name:"ModalDialog",configFields:vG(),partFields:bG(),factory:PB,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,a)=>{t.setBusy(s,a)},setIdle:(t,s)=>{t.setIdle(s)}}}),Xp=Y([pr,v2].concat(sh)),yG=Tn,H0=[VT("button"),$c,_c("align","end",["start","end"]),dv,Fc,$h("buttonType",["primary","secondary"])],z0=[...H0,Qf],hO=[fr("type",["submit","cancel","custom"]),...z0],wG=[fr("type",["menu"]),em,uv,$c,br("items",Xp),...H0],SG=[...H0,fr("type",["togglebutton"]),uv,$c,em,yr("active",!1)],xG=_o("type",{submit:hO,cancel:hO,custom:hO,menu:wG,togglebutton:SG}),CG=[pr,Qf,fr("level",["info","warn","error","success"]),LP,Ie("url","")],Yp=Y(CG),NB=t=>[pr,t],EG=[pr,Qf,Fc,VT("button"),$c,z8,$h("buttonType",["primary","secondary","toolbar"]),dv],TG=Y(EG),Zv=[pr,v2],cd=Zv.concat([b2]),_G=Zv.concat([FT,Fc]),kG=Y(_G),AG=Tn,OG=cd.concat([RP("auto")]),pO=Y(OG),V0=nt([_1,Qf,LP]),gO=cd.concat([Xi("storageKey","default")]),WS=Y(gO),Kp=at,DG=Y(cd),LB=at,IB=Zv.concat([Xi("tag","textarea"),Ro("scriptId"),Ro("scriptUrl"),du("onFocus"),Fh("settings",void 0)]),RB=Zv.concat([Xi("tag","textarea"),Pi("init")]),MG=Rs(t=>Yn("customeditor.old",qi(RB),t).orThunk(()=>Yn("customeditor.new",qi(IB),t))),PG=at,BB=Y(cd),$B=xo(),bO=t=>[pr,$a("columns"),t],NG=[pr,Ro("html"),_c("presets","presentation",["presentation","document"]),ks("onInit",F),yr("stretched",!1)],LG=Y(NG),IG=cd.concat([yr("border",!1),yr("sandboxed",!0),yr("streamContent",!1),yr("transparent",!0)]),FB=Y(IG),RG=at,BG=Y(Zv.concat([Qr("height")])),$G=Y([Ro("url"),Tm("zoom"),Tm("cachedWidth"),Tm("cachedHeight")]),yO=cd.concat([Qr("inputMode"),Qr("placeholder"),yr("maximized",!1),Fc]),wO=Y(yO),FG=at,HB=t=>[pr,FT,t,_c("align","start",["start","center","end"]),Qr("for")],HG=[Qf,_1],zG=[Qf,br("items",_s("items",()=>SO))],SO=j([Y(HG),Y(zG)]),VG=cd.concat([br("items",SO),Fc]),UG=Y(VG),Jp=at,zB=cd.concat([Aa("items",[Qf,_1]),vg("size",1),Fc]),WG=Y(zB),jS=at,qv=cd.concat([yr("constrain",!0),Fc]),ZS=Y(qv),xO=Y([Ro("width"),Ro("height")]),qS=Zv.concat([FT,vg("min",0),vg("max",0)]),tl=Y(qS),GS=an,VB=[pr,br("header",at),br("cells",_(at))],UB=Y(VB),jG=cd.concat([Qr("placeholder"),yr("maximized",!1),Fc]),ZG=Y(jG),Eh=at,qG=[fr("type",["directory","leaf"]),NP,Ro("id"),gl("menu",mR)],CO=Y(qG),Gv=qG.concat([br("children",_s("children",()=>yo("type",{directory:U0,leaf:CO})))]),U0=Y(Gv),WB=yo("type",{directory:U0,leaf:CO}),GG=[pr,br("items",WB),du("onLeafAction"),du("onToggleExpand"),Pd("defaultExpandedIds",[],at),Qr("defaultSelectedId")],XG=Y(GG),YG=cd.concat([_c("filetype","file",["image","media","file"]),Fc,Qr("picker_text")]),KG=Y(YG),Xv=Y([_1,HT]),jB=t=>Wo("items","items",Ga(),_(Rs(s=>Yn(`Checking item of ${t}`,EO,s).fold(a=>Xn.error(Ts(a)),a=>Xn.value(a))))),EO=Wr(()=>yo("type",{alertbanner:Yp,bar:Y(NB(jB("bar"))),button:TG,checkbox:kG,colorinput:WS,colorpicker:DG,dropzone:BB,grid:Y(bO(jB("grid"))),iframe:FB,input:wO,listbox:UG,selectbox:WG,sizeinput:ZS,slider:tl,textarea:ZG,urlinput:KG,customeditor:MG,htmlpanel:LG,imagepreview:BG,collection:pO,label:Y(HB(jB("label"))),table:UB,tree:XG,panel:QG})),JG=[pr,Ie("classes",[]),br("items",EO)],QG=Y(JG),eX=[VT("tab"),NP,br("items",EO)],tX=[pr,Aa("tabs",eX)],W0=Y(tX),nX=z0,oX=xG,ZB=Y([Ro("title"),lo("body",yo("type",{panel:QG,tabpanel:W0})),Xi("size","normal"),Pd("buttons",[],oX),Ie("initialData",{}),ks("onAction",F),ks("onChange",F),ks("onSubmit",F),ks("onClose",F),ks("onCancel",F),ks("onTabChange",F)]),sX=t=>Yn("dialog",ZB,t),iJ=Y([fr("type",["cancel","custom"]),...nX]),e=Y([Ro("title"),Ro("url"),Tm("height"),Tm("width"),fu("buttons",iJ),ks("onAction",F),ks("onCancel",F),ks("onClose",F),ks("onMessage",F)]),n=t=>Yn("dialog",e,t),o=t=>k(t)?[t].concat($e(Js(t),o)):D(t)?$e(t,o):[],i=t=>T(t.type)&&T(t.name),c={checkbox:AG,colorinput:Kp,colorpicker:LB,dropzone:$B,input:FG,iframe:RG,imagepreview:$G,selectbox:jS,sizeinput:xO,slider:GS,listbox:Jp,size:xO,textarea:Eh,urlinput:Xv,customeditor:PG,collection:V0,togglemenuitem:yG},f=t=>P.from(c[t.type]),p=t=>Dn(o(t),i),w=t=>{const s=p(t),a=$e(s,u=>f(u).fold(()=>[],h=>[lo(u.name,h)]));return Y(a)},x=t=>{var s;const a=ot(sX(t)),u=w(t),h=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:a,dataValidator:u,initialData:h}},O={open:(t,s)=>{const a=x(s);return t(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(t,s)=>{const a=ot(n(s));return t(a)},redial:t=>x(t)};var H=Object.freeze({__proto__:null,events:(t,s)=>{const a=(u,h)=>{t.updateState.each(g=>{const b=g(u,h);s.set(b)}),t.renderComponents.each(g=>{const b=g(h,s.get());(t.reuseDom?tv:ev)(u,b)})};return Bs([mt(Lf(),(u,h)=>{const g=h;if(!g.universal){const b=t.channel;Ot(g.channels,b)&&a(u,g.data)}}),$s((u,h)=>{t.initialData.each(g=>{a(u,g)})})])}}),ne=Object.freeze({__proto__:null,getState:(t,s,a)=>a}),ue=[it("channel"),go("renderComponents"),go("updateState"),go("initialData"),yr("reuseDom",!0)],fe=Object.freeze({__proto__:null,init:()=>{const t=un(P.none()),s=()=>t.set(P.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const Se=Ni({fields:ue,name:"reflecting",active:H,apis:ne,state:fe}),Pe=t=>{const s=[],a={};return tn(t,(u,h)=>{u.fold(()=>{s.push(h)},g=>{a[h]=g})}),s.length>0?Xn.error(s):Xn.value(a)},De=(t,s,a,u)=>{const h=Bo(dh.sketch(g=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Ue(t.items,b=>KU(g,b,s,a,u))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[h.asSpec()]}],behaviours:At([bn.config({mode:"acyclic",useTabstopAt:he(s0)}),Cu.memento(h),D9(h,{postprocess:g=>Pe(g).fold(b=>(console.error(b),{}),He)}),jn("dialog-body-panel",[mt(ju(),(g,b)=>{g.getSystem().broadcastOn([Q2],{newFocus:P.some(b.event.target)})})])])}},je=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:zw(t.action),behaviours:Ci(t.tabButtonBehaviours,[Pn.config({}),bn.config({mode:"execution",useSpace:!0,useEnter:!0}),Xt.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),yt=Al({name:"TabButton",configFields:[Ie("uid",void 0),it("value"),Wo("dom","dom",Mf(()=>({attributes:{role:"tab",id:Kt("aria"),"aria-selected":"false"}})),xt()),go("action"),Ie("domModification",{}),xi("tabButtonBehaviours",[Pn,bn,Xt]),it("view")],factory:je}),Nt=ie([it("tabs"),it("dom"),Ie("clickToDismiss",!1),xi("tabbarBehaviours",[Ho,bn]),Jh(["tabClass","selectedClass"])]),Zt=Sw({factory:yt,name:"tabs",unit:"tab",overrides:t=>{const s=(u,h)=>{Ho.dehighlight(u,h),Sn(u,cD(),{tabbar:u,button:h})},a=(u,h)=>{Ho.highlight(u,h),Sn(u,lD(),{tabbar:u,button:h})};return{action:u=>{const h=u.getSystem().getByUid(t.uid).getOrDie(),g=Ho.isHighlighted(h,u);(g&&t.clickToDismiss?s:g?F:a)(h,u)},domModification:{classes:[t.markers.tabClass]}}}}),ct=ie([Zt]),Ke=(t,s,a,u)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ci(t.tabbarBehaviours,[Ho.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(h,g)=>{vn(g.element,"aria-selected","true")},onDehighlight:(h,g)=>{vn(g.element,"aria-selected","false")}}),bn.config({mode:"flow",getInitial:h=>Ho.getHighlighted(h).map(g=>g.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),vt=Da({name:"Tabbar",configFields:Nt(),partFields:ct(),factory:Ke}),Jt=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:Ci(t.tabviewBehaviours,[In.config({})]),domModification:{attributes:{role:"tabpanel"}}}),fn=Al({name:"Tabview",configFields:[xi("tabviewBehaviours",[In])],factory:Jt}),ro=ie([Ie("selectFirst",!0),Eo("onChangeTab"),Eo("onDismissTab"),Ie("tabs",[]),xi("tabSectionBehaviours",[])]),uo=Ji({factory:vt,schema:[it("dom"),bs("markers",[it("tabClass"),it("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),zo=Ji({factory:fn,name:"tabview"}),Yo=ie([uo,zo]),or=(t,s,a,u)=>{const h=b=>{const C=Xt.getValue(b);kt(b,t,"tabview").each(E=>{It(t.tabs,I=>I.value===C).each(I=>{const z=I.view();vr(b.element,"id").each(Q=>{vn(E.element,"aria-labelledby",Q)}),In.set(E,z),t.onChangeTab(E,b,z)})})},g=(b,C)=>{kt(b,t,"tabbar").each(E=>{C(E).each(Om)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:qb(t.tabSectionBehaviours),events:Bs(nn([t.selectFirst?[$s((b,C)=>{g(b,Ho.getFirst)})]:[],[mt(lD(),(b,C)=>{const E=C.event.button;h(E)}),mt(cD(),(b,C)=>{const E=C.event.button;t.onDismissTab(b,E)})]])),apis:{getViewItems:b=>kt(b,t,"tabview").map(C=>In.contents(C)).getOr([]),showTab:(b,C)=>{g(b,M=>{const I=Ho.getCandidates(M);return It(I,Q=>Xt.getValue(Q)===C).filter(Q=>!Ho.isHighlighted(M,Q))})}}}},Ir=Da({name:"TabSection",configFields:ro(),partFields:Yo(),factory:or,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,a)=>{t.showTab(s,a)}}}),ss=(t,s,a)=>Ue(t,(u,h)=>{In.set(a,t[h].view());const g=s.dom.getBoundingClientRect();return In.set(a,[]),g.height}),Rt=t=>Ce(V(t,(s,a)=>s>a?-1:s<a?1:0)),ln=(t,s,a)=>{const u=eu(t).dom,h=np(t,".tox-dialog-wrap").getOr(t),g=ts(h,"position")==="fixed";let b;g?b=Math.max(u.clientHeight,window.innerHeight):b=Math.max(u.offsetHeight,u.scrollHeight);const C=fs(s),M=s.dom.offsetLeft>=a.dom.offsetLeft+ki(a)?Math.max(fs(a),C):C,I=parseInt(ts(t,"margin-top"),10)||0,z=parseInt(ts(t,"margin-bottom"),10)||0,te=fs(t)+I+z-M;return b-te},Mo=(t,s)=>{Ce(t).each(a=>Ir.showTab(s,a.value))},Vt=(t,s)=>{gt(t,"height",s+"px"),gt(t,"flex-basis",s+"px")},yn=(t,s,a)=>{np(t,'[role="dialog"]').each(u=>{Zs(u,'[role="tablist"]').each(h=>{a.get().map(g=>(gt(s,"height","0"),gt(s,"flex-basis","0"),Math.min(g,ln(u,s,h)))).each(g=>{Vt(s,g)})})})},to=t=>Zs(t,'[role="tabpanel"]'),Ut=t=>{const s=cs();return{extraEvents:[$s(h=>{const g=h.element;to(g).each(b=>{gt(b,"visibility","hidden"),h.getSystem().getByDom(b).toOptional().each(C=>{const E=ss(t,b,C);Rt(E).fold(s.clear,s.set)}),yn(g,b,s),Zn(b,"visibility"),Mo(t,h),requestAnimationFrame(()=>{yn(g,b,s)})})}),mt(xg(),h=>{const g=h.element;to(g).each(b=>{yn(g,b,s)})}),mt(N_,(h,g)=>{const b=h.element;to(b).each(C=>{const E=Ju(Hr(C));gt(C,"visibility","hidden");const M=vs(C,"height").map(Q=>parseInt(Q,10));Zn(C,"height"),Zn(C,"flex-basis");const I=C.dom.getBoundingClientRect().height;M.forall(Q=>I>Q)?(s.set(I),yn(b,C,s)):M.each(Q=>{Vt(C,Q)}),Zn(C,"visibility"),E.each(Oc)})})],selectFirst:!1}},no="send-data-to-section",fo="send-data-to-view",si=(t,s,a,u)=>{const h=un({}),g=I=>{const z=Xt.getValue(I),Q=Pe(z).getOr({}),te=h.get(),le=Us(te,Q);h.set(le)},b=I=>{const z=h.get();Xt.setValue(I,z)},C=un(null),E=Ue(t.tabs,I=>({value:I.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[tr(a.shared.providers.translate(I.title))],view:()=>[dh.sketch(z=>({dom:{tag:"div",classes:["tox-form"]},components:Ue(I.items,Q=>KU(z,Q,s,a,u)),formBehaviours:At([bn.config({mode:"acyclic",useTabstopAt:he(s0)}),jn("TabView.form.events",[$s(b),Bd(g)]),Ka.config({channels:Pf([{key:no,value:{onReceive:g}},{key:fo,value:{onReceive:b}}])})])}))]})),M=Ut(E);return Ir.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(I,z,Q)=>{const te=Xt.getValue(z);Sn(I,sL,{name:te,oldName:C.get()}),C.set(te)},tabs:E,components:[Ir.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[vt.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:At([ys.config({})])}),Ir.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:M.selectFirst,tabSectionBehaviours:At([jn("tabpanel",M.extraEvents),bn.config({mode:"acyclic"}),ko.config({find:I=>Ce(Ir.getViewItems(I))}),fh(P.none(),I=>(I.getSystem().broadcastOn([no],{}),h.get()),(I,z)=>{h.set(z),I.getSystem().broadcastOn([fo],{})})])})},jo=(t,s,a,u,h,g)=>{const b=M=>{const I=M.body;switch(I.type){case"tabpanel":return[si(I,M.initialData,u,g)];default:return[De(I,M.initialData,u,g)]}},C=(M,I)=>P.some({isTabPanel:()=>I.body.type==="tabpanel"}),E={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...a.map(M=>({id:M})).getOr({}),...h?E:{}}},components:[],behaviours:At([Cu.childAt(0),Se.config({channel:`${fk}-${s}`,updateState:C,renderComponents:b,initialData:t})])}},qr=(t,s,a,u,h,g)=>jo(t,s,P.some(a),u,h,g),jc=(t,s,a,u)=>{const h=jo(t,s,P.none(),a,!1,u);return Zr.parts.body(h)},ud=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[XL(P.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:At([ys.config({}),Pn.config({})])})]}],behaviours:At([bn.config({mode:"acyclic",useTabstopAt:he(s0)})])};return Zr.parts.body(s)},Na=Sp.deviceType.isTouch(),nl=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),mc=(t,s)=>Zr.parts.close(Ri.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:At([ys.config({})])})),ol=()=>Zr.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),hc=(t,s)=>Zr.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:ed(`<p>${ST(s.translate(t))}</p>`)}]}]}),mn=t=>Zr.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),wo=(t,s)=>[sd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),sd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],Hs=t=>{const s="tox-dialog",a=s+"-wrap",u=a+"__backdrop",h=s+"__disable-scroll";return Zr.sketch({lazySink:t.lazySink,onEscape:g=>(t.onEscape(g),P.some(!0)),useTabstopAt:g=>!s0(g),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:ed(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:Na?[u,u+"--opaque"]:[u]}}]}},dragBlockClass:a,modalBehaviours:At([Pn.config({}),jn("dialog-events",t.dialogEvents.concat([Tg(ju(),(g,b)=>{_u.isBlocked(g)?F():bn.focusIn(g)}),mt(Cg(),(g,b)=>{g.getSystem().broadcastOn([Q2],{newFocus:b.event.newFocus})})])),jn("scroll-lock",[$s(()=>{Nr(Hi(),h)}),Bd(()=>{er(Hi(),h)})]),...t.extraBehaviours]),eventOrder:{[kc()]:["dialog-events"],[Xu()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Rd()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},sr=t=>Ri.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:At([ys.config({}),nr.config(t.tooltips.getConfig({tooltipText:t.translate("Close")}))]),components:[sc("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{Qn(s,tm)}}),Sr=(t,s,a,u)=>{const h=g=>[tr(u.translate(g.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...a.map(g=>({id:g})).getOr({})}},components:[],behaviours:At([Se.config({channel:`${KL}-${s}`,initialData:t,renderComponents:h})])}},mi=()=>({dom:ed('<div class="tox-dialog__draghandle"></div>')}),xr=(t,s,a,u)=>sd.sketch({dom:ed('<div class="tox-dialog__header"></div>'),components:[Sr(t,s,P.some(a),u),mi(),sr(u)],containerBehaviours:At([Gp.config({mode:"mouse",blockerClass:"blocker",getTarget:h=>zd(h,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Cr=(t,s,a)=>{const u=Zr.parts.title(Sr(t,s,P.none(),a)),h=Zr.parts.draghandle(mi()),g=Zr.parts.close(sr(a)),b=[u].concat(t.draggable?[h]:[]).concat([g]);return sd.sketch({dom:ed('<div class="tox-dialog__header"></div>'),components:b})},pa=(t,s,a)=>Cr({title:a.shared.providers.translate(t),draggable:a.dialog.isDraggableModal()},s,a.shared.providers),Zc=(t,s,a,u)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${u.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:ed('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),qc=(t,s,a)=>({onClose:()=>a.closeWindow(),onBlock:u=>{const h=Zs(t().element,".tox-dialog__header").map(g=>fs(g));Zr.setBusy(t(),(g,b)=>Zc(u.message,b,s,h))},onUnblock:()=>{Zr.setIdle(t())}}),Gc="tox-dialog--fullscreen",Pl="tox-dialog--width-lg",Jd="tox-dialog--width-md",lm=t=>{switch(t){case"large":return P.some(Pl);case"medium":return P.some(Jd);default:return P.none()}},Qp=(t,s)=>{const a=pt.fromDom(s.element.dom);Cl(a,Gc)||(Ku(a,[Pl,Jd]),lm(t).each(u=>Nr(a,u)))},XS=(t,s)=>{const a=pt.fromDom(t.element.dom),u=dF(a),h=It(u,g=>g===Pl||g===Jd).or(lm(s));FY(a,[Gc,...h.toArray()])},Qd=(t,s,a)=>la(Hs({...t,firstTabstop:1,lazySink:a.shared.getSink,extraBehaviours:[Y2({}),...t.extraBehaviours],onEscape:u=>{Qn(u,tm)},dialogEvents:s,eventOrder:{[Lf()]:[Se.name(),Ka.name()],[Xu()]:["scroll-lock",Se.name(),"messages","dialog-events","alloy.base.behaviour"],[Rd()]:["alloy.base.behaviour","dialog-events","messages",Se.name(),"scroll-lock"]}})),Yv=(t,s={})=>{const a=u=>{const h=Ue(u.items,g=>{const b=_t(s,g.name).getOr(un(!1));return{...g,storage:b}});return{...u,items:h}};return Ue(t,u=>u.type==="menu"?a(u):u)},TO=t=>Vo(t,(s,a)=>a.type==="menu"?Vo(a.items,(h,g)=>(h[g.name]=g.storage,h),s):s,{}),Qi=(t,s)=>[Ax(ju(),$9),t(xv,(a,u,h,g)=>{Ju(Hr(g.element)).fold(F,Wy),s.onClose(),u.onClose()}),t(tm,(a,u,h,g)=>{u.onCancel(a),Qn(g,xv)}),mt(P_,(a,u)=>s.onUnblock()),mt(M_,(a,u)=>s.onBlock(u.event))],eg=(t,s)=>{const a=(h,g)=>mt(h,(b,C)=>{u(b,(E,M)=>{g(t(),E,C.event,b)})}),u=(h,g)=>{Se.getState(h).get().each(b=>{g(b,h)})};return[...Qi(a,s),a(Zd,(h,g,b)=>{g.onAction(h,{name:b.name})})]},_O=(t,s,a)=>{const u=(g,b)=>mt(g,(C,E)=>{h(C,(M,I)=>{b(t(),M,E.event,C)})}),h=(g,b)=>{Se.getState(g).get().each(C=>{b(C.internalDialog,g)})};return[...Qi(u,s),u(j1,(g,b)=>b.onSubmit(g)),u(Qa,(g,b,C)=>{b.onChange(g,{name:C.name})}),u(Zd,(g,b,C,E)=>{const M=()=>E.getSystem().isConnected()?bn.focusIn(E):void 0,I=te=>Fl(te,"disabled")||vr(te,"aria-disabled").exists(le=>le==="true"),z=Hr(E.element),Q=Ju(z);b.onAction(g,{name:C.name,value:C.value}),Ju(z).fold(M,te=>{I(te)||Q.exists(le=>Rl(te,le)&&I(le))?M():a().toOptional().filter(le=>!Rl(le.element,te)).each(M)})}),u(sL,(g,b,C)=>{b.onTabChange(g,{newTabName:C.name,oldTabName:C.oldName})}),Bd(g=>{const b=t();Xt.setValue(g,b.getData())})]},kO=(t,s)=>v0(t,t.type,s),ef=(t,s,a)=>It(s,u=>u.name===a).bind(u=>u.memento.getOpt(t)),j0=(t,s)=>{const a=s.map(C=>C.footerButtons).getOr([]),u=as(a,C=>C.align==="start"),h=(C,E)=>sd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${C}`]},components:Ue(E,M=>M.memento.asSpec())}),g=h("start",u.pass),b=h("end",u.fail);return[g,b]},Xe=(t,s,a)=>{const u=(h,g)=>{const b=Ue(g.buttons,E=>{const M=Bo(kO(E,a));return{name:E.name,align:E.align,memento:M}}),C=E=>ef(h,b,E);return P.some({lookupByName:C,footerButtons:b})};return{dom:ed('<div class="tox-dialog__footer"></div>'),components:[],behaviours:At([Se.config({channel:`${JL}-${s}`,initialData:t,updateState:u,renderComponents:j0})])}},Je=(t,s,a)=>Xe(t,s,a),Lt=(t,s,a)=>Zr.parts.footer(Xe(t,s,a)),Dt=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const u=ko.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return dh.getField(u,s).orThunk(()=>t.getFooter().bind(b=>Se.getState(b).get()).bind(b=>b.lookupByName(s)))}else return P.none()},_n=(t,s)=>{const a=t.getRoot();return Se.getState(a).get().map(u=>ot(Yn("data",u.dataValidator,s))).getOr(s)},vo=(t,s,a)=>{const u=le=>{const de=t.getRoot();de.getSystem().isConnected()&&le(de)},te={getData:()=>{const le=t.getRoot(),de=le.getSystem().isConnected()?t.getFormWrapper():le,Ne=Xt.getValue(de),ge=qt(a,ke=>ke.get());return{...Ne,...ge}},setData:le=>{u(de=>{const Ne=te.getData(),ge=Us(Ne,le),ke=_n(t,ge),Ae=t.getFormWrapper();Xt.setValue(Ae,ke),tn(a,(ft,rt)=>{Gn(ge,rt)&&ft.set(ge[rt])})})},setEnabled:(le,de)=>{Dt(t,le).each(de?On.enable:On.disable)},focus:le=>{Dt(t,le).each(Pn.focus)},block:le=>{if(!T(le))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(de=>{Sn(de,M_,{message:le})})},unblock:()=>{u(le=>{Qn(le,P_)})},showTab:le=>{u(de=>{const Ne=t.getBody();Se.getState(Ne).get().exists(ke=>ke.isTabPanel())&&ko.getCurrent(Ne).each(ke=>{Ir.showTab(ke,le)})})},redial:le=>{u(de=>{const Ne=t.getId(),ge=s(le),ke=Yv(ge.internalDialog.buttons,a);de.getSystem().broadcastOn([`${r0}-${Ne}`],ge),de.getSystem().broadcastOn([`${KL}-${Ne}`],ge.internalDialog),de.getSystem().broadcastOn([`${fk}-${Ne}`],ge.internalDialog),de.getSystem().broadcastOn([`${JL}-${Ne}`],{...ge.internalDialog,buttons:ke}),te.setData(ge.initialData)})},close:()=>{u(le=>{Qn(le,xv)})},toggleFullscreen:t.toggleFullscreen};return te},qs=(t,s,a)=>{const u=Kt("dialog"),h=t.internalDialog,g=pa(h.title,u,a),b=un(h.size),C=Ae=>Dt(ge,Ae),E=lm(b.get()).toArray(),M=(Ae,ft)=>(b.set(ft.internalDialog.size),Qp(ft.internalDialog.size,Ae),P.some(ft)),I=jc({body:h.body,initialData:h.initialData},u,a,C),z=Yv(h.buttons),Q=TO(z),te=wn(z.length!==0,Lt({buttons:z},u,a)),le=_O(()=>ke,qc(()=>Ne,a.shared.providers,s),a.shared.getSink),de={id:u,header:g,body:I,footer:te,extraClasses:E,extraBehaviours:[Se.config({channel:`${r0}-${u}`,updateState:M,initialData:t})],extraStyles:{}},Ne=Qd(de,le,a),ge=(()=>{const Ae=()=>{const rt=Zr.getBody(Ne);return ko.getCurrent(rt).getOr(rt)},ft=()=>{XS(Ne,b.get())};return{getId:ie(u),getRoot:ie(Ne),getBody:()=>Zr.getBody(Ne),getFooter:()=>Zr.getFooter(Ne),getFormWrapper:Ae,toggleFullscreen:ft}})(),ke=vo(ge,s.redial,Q);return{dialog:Ne,instanceApi:ke}},Xc=(t,s,a,u=!1,h)=>{const g=Kt("dialog"),b=Kt("dialog-label"),C=Kt("dialog-content"),E=t.internalDialog,M=Qt=>Dt(Gt,Qt),I=un(E.size),z=lm(I.get()).toArray(),Q=(Qt,Bt)=>(I.set(Bt.internalDialog.size),Qp(Bt.internalDialog.size,Qt),h(),P.some(Bt)),te=Bo(xr({title:E.title,draggable:!0},g,b,a.shared.providers)),le=Bo(qr({body:E.body,initialData:E.initialData},g,C,a,u,M)),de=Yv(E.buttons),Ne=TO(de),ge=wn(de.length!==0,Bo(Je({buttons:de},g,a))),ke=_O(()=>ut,{onBlock:Qt=>{_u.block(rt,(Bt,on)=>{const co=te.getOpt(rt).map(Ss=>fs(Ss.element));return Zc(Qt.message,on,a.shared.providers,co)})},onUnblock:()=>{_u.unblock(rt)},onClose:()=>s.closeWindow()},a.shared.getSink),Ae="tox-dialog-inline",ft=so().os,rt=la({dom:{tag:"div",classes:["tox-dialog",Ae,...z],attributes:{role:"dialog",...ft.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":b}}},eventOrder:{[Lf()]:[Se.name(),Ka.name()],[kc()]:["execute-on-form"],[Xu()]:["reflecting","execute-on-form"]},behaviours:At([bn.config({mode:"cyclic",onEscape:Qt=>(Qn(Qt,xv),P.some(!0)),useTabstopAt:Qt=>!s0(Qt)&&(Xr(Qt)!=="button"||Mn(Qt,"disabled")!=="disabled"),firstTabstop:1}),Se.config({channel:`${r0}-${g}`,updateState:Q,initialData:t}),Pn.config({}),jn("execute-on-form",ke.concat([Tg(ju(),(Qt,Bt)=>{bn.focusIn(Qt)}),mt(Cg(),(Qt,Bt)=>{Qt.getSystem().broadcastOn([Q2],{newFocus:Bt.event.newFocus})})])),_u.config({getRoot:()=>P.some(rt)}),In.config({}),Y2({})]),components:[te.asSpec(),le.asSpec(),...ge.map(Qt=>Qt.asSpec()).toArray()]}),Ht=()=>{XS(rt,I.get())},Gt={getId:ie(g),getRoot:ie(rt),getFooter:()=>ge.map(Qt=>Qt.get(rt)),getBody:()=>le.get(rt),getFormWrapper:()=>{const Qt=le.get(rt);return ko.getCurrent(Qt).getOr(Qt)},toggleFullscreen:Ht},ut=vo(Gt,s.redial,Ne);return{dialog:rt,instanceApi:ut}};var Kv=tinymce.util.Tools.resolve("tinymce.util.URI");const rX=t=>{const s=b=>{t.getSystem().isConnected()&&b(t)};return{block:b=>{if(!T(b))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(C=>{Sn(C,M_,{message:b})})},unblock:()=>{s(b=>{Qn(b,P_)})},close:()=>{s(b=>{Qn(b,xv)})},sendMessage:b=>{s(C=>{C.getSystem().broadcastOn([QL],b)})}}},YS=["insertContent","setContent","execCommand","close","block","unblock"],tf=t=>k(t)&&YS.indexOf(t.mceAction)!==-1,qB=t=>!tf(t)&&k(t)&&Gn(t,"mceAction"),GB=(t,s,a)=>{switch(a.mceAction){case"insertContent":t.insertContent(a.content);break;case"setContent":t.setContent(a.content);break;case"execCommand":const u=R(a.ui)?a.ui:!1;t.execCommand(a.cmd,u,a.value);break;case"close":s.close();break;case"block":s.block(a.message);break;case"unblock":s.unblock();break}},XB=(t,s,a,u)=>{const h=Kt("dialog"),g=pa(t.title,h,u),b=ud(t),C=t.buttons.bind(Ae=>Ae.length===0?P.none():P.some(Lt({buttons:Ae},h,u))),E=eg(()=>ke,qc(()=>ge,u.shared.providers,s)),M={...t.height.fold(()=>({}),Ae=>({height:Ae+"px","max-height":Ae+"px"})),...t.width.fold(()=>({}),Ae=>({width:Ae+"px","max-width":Ae+"px"}))},I=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],z=new Kv(t.url,{base_uri:new Kv(window.location.href)}),Q=`${z.protocol}://${z.host}${z.port?":"+z.port:""}`,te=_a(),le=(Ae,ft)=>P.some(ft),de=[Se.config({channel:`${r0}-${h}`,updateState:le,initialData:t}),jn("messages",[$s(()=>{const Ae=za(pt.fromDom(window),"message",ft=>{if(z.isSameOrigin(new Kv(ft.raw.origin))){const rt=ft.raw.data;tf(rt)?GB(a,ke,rt):qB(rt)&&t.onMessage(ke,rt)}});te.set(Ae)}),Bd(te.clear)]),Ka.config({channels:{[QL]:{onReceive:(Ae,ft)=>{Zs(Ae.element,"iframe").each(rt=>{const Ht=rt.dom.contentWindow;ee(Ht)&&Ht.postMessage(ft,Q)})}}}})],ge=Qd({id:h,header:g,body:b,footer:C,extraClasses:I,extraBehaviours:de,extraStyles:M},E,u),ke=rX(ge);return{dialog:ge,instanceApi:ke}},YB=t=>{const s=t.shared;return{open:(u,h)=>{const g=()=>{Zr.hide(M),h()},b=Bo(v0({name:"close-alert",text:"OK",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"cancel",t)),C=ol(),E=mc(g,s.providers),M=la(Hs({lazySink:()=>s.getSink(),header:nl(C,E),body:hc(u,s.providers),footer:P.some(mn(wo([],[b.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[mt(tm,g)],eventOrder:{}}));Zr.show(M);const I=b.get(M);Pn.focus(I)}}},iX=t=>{const s=t.shared;return{open:(u,h)=>{const g=Q=>{Zr.hide(I),h(Q)},b=Bo(v0({name:"yes",text:"Yes",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"submit",t)),C=v0({name:"no",text:"No",primary:!1,buttonType:P.some("secondary"),align:"end",enabled:!0,icon:P.none()},"cancel",t),E=ol(),M=mc(()=>g(!1),s.providers),I=la(Hs({lazySink:()=>s.getSink(),header:nl(E,M),body:hc(u,s.providers),footer:P.some(mn(wo([],[C,b.asSpec()]))),onEscape:()=>g(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[mt(tm,()=>g(!1)),mt(j1,()=>g(!0))],eventOrder:{}}));Zr.show(I);const z=b.get(I);Pn.focus(z)}}},mo=(t,s)=>ot(Yn("data",s,t)),tt=t=>F1(t,".tox-alert-dialog")||F1(t,".tox-confirm-dialog"),sn=(t,s,a)=>s&&a?[]:[Ms.config({contextual:{lazyContext:()=>P.some(Ks(pt.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:u=>Kf(t,u.element).map(g=>({bounds:_p(g),optScrollEnv:P.some({currentScrollTop:g.element.dom.scrollTop,scrollElmTop:Vi(g.element).top})})).getOrThunk(()=>({bounds:ur(),optScrollEnv:P.none()}))})],Ln=t=>{const s=t.editor,a=Tp(s),u=YB(t.backstages.dialog),h=iX(t.backstages.dialog),g=(le,de,Ne)=>{if(!q(de)){if(de.inline==="toolbar")return M(le,t.backstages.popup.shared.anchors.inlineDialog(),Ne,de);if(de.inline==="bottom")return I(le,t.backstages.popup.shared.anchors.inlineBottomDialog(),Ne,de);if(de.inline==="cursor")return M(le,t.backstages.popup.shared.anchors.cursor(),Ne,de)}return E(le,Ne)},b=(le,de)=>C(le,de),C=(le,de)=>{const Ne=ge=>{const ke=XB(ge,{closeWindow:()=>{Zr.hide(ke.dialog),de(ke.instanceApi)}},s,t.backstages.dialog);return Zr.show(ke.dialog),ke.instanceApi};return O.openUrl(Ne,le)},E=(le,de)=>{const Ne=(ge,ke,Ae)=>{const ft=ke,Ht=qs({dataValidator:Ae,initialData:ft,internalDialog:ge},{redial:O.redial,closeWindow:()=>{Zr.hide(Ht.dialog),de(Ht.instanceApi)}},t.backstages.dialog);return Zr.show(Ht.dialog),Ht.instanceApi.setData(ft),Ht.instanceApi};return O.open(Ne,le)},M=(le,de,Ne,ge)=>{const ke=(Ae,ft,rt)=>{const Ht=mo(ft,rt),Gt=cs(),ut=t.backstages.popup.shared.header.isPositionedAtTop(),Qt={dataValidator:rt,initialData:Ht,internalDialog:Ae},Bt=()=>Gt.on(Io=>{Ps.reposition(Io),(!a||!ut)&&Ms.refresh(Io)}),on=Xc(Qt,{redial:O.redial,closeWindow:()=>{Gt.on(Ps.hide),s.off("ResizeEditor",Bt),Gt.clear(),Ne(on.instanceApi)}},t.backstages.popup,ge.ariaAttrs,Bt),co=la(Ps.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:ge.persistent?{event:"doNotDismissYet"}:{},...ut?{}:{fireRepositionEventInstead:{}},inlineBehaviours:At([jn("window-manager-inline-events",[mt(Vh(),(Io,en)=>{Qn(on.dialog,tm)})]),...sn(s,a,ut)]),isExtraPart:(Io,en)=>tt(en)}));Gt.set(co);const Ss=()=>{const Io=s.inline?Hi():pt.fromDom(s.getContainer()),en=Ks(Io);return P.some(en)};return Ps.showWithinBounds(co,Xl(on.dialog),{anchor:de},Ss),(!a||!ut)&&(Ms.refresh(co),s.on("ResizeEditor",Bt)),on.instanceApi.setData(Ht),bn.focusIn(on.dialog),on.instanceApi};return O.open(ke,le)},I=(le,de,Ne,ge)=>{const ke=(Ae,ft,rt)=>{const Ht=mo(ft,rt),Gt=cs(),ut=t.backstages.popup.shared.header.isPositionedAtTop(),Qt={dataValidator:rt,initialData:Ht,internalDialog:Ae},Bt=()=>Gt.on(Io=>{Ps.reposition(Io),Ms.refresh(Io)}),on=Xc(Qt,{redial:O.redial,closeWindow:()=>{Gt.on(Ps.hide),s.off("ResizeEditor ScrollWindow ElementScroll",Bt),Gt.clear(),Ne(on.instanceApi)}},t.backstages.popup,ge.ariaAttrs,Bt),co=la(Ps.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:ge.persistent?{event:"doNotDismissYet"}:{},...ut?{}:{fireRepositionEventInstead:{}},inlineBehaviours:At([jn("window-manager-inline-events",[mt(Vh(),(Io,en)=>{Qn(on.dialog,tm)})]),Ms.config({contextual:{lazyContext:()=>P.some(Ks(pt.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Io=>Kf(s,Io.element).map(Ct=>({bounds:_p(Ct),optScrollEnv:P.some({currentScrollTop:Ct.element.dom.scrollTop,scrollElmTop:Vi(Ct.element).top})})).getOrThunk(()=>({bounds:ur(),optScrollEnv:P.none()}))})]),isExtraPart:(Io,en)=>tt(en)}));Gt.set(co);const Ss=()=>t.backstages.popup.shared.getSink().toOptional().bind(Io=>{const en=Kf(s,Io.element),Ct=15,zt=en.map(gn=>_p(gn)).getOr(ur()),Nn=Ks(pt.fromDom(s.getContentAreaContainer())),Cn=_f(Nn,zt);return P.some(Vs(Cn.x,Cn.y,Cn.width,Cn.height-Ct))});return Ps.showWithinBounds(co,Xl(on.dialog),{anchor:de},Ss),Ms.refresh(co),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",Bt),on.instanceApi.setData(Ht),bn.focusIn(on.dialog),on.instanceApi};return O.open(ke,le)};return{open:g,openUrl:b,alert:(le,de)=>{u.open(le,de)},close:le=>{le.close()},confirm:(le,de)=>{h.open(le,de)}}},gr=t=>{$3(t),Ez(t),pq(t)};var La=()=>{kd.add("silver",t=>{gr(t);let s=()=>ur();const{dialogs:a,popups:u,renderUI:h}=hG(t,{getPopupSinkBounds:()=>s()}),g=()=>{const M=h();return Kf(t,u.getMothership().element).each(z=>{s=()=>_p(z)}),M};hV.register(t,u.backstage.shared);const b=Ln({editor:t,backstages:{popup:u.backstage,dialog:a.backstage}}),C=cs(),E=()=>T8(t,{backstage:u.backstage},u.getMothership(),C);return{renderUI:g,getWindowManagerImpl:ie(b),getNotificationManagerImpl:E}})};La()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(ve,be,We)=>{var Qe;return We(ve,be.prototype)?!0:((Qe=ve.constructor)===null||Qe===void 0?void 0:Qe.name)===be.name},d=ve=>{const be=typeof ve;return ve===null?"null":be==="object"&&Array.isArray(ve)?"array":be==="object"&&r(ve,String,(We,Qe)=>Qe.isPrototypeOf(We))?"string":be},m=ve=>be=>d(be)===ve,v=m("string"),y=m("object"),S=m("array"),T=ve=>ve==null,k=ve=>!T(ve);class N{constructor(be,We){this.tag=be,this.value=We}static some(be){return new N(!0,be)}static none(){return N.singletonNone}fold(be,We){return this.tag?We(this.value):be()}isSome(){return this.tag}isNone(){return!this.tag}map(be){return this.tag?N.some(be(this.value)):N.none()}bind(be){return this.tag?be(this.value):N.none()}exists(be){return this.tag&&be(this.value)}forall(be){return!this.tag||be(this.value)}filter(be){return!this.tag||be(this.value)?this:N.none()}getOr(be){return this.tag?this.value:be}or(be){return this.tag?this:be}getOrThunk(be){return this.tag?this.value:be()}orThunk(be){return this.tag?this:be()}getOrDie(be){if(this.tag)return this.value;throw new Error(be??"Called getOrDie on None")}static from(be){return k(be)?N.some(be):N.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(be){this.tag&&be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}N.singletonNone=new N(!1);const D=Array.prototype.push,L=(ve,be)=>{for(let We=0,Qe=ve.length;We<Qe;We++){const cn=ve[We];be(cn,We)}},R=ve=>{const be=[];for(let We=0,Qe=ve.length;We<Qe;++We){if(!S(ve[We]))throw new Error("Arr.flatten item "+We+" was not an array, input: "+ve);D.apply(be,ve[We])}return be},q=ve=>{let be=ve;return{get:()=>be,set:cn=>{be=cn}}},G=Object.keys,ee=Object.hasOwnProperty,X=(ve,be)=>{const We=G(ve);for(let Qe=0,cn=We.length;Qe<cn;Qe++){const En=We[Qe],qn=ve[En];be(qn,En)}},re=(ve,be)=>J(ve,be)?N.from(ve[be]):N.none(),J=(ve,be)=>ee.call(ve,be),F=ve=>be=>be.options.get(ve),ce=ve=>{const be=ve.options.register;be("audio_template_callback",{processor:"function"}),be("video_template_callback",{processor:"function"}),be("iframe_template_callback",{processor:"function"}),be("media_live_embeds",{processor:"boolean",default:!0}),be("media_filter_html",{processor:"boolean",default:!0}),be("media_url_resolver",{processor:"function"}),be("media_alt_source",{processor:"boolean",default:!0}),be("media_poster",{processor:"boolean",default:!0}),be("media_dimensions",{processor:"boolean",default:!0})},Re=F("audio_template_callback"),ze=F("video_template_callback"),ie=F("iframe_template_callback"),He=F("media_live_embeds"),Ze=F("media_filter_html"),Fe=F("media_url_resolver"),he=F("media_alt_source"),xe=F("media_poster"),Be=F("media_dimensions");var Me=tinymce.util.Tools.resolve("tinymce.util.Tools"),Oe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),P=tinymce.util.Tools.resolve("tinymce.html.DomParser");const et=Oe.DOM,_e=ve=>ve.replace(/px$/,""),$t=ve=>{const be=ve.attr("style"),We=be?et.parseStyle(be):{};return{type:"ephox-embed-iri",source:ve.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:re(We,"max-width").map(_e).getOr(""),height:re(We,"max-height").map(_e).getOr("")}},dt=(ve,be)=>{let We={};const cn=P({validate:!1,forced_root_block:!1},be).parse(ve);for(let En=cn;En;En=En.walk())if(En.type===1){const qn=En.name;if(En.attr("data-ephox-embed-iri")){We=$t(En);break}else!We.source&&qn==="param"&&(We.source=En.attr("movie")),(qn==="iframe"||qn==="object"||qn==="embed"||qn==="video"||qn==="audio")&&(We.type||(We.type=qn),We=Me.extend(En.attributes.map,We)),qn==="source"&&(We.source?We.altsource||(We.altsource=En.attr("src")):We.source=En.attr("src")),qn==="img"&&!We.poster&&(We.poster=En.attr("src"))}return We.source=We.source||We.src||"",We.altsource=We.altsource||"",We.poster=We.poster||"",We},Ve=ve=>{var be;const We={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Qe=(be=ve.toLowerCase().split(".").pop())!==null&&be!==void 0?be:"";return re(We,Qe).getOr("")};var Ot=tinymce.util.Tools.resolve("tinymce.html.Node"),jt=tinymce.util.Tools.resolve("tinymce.html.Serializer");const Hn=(ve,be={})=>P({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...be},ve),rn=Oe.DOM,Ue=ve=>/^[0-9.]+$/.test(ve)?ve+"px":ve,wt=(ve,be)=>{const We=be.attr("style"),Qe=We?rn.parseStyle(We):{};k(ve.width)&&(Qe["max-width"]=Ue(ve.width)),k(ve.height)&&(Qe["max-height"]=Ue(ve.height)),be.attr("style",rn.serializeStyle(Qe))},U=["source","altsource"],as=(ve,be,We,Qe)=>{let cn=0,En=0;const qn=Hn(Qe);qn.addNodeFilter("source",pt=>cn=pt.length);const gs=qn.parse(ve);for(let pt=gs;pt;pt=pt.walk())if(pt.type===1){const po=pt.name;if(pt.attr("data-ephox-embed-iri")){wt(be,pt);break}else{switch(po){case"video":case"object":case"embed":case"img":case"iframe":be.height!==void 0&&be.width!==void 0&&(pt.attr("width",be.width),pt.attr("height",be.height));break}if(We)switch(po){case"video":pt.attr("poster",be.poster),pt.attr("src",null);for(let cr=cn;cr<2;cr++)if(be[U[cr]]){const ci=new Ot("source",1);ci.attr("src",be[U[cr]]),ci.attr("type",be[U[cr]+"mime"]||null),pt.append(ci)}break;case"iframe":pt.attr("src",be.source);break;case"object":const As=pt.getAll("img").length>0;if(be.poster&&!As){pt.attr("src",be.poster);const cr=new Ot("img",1);cr.attr("src",be.poster),cr.attr("width",be.width),cr.attr("height",be.height),pt.append(cr)}break;case"source":if(En<2&&(pt.attr("src",be[U[En]]),pt.attr("type",be[U[En]+"mime"]||null),!be[U[En]])){pt.remove();continue}En++;break;case"img":be.poster||pt.remove();break}}}return jt({},Qe).serialize(gs)},Dn=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Cs=ve=>{const be=ve.match(/^(https?:\/\/|www\.)(.+)$/i);return be&&be.length>1?be[1]==="www."?"https://":be[1]:"https://"},Vo=(ve,be)=>{const We=Cs(be),Qe=ve.regex.exec(be);let cn=We+ve.url;if(k(Qe))for(let En=0;En<Qe.length;En++)cn=cn.replace("$"+En,()=>Qe[En]?Qe[En]:"");return cn.replace(/\?$/,"")},Zo=ve=>{const be=Dn.filter(We=>We.regex.test(ve));return be.length>0?Me.extend({},be[0],{url:Vo(be[0],ve)}):null},It=(ve,be)=>{if(be)return be(ve);{const We=ve.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+ve.source+'" width="'+ve.width+'" height="'+ve.height+'"'+We+"></iframe>"}},zn=ve=>{let be='<object data="'+ve.source+'" width="'+ve.width+'" height="'+ve.height+'" type="application/x-shockwave-flash">';return ve.poster&&(be+='<img src="'+ve.poster+'" width="'+ve.width+'" height="'+ve.height+'" />'),be+="</object>",be},nn=(ve,be)=>be?be(ve):'<audio controls="controls" src="'+ve.source+'">'+(ve.altsource?`
<source src="`+ve.altsource+'"'+(ve.altsourcemime?' type="'+ve.altsourcemime+'"':"")+` />
`:"")+"</audio>",$e=(ve,be)=>be?be(ve):'<video width="'+ve.width+'" height="'+ve.height+'"'+(ve.poster?' poster="'+ve.poster+'"':"")+` controls="controls">
<source src="`+ve.source+'"'+(ve.sourcemime?' type="'+ve.sourcemime+'"':"")+` />
`+(ve.altsource?'<source src="'+ve.altsource+'"'+(ve.altsourcemime?' type="'+ve.altsourcemime+'"':"")+` />
`:"")+"</video>",Tr=(ve,be)=>{var We;const Qe=Me.extend({},be);if(!Qe.source&&(Me.extend(Qe,dt((We=Qe.embed)!==null&&We!==void 0?We:"",ve.schema)),!Qe.source))return"";Qe.altsource||(Qe.altsource=""),Qe.poster||(Qe.poster=""),Qe.source=ve.convertURL(Qe.source,"source"),Qe.altsource=ve.convertURL(Qe.altsource,"source"),Qe.sourcemime=Ve(Qe.source),Qe.altsourcemime=Ve(Qe.altsource),Qe.poster=ve.convertURL(Qe.poster,"poster");const cn=Zo(Qe.source);if(cn&&(Qe.source=cn.url,Qe.type=cn.type,Qe.allowfullscreen=cn.allowFullscreen,Qe.width=Qe.width||String(cn.w),Qe.height=Qe.height||String(cn.h)),Qe.embed)return as(Qe.embed,Qe,!0,ve.schema);{const En=Re(ve),qn=ze(ve),gs=ie(ve);return Qe.width=Qe.width||"300",Qe.height=Qe.height||"150",Me.each(Qe,(pt,po)=>{Qe[po]=ve.dom.encode(""+pt)}),Qe.type==="iframe"?It(Qe,gs):Qe.sourcemime==="application/x-shockwave-flash"?zn(Qe):Qe.sourcemime.indexOf("audio")!==-1?nn(Qe,En):$e(Qe,qn)}},ar=ve=>ve.hasAttribute("data-mce-object")||ve.hasAttribute("data-ephox-embed-iri"),hn=ve=>{ve.on("mousedown",be=>{const We=ve.dom.getParent(be.target,".mce-preview-object");We&&ve.dom.getAttrib(We,"data-mce-selected")==="2"&&be.stopImmediatePropagation()}),ve.on("click keyup touchend",()=>{const be=ve.selection.getNode();be&&ve.dom.hasClass(be,"mce-preview-object")&&ve.dom.getAttrib(be,"data-mce-selected")&&be.setAttribute("data-mce-selected","2")}),ve.on("ObjectResized",be=>{const We=be.target;if(We.getAttribute("data-mce-object")){let Qe=We.getAttribute("data-mce-html");Qe&&(Qe=unescape(Qe),We.setAttribute("data-mce-html",escape(as(Qe,{width:String(be.width),height:String(be.height)},!1,ve.schema))))}})},Gr={},Gs=(ve,be,We)=>new Promise((Qe,cn)=>{const En=qn=>(qn.html&&(Gr[ve.source]=qn),Qe({url:ve.source,html:qn.html?qn.html:be(ve)}));Gr[ve.source]?En(Gr[ve.source]):We({url:ve.source}).then(En).catch(cn)}),V=(ve,be)=>Promise.resolve({html:be(ve),url:ve.source}),oe=ve=>be=>Tr(ve,be),Ce=(ve,be)=>{const We=Fe(ve);return We?Gs(be,oe(ve),We):V(be,oe(ve))},Le=ve=>J(Gr,ve),qe=(ve,be)=>re(be,ve).bind(We=>re(We,"meta")),bt=(ve,be,We)=>Qe=>{const cn=()=>re(ve,Qe),En=()=>re(be,Qe),qn=po=>re(po,"value").bind(As=>As.length>0?N.some(As):N.none()),gs=()=>cn().bind(po=>y(po)?qn(po).orThunk(En):En().orThunk(()=>N.from(po))),pt=()=>En().orThunk(()=>cn().bind(po=>y(po)?qn(po):N.from(po)));return{[Qe]:(Qe===We?gs():pt()).getOr("")}},ht=(ve,be)=>{const We={};return re(ve,"dimensions").each(Qe=>{L(["width","height"],cn=>{re(be,cn).orThunk(()=>re(Qe,cn)).each(En=>We[cn]=En)})}),We},Et=(ve,be)=>{const We=be&&be!=="dimensions"?qe(be,ve).getOr({}):{},Qe=bt(ve,We,be);return{...Qe("source"),...Qe("altsource"),...Qe("poster"),...Qe("embed"),...ht(ve,We)}},tn=ve=>{const be={...ve,source:{value:re(ve,"source").getOr("")},altsource:{value:re(ve,"altsource").getOr("")},poster:{value:re(ve,"poster").getOr("")}};return L(["width","height"],We=>{re(ve,We).each(Qe=>{const cn=be.dimensions||{};cn[We]=Qe,be.dimensions=cn})}),be},qt=ve=>be=>{const We=be&&be.msg?"Media embed handler error: "+be.msg:"Media embed handler threw unknown error.";ve.notificationManager.open({type:"error",text:We})},Vn=ve=>{const be=ve.selection.getNode(),We=ar(be)?ve.serializer.serialize(be,{selection:!0}):"",Qe=dt(We,ve.schema),En=(()=>{if(So(Qe.source,Qe.type)){const qn=ve.dom.getRect(be);return{width:qn.w.toString().replace(/px$/,""),height:qn.h.toString().replace(/px$/,"")}}else return{}})();return{embed:We,...Qe,...En}},kn=(ve,be)=>We=>{if(v(We.url)&&We.url.trim().length>0){const Qe=We.html,En={...dt(Qe,be.schema),source:We.url,embed:Qe};ve.setData(tn(En))}},Un=(ve,be)=>{const We=ve.dom.select("*[data-mce-object]");for(let Qe=0;Qe<be.length;Qe++)for(let cn=We.length-1;cn>=0;cn--)be[Qe]===We[cn]&&We.splice(cn,1);ve.selection.select(We[0])},Kn=(ve,be)=>{const We=ve.dom.select("*[data-mce-object]");ve.insertContent(be),Un(ve,We),ve.nodeChanged()},So=(ve,be)=>k(be)&&be==="ephox-embed-iri"&&k(Zo(ve)),ls=(ve,be)=>((Qe,cn)=>Qe.width!==cn.width||Qe.height!==cn.height)(ve,be)&&So(be.source,ve.type),Lo=(ve,be,We)=>{var Qe;be.embed=ls(ve,be)&&Be(We)?Tr(We,{...be,embed:""}):as((Qe=be.embed)!==null&&Qe!==void 0?Qe:"",be,!1,We.schema),be.embed&&(ve.source===be.source||Le(be.source))?Kn(We,be.embed):Ce(We,be).then(cn=>{Kn(We,cn.html)}).catch(qt(We))},Js=ve=>{const be=Vn(ve),We=q(be),Qe=tn(be),cn=(kr,Qo)=>{const es=Et(Qo.getData(),"source");kr.source!==es.source&&(kn(wa,ve)({url:es.source,html:""}),Ce(ve,es).then(kn(wa,ve)).catch(qt(ve)))},En=kr=>{var Qo;const es=Et(kr.getData()),Sa=dt((Qo=es.embed)!==null&&Qo!==void 0?Qo:"",ve.schema);kr.setData(tn(Sa))},qn=(kr,Qo,es)=>{const Sa=Et(kr.getData(),Qo),Xr=ls(es,Sa)&&Be(ve)?{...Sa,embed:""}:Sa,$r=Tr(ve,Xr);kr.setData(tn({...Xr,embed:$r}))},gs=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],pt=Be(ve)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],po={title:"General",name:"general",items:R([gs,pt])},cr={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},ci=[];he(ve)&&ci.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),xe(ve)&&ci.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const ul={title:"Advanced",name:"advanced",items:ci},bc=[po,cr];ci.length>0&&bc.push(ul);const Ti={type:"tabpanel",tabs:bc},wa=ve.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Ti,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:kr=>{const Qo=Et(kr.getData());Lo(We.get(),Qo,ve),kr.close()},onChange:(kr,Qo)=>{switch(Qo.name){case"source":cn(We.get(),kr);break;case"embed":En(kr);break;case"dimensions":case"altsource":case"poster":qn(kr,Qo.name,We.get());break}We.set(Et(kr.getData()))},initialData:Qe})},_t=ve=>({showDialog:()=>{Js(ve)}}),Gn=ve=>{const be=()=>{Js(ve)};ve.addCommand("mceMedia",be)},Ws=(ve,be,We)=>ve.length>=be.length&&ve.substr(We,We+be.length)===be,Xs=(ve,be)=>Ws(ve,be,0);var Fi=tinymce.util.Tools.resolve("tinymce.Env");const ii=ve=>{const be=ve.name;return be==="iframe"||be==="video"||be==="audio"},Ys=(ve,be,We,Qe=null)=>{const cn=ve.attr(We);return k(cn)?cn:J(be,We)?null:Qe},lr=(ve,be,We)=>{const Qe=be.name==="img"||ve.name==="video",cn=Qe?"300":null,En=ve.name==="audio"?"30":"150",qn=Qe?En:null;be.attr({width:Ys(ve,We,"width",cn),height:Ys(ve,We,"height",qn)})},cl=(ve,be,We,Qe)=>{const cn=Hn(ve.schema).parse(Qe,{context:be});for(;cn.firstChild;)We.append(cn.firstChild)},Fo=(ve,be)=>{const We=be.name,Qe=new Ot("img",1);return ai(ve,be,Qe),lr(be,Qe,{}),Qe.attr({style:be.attr("style"),src:Fi.transparentSrc,"data-mce-object":We,class:"mce-object mce-object-"+We}),Qe},wn=(ve,be)=>{var We;const Qe=be.name,cn=new Ot("span",1);cn.attr({contentEditable:"false",style:be.attr("style"),"data-mce-object":Qe,class:"mce-preview-object mce-object-"+Qe}),ai(ve,be,cn);const En=ve.dom.parseStyle((We=be.attr("style"))!==null&&We!==void 0?We:""),qn=new Ot(Qe,1);if(lr(be,qn,En),qn.attr({src:be.attr("src"),style:be.attr("style"),class:be.attr("class")}),Qe==="iframe")qn.attr({allowfullscreen:be.attr("allowfullscreen"),frameborder:"0",sandbox:be.attr("sandbox"),referrerpolicy:be.attr("referrerpolicy")});else{L(["controls","crossorigin","currentTime","loop","muted","poster","preload"],As=>{qn.attr(As,be.attr(As))});const po=cn.attr("data-mce-html");k(po)&&cl(ve,Qe,qn,unescape(po))}const gs=new Ot("span",1);return gs.attr("class","mce-shim"),cn.append(qn),cn.append(gs),cn},ai=(ve,be,We)=>{var Qe;const cn=(Qe=be.attributes)!==null&&Qe!==void 0?Qe:[];let En=cn.length;for(;En--;){const po=cn[En].name;let As=cn[En].value;po!=="width"&&po!=="height"&&po!=="style"&&!Xs(po,"data-mce-")&&((po==="data"||po==="src")&&(As=ve.convertURL(As,po)),We.attr("data-mce-p-"+po,As))}const qn=jt({inner:!0},ve.schema),gs=new Ot("div",1);L(be.children(),po=>gs.append(po));const pt=qn.serialize(gs);pt&&(We.attr("data-mce-html",escape(pt)),We.empty())},Il=ve=>{const be=ve.attr("class");return v(be)&&/\btiny-pageembed\b/.test(be)},Xo=ve=>{let be=ve;for(;be=be.parent;)if(be.attr("data-ephox-embed-iri")||Il(be))return!0;return!1},zs=ve=>be=>{let We=be.length,Qe;for(;We--;)Qe=be[We],Qe.parent&&(Qe.parent.attr("data-mce-object")||(ii(Qe)&&He(ve)?Xo(Qe)||Qe.replace(wn(ve,Qe)):Xo(Qe)||Qe.replace(Fo(ve,Qe))))},li=(ve,be,We)=>{const Qe=ve.options.get,cn=Qe("xss_sanitization"),En=Ze(ve);return Hn(ve.schema,{sanitize:cn,validate:En}).parse(We,{context:be})},Qs=ve=>{ve.on("PreInit",()=>{const{schema:be,serializer:We,parser:Qe}=ve,cn=be.getBoolAttrs();L("webkitallowfullscreen mozallowfullscreen".split(" "),En=>{cn[En]={}}),X({embed:["wmode"]},(En,qn)=>{const gs=be.getElementRule(qn);gs&&L(En,pt=>{gs.attributes[pt]={},gs.attributesOrder.push(pt)})}),Qe.addNodeFilter("iframe,video,audio,object,embed",zs(ve)),We.addAttributeFilter("data-mce-object",(En,qn)=>{var gs;let pt=En.length;for(;pt--;){const po=En[pt];if(!po.parent)continue;const As=po.attr(qn),cr=new Ot(As,1);if(As!=="audio"){const Ti=po.attr("class");Ti&&Ti.indexOf("mce-preview-object")!==-1&&po.firstChild?cr.attr({width:po.firstChild.attr("width"),height:po.firstChild.attr("height")}):cr.attr({width:po.attr("width"),height:po.attr("height")})}cr.attr({style:po.attr("style")});const ci=(gs=po.attributes)!==null&&gs!==void 0?gs:[];let ul=ci.length;for(;ul--;){const Ti=ci[ul].name;Ti.indexOf("data-mce-p-")===0&&cr.attr(Ti.substr(11),ci[ul].value)}const bc=po.attr("data-mce-html");if(bc){const Ti=li(ve,As,unescape(bc));L(Ti.children(),wa=>cr.append(wa))}po.replace(cr)}})}),ve.on("SetContent",()=>{const be=ve.dom;L(be.select("span.mce-preview-object"),We=>{be.select("span.mce-shim",We).length===0&&be.add(We,"span",{class:"mce-shim"})})})},Wa=ve=>{ve.on("ResolveName",be=>{let We;be.target.nodeType===1&&(We=be.target.getAttribute("data-mce-object"))&&(be.name=We)})},ya=ve=>be=>{const We=()=>{be.setEnabled(ve.selection.isEditable())};return ve.on("NodeChange",We),We(),()=>{ve.off("NodeChange",We)}},ja=ve=>{const be=()=>ve.execCommand("mceMedia");ve.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:be,onSetup:We=>{const Qe=ve.selection;We.setActive(ar(Qe.getNode()));const cn=Qe.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",We.setActive).unbind,En=ya(ve)(We);return()=>{cn(),En()}}}),ve.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:be,onSetup:ya(ve)})};var _r=()=>{l.add("media",ve=>(ce(ve),Gn(ve),ja(ve),Wa(ve),Qs(ve),hn(ve),_t(ve)))};_r()})();(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=Object.getPrototypeOf,d=(W,ae,we)=>{var Ge;return we(W,ae.prototype)?!0:((Ge=W.constructor)===null||Ge===void 0?void 0:Ge.name)===ae.name},m=W=>{const ae=typeof W;return W===null?"null":ae==="object"&&Array.isArray(W)?"array":ae==="object"&&d(W,String,(we,Ge)=>Ge.isPrototypeOf(we))?"string":ae},v=W=>ae=>m(ae)===W,y=W=>ae=>typeof ae===W,S=W=>ae=>W===ae,T=(W,ae)=>N(W)&&d(W,ae,(we,Ge)=>r(we)===Ge),k=v("string"),N=v("object"),D=W=>T(W,Object),L=v("array"),R=S(null),q=y("boolean"),G=W=>W==null,ee=W=>!G(W),X=y("function"),re=y("number"),J=(W,ae)=>{if(L(W)){for(let we=0,Ge=W.length;we<Ge;++we)if(!ae(W[we]))return!1;return!0}return!1},F=()=>{};class ce{constructor(ae,we){this.tag=ae,this.value=we}static some(ae){return new ce(!0,ae)}static none(){return ce.singletonNone}fold(ae,we){return this.tag?we(this.value):ae()}isSome(){return this.tag}isNone(){return!this.tag}map(ae){return this.tag?ce.some(ae(this.value)):ce.none()}bind(ae){return this.tag?ae(this.value):ce.none()}exists(ae){return this.tag&&ae(this.value)}forall(ae){return!this.tag||ae(this.value)}filter(ae){return!this.tag||ae(this.value)?this:ce.none()}getOr(ae){return this.tag?this.value:ae}or(ae){return this.tag?this:ae}getOrThunk(ae){return this.tag?this.value:ae()}orThunk(ae){return this.tag?this:ae()}getOrDie(ae){if(this.tag)return this.value;throw new Error(ae??"Called getOrDie on None")}static from(ae){return ee(ae)?ce.some(ae):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ae){this.tag&&ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ce.singletonNone=new ce(!1);const Re=Object.keys,ze=Object.hasOwnProperty,ie=(W,ae)=>{const we=Re(W);for(let Ge=0,gt=we.length;Ge<gt;Ge++){const oo=we[Ge],ds=W[oo];ae(ds,oo)}},He=W=>(ae,we)=>{W[we]=ae},Ze=(W,ae,we,Ge)=>{ie(W,(gt,oo)=>{(ae(gt,oo)?we:Ge)(gt,oo)})},Fe=(W,ae)=>{const we={};return Ze(W,ae,He(we),F),we},he=(W,ae)=>ze.call(W,ae),xe=(W,ae)=>he(W,ae)&&W[ae]!==void 0&&W[ae]!==null,Be=Array.prototype.push,Me=W=>{const ae=[];for(let we=0,Ge=W.length;we<Ge;++we){if(!L(W[we]))throw new Error("Arr.flatten item "+we+" was not an array, input: "+W);Be.apply(ae,W[we])}return ae},Oe=(W,ae)=>ae>=0&&ae<W.length?ce.some(W[ae]):ce.none(),P=W=>Oe(W,0),et=(W,ae)=>{for(let we=0;we<W.length;we++){const Ge=ae(W[we],we);if(Ge.isSome())return Ge}return ce.none()};typeof window<"u"||Function("return this;")();const _e=(W,ae,we)=>{if(k(we)||q(we)||re(we))W.setAttribute(ae,we+"");else throw console.error("Invalid call to Attribute.set. Key ",ae,":: Value ",we,":: Element ",W),new Error("Attribute value was not simple")},$t=(W,ae,we)=>{_e(W.dom,ae,we)},dt=(W,ae)=>{W.dom.removeAttribute(ae)},Ve=(W,ae)=>{const Ge=(ae||document).createElement("div");if(Ge.innerHTML=W,!Ge.hasChildNodes()||Ge.childNodes.length>1){const gt="HTML does not have a single root node";throw console.error(gt,W),new Error(gt)}return Hn(Ge.childNodes[0])},Ot=(W,ae)=>{const Ge=(ae||document).createElement(W);return Hn(Ge)},jt=(W,ae)=>{const Ge=(ae||document).createTextNode(W);return Hn(Ge)},Hn=W=>{if(W==null)throw new Error("Node cannot be null or undefined");return{dom:W}},Ue={fromHtml:Ve,fromTag:Ot,fromText:jt,fromDom:Hn,fromPoint:(W,ae,we)=>ce.from(W.dom.elementFromPoint(ae,we)).map(Hn)};var wt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),U=tinymce.util.Tools.resolve("tinymce.util.URI");const as=W=>W.length>0,Dn=W=>ae=>ae.options.get(W),Cs=W=>{const ae=W.options.register;ae("image_dimensions",{processor:"boolean",default:!0}),ae("image_advtab",{processor:"boolean",default:!1}),ae("image_uploadtab",{processor:"boolean",default:!0}),ae("image_prepend_url",{processor:"string",default:""}),ae("image_class_list",{processor:"object[]"}),ae("image_description",{processor:"boolean",default:!0}),ae("image_title",{processor:"boolean",default:!1}),ae("image_caption",{processor:"boolean",default:!1}),ae("image_list",{processor:we=>{const Ge=we===!1||k(we)||J(we,N)||X(we);return Ge?{value:we,valid:Ge}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Vo=Dn("image_dimensions"),Zo=Dn("image_advtab"),It=Dn("image_uploadtab"),zn=Dn("image_prepend_url"),nn=Dn("image_class_list"),$e=Dn("image_description"),Tr=Dn("image_title"),ar=Dn("image_caption"),hn=Dn("image_list"),Gr=Dn("a11y_advanced_options"),Gs=Dn("automatic_uploads"),V=W=>as(W.options.get("images_upload_url")),oe=W=>ee(W.options.get("images_upload_handler")),Ce=(W,ae)=>Math.max(parseInt(W,10),parseInt(ae,10)),Le=W=>new Promise(ae=>{const we=document.createElement("img"),Ge=oo=>{we.onload=we.onerror=null,we.parentNode&&we.parentNode.removeChild(we),ae(oo)};we.onload=()=>{const oo=Ce(we.width,we.clientWidth),ds=Ce(we.height,we.clientHeight),ts={width:oo,height:ds};Ge(Promise.resolve(ts))},we.onerror=()=>{Ge(Promise.reject(`Failed to get image dimensions for: ${W}`))};const gt=we.style;gt.visibility="hidden",gt.position="fixed",gt.bottom=gt.left="0px",gt.width=gt.height="auto",document.body.appendChild(we),we.src=W}),qe=W=>(W&&(W=W.replace(/px$/,"")),W),bt=W=>(W.length>0&&/^[0-9]+$/.test(W)&&(W+="px"),W),ht=W=>{if(W.margin){const ae=String(W.margin).split(" ");switch(ae.length){case 1:W["margin-top"]=W["margin-top"]||ae[0],W["margin-right"]=W["margin-right"]||ae[0],W["margin-bottom"]=W["margin-bottom"]||ae[0],W["margin-left"]=W["margin-left"]||ae[0];break;case 2:W["margin-top"]=W["margin-top"]||ae[0],W["margin-right"]=W["margin-right"]||ae[1],W["margin-bottom"]=W["margin-bottom"]||ae[0],W["margin-left"]=W["margin-left"]||ae[1];break;case 3:W["margin-top"]=W["margin-top"]||ae[0],W["margin-right"]=W["margin-right"]||ae[1],W["margin-bottom"]=W["margin-bottom"]||ae[2],W["margin-left"]=W["margin-left"]||ae[1];break;case 4:W["margin-top"]=W["margin-top"]||ae[0],W["margin-right"]=W["margin-right"]||ae[1],W["margin-bottom"]=W["margin-bottom"]||ae[2],W["margin-left"]=W["margin-left"]||ae[3]}delete W.margin}return W},Et=(W,ae)=>{const we=hn(W);k(we)?fetch(we).then(Ge=>{Ge.ok&&Ge.json().then(ae)}):X(we)?we(ae):ae(we)},tn=(W,ae,we)=>{const Ge=()=>{we.onload=we.onerror=null,W.selection&&(W.selection.select(we),W.nodeChanged())};we.onload=()=>{!ae.width&&!ae.height&&Vo(W)&&W.dom.setAttribs(we,{width:String(we.clientWidth),height:String(we.clientHeight)}),Ge()},we.onerror=Ge},qt=W=>new Promise((ae,we)=>{const Ge=new FileReader;Ge.onload=()=>{ae(Ge.result)},Ge.onerror=()=>{var gt;we((gt=Ge.error)===null||gt===void 0?void 0:gt.message)},Ge.readAsDataURL(W)}),Vn=W=>W.nodeName==="IMG"&&(W.hasAttribute("data-mce-object")||W.hasAttribute("data-mce-placeholder")),kn=(W,ae)=>{const we=W.options.get;return U.isDomSafe(ae,"img",{allow_html_data_urls:we("allow_html_data_urls"),allow_script_urls:we("allow_script_urls"),allow_svg_data_urls:we("allow_svg_data_urls")})},Un=wt.DOM,Kn=W=>W.style.marginLeft&&W.style.marginRight&&W.style.marginLeft===W.style.marginRight?qe(W.style.marginLeft):"",So=W=>W.style.marginTop&&W.style.marginBottom&&W.style.marginTop===W.style.marginBottom?qe(W.style.marginTop):"",ls=W=>W.style.borderWidth?qe(W.style.borderWidth):"",Lo=(W,ae)=>{var we;return W.hasAttribute(ae)&&(we=W.getAttribute(ae))!==null&&we!==void 0?we:""},Js=W=>W.parentNode!==null&&W.parentNode.nodeName==="FIGURE",_t=(W,ae,we)=>{we===""||we===null?W.removeAttribute(ae):W.setAttribute(ae,we)},Gn=W=>{const ae=Un.create("figure",{class:"image"});Un.insertAfter(ae,W),ae.appendChild(W),ae.appendChild(Un.create("figcaption",{contentEditable:"true"},"Caption")),ae.contentEditable="false"},Ws=W=>{const ae=W.parentNode;ee(ae)&&(Un.insertAfter(W,ae),Un.remove(ae))},Xs=W=>{Js(W)?Ws(W):Gn(W)},Fi=(W,ae)=>{const we=W.getAttribute("style"),Ge=ae(we!==null?we:"");Ge.length>0?(W.setAttribute("style",Ge),W.setAttribute("data-mce-style",Ge)):W.removeAttribute("style")},ii=(W,ae)=>(we,Ge,gt)=>{const oo=we.style;oo[Ge]?(oo[Ge]=bt(gt),Fi(we,ae)):_t(we,Ge,gt)},Ys=(W,ae)=>W.style[ae]?qe(W.style[ae]):Lo(W,ae),lr=(W,ae)=>{const we=bt(ae);W.style.marginLeft=we,W.style.marginRight=we},cl=(W,ae)=>{const we=bt(ae);W.style.marginTop=we,W.style.marginBottom=we},Fo=(W,ae)=>{const we=bt(ae);W.style.borderWidth=we},wn=(W,ae)=>{W.style.borderStyle=ae},ai=W=>{var ae;return(ae=W.style.borderStyle)!==null&&ae!==void 0?ae:""},Il=W=>ee(W)&&W.nodeName==="FIGURE",Xo=W=>W.nodeName==="IMG",zs=W=>Un.getAttrib(W,"alt").length===0&&Un.getAttrib(W,"role")==="presentation",li=W=>zs(W)?"":Lo(W,"alt"),Qs=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Wa=(W,ae)=>{var we;const Ge=document.createElement("img");return _t(Ge,"style",ae.style),(Kn(Ge)||ae.hspace!=="")&&lr(Ge,ae.hspace),(So(Ge)||ae.vspace!=="")&&cl(Ge,ae.vspace),(ls(Ge)||ae.border!=="")&&Fo(Ge,ae.border),(ai(Ge)||ae.borderStyle!=="")&&wn(Ge,ae.borderStyle),W((we=Ge.getAttribute("style"))!==null&&we!==void 0?we:"")},ya=(W,ae)=>{const we=document.createElement("img");if(Qe(W,{...ae,caption:!1},we),ve(we,ae.alt,ae.isDecorative),ae.caption){const Ge=Un.create("figure",{class:"image"});return Ge.appendChild(we),Ge.appendChild(Un.create("figcaption",{contentEditable:"true"},"Caption")),Ge.contentEditable="false",Ge}else return we},ja=(W,ae)=>({src:Lo(ae,"src"),alt:li(ae),title:Lo(ae,"title"),width:Ys(ae,"width"),height:Ys(ae,"height"),class:Lo(ae,"class"),style:W(Lo(ae,"style")),caption:Js(ae),hspace:Kn(ae),vspace:So(ae),border:ls(ae),borderStyle:ai(ae),isDecorative:zs(ae)}),_r=(W,ae,we,Ge,gt)=>{we[Ge]!==ae[Ge]&&gt(W,Ge,String(we[Ge]))},ve=(W,ae,we)=>{if(we){Un.setAttrib(W,"role","presentation");const Ge=Ue.fromDom(W);$t(Ge,"alt","")}else{if(R(ae)){const Ge=Ue.fromDom(W);dt(Ge,"alt")}else{const Ge=Ue.fromDom(W);$t(Ge,"alt",ae)}Un.getAttrib(W,"role")==="presentation"&&Un.setAttrib(W,"role","")}},be=(W,ae,we)=>{(we.alt!==ae.alt||we.isDecorative!==ae.isDecorative)&&ve(W,we.alt,we.isDecorative)},We=(W,ae)=>(we,Ge,gt)=>{W(we,gt),Fi(we,ae)},Qe=(W,ae,we)=>{const Ge=ja(W,we);_r(we,Ge,ae,"caption",(gt,oo,ds)=>Xs(gt)),_r(we,Ge,ae,"src",_t),_r(we,Ge,ae,"title",_t),_r(we,Ge,ae,"width",ii("width",W)),_r(we,Ge,ae,"height",ii("height",W)),_r(we,Ge,ae,"class",_t),_r(we,Ge,ae,"style",We((gt,oo)=>_t(gt,"style",oo),W)),_r(we,Ge,ae,"hspace",We(lr,W)),_r(we,Ge,ae,"vspace",We(cl,W)),_r(we,Ge,ae,"border",We(Fo,W)),_r(we,Ge,ae,"borderStyle",We(wn,W)),be(we,Ge,ae)},cn=(W,ae)=>{const we=W.dom.styles.parse(ae),Ge=ht(we),gt=W.dom.styles.parse(W.dom.styles.serialize(Ge));return W.dom.styles.serialize(gt)},En=W=>{const ae=W.selection.getNode(),we=W.dom.getParent(ae,"figure.image");return we?W.dom.select("img",we)[0]:ae&&(ae.nodeName!=="IMG"||Vn(ae))?null:ae},qn=(W,ae)=>{var we;const Ge=W.dom,gt=Fe(W.schema.getTextBlockElements(),(ds,ts)=>!W.schema.isValidChild(ts,"figure")),oo=Ge.getParent(ae.parentNode,ds=>xe(gt,ds.nodeName),W.getBody());return oo&&(we=Ge.split(oo,ae))!==null&&we!==void 0?we:ae},gs=W=>{const ae=En(W);return ae?ja(we=>cn(W,we),ae):Qs()},pt=(W,ae)=>{const we=ya(gt=>cn(W,gt),ae);W.dom.setAttrib(we,"data-mce-id","__mcenew"),W.focus(),W.selection.setContent(we.outerHTML);const Ge=W.dom.select('*[data-mce-id="__mcenew"]')[0];if(W.dom.setAttrib(Ge,"data-mce-id",null),Il(Ge)){const gt=qn(W,Ge);W.selection.select(gt)}else W.selection.select(Ge)},po=(W,ae)=>{W.dom.setAttrib(ae,"src",ae.getAttribute("src"))},As=(W,ae)=>{if(ae){const we=W.dom.is(ae.parentNode,"figure.image")?ae.parentNode:ae;W.dom.remove(we),W.focus(),W.nodeChanged(),W.dom.isEmpty(W.getBody())&&(W.setContent(""),W.selection.setCursorLocation())}},cr=(W,ae)=>{const we=En(W);if(we)if(Qe(Ge=>cn(W,Ge),ae,we),po(W,we),Il(we.parentNode)){const Ge=we.parentNode;qn(W,Ge),W.selection.select(we.parentNode)}else W.selection.select(we),tn(W,ae,we)},ci=(W,ae)=>{const we=ae.src;return{...ae,src:kn(W,we)?we:""}},ul=(W,ae)=>{const we=En(W);if(we){const gt={...ja(ds=>cn(W,ds),we),...ae},oo=ci(W,gt);gt.src?cr(W,oo):As(W,we)}else ae.src&&pt(W,{...Qs(),...ae})},wa=(W=>(...ae)=>{if(ae.length===0)throw new Error("Can't merge zero objects");const we={};for(let Ge=0;Ge<ae.length;Ge++){const gt=ae[Ge];for(const oo in gt)he(gt,oo)&&(we[oo]=W(we[oo],gt[oo]))}return we})((W,ae)=>D(W)&&D(ae)?wa(W,ae):ae);var kr=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Qo=tinymce.util.Tools.resolve("tinymce.util.Tools");const es=W=>k(W.value)?W.value:"",Sa=W=>k(W.text)?W.text:k(W.title)?W.title:"",Xr=(W,ae)=>{const we=[];return Qo.each(W,Ge=>{const gt=Sa(Ge);if(Ge.menu!==void 0){const oo=Xr(Ge.menu,ae);we.push({text:gt,items:oo})}else{const oo=ae(Ge);we.push({text:gt,value:oo})}}),we},$r=(W=es)=>ae=>ae?ce.from(ae).map(we=>Xr(we,W)):ce.none(),Qc=W=>$r(es)(W),hi=W=>he(W,"items"),To=(W,ae)=>et(W,we=>hi(we)?To(we.items,ae):we.value===ae?ce.some(we):ce.none()),Es={sanitizer:$r,sanitize:Qc,findEntry:(W,ae)=>W.bind(we=>To(we,ae))},yc={makeTab:W=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},js=W=>{const ae=Es.sanitizer(fs=>W.convertURL(fs.value||fs.url||"","src")),we=new Promise(fs=>{Et(W,Za=>{fs(ae(Za).map(fm=>Me([[{text:"None",value:""}],fm])))})}),Ge=Es.sanitize(nn(W)),gt=Zo(W),oo=It(W),ds=V(W),ts=oe(W),Tt=gs(W),vs=$e(W),Yr=Tr(W),Hl=Vo(W),Zn=ar(W),zi=Gr(W),ou=Gs(W),hf=ce.some(zn(W)).filter(fs=>k(fs)&&fs.length>0);return we.then(fs=>({image:Tt,imageList:fs,classList:Ge,hasAdvTab:gt,hasUploadTab:oo,hasUploadUrl:ds,hasUploadHandler:ts,hasDescription:vs,hasImageTitle:Yr,hasDimensions:Hl,hasImageCaption:Zn,prependURL:hf,hasAccessibilityOptions:zi,automaticUploads:ou}))},dl=W=>{const ae={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},we=W.imageList.map(Yr=>({name:"images",type:"listbox",label:"Image list",items:Yr})),Ge={name:"alt",type:"input",label:"Alternative description",enabled:!(W.hasAccessibilityOptions&&W.image.isDecorative)},gt={name:"title",type:"input",label:"Image title"},oo={name:"dimensions",type:"sizeinput"},ds={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},ts=W.classList.map(Yr=>({name:"classes",type:"listbox",label:"Class",items:Yr})),Tt={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},vs=Yr=>Yr?{type:"grid",columns:2}:{type:"panel"};return Me([[ae],we.toArray(),W.hasAccessibilityOptions&&W.hasDescription?[ds]:[],W.hasDescription?[Ge]:[],W.hasImageTitle?[gt]:[],W.hasDimensions?[oo]:[],[{...vs(W.classList.isSome()&&W.hasImageCaption),items:Me([ts.toArray(),W.hasImageCaption?[Tt]:[]])}]])},_i={makeTab:W=>({title:"General",name:"general",items:dl(W)}),makeItems:dl},Rl={makeTab:W=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Fr=W=>({prevImage:Es.findEntry(W.imageList,W.image.src),prevAlt:W.image.alt,open:!0}),wc=W=>({src:{value:W.src,meta:{}},images:W.src,alt:W.alt,title:W.title,dimensions:{width:W.width,height:W.height},classes:W.class,caption:W.caption,style:W.style,vspace:W.vspace,border:W.border,hspace:W.hspace,borderstyle:W.borderStyle,fileinput:[],isDecorative:W.isDecorative}),eu=(W,ae)=>({src:W.src.value,alt:(W.alt===null||W.alt.length===0)&&ae?null:W.alt,title:W.title,width:W.dimensions.width,height:W.dimensions.height,class:W.classes,style:W.style,caption:W.caption,hspace:W.hspace,vspace:W.vspace,border:W.border,borderStyle:W.borderstyle,isDecorative:W.isDecorative}),Or=(W,ae)=>/^(?:[a-zA-Z]+:)?\/\//.test(ae)?ce.none():W.prependURL.bind(we=>ae.substring(0,we.length)!==we?ce.some(we+ae):ce.none()),xa=(W,ae)=>{const we=ae.getData();Or(W,we.src.value).each(Ge=>{ae.setData({src:{value:Ge,meta:we.src.meta}})})},Ra=(W,ae,we)=>{W.hasDescription&&k(we.alt)&&(ae.alt=we.alt),W.hasAccessibilityOptions&&(ae.isDecorative=we.isDecorative||ae.isDecorative||!1),W.hasImageTitle&&k(we.title)&&(ae.title=we.title),W.hasDimensions&&(k(we.width)&&(ae.dimensions.width=we.width),k(we.height)&&(ae.dimensions.height=we.height)),k(we.class)&&Es.findEntry(W.classList,we.class).each(Ge=>{ae.classes=Ge.value}),W.hasImageCaption&&q(we.caption)&&(ae.caption=we.caption),W.hasAdvTab&&(k(we.style)&&(ae.style=we.style),k(we.vspace)&&(ae.vspace=we.vspace),k(we.border)&&(ae.border=we.border),k(we.hspace)&&(ae.hspace=we.hspace),k(we.borderstyle)&&(ae.borderstyle=we.borderstyle))},na=(W,ae)=>{const we=ae.getData(),Ge=we.src.meta;if(Ge!==void 0){const gt=wa({},we);Ra(W,gt,Ge),ae.setData(gt)}},df=(W,ae,we,Ge)=>{const gt=Ge.getData(),oo=gt.src.value,ds=gt.src.meta||{};!ds.width&&!ds.height&&ae.hasDimensions&&(as(oo)?W.imageSize(oo).then(ts=>{we.open&&Ge.setData({dimensions:ts})}).catch(ts=>console.error(ts)):Ge.setData({dimensions:{width:"",height:""}}))},Bl=(W,ae,we)=>{const Ge=we.getData(),gt=Es.findEntry(W.imageList,Ge.src.value);ae.prevImage=gt,we.setData({images:gt.map(oo=>oo.value).getOr("")})},tu=(W,ae,we,Ge)=>{xa(ae,Ge),na(ae,Ge),df(W,ae,we,Ge),Bl(ae,we,Ge)},ui=(W,ae,we,Ge)=>{const gt=Ge.getData(),oo=Es.findEntry(ae.imageList,gt.images);oo.each(ds=>{gt.alt===""||we.prevImage.map(Tt=>Tt.text===gt.alt).getOr(!1)?ds.value===""?Ge.setData({src:ds,alt:we.prevAlt}):Ge.setData({src:ds,alt:ds.text}):Ge.setData({src:ds})}),we.prevImage=oo,tu(W,ae,we,Ge)},pi=(W,ae,we,Ge)=>{const gt=Ge.getData();Ge.block("Uploading image"),P(gt.fileinput).fold(()=>{Ge.unblock()},oo=>{const ds=URL.createObjectURL(oo),ts=()=>{Ge.unblock(),URL.revokeObjectURL(ds)},Tt=vs=>{Ge.setData({src:{value:vs,meta:{}}}),Ge.showTab("general"),tu(W,ae,we,Ge),Ge.focus("src")};qt(oo).then(vs=>{const Yr=W.createBlobCache(oo,ds,vs);ae.automaticUploads?W.uploadImage(Yr).then(Hl=>{Tt(Hl.url),ts()}).catch(Hl=>{ts(),W.alertErr(Hl)}):(W.addToBlobCache(Yr),Tt(Yr.blobUri()),Ge.unblock())})})},Iu=(W,ae,we)=>(Ge,gt)=>{gt.name==="src"?tu(W,ae,we,Ge):gt.name==="images"?ui(W,ae,we,Ge):gt.name==="alt"?we.prevAlt=Ge.getData().alt:gt.name==="fileinput"?pi(W,ae,we,Ge):gt.name==="isDecorative"&&Ge.setEnabled("alt",!Ge.getData().isDecorative)},Sd=W=>()=>{W.open=!1},fl=W=>W.hasAdvTab||W.hasUploadUrl||W.hasUploadHandler?{type:"tabpanel",tabs:Me([[_i.makeTab(W)],W.hasAdvTab?[yc.makeTab(W)]:[],W.hasUploadTab&&(W.hasUploadUrl||W.hasUploadHandler)?[Rl.makeTab(W)]:[]])}:{type:"panel",items:_i.makeItems(W)},ff=(W,ae,we)=>Ge=>{const gt=wa(wc(ae.image),Ge.getData()),oo={...gt,style:Wa(we.normalizeCss,eu(gt,!1))};W.execCommand("mceUpdateImage",!1,eu(oo,ae.hasAccessibilityOptions)),W.editorUpload.uploadImagesAuto(),Ge.close()},Hr=W=>ae=>kn(W,ae)?Le(W.documentBaseURI.toAbsolute(ae)).then(we=>({width:String(we.width),height:String(we.height)})):Promise.resolve({width:"",height:""}),ml=W=>(ae,we,Ge)=>{var gt;return W.editorUpload.blobCache.create({blob:ae,blobUri:we,name:(gt=ae.name)===null||gt===void 0?void 0:gt.replace(/\.[^\.]+$/,""),filename:ae.name,base64:Ge.split(",")[1]})},xd=W=>ae=>{W.editorUpload.blobCache.add(ae)},$l=W=>ae=>{W.windowManager.alert(ae)},mf=W=>ae=>cn(W,ae),Ru=W=>ae=>W.dom.parseStyle(ae),gi=W=>(ae,we)=>W.dom.serializeStyle(ae,we),oa=W=>ae=>kr(W).upload([ae],!1).then(we=>{var Ge;return we.length===0?Promise.reject("Failed to upload image"):we[0].status===!1?Promise.reject((Ge=we[0].error)===null||Ge===void 0?void 0:Ge.message):we[0]}),Hi=W=>{const ae={imageSize:Hr(W),addToBlobCache:xd(W),createBlobCache:ml(W),alertErr:$l(W),normalizeCss:mf(W),parseStyle:Ru(W),serializeStyle:gi(W),uploadImage:oa(W)};return{open:()=>{js(W).then(Ge=>{const gt=Fr(Ge);return{title:"Insert/Edit Image",size:"normal",body:fl(Ge),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:wc(Ge.image),onSubmit:ff(W,Ge,ae),onChange:Iu(ae,Ge,gt),onClose:Sd(gt)}}).then(W.windowManager.open)}}},Ca=W=>{W.addCommand("mceImage",Hi(W).open),W.addCommand("mceUpdateImage",(ae,we)=>{W.undoManager.transact(()=>ul(W,we))})},sa=W=>{const ae=W.attr("class");return ee(ae)&&/\bimage\b/.test(ae)},vn=W=>ae=>{let we=ae.length;const Ge=gt=>{gt.attr("contenteditable",W?"true":null)};for(;we--;){const gt=ae[we];sa(gt)&&(gt.attr("contenteditable",W?"false":null),Qo.each(gt.getAll("figcaption"),Ge))}},nu=W=>{W.on("PreInit",()=>{W.parser.addNodeFilter("figure",vn(!0)),W.serializer.addNodeFilter("figure",vn(!1))})},Mn=W=>ae=>{const we=()=>{ae.setEnabled(W.selection.isEditable())};return W.on("NodeChange",we),we(),()=>{W.off("NodeChange",we)}},vr=W=>{W.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Hi(W).open,onSetup:ae=>{ae.setActive(ee(En(W)));const we=W.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",ae.setActive).unbind,Ge=Mn(W)(ae);return()=>{we(),Ge()}}}),W.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Hi(W).open,onSetup:Mn(W)}),W.ui.registry.addContextMenu("image",{update:ae=>W.selection.isEditable()&&(Il(ae)||Xo(ae)&&!Vn(ae))?["image"]:[]})};var Fl=()=>{l.add("image",W=>{Cs(W),nu(W),vr(W),Ca(W)})};Fl()})();(function(){const l=J=>{let F=J;return{get:()=>F,set:ze=>{F=ze}}};var r=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=tinymce.util.Tools.resolve("tinymce.Env");const m=J=>J.dispatch("ResizeEditor"),v=J=>F=>F.options.get(J),y=J=>{const F=J.options.register;F("autoresize_overflow_padding",{processor:"number",default:1}),F("autoresize_bottom_margin",{processor:"number",default:50})},S=v("min_height"),T=v("max_height"),k=v("autoresize_overflow_padding"),N=v("autoresize_bottom_margin"),D=J=>J.plugins.fullscreen&&J.plugins.fullscreen.isFullscreen(),L=(J,F)=>{const ce=J.getBody();ce&&(ce.style.overflowY=F?"":"hidden",F||(ce.scrollTop=0))},R=(J,F,ce,Re)=>{var ze;const ie=parseInt((ze=J.getStyle(F,ce,Re))!==null&&ze!==void 0?ze:"",10);return isNaN(ie)?0:ie},q=J=>{if((J==null?void 0:J.type.toLowerCase())==="setcontent"){const F=J;return F.selection===!0||F.paste===!0}else return!1},G=(J,F,ce,Re)=>{var ze;const ie=J.dom,He=J.getDoc();if(!He)return;if(D(J)){L(J,!0);return}const Ze=He.documentElement,Fe=Re?Re():k(J),he=(ze=S(J))!==null&&ze!==void 0?ze:J.getElement().offsetHeight;let xe=he;const Be=R(ie,Ze,"margin-top",!0),Me=R(ie,Ze,"margin-bottom",!0);let Oe=Ze.offsetHeight+Be+Me+Fe;Oe<0&&(Oe=0);const P=J.getContainer().offsetHeight,et=J.getContentAreaContainer().offsetHeight,_e=P-et;Oe+_e>he&&(xe=Oe+_e);const $t=T(J);$t&&xe>$t?(xe=$t,L(J,!0)):L(J,!1);const dt=F.get();if(dt.set&&(J.dom.setStyles(J.getDoc().documentElement,{"min-height":0}),J.dom.setStyles(J.getBody(),{"min-height":"inherit"})),xe!==dt.totalHeight&&(Oe-Fe!==dt.contentHeight||!dt.set)){const Ve=xe-dt.totalHeight;if(ie.setStyle(J.getContainer(),"height",xe+"px"),F.set({totalHeight:xe,contentHeight:Oe,set:!0}),m(J),d.browser.isSafari()&&(d.os.isMacOS()||d.os.isiOS())){const Ot=J.getWin();Ot.scrollTo(Ot.pageXOffset,Ot.pageYOffset)}J.hasFocus()&&q(ce)&&J.selection.scrollIntoView(),(d.browser.isSafari()||d.browser.isChromium())&&Ve<0&&G(J,F,ce,Re)}},ee=(J,F)=>{const ce=()=>N(J);J.on("init",Re=>{const ze=k(J),ie=J.dom;ie.setStyles(J.getDoc().documentElement,{height:"auto"}),d.browser.isEdge()||d.browser.isIE()?ie.setStyles(J.getBody(),{paddingLeft:ze,paddingRight:ze,"min-height":0}):ie.setStyles(J.getBody(),{paddingLeft:ze,paddingRight:ze}),G(J,F,Re,ce)}),J.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",Re=>{G(J,F,Re,ce)})},X=(J,F)=>{J.addCommand("mceAutoResize",()=>{G(J,F)})};var re=()=>{r.add("autoresize",J=>{if(y(J),J.options.isSet("resize")||J.options.set("resize",!1),!J.inline){const F=l({totalHeight:0,contentHeight:0,set:!1});X(J,F),ee(J,F)}})};re()})();(function(){var l=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(A,B,K)=>{var pe;return K(A,B.prototype)?!0:((pe=A.constructor)===null||pe===void 0?void 0:pe.name)===B.name},d=A=>{const B=typeof A;return A===null?"null":B==="object"&&Array.isArray(A)?"array":B==="object"&&r(A,String,(K,pe)=>pe.isPrototypeOf(K))?"string":B},m=A=>B=>d(B)===A,v=A=>B=>typeof B===A,y=m("string"),S=m("object"),T=m("array"),k=v("boolean"),N=A=>A==null,D=A=>!N(A),L=v("function"),R=v("number"),q=()=>{},G=(A,B)=>K=>A(B(K)),ee=A=>()=>A,X=(A,B)=>A===B;function re(A,...B){return(...K)=>{const pe=B.concat(K);return A.apply(null,pe)}}const J=A=>B=>!A(B),F=ee(!1);class ce{constructor(B,K){this.tag=B,this.value=K}static some(B){return new ce(!0,B)}static none(){return ce.singletonNone}fold(B,K){return this.tag?K(this.value):B()}isSome(){return this.tag}isNone(){return!this.tag}map(B){return this.tag?ce.some(B(this.value)):ce.none()}bind(B){return this.tag?B(this.value):ce.none()}exists(B){return this.tag&&B(this.value)}forall(B){return!this.tag||B(this.value)}filter(B){return!this.tag||B(this.value)?this:ce.none()}getOr(B){return this.tag?this.value:B}or(B){return this.tag?this:B}getOrThunk(B){return this.tag?this.value:B()}orThunk(B){return this.tag?this:B()}getOrDie(B){if(this.tag)return this.value;throw new Error(B??"Called getOrDie on None")}static from(B){return D(B)?ce.some(B):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(B){this.tag&&B(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ce.singletonNone=new ce(!1);const Re=Array.prototype.slice,ze=Array.prototype.indexOf,ie=Array.prototype.push,He=(A,B)=>ze.call(A,B),Ze=(A,B)=>He(A,B)>-1,Fe=(A,B)=>{for(let K=0,pe=A.length;K<pe;K++){const Ee=A[K];if(B(Ee,K))return!0}return!1},he=(A,B)=>{const K=A.length,pe=new Array(K);for(let Ee=0;Ee<K;Ee++){const St=A[Ee];pe[Ee]=B(St,Ee)}return pe},xe=(A,B)=>{for(let K=0,pe=A.length;K<pe;K++){const Ee=A[K];B(Ee,K)}},Be=(A,B)=>{const K=[];for(let pe=0,Ee=A.length;pe<Ee;pe++){const St=A[pe];B(St,pe)&&K.push(St)}return K},Me=(A,B)=>{if(A.length===0)return[];{let K=B(A[0]);const pe=[];let Ee=[];for(let St=0,xn=A.length;St<xn;St++){const Wn=A[St],Bn=B(Wn);Bn!==K&&(pe.push(Ee),Ee=[]),K=Bn,Ee.push(Wn)}return Ee.length!==0&&pe.push(Ee),pe}},Oe=(A,B,K)=>(xe(A,(pe,Ee)=>{K=B(K,pe,Ee)}),K),P=(A,B,K)=>{for(let pe=0,Ee=A.length;pe<Ee;pe++){const St=A[pe];if(B(St,pe))return ce.some(St);if(K(St,pe))break}return ce.none()},et=(A,B)=>P(A,B,F),_e=A=>{const B=[];for(let K=0,pe=A.length;K<pe;++K){if(!T(A[K]))throw new Error("Arr.flatten item "+K+" was not an array, input: "+A);ie.apply(B,A[K])}return B},$t=(A,B)=>_e(he(A,B)),dt=A=>{const B=Re.call(A,0);return B.reverse(),B},Ve=(A,B)=>B>=0&&B<A.length?ce.some(A[B]):ce.none(),Ot=A=>Ve(A,0),jt=A=>Ve(A,A.length-1),Hn=(A,B)=>{const K=[],pe=L(B)?Ee=>Fe(K,St=>B(St,Ee)):Ee=>Ze(K,Ee);for(let Ee=0,St=A.length;Ee<St;Ee++){const xn=A[Ee];pe(xn)||K.push(xn)}return K},rn=(A,B,K=X)=>A.exists(pe=>K(pe,B)),Ue=(A,B,K=X)=>wt(A,B,K).getOr(A.isNone()&&B.isNone()),wt=(A,B,K)=>A.isSome()&&B.isSome()?ce.some(K(A.getOrDie(),B.getOrDie())):ce.none(),U=8,as=11,Dn=1,Cs=3,Vo=(A,B)=>{const pe=(B||document).createElement("div");if(pe.innerHTML=A,!pe.hasChildNodes()||pe.childNodes.length>1){const Ee="HTML does not have a single root node";throw console.error(Ee,A),new Error(Ee)}return zn(pe.childNodes[0])},Zo=(A,B)=>{const pe=(B||document).createElement(A);return zn(pe)},It=(A,B)=>{const pe=(B||document).createTextNode(A);return zn(pe)},zn=A=>{if(A==null)throw new Error("Node cannot be null or undefined");return{dom:A}},$e={fromHtml:Vo,fromTag:Zo,fromText:It,fromDom:zn,fromPoint:(A,B,K)=>ce.from(A.dom.elementFromPoint(B,K)).map(zn)},Tr=(A,B)=>{const K=A.dom;if(K.nodeType!==Dn)return!1;{const pe=K;if(pe.matches!==void 0)return pe.matches(B);if(pe.msMatchesSelector!==void 0)return pe.msMatchesSelector(B);if(pe.webkitMatchesSelector!==void 0)return pe.webkitMatchesSelector(B);if(pe.mozMatchesSelector!==void 0)return pe.mozMatchesSelector(B);throw new Error("Browser lacks native selectors")}},ar=(A,B)=>A.dom===B.dom,hn=(A,B)=>{const K=A.dom,pe=B.dom;return K===pe?!1:K.contains(pe)},Gr=Tr,Gs=typeof window<"u"?window:Function("return this;")(),V=(A,B)=>{let K=B??Gs;for(let pe=0;pe<A.length&&K!==void 0&&K!==null;++pe)K=K[A[pe]];return K},oe=(A,B)=>{const K=A.split(".");return V(K,B)},Ce=(A,B)=>oe(A,B),Le=(A,B)=>{const K=Ce(A,B);if(K==null)throw new Error(A+" not available on this browser");return K},qe=Object.getPrototypeOf,bt=A=>Le("HTMLElement",A),ht=A=>{const B=oe("ownerDocument.defaultView",A);return S(A)&&(bt(B).prototype.isPrototypeOf(A)||/^HTML\w*Element$/.test(qe(A).constructor.name))},Et=A=>A.dom.nodeName.toLowerCase(),tn=A=>A.dom.nodeType,qt=A=>B=>tn(B)===A,Vn=A=>tn(A)===U||Et(A)==="#comment",kn=A=>Un(A)&&ht(A.dom),Un=qt(Dn),Kn=qt(Cs),So=qt(as),ls=A=>B=>Un(B)&&Et(B)===A,Lo=A=>ce.from(A.dom.parentNode).map($e.fromDom),Js=A=>ce.from(A.dom.parentElement).map($e.fromDom),_t=A=>ce.from(A.dom.nextSibling).map($e.fromDom),Gn=A=>he(A.dom.childNodes,$e.fromDom),Ws=(A,B)=>{const K=A.dom.childNodes;return ce.from(K[B]).map($e.fromDom)},Xs=A=>Ws(A,0),Fi=A=>Ws(A,A.dom.childNodes.length-1),ii=A=>So(A)&&D(A.dom.host),Ys=A=>$e.fromDom(A.dom.getRootNode()),lr=A=>{const B=Ys(A);return ii(B)?ce.some(B):ce.none()},cl=A=>$e.fromDom(A.dom.host),Fo=A=>{const B=Kn(A)?A.dom.parentNode:A.dom;if(B==null||B.ownerDocument===null)return!1;const K=B.ownerDocument;return lr($e.fromDom(B)).fold(()=>K.body.contains(B),G(Fo,cl))};var wn=(A,B,K,pe,Ee)=>A(K,pe)?ce.some(K):L(Ee)&&Ee(K)?ce.none():B(K,pe,Ee);const ai=(A,B,K)=>{let pe=A.dom;const Ee=L(K)?K:F;for(;pe.parentNode;){pe=pe.parentNode;const St=$e.fromDom(pe);if(B(St))return ce.some(St);if(Ee(St))break}return ce.none()},Il=(A,B,K)=>wn((Ee,St)=>St(Ee),ai,A,B,K),Xo=(A,B,K)=>ai(A,pe=>Tr(pe,B),K),zs=(A,B,K)=>wn((Ee,St)=>Tr(Ee,St),Xo,A,B,K),li=A=>zs(A,"[contenteditable]"),Qs=(A,B=!1)=>Fo(A)?A.dom.isContentEditable:li(A).fold(ee(B),K=>Wa(K)==="true"),Wa=A=>A.dom.contentEditable,ya=(A,B)=>{Lo(A).each(pe=>{pe.dom.insertBefore(B.dom,A.dom)})},ja=(A,B)=>{_t(A).fold(()=>{Lo(A).each(Ee=>{ve(Ee,B)})},pe=>{ya(pe,B)})},_r=(A,B)=>{Xs(A).fold(()=>{ve(A,B)},pe=>{A.dom.insertBefore(B.dom,pe.dom)})},ve=(A,B)=>{A.dom.appendChild(B.dom)},be=(A,B)=>{xe(B,K=>{ya(A,K)})},We=(A,B)=>{xe(B,K=>{ve(A,K)})},Qe=A=>{A.dom.textContent="",xe(Gn(A),B=>{cn(B)})},cn=A=>{const B=A.dom;B.parentNode!==null&&B.parentNode.removeChild(B)};var En=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),qn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),gs=tinymce.util.Tools.resolve("tinymce.util.VK");const pt=A=>he(A,$e.fromDom),po=Object.keys,As=(A,B)=>{const K=po(A);for(let pe=0,Ee=K.length;pe<Ee;pe++){const St=K[pe],xn=A[St];B(xn,St)}},cr=A=>(B,K)=>{A[K]=B},ci=(A,B,K,pe)=>{As(A,(Ee,St)=>{(B(Ee,St)?K:pe)(Ee,St)})},ul=(A,B)=>{const K={};return ci(A,B,cr(K),q),K},bc=(A,B,K)=>{if(y(K)||k(K)||R(K))A.setAttribute(B,K+"");else throw console.error("Invalid call to Attribute.set. Key ",B,":: Value ",K,":: Element ",A),new Error("Attribute value was not simple")},Ti=(A,B)=>{const K=A.dom;As(B,(pe,Ee)=>{bc(K,Ee,pe)})},wa=A=>Oe(A.dom.attributes,(B,K)=>(B[K.name]=K.value,B),{}),kr=(A,B)=>$e.fromDom(A.dom.cloneNode(B)),Qo=A=>kr(A,!0),es=(A,B)=>{const K=$e.fromTag(B),pe=wa(A);return Ti(K,pe),K},Sa=(A,B)=>{const K=es(A,B);ja(A,K);const pe=Gn(A);return We(K,pe),cn(A),K};var Xr=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$r=tinymce.util.Tools.resolve("tinymce.util.Tools");const Qc=A=>B=>D(B)&&B.nodeName.toLowerCase()===A,hi=A=>B=>D(B)&&A.test(B.nodeName),To=A=>D(A)&&A.nodeType===3,Ar=A=>D(A)&&A.nodeType===1,Es=hi(/^(OL|UL|DL)$/),Lu=hi(/^(OL|UL)$/),yc=Qc("ol"),js=hi(/^(LI|DT|DD)$/),dl=hi(/^(DT|DD)$/),uf=hi(/^(TH|TD)$/),_i=Qc("br"),Uo=A=>{var B;return((B=A.parentNode)===null||B===void 0?void 0:B.firstChild)===A},Rl=(A,B)=>D(B)&&B.nodeName in A.schema.getTextBlockElements(),Fr=(A,B)=>D(A)&&A.nodeName in B,wc=(A,B)=>D(B)&&B.nodeName in A.schema.getVoidElements(),eu=(A,B)=>_i(B)?A.isBlock(B.nextSibling)&&!_i(B.previousSibling):!1,Or=(A,B,K)=>{const pe=A.isEmpty(B);return K&&A.select("span[data-mce-type=bookmark]",B).length>0?!1:pe},xa=(A,B)=>A.isChildOf(B,A.getRoot()),Ra=A=>B=>B.options.get(A),na=A=>{const B=A.options.register;B("lists_indent_on_tab",{processor:"boolean",default:!0})},df=Ra("lists_indent_on_tab"),Bl=Ra("forced_root_block"),tu=Ra("forced_root_block_attrs"),ui=(A,B,K={})=>{const pe=A.dom,Ee=A.schema.getBlockElements(),St=pe.createFragment(),xn=Bl(A),Wn=tu(A);let Bn,pn,Ko=!1;for(pn=pe.create(xn,{...Wn,...K.style?{style:K.style}:{}}),Fr(B.firstChild,Ee)||St.appendChild(pn);Bn=B.firstChild;){const Jr=Bn.nodeName;!Ko&&(Jr!=="SPAN"||Bn.getAttribute("data-mce-type")!=="bookmark")&&(Ko=!0),Fr(Bn,Ee)?(St.appendChild(Bn),pn=null):(pn||(pn=pe.create(xn,Wn),St.appendChild(pn)),pn.appendChild(Bn))}return!Ko&&pn&&pn.appendChild(pe.create("br",{"data-mce-bogus":"1"})),St},pi=Xr.DOM,Iu=(A,B,K)=>{const pe=pn=>{const Ko=pn.parentNode;Ko&&$r.each(Ee,Jr=>{Ko.insertBefore(Jr,K.parentNode)}),pi.remove(pn)},Ee=pi.select('span[data-mce-type="bookmark"]',B),St=ui(A,K),xn=pi.createRng();xn.setStartAfter(K),xn.setEndAfter(B);const Wn=xn.extractContents();for(let pn=Wn.firstChild;pn;pn=pn.firstChild)if(pn.nodeName==="LI"&&A.dom.isEmpty(pn)){pi.remove(pn);break}A.dom.isEmpty(Wn)||pi.insertAfter(Wn,B),pi.insertAfter(St,B);const Bn=K.parentElement;Bn&&Or(A.dom,Bn)&&pe(Bn),pi.remove(K),Or(A.dom,B)&&pi.remove(B)},Sd=ls("dd"),fl=ls("dt"),ff=(A,B)=>{Sd(B)?Sa(B,"dt"):fl(B)&&Js(B).each(K=>Iu(A,K.dom,B.dom))},Hr=A=>{fl(A)&&Sa(A,"dd")},ml=(A,B,K)=>{B==="Indent"?xe(K,Hr):xe(K,pe=>ff(A,pe))},xd=(A,B)=>{if(To(A))return{container:A,offset:B};const K=En.getNode(A,B);return To(K)?{container:K,offset:B>=A.childNodes.length?K.data.length:0}:K.previousSibling&&To(K.previousSibling)?{container:K.previousSibling,offset:K.previousSibling.data.length}:K.nextSibling&&To(K.nextSibling)?{container:K.nextSibling,offset:0}:{container:A,offset:B}},$l=A=>{const B=A.cloneRange(),K=xd(A.startContainer,A.startOffset);B.setStart(K.container,K.offset);const pe=xd(A.endContainer,A.endOffset);return B.setEnd(pe.container,pe.offset),B},mf=["OL","UL","DL"],Ru=mf.join(","),gi=(A,B)=>{const K=B||A.selection.getStart(!0);return A.dom.getParent(K,Ru,Fl(A,K))},oa=(A,B)=>D(A)&&B.length===1&&B[0]===A,Hi=A=>Be(A.querySelectorAll(Ru),Es),Ca=A=>{const B=gi(A),K=A.selection.getSelectedBlocks();return oa(B,K)?Hi(B):Be(K,pe=>Es(pe)&&B!==pe)},sa=(A,B)=>{const K=$r.map(B,pe=>{const Ee=A.dom.getParent(pe,"li,dd,dt",Fl(A,pe));return Ee||pe});return Hn(K)},vn=A=>{const B=A.selection.getSelectedBlocks();return Be(sa(A,B),js)},nu=A=>Be(vn(A),dl),Mn=(A,B)=>{const K=A.dom.getParents(B,"TD,TH");return K.length>0?K[0]:A.getBody()},vr=(A,B)=>!Es(B)&&!js(B)&&Fe(mf,K=>A.isValidChild(B.nodeName,K)),Fl=(A,B)=>{const K=A.dom.getParents(B,A.dom.isBlock),pe=St=>St.nodeName.toLowerCase()!==Bl(A);return et(K,St=>pe(St)&&vr(A.schema,St)).getOr(A.getBody())},W=A=>Lo(A).exists(B=>js(B.dom)&&Xs(B).exists(K=>!Es(K.dom))&&Fi(B).exists(K=>!Es(K.dom))),ae=(A,B)=>{const K=A.dom.getParents(B,"ol,ul",Fl(A,B));return jt(K)},we=A=>{const B=ae(A,A.selection.getStart()),K=Be(A.selection.getSelectedBlocks(),Lu);return B.toArray().concat(K)},Ge=A=>{const B=A.selection.getStart();return A.dom.getParents(B,"ol,ul",Fl(A,B))},gt=A=>{const B=we(A),K=Ge(A);return et(K,pe=>W($e.fromDom(pe))).fold(()=>oo(A,B),pe=>[pe])},oo=(A,B)=>{const K=he(B,pe=>ae(A,pe).getOr(pe));return Hn(K)},ds=A=>/\btox\-/.test(A.className),ts=(A,B)=>P(A,Es,uf).exists(K=>K.nodeName===B&&!ds(K)),Tt=(A,B)=>B!==null&&!A.dom.isEditable(B),vs=A=>{const B=gi(A);return Tt(A,B)},Yr=(A,B)=>{const K=A.dom.getParent(B,"ol,ul,dl");return Tt(A,K)},Hl=(A,B)=>{const K=A.selection.getNode();return B({parents:A.dom.getParents(K),element:K}),A.on("NodeChange",B),()=>A.off("NodeChange",B)},Zn=(A,B)=>{const pe=document.createDocumentFragment();return xe(A,Ee=>{pe.appendChild(Ee.dom)}),$e.fromDom(pe)},zi=(A,B,K)=>A.dispatch("ListMutation",{action:B,element:K}),hf=(A=>B=>B.replace(A,""))(/^\s+|\s+$/g),fs=A=>A.length>0,Za=A=>!fs(A),fm=A=>A.style!==void 0&&L(A.style.getPropertyValue),su=(A,B,K)=>{if(!y(K))throw console.error("Invalid call to CSS.set. Property ",B,":: Value ",K,":: Element ",A),new Error("CSS value must be a string: "+K);fm(A)&&A.style.setProperty(B,K)},Os=(A,B,K)=>{const pe=A.dom;su(pe,B,K)},pf=A=>Gr(A,"OL,UL"),gf=A=>Gr(A,"LI"),Vi=A=>Xs(A).exists(pf),vf=A=>Fi(A).exists(pf),hl=A=>"listAttributes"in A,Cd=A=>"isComment"in A,ki=A=>"isFragment"in A,ho=A=>A.depth>0,ig=A=>A.isSelected,Ui=A=>{const B=Gn(A),K=vf(A)?B.slice(0,-1):B;return he(K,Qo)},Bu=(A,B,K)=>Lo(A).filter(Un).map(pe=>({depth:B,dirty:!1,isSelected:K,content:Ui(A),itemAttributes:wa(A),listAttributes:wa(pe),listType:Et(pe),isInPreviousLi:!1})),bf=(A,B)=>{ve(A.item,B.list)},Ai=A=>{for(let B=1;B<A.length;B++)bf(A[B-1],A[B])},Wi=(A,B)=>{wt(jt(A),Ot(B),bf)},ag=(A,B)=>{const K={list:$e.fromTag(B,A),item:$e.fromTag("li",A)};return ve(K.list,K.item),K},Ah=(A,B,K)=>{const pe=[];for(let Ee=0;Ee<K;Ee++)pe.push(ag(A,hl(B)?B.listType:B.parentListType));return pe},ru=(A,B)=>{for(let K=0;K<A.length-1;K++)Os(A[K].item,"list-style-type","none");jt(A).each(K=>{hl(B)&&(Ti(K.list,B.listAttributes),Ti(K.item,B.itemAttributes)),We(K.item,B.content)})},lg=(A,B)=>{Et(A.list)!==B.listType&&(A.list=Sa(A.list,B.listType)),Ti(A.list,B.listAttributes)},zr=(A,B,K)=>{const pe=$e.fromTag("li",A);return Ti(pe,B),We(pe,K),pe},Sc=(A,B)=>{ve(A.list,B),A.item=B},ra=(A,B,K)=>{const pe=B.slice(0,K.depth);return jt(pe).each(Ee=>{if(hl(K)){const St=zr(A,K.itemAttributes,K.content);Sc(Ee,St),lg(Ee,K)}else if(ki(K))We(Ee.item,K.content);else{const St=$e.fromHtml(`<!--${K.content}-->`);ve(Ee.list,St)}}),pe},Vr=(A,B,K)=>{const pe=Ah(A,K,K.depth-B.length);return Ai(pe),ru(pe,K),Wi(B,pe),B.concat(pe)},Ea=(A,B)=>{let K=ce.none();const pe=Oe(B,(Ee,St,xn)=>Cd(St)?xn===0?(K=ce.some(St),Ee):ra(A,Ee,St):St.depth>Ee.length?Vr(A,Ee,St):ra(A,Ee,St),[]);return K.each(Ee=>{const St=$e.fromHtml(`<!--${Ee.content}-->`);Ot(pe).each(xn=>{_r(xn.list,St)})}),Ot(pe).map(Ee=>Ee.list)},Ur=(A,B)=>{switch(A){case"Indent":B.depth++;break;case"Outdent":B.depth--;break;case"Flatten":B.depth=0}B.dirty=!0},cg=(A,B)=>{hl(A)&&hl(B)&&(A.listType=B.listType,A.listAttributes={...B.listAttributes})},Oh=A=>{A.listAttributes=ul(A.listAttributes,(B,K)=>K!=="start")},mm=(A,B)=>{const K=A[B].depth,pe=St=>St.depth===K&&!St.dirty,Ee=St=>St.depth<K;return P(dt(A.slice(0,B)),pe,Ee).orThunk(()=>P(A.slice(B+1),pe,Ee))},hm=A=>(xe(A,(B,K)=>{mm(A,K).fold(()=>{B.dirty&&hl(B)&&Oh(B)},pe=>cg(B,pe))}),A),yf=A=>{let B=A;return{get:()=>B,set:Ee=>{B=Ee}}},$u=(A,B,K,pe)=>{var Ee;if(Vn(pe))return[{depth:A+1,content:(Ee=pe.dom.nodeValue)!==null&&Ee!==void 0?Ee:"",dirty:!1,isSelected:!1,isComment:!0}];B.each(Wn=>{ar(Wn.start,pe)&&K.set(!0)});const St=Bu(pe,A,K.get());B.each(Wn=>{ar(Wn.end,pe)&&K.set(!1)});const xn=Fi(pe).filter(pf).map(Wn=>Fu(A,B,K,Wn)).getOr([]);return St.toArray().concat(xn)},Dh=(A,B,K,pe)=>Xs(pe).filter(pf).fold(()=>$u(A,B,K,pe),Ee=>{const St=Oe(Gn(pe),(xn,Wn,Bn)=>{if(Bn===0)return xn;if(gf(Wn))return xn.concat($u(A,B,K,Wn));{const pn={isFragment:!0,depth:A,content:[Wn],isSelected:!1,dirty:!1,parentListType:Et(Ee)};return xn.concat(pn)}},[]);return Fu(A,B,K,Ee).concat(St)}),Fu=(A,B,K,pe)=>$t(Gn(pe),Ee=>{const St=pf(Ee)?Fu:Dh,xn=A+1;return St(xn,B,K,Ee)}),ug=(A,B)=>{const K=yf(!1),pe=0;return he(A,Ee=>({sourceList:Ee,entries:Fu(pe,B,K,Ee)}))},dg=(A,B)=>{const K=hm(B);return he(K,pe=>{const Ee=Cd(pe)?Zn([$e.fromHtml(`<!--${pe.content}-->`)]):Zn(pe.content),St=hl(pe)?pe.itemAttributes:{};return $e.fromDom(ui(A,Ee.dom,St))})},iu=(A,B)=>{const K=hm(B);return Ea(A.contentDocument,K).toArray()},pm=(A,B)=>$t(Me(B,ho),K=>Ot(K).exists(ho)?iu(A,K):dg(A,K)),Hu=(A,B)=>{xe(Be(A,ig),K=>Ur(B,K))},wf=A=>{const B=he(vn(A),$e.fromDom);return wt(et(B,J(Vi)),et(dt(B),J(Vi)),(K,pe)=>({start:K,end:pe}))},Sf=(A,B,K)=>{const pe=ug(B,wf(A));xe(pe,Ee=>{Hu(Ee.entries,K);const St=pm(A,Ee.entries);xe(St,xn=>{zi(A,K==="Indent"?"IndentList":"OutdentList",xn.dom)}),be(Ee.sourceList,St),cn(Ee.sourceList)})},gm=(A,B)=>{const K=pt(gt(A)),pe=pt(nu(A));let Ee=!1;if(K.length||pe.length){const St=A.selection.getBookmark();Sf(A,K,B),ml(A,B,pe),A.selection.moveToBookmark(St),A.selection.setRng($l(A.selection.getRng())),A.nodeChanged(),Ee=!0}return Ee},ia=(A,B)=>!vs(A)&&gm(A,B),Mh=A=>ia(A,"Indent"),au=A=>ia(A,"Outdent"),vm=A=>ia(A,"Flatten"),ye="\uFEFF",xf=A=>A===ye,zl=(A,B,K)=>ai(A,B,K).isSome(),fg=(A,B)=>zl(A,re(ar,B));var cb=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Ed=Xr.DOM,so=A=>{const B={},K=pe=>{let Ee=A[pe?"startContainer":"endContainer"],St=A[pe?"startOffset":"endOffset"];if(Ar(Ee)){const xn=Ed.create("span",{"data-mce-type":"bookmark"});Ee.hasChildNodes()?(St=Math.min(St,Ee.childNodes.length-1),pe?Ee.insertBefore(xn,Ee.childNodes[St]):Ed.insertAfter(xn,Ee.childNodes[St])):Ee.appendChild(xn),Ee=xn,St=0}B[pe?"startContainer":"endContainer"]=Ee,B[pe?"startOffset":"endOffset"]=St};return K(!0),A.collapsed||K(),B},Oi=A=>{const B=pe=>{const Ee=Wn=>{var Bn;let pn=(Bn=Wn.parentNode)===null||Bn===void 0?void 0:Bn.firstChild,Ko=0;for(;pn;){if(pn===Wn)return Ko;(!Ar(pn)||pn.getAttribute("data-mce-type")!=="bookmark")&&Ko++,pn=pn.nextSibling}return-1};let St=A[pe?"startContainer":"endContainer"],xn=A[pe?"startOffset":"endOffset"];if(St){if(Ar(St)&&St.parentNode){const Wn=St;xn=Ee(St),St=St.parentNode,Ed.remove(Wn),!St.hasChildNodes()&&Ed.isBlock(St)&&St.appendChild(Ed.create("br"))}A[pe?"startContainer":"endContainer"]=St,A[pe?"startOffset":"endOffset"]=xn}};B(!0),B();const K=Ed.createRng();return K.setStart(A.startContainer,A.startOffset),A.endContainer&&K.setEnd(A.endContainer,A.endOffset),$l(K)},xc=A=>{switch(A){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Vl=(A,B,K)=>{const pe=K["list-style-type"]?K["list-style-type"]:null;A.setStyle(B,"list-style-type",pe)},Ph=(A,B)=>{$r.each(B,(K,pe)=>{A.setAttribute(pe,K)})},Cf=(A,B,K)=>{Ph(B,K["list-attributes"]),$r.each(A.select("li",B),pe=>{Ph(pe,K["list-item-attributes"])})},Dr=(A,B,K)=>{Vl(A,B,K),Cf(A,B,K)},qa=(A,B,K)=>{$r.each(K,pe=>A.setStyle(B,pe,""))},Ul=(A,B)=>D(B)&&!Fr(B,A.schema.getBlockElements()),Nh=(A,B,K,pe)=>{let Ee=B[K?"startContainer":"endContainer"];const St=B[K?"startOffset":"endOffset"];Ar(Ee)&&(Ee=Ee.childNodes[Math.min(St,Ee.childNodes.length-1)]||Ee),!K&&_i(Ee.nextSibling)&&(Ee=Ee.nextSibling);const xn=Bn=>{for(;!A.dom.isBlock(Bn)&&Bn.parentNode&&pe!==Bn;)Bn=Bn.parentNode;return Bn},Wn=(Bn,pn)=>{var Ko;const Jr=new qn(Bn,xn(Bn)),Ba=pn?"next":"prev";let cu;for(;cu=Jr[Ba]();)if(!(wc(A,cu)||xf(cu.textContent)||((Ko=cu.textContent)===null||Ko===void 0?void 0:Ko.length)===0))return ce.some(cu);return ce.none()};if(K&&To(Ee))if(xf(Ee.textContent))Ee=Wn(Ee,!1).getOr(Ee);else for(Ee.parentNode!==null&&Ul(A,Ee.parentNode)&&(Ee=Ee.parentNode);Ee.previousSibling!==null&&(Ul(A,Ee.previousSibling)||To(Ee.previousSibling));)Ee=Ee.previousSibling;if(!K&&To(Ee))if(xf(Ee.textContent))Ee=Wn(Ee,!0).getOr(Ee);else for(Ee.parentNode!==null&&Ul(A,Ee.parentNode)&&(Ee=Ee.parentNode);Ee.nextSibling!==null&&(Ul(A,Ee.nextSibling)||To(Ee.nextSibling));)Ee=Ee.nextSibling;for(;Ee.parentNode!==pe;){const Bn=Ee.parentNode;if(Rl(A,Ee)||/^(TD|TH)$/.test(Bn.nodeName))return Ee;Ee=Bn}return Ee},Cc=(A,B,K)=>{const pe=[],Ee=A.dom,St=Nh(A,B,!0,K),xn=Nh(A,B,!1,K);let Wn;const Bn=[];for(let pn=St;pn&&(Bn.push(pn),pn!==xn);pn=pn.nextSibling);return $r.each(Bn,pn=>{var Ko;if(Rl(A,pn)){pe.push(pn),Wn=null;return}if(Ee.isBlock(pn)||_i(pn)){_i(pn)&&Ee.remove(pn),Wn=null;return}const Jr=pn.nextSibling;if(cb.isBookmarkNode(pn)&&(Es(Jr)||Rl(A,Jr)||!Jr&&pn.parentNode===K)){Wn=null;return}Wn||(Wn=Ee.create("p"),(Ko=pn.parentNode)===null||Ko===void 0||Ko.insertBefore(Wn,pn),pe.push(Wn)),Wn.appendChild(pn)}),pe},Di=(A,B,K)=>{const pe=A.getStyle(B,"list-style-type");let Ee=K?K["list-style-type"]:"";return Ee=Ee===null?"":Ee,pe===Ee},Lh=(A,B)=>{const K=A.selection.getStart(!0),pe=Nh(A,B,!0,A.getBody());return fg($e.fromDom(pe),$e.fromDom(B.commonAncestorContainer))?B.commonAncestorContainer:K},Td=(A,B,K)=>{const pe=A.selection.getRng();let Ee="LI";const St=Fl(A,Lh(A,pe)),xn=A.dom;if(xn.getContentEditable(A.selection.getNode())==="false")return;B=B.toUpperCase(),B==="DL"&&(Ee="DT");const Wn=so(pe),Bn=Be(Cc(A,pe,St),A.dom.isEditable);$r.each(Bn,pn=>{let Ko;const Jr=pn.previousSibling,Ba=pn.parentNode;js(Ba)||(Jr&&Es(Jr)&&Jr.nodeName===B&&Di(xn,Jr,K)?(Ko=Jr,pn=xn.rename(pn,Ee),Jr.appendChild(pn)):(Ko=xn.create(B),Ba.insertBefore(Ko,pn),Ko.appendChild(pn),pn=xn.rename(pn,Ee)),qa(xn,pn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Dr(xn,Ko,K),_d(A.dom,Ko))}),A.selection.setRng(Oi(Wn))},Kr=(A,B)=>Es(A)&&A.nodeName===(B==null?void 0:B.nodeName),Ta=(A,B,K)=>{const pe=A.getStyle(B,"list-style-type",!0),Ee=A.getStyle(K,"list-style-type",!0);return pe===Ee},ji=(A,B)=>A.className===B.className,zu=(A,B,K)=>Kr(B,K)&&Ta(A,B,K)&&ji(B,K),_d=(A,B)=>{let K,pe=B.nextSibling;if(zu(A,B,pe)){const Ee=pe;for(;K=Ee.firstChild;)B.appendChild(K);A.remove(Ee)}if(pe=B.previousSibling,zu(A,B,pe)){const Ee=pe;for(;K=Ee.lastChild;)B.insertBefore(K,B.firstChild);A.remove(Ee)}},mg=(A,B,K,pe)=>{if(B.nodeName!==K){const Ee=A.dom.rename(B,K);Dr(A.dom,Ee,pe),zi(A,xc(K),Ee)}else Dr(A.dom,B,pe),zi(A,xc(K),B)},Ef=(A,B,K,pe)=>{if(B.classList.forEach((Ee,St,xn)=>{Ee.startsWith("tox-")&&(xn.remove(Ee),xn.length===0&&B.removeAttribute("class"))}),B.nodeName!==K){const Ee=A.dom.rename(B,K);Dr(A.dom,Ee,pe),zi(A,xc(K),Ee)}else Dr(A.dom,B,pe),zi(A,xc(K),B)},Wl=(A,B,K,pe,Ee)=>{const St=Es(B);if(St&&B.nodeName===pe&&!Tf(Ee)&&!ds(B))vm(A);else{Td(A,pe,Ee);const xn=so(A.selection.getRng()),Wn=St?[B,...K]:K,Bn=St&&ds(B)?Ef:mg;$r.each(Wn,pn=>{Bn(A,pn,pe,Ee)}),A.selection.setRng(Oi(xn))}},Tf=A=>"list-style-type"in A,ub=(A,B,K,pe)=>{if(B!==A.getBody())if(B)if(B.nodeName===K&&!Tf(pe)&&!ds(B))vm(A);else{const Ee=so(A.selection.getRng());ds(B)&&B.classList.forEach((xn,Wn,Bn)=>{xn.startsWith("tox-")&&(Bn.remove(xn),Bn.length===0&&B.removeAttribute("class"))}),Dr(A.dom,B,pe);const St=A.dom.rename(B,K);_d(A.dom,St),A.selection.setRng(Oi(Ee)),Td(A,K,pe),zi(A,xc(K),St)}else Td(A,K,pe),zi(A,xc(K),B)},jl=(A,B,K)=>{const pe=gi(A);if(Yr(A,pe))return;const Ee=Ca(A),St=S(K)?K:{};Ee.length>0?Wl(A,pe,Ee,B,St):ub(A,pe,B,St)},hg=Xr.DOM,pg=(A,B)=>{const K=B.parentElement;if(K&&K.nodeName==="LI"&&K.firstChild===B){const pe=K.previousSibling;pe&&pe.nodeName==="LI"?(pe.appendChild(B),Or(A,K)&&hg.remove(K)):hg.setStyle(K,"listStyleType","none")}if(Es(K)){const pe=K.previousSibling;pe&&pe.nodeName==="LI"&&pe.appendChild(B)}},bm=(A,B)=>{const K=$r.grep(A.select("ol,ul",B));$r.each(K,pe=>{pg(A,pe)})},Vu=(A,B,K,pe)=>{let Ee=B.startContainer;const St=B.startOffset;if(To(Ee)&&(K?St<Ee.data.length:St>0))return Ee;const xn=A.schema.getNonEmptyElements();Ar(Ee)&&(Ee=En.getNode(Ee,St));const Wn=new qn(Ee,pe);K&&eu(A.dom,Ee)&&Wn.next();const Bn=K?Wn.next.bind(Wn):Wn.prev2.bind(Wn);for(;Ee=Bn();)if(Ee.nodeName==="LI"&&!Ee.hasChildNodes()||xn[Ee.nodeName]||To(Ee)&&Ee.data.length>0)return Ee;return null},Ih=(A,B)=>{const K=B.childNodes;return K.length===1&&!Es(K[0])&&A.isBlock(K[0])},Vs=A=>ce.from(A).map($e.fromDom).filter(kn).exists(B=>Qs(B)&&!Ze(["details"],Et(B))),Ks=(A,B)=>{Ih(A,B)&&Vs(B.firstChild)&&A.remove(B.firstChild,!0)},lu=(A,B,K)=>{let pe;const Ee=Ih(A,K)?K.firstChild:K;if(Ks(A,B),!Or(A,B,!0))for(;pe=B.firstChild;)Ee.appendChild(pe)},_f=(A,B,K)=>{let pe;const Ee=B.parentNode;if(!xa(A,B)||!xa(A,K))return;Es(K.lastChild)&&(pe=K.lastChild),Ee===K.lastChild&&_i(Ee.previousSibling)&&A.remove(Ee.previousSibling);const St=K.lastChild;St&&_i(St)&&B.hasChildNodes()&&A.remove(St),Or(A,K,!0)&&Qe($e.fromDom(K)),lu(A,B,K),pe&&K.appendChild(pe);const Wn=hn($e.fromDom(K),$e.fromDom(B))?A.getParents(B,Es,K):[];A.remove(B),xe(Wn,Bn=>{Or(A,Bn)&&Bn!==A.getRoot()&&A.remove(Bn)})},kf=(A,B,K)=>{Qe($e.fromDom(K)),_f(A.dom,B,K),A.selection.setCursorLocation(K,0)},ur=(A,B,K,pe)=>{const Ee=A.dom;if(Ee.isEmpty(pe))kf(A,K,pe);else{const St=so(B);_f(Ee,K,pe),A.selection.setRng(Oi(St))}},un=(A,B,K,pe)=>{const Ee=so(B);_f(A.dom,K,pe);const St=Oi(Ee);A.selection.setRng(St)},Ec=(A,B)=>{const K=A.dom,pe=A.selection,Ee=pe.getStart(),St=Mn(A,Ee),xn=K.getParent(pe.getStart(),"LI",St);if(xn){const Wn=xn.parentElement;if(Wn===A.getBody()&&Or(K,Wn))return!0;const Bn=$l(pe.getRng()),pn=K.getParent(Vu(A,Bn,B,St),"LI",St),Ko=pn&&(B?K.isChildOf(xn,pn):K.isChildOf(pn,xn));if(pn&&pn!==xn&&!Ko)return A.undoManager.transact(()=>{B?ur(A,Bn,pn,xn):Uo(xn)?au(A):un(A,Bn,xn,pn)}),!0;if(Ko&&!B&&pn!==xn)return A.undoManager.transact(()=>{if(Bn.commonAncestorContainer.parentElement){const Jr=so(Bn),Ba=Bn.commonAncestorContainer.parentElement;lu(K,Bn.commonAncestorContainer.parentElement,pn),Ba.remove();const cu=Oi(Jr);A.selection.setRng(cu)}}),!0;if(!pn&&!B&&Bn.startOffset===0&&Bn.endOffset===0)return A.undoManager.transact(()=>{vm(A)}),!0}return!1},Af=(A,B,K)=>{const pe=A.getParent(B.parentNode,A.isBlock,K);A.remove(B),pe&&A.isEmpty(pe)&&A.remove(pe)},_a=(A,B)=>{const K=A.dom,pe=A.selection.getStart(),Ee=Mn(A,pe),St=K.getParent(pe,K.isBlock,Ee);if(St&&K.isEmpty(St,void 0,{checkRootAsContent:!0})){const xn=$l(A.selection.getRng()),Wn=K.getParent(Vu(A,xn,B,Ee),"LI",Ee);if(Wn){const Bn=Ba=>Ze(["td","th","caption"],Et(Ba)),pn=Ba=>Ba.dom===Ee,Ko=Il($e.fromDom(Wn),Bn,pn),Jr=Il($e.fromDom(xn.startContainer),Bn,pn);return Ue(Ko,Jr,ar)?(A.undoManager.transact(()=>{const Ba=Wn.parentNode;Af(K,St,Ee),_d(K,Ba),A.selection.select(Wn,!0),A.selection.collapse(B)}),!0):!1}}return!1},cs=(A,B)=>Ec(A,B)||_a(A,B),kd=A=>{const B=A.selection.getStart(),K=Mn(A,B);return A.dom.getParent(B,"LI,DT,DD",K)||vn(A).length>0},Rh=A=>kd(A)?(A.undoManager.transact(()=>{A.execCommand("Delete"),bm(A.dom,A.getBody())}),!0):!1,Zl=(A,B)=>{const K=A.selection;return!Yr(A,K.getNode())&&(K.isCollapsed()?cs(A,B):Rh(A))},db=A=>{A.on("ExecCommand",B=>{const K=B.command.toLowerCase();(K==="delete"||K==="forwarddelete")&&kd(A)&&bm(A.dom,A.getBody())}),A.on("keydown",B=>{B.keyCode===gs.BACKSPACE?Zl(A,!1)&&B.preventDefault():B.keyCode===gs.DELETE&&Zl(A,!0)&&B.preventDefault()})},Xn=A=>({backspaceDelete:B=>{Zl(A,B)}}),dr=(A,B)=>{const K=gi(A);K===null||Yr(A,K)||A.undoManager.transact(()=>{S(B.styles)&&A.dom.setStyles(K,B.styles),S(B.attrs)&&As(B.attrs,(pe,Ee)=>A.dom.setAttrib(K,Ee,pe))})},Uu=A=>{const B=dt(hf(A).split("")),K=he(B,(pe,Ee)=>{const St=pe.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Ee)*St});return Oe(K,(pe,Ee)=>pe+Ee,0)},Ad=A=>{if(A--,A<0)return"";{const B=A%26,K=Math.floor(A/26),pe=Ad(K),Ee=String.fromCharCode(65+B);return pe+Ee}},ym=A=>/^[A-Z]+$/.test(A),gg=A=>/^[a-z]+$/.test(A),Od=A=>/^[0-9]+$/.test(A),Mi=A=>Od(A)?2:ym(A)?0:gg(A)?1:Za(A)?3:4,pl=A=>{switch(Mi(A)){case 2:return ce.some({listStyleType:ce.none(),start:A});case 0:return ce.some({listStyleType:ce.some("upper-alpha"),start:Uu(A).toString()});case 1:return ce.some({listStyleType:ce.some("lower-alpha"),start:Uu(A).toString()});case 3:return ce.some({listStyleType:ce.none(),start:""});case 4:return ce.none()}},wm=A=>{const B=parseInt(A.start,10);return rn(A.listStyleType,"upper-alpha")?Ad(B):rn(A.listStyleType,"lower-alpha")?Ad(B).toLowerCase():A.start},Mr=A=>{const B=gi(A);!yc(B)||Yr(A,B)||A.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:wm({start:A.dom.getAttrib(B,"start","1"),listStyleType:ce.from(A.dom.getStyle(B,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:K=>{const pe=K.getData();pl(pe.start).each(Ee=>{A.execCommand("mceListUpdate",!1,{attrs:{start:Ee.start==="1"?"":Ee.start},styles:{"list-style-type":Ee.listStyleType.getOr("")}})}),K.close()}})},Bh=(A,B)=>()=>{const K=gi(A);return D(K)&&K.nodeName===B},Is=A=>{A.addCommand("mceListProps",()=>{Mr(A)})},ka=A=>{A.on("BeforeExecCommand",B=>{const K=B.command.toLowerCase();K==="indent"?Mh(A):K==="outdent"&&au(A)}),A.addCommand("InsertUnorderedList",(B,K)=>{jl(A,"UL",K)}),A.addCommand("InsertOrderedList",(B,K)=>{jl(A,"OL",K)}),A.addCommand("InsertDefinitionList",(B,K)=>{jl(A,"DL",K)}),A.addCommand("RemoveList",()=>{vm(A)}),Is(A),A.addCommand("mceListUpdate",(B,K)=>{S(K)&&dr(A,K)}),A.addQueryStateHandler("InsertUnorderedList",Bh(A,"UL")),A.addQueryStateHandler("InsertOrderedList",Bh(A,"OL")),A.addQueryStateHandler("InsertDefinitionList",Bh(A,"DL"))};var Dd=tinymce.util.Tools.resolve("tinymce.html.Node");const ms=A=>A.type===3,Tc=A=>A.length===0,fb=A=>{const B=(Ee,St)=>{const xn=Dd.create("li");xe(Ee,Wn=>xn.append(Wn)),St?A.insert(xn,St,!0):A.append(xn)},K=(Ee,St)=>ms(St)?[...Ee,St]:!Tc(Ee)&&!ms(St)?(B(Ee,St),[]):Ee,pe=Oe(A.children(),K,[]);Tc(pe)||B(pe)},Sm=A=>{A.on("PreInit",()=>{const{parser:B}=A;B.addNodeFilter("ul,ol",K=>xe(K,fb))})},Us=A=>{A.on("keydown",B=>{B.keyCode!==gs.TAB||gs.metaKeyPressed(B)||A.undoManager.transact(()=>{(B.shiftKey?au(A):Mh(A))&&B.preventDefault()})})},Of=A=>{df(A)&&Us(A),db(A)},Ga=(A,B)=>K=>{const pe=Ee=>{K.setActive(ts(Ee.parents,B)),K.setEnabled(!Yr(A,Ee.element)&&A.selection.isEditable())};return K.setEnabled(A.selection.isEditable()),Hl(A,pe)},Df=A=>{const B=K=>()=>A.execCommand(K);A.hasPlugin("advlist")||(A.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:B("InsertOrderedList"),onSetup:Ga(A,"OL")}),A.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:B("InsertUnorderedList"),onSetup:Ga(A,"UL")}))},xm=(A,B)=>K=>Hl(A,Ee=>K.setEnabled(ts(Ee.parents,B)&&!Yr(A,Ee.element))),Cm=A=>{const B={text:"List properties...",icon:"ordered-list",onAction:()=>A.execCommand("mceListProps"),onSetup:xm(A,"OL")};A.ui.registry.addMenuItem("listprops",B),A.ui.registry.addContextMenu("lists",{update:K=>{const pe=gi(A,K);return yc(pe)?["listprops"]:[]}})};var Mf=()=>{l.add("lists",A=>(na(A),Sm(A),A.hasPlugin("rtc",!0)?Is(A):(Of(A),ka(A)),Df(A),Cm(A),Xn(A)))};Mf()})();/*!
* sweetalert2 v11.13.2
* Released under the MIT License.
*/function Cee(l,r,d){if(typeof l=="function"?l===r:l.has(r))return arguments.length<3?r:d;throw new TypeError("Private element is not present on this object")}function qre(l,r){if(r.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nQ(l,r){return l.get(Cee(l,r))}function Gre(l,r,d){qre(l,r),r.set(l,d)}function Xre(l,r,d){return l.set(Cee(l,r),d),d}const Yre=100,xs={},Kre=()=>{xs.previousActiveElement instanceof HTMLElement?(xs.previousActiveElement.focus(),xs.previousActiveElement=null):document.body&&document.body.focus()},Jre=l=>new Promise(r=>{if(!l)return r();const d=window.scrollX,m=window.scrollY;xs.restoreFocusTimeout=setTimeout(()=>{Kre(),r()},Yre),window.scrollTo(d,m)}),Eee="swal2-",Qre=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],Mt=Qre.reduce((l,r)=>(l[r]=Eee+r,l),{}),eie=["success","warning","info","question","error"],S$=eie.reduce((l,r)=>(l[r]=Eee+r,l),{}),Tee="SweetAlert2:",TY=l=>l.charAt(0).toUpperCase()+l.slice(1),Pu=l=>{console.warn(`${Tee} ${typeof l=="object"?l.join(" "):l}`)},cy=l=>{console.error(`${Tee} ${l}`)},oQ=[],tie=l=>{oQ.includes(l)||(oQ.push(l),Pu(l))},_ee=function(l){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;tie(`"${l}" is deprecated and will be removed in the next major release.${r?` Use "${r}" instead.`:""}`)},U$=l=>typeof l=="function"?l():l,_Y=l=>l&&typeof l.toPromise=="function",XO=l=>_Y(l)?l.toPromise():Promise.resolve(l),kY=l=>l&&Promise.resolve(l)===l,Nu=()=>document.body.querySelector(`.${Mt.container}`),YO=l=>{const r=Nu();return r?r.querySelector(l):null},yd=l=>YO(`.${l}`),Er=()=>yd(Mt.popup),KO=()=>yd(Mt.icon),nie=()=>yd(Mt["icon-content"]),kee=()=>yd(Mt.title),AY=()=>yd(Mt["html-container"]),Aee=()=>yd(Mt.image),OY=()=>yd(Mt["progress-steps"]),W$=()=>yd(Mt["validation-message"]),_h=()=>YO(`.${Mt.actions} .${Mt.confirm}`),gx=()=>YO(`.${Mt.actions} .${Mt.cancel}`),uy=()=>YO(`.${Mt.actions} .${Mt.deny}`),oie=()=>yd(Mt["input-label"]),vx=()=>YO(`.${Mt.loader}`),JO=()=>yd(Mt.actions),Oee=()=>yd(Mt.footer),j$=()=>yd(Mt["timer-progress-bar"]),DY=()=>yd(Mt.close),sie=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,MY=()=>{const l=Er();if(!l)return[];const r=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),d=Array.from(r).sort((y,S)=>{const T=parseInt(y.getAttribute("tabindex")||"0"),k=parseInt(S.getAttribute("tabindex")||"0");return T>k?1:T<k?-1:0}),m=l.querySelectorAll(sie),v=Array.from(m).filter(y=>y.getAttribute("tabindex")!=="-1");return[...new Set(d.concat(v))].filter(y=>Du(y))},PY=()=>rg(document.body,Mt.shown)&&!rg(document.body,Mt["toast-shown"])&&!rg(document.body,Mt["no-backdrop"]),Z$=()=>{const l=Er();return l?rg(l,Mt.toast):!1},rie=()=>{const l=Er();return l?l.hasAttribute("data-loading"):!1},wd=(l,r)=>{if(l.textContent="",r){const m=new DOMParser().parseFromString(r,"text/html"),v=m.querySelector("head");v&&Array.from(v.childNodes).forEach(S=>{l.appendChild(S)});const y=m.querySelector("body");y&&Array.from(y.childNodes).forEach(S=>{S instanceof HTMLVideoElement||S instanceof HTMLAudioElement?l.appendChild(S.cloneNode(!0)):l.appendChild(S)})}},rg=(l,r)=>{if(!r)return!1;const d=r.split(/\s+/);for(let m=0;m<d.length;m++)if(!l.classList.contains(d[m]))return!1;return!0},iie=(l,r)=>{Array.from(l.classList).forEach(d=>{!Object.values(Mt).includes(d)&&!Object.values(S$).includes(d)&&!Object.values(r.showClass||{}).includes(d)&&l.classList.remove(d)})},bd=(l,r,d)=>{if(iie(l,r),!r.customClass)return;const m=r.customClass[d];if(m){if(typeof m!="string"&&!m.forEach){Pu(`Invalid type of customClass.${d}! Expected string or iterable object, got "${typeof m}"`);return}ir(l,m)}},q$=(l,r)=>{if(!r)return null;switch(r){case"select":case"textarea":case"file":return l.querySelector(`.${Mt.popup} > .${Mt[r]}`);case"checkbox":return l.querySelector(`.${Mt.popup} > .${Mt.checkbox} input`);case"radio":return l.querySelector(`.${Mt.popup} > .${Mt.radio} input:checked`)||l.querySelector(`.${Mt.popup} > .${Mt.radio} input:first-child`);case"range":return l.querySelector(`.${Mt.popup} > .${Mt.range} input`);default:return l.querySelector(`.${Mt.popup} > .${Mt.input}`)}},Dee=l=>{if(l.focus(),l.type!=="file"){const r=l.value;l.value="",l.value=r}},Mee=(l,r,d)=>{!l||!r||(typeof r=="string"&&(r=r.split(/\s+/).filter(Boolean)),r.forEach(m=>{Array.isArray(l)?l.forEach(v=>{d?v.classList.add(m):v.classList.remove(m)}):d?l.classList.add(m):l.classList.remove(m)}))},ir=(l,r)=>{Mee(l,r,!0)},kh=(l,r)=>{Mee(l,r,!1)},ib=(l,r)=>{const d=Array.from(l.children);for(let m=0;m<d.length;m++){const v=d[m];if(v instanceof HTMLElement&&rg(v,r))return v}},Q0=(l,r,d)=>{d===`${parseInt(d)}`&&(d=parseInt(d)),d||parseInt(d)===0?l.style.setProperty(r,typeof d=="number"?`${d}px`:d):l.style.removeProperty(r)},ll=function(l){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=r)},vc=l=>{l&&(l.style.display="none")},NY=function(l){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{QO(l,l.innerHTML,r)}).observe(l,{childList:!0,subtree:!0})},sQ=(l,r,d,m)=>{const v=l.querySelector(r);v&&v.style.setProperty(d,m)},QO=function(l,r){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";r?ll(l,d):vc(l)},Du=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),aie=()=>!Du(_h())&&!Du(uy())&&!Du(gx()),rQ=l=>l.scrollHeight>l.clientHeight,Pee=l=>{const r=window.getComputedStyle(l),d=parseFloat(r.getPropertyValue("animation-duration")||"0"),m=parseFloat(r.getPropertyValue("transition-duration")||"0");return d>0||m>0},LY=function(l){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const d=j$();d&&Du(d)&&(r&&(d.style.transition="none",d.style.width="100%"),setTimeout(()=>{d.style.transition=`width ${l/1e3}s linear`,d.style.width="0%"},10))},lie=()=>{const l=j$();if(!l)return;const r=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";const d=parseInt(window.getComputedStyle(l).width),m=r/d*100;l.style.width=`${m}%`},Nee=()=>typeof window>"u"||typeof document>"u",cie=`
 <div aria-labelledby="${Mt.title}" aria-describedby="${Mt["html-container"]}" class="${Mt.popup}" tabindex="-1">
   <button type="button" class="${Mt.close}"></button>
   <ul class="${Mt["progress-steps"]}"></ul>
   <div class="${Mt.icon}"></div>
   <img class="${Mt.image}" />
   <h2 class="${Mt.title}" id="${Mt.title}"></h2>
   <div class="${Mt["html-container"]}" id="${Mt["html-container"]}"></div>
   <input class="${Mt.input}" id="${Mt.input}" />
   <input type="file" class="${Mt.file}" />
   <div class="${Mt.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Mt.select}" id="${Mt.select}"></select>
   <div class="${Mt.radio}"></div>
   <label class="${Mt.checkbox}">
     <input type="checkbox" id="${Mt.checkbox}" />
     <span class="${Mt.label}"></span>
   </label>
   <textarea class="${Mt.textarea}" id="${Mt.textarea}"></textarea>
   <div class="${Mt["validation-message"]}" id="${Mt["validation-message"]}"></div>
   <div class="${Mt.actions}">
     <div class="${Mt.loader}"></div>
     <button type="button" class="${Mt.confirm}"></button>
     <button type="button" class="${Mt.deny}"></button>
     <button type="button" class="${Mt.cancel}"></button>
   </div>
   <div class="${Mt.footer}"></div>
   <div class="${Mt["timer-progress-bar-container"]}">
     <div class="${Mt["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),uie=()=>{const l=Nu();return l?(l.remove(),kh([document.documentElement,document.body],[Mt["no-backdrop"],Mt["toast-shown"],Mt["has-column"]]),!0):!1},G0=()=>{xs.currentInstance.resetValidationMessage()},die=()=>{const l=Er(),r=ib(l,Mt.input),d=ib(l,Mt.file),m=l.querySelector(`.${Mt.range} input`),v=l.querySelector(`.${Mt.range} output`),y=ib(l,Mt.select),S=l.querySelector(`.${Mt.checkbox} input`),T=ib(l,Mt.textarea);r.oninput=G0,d.onchange=G0,y.onchange=G0,S.onchange=G0,T.oninput=G0,m.oninput=()=>{G0(),v.value=m.value},m.onchange=()=>{G0(),v.value=m.value}},fie=l=>typeof l=="string"?document.querySelector(l):l,mie=l=>{const r=Er();r.setAttribute("role",l.toast?"alert":"dialog"),r.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||r.setAttribute("aria-modal","true")},hie=l=>{window.getComputedStyle(l).direction==="rtl"&&ir(Nu(),Mt.rtl)},pie=l=>{const r=uie();if(Nee()){cy("SweetAlert2 requires document to initialize");return}const d=document.createElement("div");d.className=Mt.container,r&&ir(d,Mt["no-transition"]),wd(d,cie);const m=fie(l.target);m.appendChild(d),mie(l),hie(m),die()},IY=(l,r)=>{l instanceof HTMLElement?r.appendChild(l):typeof l=="object"?gie(l,r):l&&wd(r,l)},gie=(l,r)=>{l.jquery?vie(r,l):wd(r,l.toString())},vie=(l,r)=>{if(l.textContent="",0 in r)for(let d=0;d in r;d++)l.appendChild(r[d].cloneNode(!0));else l.appendChild(r.cloneNode(!0))},ry=(()=>{if(Nee())return!1;const l=document.createElement("div");return typeof l.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof l.style.animation<"u"?"animationend":!1})(),bie=(l,r)=>{const d=JO(),m=vx();!d||!m||(!r.showConfirmButton&&!r.showDenyButton&&!r.showCancelButton?vc(d):ll(d),bd(d,r,"actions"),yie(d,m,r),wd(m,r.loaderHtml||""),bd(m,r,"loader"))};function yie(l,r,d){const m=_h(),v=uy(),y=gx();!m||!v||!y||(MX(m,"confirm",d),MX(v,"deny",d),MX(y,"cancel",d),wie(m,v,y,d),d.reverseButtons&&(d.toast?(l.insertBefore(y,m),l.insertBefore(v,m)):(l.insertBefore(y,r),l.insertBefore(v,r),l.insertBefore(m,r))))}function wie(l,r,d,m){if(!m.buttonsStyling){kh([l,r,d],Mt.styled);return}ir([l,r,d],Mt.styled),m.confirmButtonColor&&(l.style.backgroundColor=m.confirmButtonColor,ir(l,Mt["default-outline"])),m.denyButtonColor&&(r.style.backgroundColor=m.denyButtonColor,ir(r,Mt["default-outline"])),m.cancelButtonColor&&(d.style.backgroundColor=m.cancelButtonColor,ir(d,Mt["default-outline"]))}function MX(l,r,d){const m=TY(r);QO(l,d[`show${m}Button`],"inline-block"),wd(l,d[`${r}ButtonText`]||""),l.setAttribute("aria-label",d[`${r}ButtonAriaLabel`]||""),l.className=Mt[r],bd(l,d,`${r}Button`)}const Sie=(l,r)=>{const d=DY();d&&(wd(d,r.closeButtonHtml||""),bd(d,r,"closeButton"),QO(d,r.showCloseButton),d.setAttribute("aria-label",r.closeButtonAriaLabel||""))},xie=(l,r)=>{const d=Nu();d&&(Cie(d,r.backdrop),Eie(d,r.position),Tie(d,r.grow),bd(d,r,"container"))};function Cie(l,r){typeof r=="string"?l.style.background=r:r||ir([document.documentElement,document.body],Mt["no-backdrop"])}function Eie(l,r){r&&(r in Mt?ir(l,Mt[r]):(Pu('The "position" parameter is not valid, defaulting to "center"'),ir(l,Mt.center)))}function Tie(l,r){r&&ir(l,Mt[`grow-${r}`])}var ri={innerParams:new WeakMap,domCache:new WeakMap};const _ie=["input","file","range","select","radio","checkbox","textarea"],kie=(l,r)=>{const d=Er();if(!d)return;const m=ri.innerParams.get(l),v=!m||r.input!==m.input;_ie.forEach(y=>{const S=ib(d,Mt[y]);S&&(Die(y,r.inputAttributes),S.className=Mt[y],v&&vc(S))}),r.input&&(v&&Aie(r),Mie(r))},Aie=l=>{if(!l.input)return;if(!va[l.input]){cy(`Unexpected type of input! Expected ${Object.keys(va).join(" | ")}, got "${l.input}"`);return}const r=Lee(l.input);if(!r)return;const d=va[l.input](r,l);ll(r),l.inputAutoFocus&&setTimeout(()=>{Dee(d)})},Oie=l=>{for(let r=0;r<l.attributes.length;r++){const d=l.attributes[r].name;["id","type","value","style"].includes(d)||l.removeAttribute(d)}},Die=(l,r)=>{const d=Er();if(!d)return;const m=q$(d,l);if(m){Oie(m);for(const v in r)m.setAttribute(v,r[v])}},Mie=l=>{if(!l.input)return;const r=Lee(l.input);r&&bd(r,l,"input")},RY=(l,r)=>{!l.placeholder&&r.inputPlaceholder&&(l.placeholder=r.inputPlaceholder)},eD=(l,r,d)=>{if(d.inputLabel){const m=document.createElement("label"),v=Mt["input-label"];m.setAttribute("for",l.id),m.className=v,typeof d.customClass=="object"&&ir(m,d.customClass.inputLabel),m.innerText=d.inputLabel,r.insertAdjacentElement("beforebegin",m)}},Lee=l=>{const r=Er();if(r)return ib(r,Mt[l]||Mt.input)},x$=(l,r)=>{["string","number"].includes(typeof r)?l.value=`${r}`:kY(r)||Pu(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof r}"`)},va={};va.text=va.email=va.password=va.number=va.tel=va.url=va.search=va.date=va["datetime-local"]=va.time=va.week=va.month=(l,r)=>(x$(l,r.inputValue),eD(l,l,r),RY(l,r),l.type=r.input,l);va.file=(l,r)=>(eD(l,l,r),RY(l,r),l);va.range=(l,r)=>{const d=l.querySelector("input"),m=l.querySelector("output");return x$(d,r.inputValue),d.type=r.input,x$(m,r.inputValue),eD(d,l,r),l};va.select=(l,r)=>{if(l.textContent="",r.inputPlaceholder){const d=document.createElement("option");wd(d,r.inputPlaceholder),d.value="",d.disabled=!0,d.selected=!0,l.appendChild(d)}return eD(l,l,r),l};va.radio=l=>(l.textContent="",l);va.checkbox=(l,r)=>{const d=q$(Er(),"checkbox");d.value="1",d.checked=!!r.inputValue;const m=l.querySelector("span");return wd(m,r.inputPlaceholder),d};va.textarea=(l,r)=>{x$(l,r.inputValue),RY(l,r),eD(l,l,r);const d=m=>parseInt(window.getComputedStyle(m).marginLeft)+parseInt(window.getComputedStyle(m).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const m=parseInt(window.getComputedStyle(Er()).width),v=()=>{if(!document.body.contains(l))return;const y=l.offsetWidth+d(l);y>m?Er().style.width=`${y}px`:Q0(Er(),"width",r.width)};new MutationObserver(v).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};const Pie=(l,r)=>{const d=AY();d&&(NY(d),bd(d,r,"htmlContainer"),r.html?(IY(r.html,d),ll(d,"block")):r.text?(d.textContent=r.text,ll(d,"block")):vc(d),kie(l,r))},Nie=(l,r)=>{const d=Oee();d&&(NY(d),QO(d,r.footer,"block"),r.footer&&IY(r.footer,d),bd(d,r,"footer"))},Lie=(l,r)=>{const d=ri.innerParams.get(l),m=KO();if(m){if(d&&r.icon===d.icon){aQ(m,r),iQ(m,r);return}if(!r.icon&&!r.iconHtml){vc(m);return}if(r.icon&&Object.keys(S$).indexOf(r.icon)===-1){cy(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${r.icon}"`),vc(m);return}ll(m),aQ(m,r),iQ(m,r),ir(m,r.showClass&&r.showClass.icon)}},iQ=(l,r)=>{for(const[d,m]of Object.entries(S$))r.icon!==d&&kh(l,m);ir(l,r.icon&&S$[r.icon]),$ie(l,r),Iie(),bd(l,r,"icon")},Iie=()=>{const l=Er();if(!l)return;const r=window.getComputedStyle(l).getPropertyValue("background-color"),d=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let m=0;m<d.length;m++)d[m].style.backgroundColor=r},Rie=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Bie=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,aQ=(l,r)=>{if(!r.icon&&!r.iconHtml)return;let d=l.innerHTML,m="";r.iconHtml?m=lQ(r.iconHtml):r.icon==="success"?(m=Rie,d=d.replace(/ style=".*?"/g,"")):r.icon==="error"?m=Bie:r.icon&&(m=lQ({question:"?",warning:"!",info:"i"}[r.icon])),d.trim()!==m.trim()&&wd(l,m)},$ie=(l,r)=>{if(r.iconColor){l.style.color=r.iconColor,l.style.borderColor=r.iconColor;for(const d of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])sQ(l,d,"background-color",r.iconColor);sQ(l,".swal2-success-ring","border-color",r.iconColor)}},lQ=l=>`<div class="${Mt["icon-content"]}">${l}</div>`,Fie=(l,r)=>{const d=Aee();if(d){if(!r.imageUrl){vc(d);return}ll(d,""),d.setAttribute("src",r.imageUrl),d.setAttribute("alt",r.imageAlt||""),Q0(d,"width",r.imageWidth),Q0(d,"height",r.imageHeight),d.className=Mt.image,bd(d,r,"image")}},Hie=(l,r)=>{const d=Nu(),m=Er();if(!(!d||!m)){if(r.toast){Q0(d,"width",r.width),m.style.width="100%";const v=vx();v&&m.insertBefore(v,KO())}else Q0(m,"width",r.width);Q0(m,"padding",r.padding),r.color&&(m.style.color=r.color),r.background&&(m.style.background=r.background),vc(W$()),zie(m,r)}},zie=(l,r)=>{const d=r.showClass||{};l.className=`${Mt.popup} ${Du(l)?d.popup:""}`,r.toast?(ir([document.documentElement,document.body],Mt["toast-shown"]),ir(l,Mt.toast)):ir(l,Mt.modal),bd(l,r,"popup"),typeof r.customClass=="string"&&ir(l,r.customClass),r.icon&&ir(l,Mt[`icon-${r.icon}`])},Vie=(l,r)=>{const d=OY();if(!d)return;const{progressSteps:m,currentProgressStep:v}=r;if(!m||m.length===0||v===void 0){vc(d);return}ll(d),d.textContent="",v>=m.length&&Pu("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),m.forEach((y,S)=>{const T=Uie(y);if(d.appendChild(T),S===v&&ir(T,Mt["active-progress-step"]),S!==m.length-1){const k=Wie(r);d.appendChild(k)}})},Uie=l=>{const r=document.createElement("li");return ir(r,Mt["progress-step"]),wd(r,l),r},Wie=l=>{const r=document.createElement("li");return ir(r,Mt["progress-step-line"]),l.progressStepsDistance&&Q0(r,"width",l.progressStepsDistance),r},jie=(l,r)=>{const d=kee();d&&(NY(d),QO(d,r.title||r.titleText,"block"),r.title&&IY(r.title,d),r.titleText&&(d.innerText=r.titleText),bd(d,r,"title"))},Iee=(l,r)=>{Hie(l,r),xie(l,r),Vie(l,r),Lie(l,r),Fie(l,r),jie(l,r),Sie(l,r),Pie(l,r),bie(l,r),Nie(l,r);const d=Er();typeof r.didRender=="function"&&d&&r.didRender(d)},Zie=()=>Du(Er()),Ree=()=>{var l;return(l=_h())===null||l===void 0?void 0:l.click()},qie=()=>{var l;return(l=uy())===null||l===void 0?void 0:l.click()},Gie=()=>{var l;return(l=gx())===null||l===void 0?void 0:l.click()},bx=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Bee=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},Xie=(l,r,d)=>{Bee(l),r.toast||(l.keydownHandler=m=>Kie(r,m,d),l.keydownTarget=r.keydownListenerCapture?window:Er(),l.keydownListenerCapture=r.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},GX=(l,r)=>{var d;const m=MY();if(m.length){l=l+r,l===m.length?l=0:l===-1&&(l=m.length-1),m[l].focus();return}(d=Er())===null||d===void 0||d.focus()},$ee=["ArrowRight","ArrowDown"],Yie=["ArrowLeft","ArrowUp"],Kie=(l,r,d)=>{l&&(r.isComposing||r.keyCode===229||(l.stopKeydownPropagation&&r.stopPropagation(),r.key==="Enter"?Jie(r,l):r.key==="Tab"?Qie(r):[...$ee,...Yie].includes(r.key)?eae(r.key):r.key==="Escape"&&tae(r,l,d)))},Jie=(l,r)=>{if(!U$(r.allowEnterKey))return;const d=q$(Er(),r.input);if(l.target&&d&&l.target instanceof HTMLElement&&l.target.outerHTML===d.outerHTML){if(["textarea","file"].includes(r.input))return;Ree(),l.preventDefault()}},Qie=l=>{const r=l.target,d=MY();let m=-1;for(let v=0;v<d.length;v++)if(r===d[v]){m=v;break}l.shiftKey?GX(m,-1):GX(m,1),l.stopPropagation(),l.preventDefault()},eae=l=>{const r=JO(),d=_h(),m=uy(),v=gx();if(!r||!d||!m||!v)return;const y=[d,m,v];if(document.activeElement instanceof HTMLElement&&!y.includes(document.activeElement))return;const S=$ee.includes(l)?"nextElementSibling":"previousElementSibling";let T=document.activeElement;if(T){for(let k=0;k<r.children.length;k++){if(T=T[S],!T)return;if(T instanceof HTMLButtonElement&&Du(T))break}T instanceof HTMLButtonElement&&T.focus()}},tae=(l,r,d)=>{U$(r.allowEscapeKey)&&(l.preventDefault(),d(bx.esc))};var ux={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const nae=()=>{const l=Nu();Array.from(document.body.children).forEach(d=>{d.contains(l)||(d.hasAttribute("aria-hidden")&&d.setAttribute("data-previous-aria-hidden",d.getAttribute("aria-hidden")||""),d.setAttribute("aria-hidden","true"))})},Fee=()=>{Array.from(document.body.children).forEach(r=>{r.hasAttribute("data-previous-aria-hidden")?(r.setAttribute("aria-hidden",r.getAttribute("data-previous-aria-hidden")||""),r.removeAttribute("data-previous-aria-hidden")):r.removeAttribute("aria-hidden")})},Hee=typeof window<"u"&&!!window.GestureEvent,oae=()=>{if(Hee&&!rg(document.body,Mt.iosfix)){const l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,ir(document.body,Mt.iosfix),sae()}},sae=()=>{const l=Nu();if(!l)return;let r;l.ontouchstart=d=>{r=rae(d)},l.ontouchmove=d=>{r&&(d.preventDefault(),d.stopPropagation())}},rae=l=>{const r=l.target,d=Nu(),m=AY();return!d||!m||iae(l)||aae(l)?!1:r===d||!rQ(d)&&r instanceof HTMLElement&&r.tagName!=="INPUT"&&r.tagName!=="TEXTAREA"&&!(rQ(m)&&m.contains(r))},iae=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",aae=l=>l.touches&&l.touches.length>1,lae=()=>{if(rg(document.body,Mt.iosfix)){const l=parseInt(document.body.style.top,10);kh(document.body,Mt.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},cae=()=>{const l=document.createElement("div");l.className=Mt["scrollbar-measure"],document.body.appendChild(l);const r=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),r};let rx=null;const uae=l=>{rx===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(rx=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${rx+cae()}px`)},dae=()=>{rx!==null&&(document.body.style.paddingRight=`${rx}px`,rx=null)};function zee(l,r,d,m){Z$()?cQ(l,m):(Jre(d).then(()=>cQ(l,m)),Bee(xs)),Hee?(r.setAttribute("style","display:none !important"),r.removeAttribute("class"),r.innerHTML=""):r.remove(),PY()&&(dae(),lae(),Fee()),fae()}function fae(){kh([document.documentElement,document.body],[Mt.shown,Mt["height-auto"],Mt["no-backdrop"],Mt["toast-shown"]])}function ab(l){l=hae(l);const r=ux.swalPromiseResolve.get(this),d=mae(this);this.isAwaitingPromise?l.isDismissed||(tD(this),r(l)):d&&r(l)}const mae=l=>{const r=Er();if(!r)return!1;const d=ri.innerParams.get(l);if(!d||rg(r,d.hideClass.popup))return!1;kh(r,d.showClass.popup),ir(r,d.hideClass.popup);const m=Nu();return kh(m,d.showClass.backdrop),ir(m,d.hideClass.backdrop),pae(l,r,d),!0};function Vee(l){const r=ux.swalPromiseReject.get(this);tD(this),r&&r(l)}const tD=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,ri.innerParams.get(l)||l._destroy())},hae=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),pae=(l,r,d)=>{const m=Nu(),v=ry&&Pee(r);typeof d.willClose=="function"&&d.willClose(r),v?gae(l,r,m,d.returnFocus,d.didClose):zee(l,m,d.returnFocus,d.didClose)},gae=(l,r,d,m,v)=>{ry&&(xs.swalCloseEventFinishedCallback=zee.bind(null,l,d,m,v),r.addEventListener(ry,function(y){y.target===r&&(xs.swalCloseEventFinishedCallback(),delete xs.swalCloseEventFinishedCallback)}))},cQ=(l,r)=>{setTimeout(()=>{typeof r=="function"&&r.bind(l.params)(),l._destroy&&l._destroy()})},dx=l=>{let r=Er();if(r||new YX,r=Er(),!r)return;const d=vx();Z$()?vc(KO()):vae(r,l),ll(d),r.setAttribute("data-loading","true"),r.setAttribute("aria-busy","true"),r.focus()},vae=(l,r)=>{const d=JO(),m=vx();!d||!m||(!r&&Du(_h())&&(r=_h()),ll(d),r&&(vc(r),m.setAttribute("data-button-to-replace",r.className),d.insertBefore(m,r)),ir([l,d],Mt.loading))},bae=(l,r)=>{r.input==="select"||r.input==="radio"?Cae(l,r):["text","email","number","tel","textarea"].some(d=>d===r.input)&&(_Y(r.inputValue)||kY(r.inputValue))&&(dx(_h()),Eae(l,r))},yae=(l,r)=>{const d=l.getInput();if(!d)return null;switch(r.input){case"checkbox":return wae(d);case"radio":return Sae(d);case"file":return xae(d);default:return r.inputAutoTrim?d.value.trim():d.value}},wae=l=>l.checked?1:0,Sae=l=>l.checked?l.value:null,xae=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,Cae=(l,r)=>{const d=Er();if(!d)return;const m=v=>{r.input==="select"?Tae(d,C$(v),r):r.input==="radio"&&_ae(d,C$(v),r)};_Y(r.inputOptions)||kY(r.inputOptions)?(dx(_h()),XO(r.inputOptions).then(v=>{l.hideLoading(),m(v)})):typeof r.inputOptions=="object"?m(r.inputOptions):cy(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof r.inputOptions}`)},Eae=(l,r)=>{const d=l.getInput();d&&(vc(d),XO(r.inputValue).then(m=>{d.value=r.input==="number"?`${parseFloat(m)||0}`:`${m}`,ll(d),d.focus(),l.hideLoading()}).catch(m=>{cy(`Error in inputValue promise: ${m}`),d.value="",ll(d),d.focus(),l.hideLoading()}))};function Tae(l,r,d){const m=ib(l,Mt.select);if(!m)return;const v=(y,S,T)=>{const k=document.createElement("option");k.value=T,wd(k,S),k.selected=Uee(T,d.inputValue),y.appendChild(k)};r.forEach(y=>{const S=y[0],T=y[1];if(Array.isArray(T)){const k=document.createElement("optgroup");k.label=S,k.disabled=!1,m.appendChild(k),T.forEach(N=>v(k,N[1],N[0]))}else v(m,T,S)}),m.focus()}function _ae(l,r,d){const m=ib(l,Mt.radio);if(!m)return;r.forEach(y=>{const S=y[0],T=y[1],k=document.createElement("input"),N=document.createElement("label");k.type="radio",k.name=Mt.radio,k.value=S,Uee(S,d.inputValue)&&(k.checked=!0);const D=document.createElement("span");wd(D,T),D.className=Mt.label,N.appendChild(k),N.appendChild(D),m.appendChild(N)});const v=m.querySelectorAll("input");v.length&&v[0].focus()}const C$=l=>{const r=[];return l instanceof Map?l.forEach((d,m)=>{let v=d;typeof v=="object"&&(v=C$(v)),r.push([m,v])}):Object.keys(l).forEach(d=>{let m=l[d];typeof m=="object"&&(m=C$(m)),r.push([d,m])}),r},Uee=(l,r)=>!!r&&r.toString()===l.toString(),kae=l=>{const r=ri.innerParams.get(l);l.disableButtons(),r.input?Wee(l,"confirm"):$Y(l,!0)},Aae=l=>{const r=ri.innerParams.get(l);l.disableButtons(),r.returnInputValueOnDeny?Wee(l,"deny"):BY(l,!1)},Oae=(l,r)=>{l.disableButtons(),r(bx.cancel)},Wee=(l,r)=>{const d=ri.innerParams.get(l);if(!d.input){cy(`The "input" parameter is needed to be set when using returnInputValueOn${TY(r)}`);return}const m=l.getInput(),v=yae(l,d);d.inputValidator?Dae(l,v,r):m&&!m.checkValidity()?(l.enableButtons(),l.showValidationMessage(d.validationMessage||m.validationMessage)):r==="deny"?BY(l,v):$Y(l,v)},Dae=(l,r,d)=>{const m=ri.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>XO(m.inputValidator(r,m.validationMessage))).then(y=>{l.enableButtons(),l.enableInput(),y?l.showValidationMessage(y):d==="deny"?BY(l,r):$Y(l,r)})},BY=(l,r)=>{const d=ri.innerParams.get(l||void 0);d.showLoaderOnDeny&&dx(uy()),d.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>XO(d.preDeny(r,d.validationMessage))).then(v=>{v===!1?(l.hideLoading(),tD(l)):l.close({isDenied:!0,value:typeof v>"u"?r:v})}).catch(v=>jee(l||void 0,v))):l.close({isDenied:!0,value:r})},uQ=(l,r)=>{l.close({isConfirmed:!0,value:r})},jee=(l,r)=>{l.rejectPromise(r)},$Y=(l,r)=>{const d=ri.innerParams.get(l||void 0);d.showLoaderOnConfirm&&dx(),d.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>XO(d.preConfirm(r,d.validationMessage))).then(v=>{Du(W$())||v===!1?(l.hideLoading(),tD(l)):uQ(l,typeof v>"u"?r:v)}).catch(v=>jee(l||void 0,v))):uQ(l,r)};function E$(){const l=ri.innerParams.get(this);if(!l)return;const r=ri.domCache.get(this);vc(r.loader),Z$()?l.icon&&ll(KO()):Mae(r),kh([r.popup,r.actions],Mt.loading),r.popup.removeAttribute("aria-busy"),r.popup.removeAttribute("data-loading"),r.confirmButton.disabled=!1,r.denyButton.disabled=!1,r.cancelButton.disabled=!1}const Mae=l=>{const r=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));r.length?ll(r[0],"inline-block"):aie()&&vc(l.actions)};function Zee(){const l=ri.innerParams.get(this),r=ri.domCache.get(this);return r?q$(r.popup,l.input):null}function qee(l,r,d){const m=ri.domCache.get(l);r.forEach(v=>{m[v].disabled=d})}function Gee(l,r){const d=Er();if(!(!d||!l))if(l.type==="radio"){const m=d.querySelectorAll(`[name="${Mt.radio}"]`);for(let v=0;v<m.length;v++)m[v].disabled=r}else l.disabled=r}function Xee(){qee(this,["confirmButton","denyButton","cancelButton"],!1)}function Yee(){qee(this,["confirmButton","denyButton","cancelButton"],!0)}function Kee(){Gee(this.getInput(),!1)}function Jee(){Gee(this.getInput(),!0)}function Qee(l){const r=ri.domCache.get(this),d=ri.innerParams.get(this);wd(r.validationMessage,l),r.validationMessage.className=Mt["validation-message"],d.customClass&&d.customClass.validationMessage&&ir(r.validationMessage,d.customClass.validationMessage),ll(r.validationMessage);const m=this.getInput();m&&(m.setAttribute("aria-invalid","true"),m.setAttribute("aria-describedby",Mt["validation-message"]),Dee(m),ir(m,Mt.inputerror))}function ete(){const l=ri.domCache.get(this);l.validationMessage&&vc(l.validationMessage);const r=this.getInput();r&&(r.removeAttribute("aria-invalid"),r.removeAttribute("aria-describedby"),kh(r,Mt.inputerror))}const ix={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Pae=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Nae={allowEnterKey:void 0},Lae=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],tte=l=>Object.prototype.hasOwnProperty.call(ix,l),nte=l=>Pae.indexOf(l)!==-1,ote=l=>Nae[l],Iae=l=>{tte(l)||Pu(`Unknown parameter "${l}"`)},Rae=l=>{Lae.includes(l)&&Pu(`The parameter "${l}" is incompatible with toasts`)},Bae=l=>{const r=ote(l);r&&_ee(l,r)},$ae=l=>{l.backdrop===!1&&l.allowOutsideClick&&Pu('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const r in l)Iae(r),l.toast&&Rae(r),Bae(r)};function ste(l){const r=Er(),d=ri.innerParams.get(this);if(!r||rg(r,d.hideClass.popup)){Pu("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const m=Fae(l),v=Object.assign({},d,m);Iee(this,v),ri.innerParams.set(this,v),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}const Fae=l=>{const r={};return Object.keys(l).forEach(d=>{nte(d)?r[d]=l[d]:Pu(`Invalid parameter to update: ${d}`)}),r};function rte(){const l=ri.domCache.get(this),r=ri.innerParams.get(this);if(!r){ite(this);return}l.popup&&xs.swalCloseEventFinishedCallback&&(xs.swalCloseEventFinishedCallback(),delete xs.swalCloseEventFinishedCallback),typeof r.didDestroy=="function"&&r.didDestroy(),Hae(this)}const Hae=l=>{ite(l),delete l.params,delete xs.keydownHandler,delete xs.keydownTarget,delete xs.currentInstance},ite=l=>{l.isAwaitingPromise?(PX(ri,l),l.isAwaitingPromise=!0):(PX(ux,l),PX(ri,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},PX=(l,r)=>{for(const d in l)l[d].delete(r)};var zae=Object.freeze({__proto__:null,_destroy:rte,close:ab,closeModal:ab,closePopup:ab,closeToast:ab,disableButtons:Yee,disableInput:Jee,disableLoading:E$,enableButtons:Xee,enableInput:Kee,getInput:Zee,handleAwaitingPromise:tD,hideLoading:E$,rejectPromise:Vee,resetValidationMessage:ete,showValidationMessage:Qee,update:ste});const Vae=(l,r,d)=>{l.toast?Uae(l,r,d):(jae(r),Zae(r),qae(l,r,d))},Uae=(l,r,d)=>{r.popup.onclick=()=>{l&&(Wae(l)||l.timer||l.input)||d(bx.close)}},Wae=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton);let T$=!1;const jae=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(r){l.container.onmouseup=()=>{},r.target===l.container&&(T$=!0)}}},Zae=l=>{l.container.onmousedown=r=>{r.target===l.container&&r.preventDefault(),l.popup.onmouseup=function(d){l.popup.onmouseup=()=>{},(d.target===l.popup||d.target instanceof HTMLElement&&l.popup.contains(d.target))&&(T$=!0)}}},qae=(l,r,d)=>{r.container.onclick=m=>{if(T$){T$=!1;return}m.target===r.container&&U$(l.allowOutsideClick)&&d(bx.backdrop)}},Gae=l=>typeof l=="object"&&l.jquery,dQ=l=>l instanceof Element||Gae(l),Xae=l=>{const r={};return typeof l[0]=="object"&&!dQ(l[0])?Object.assign(r,l[0]):["title","html","icon"].forEach((d,m)=>{const v=l[m];typeof v=="string"||dQ(v)?r[d]=v:v!==void 0&&cy(`Unexpected type of ${d}! Expected "string" or "Element", got ${typeof v}`)}),r};function Yae(){for(var l=arguments.length,r=new Array(l),d=0;d<l;d++)r[d]=arguments[d];return new this(...r)}function Kae(l){class r extends this{_main(m,v){return super._main(m,Object.assign({},l,v))}}return r}const Jae=()=>xs.timeout&&xs.timeout.getTimerLeft(),ate=()=>{if(xs.timeout)return lie(),xs.timeout.stop()},lte=()=>{if(xs.timeout){const l=xs.timeout.start();return LY(l),l}},Qae=()=>{const l=xs.timeout;return l&&(l.running?ate():lte())},ele=l=>{if(xs.timeout){const r=xs.timeout.increase(l);return LY(r,!0),r}},tle=()=>!!(xs.timeout&&xs.timeout.isRunning());let fQ=!1;const XX={};function nle(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";XX[l]=this,fQ||(document.body.addEventListener("click",ole),fQ=!0)}const ole=l=>{for(let r=l.target;r&&r!==document;r=r.parentNode)for(const d in XX){const m=r.getAttribute(d);if(m){XX[d].fire({template:m});return}}};var sle=Object.freeze({__proto__:null,argsToParams:Xae,bindClickHandler:nle,clickCancel:Gie,clickConfirm:Ree,clickDeny:qie,enableLoading:dx,fire:Yae,getActions:JO,getCancelButton:gx,getCloseButton:DY,getConfirmButton:_h,getContainer:Nu,getDenyButton:uy,getFocusableElements:MY,getFooter:Oee,getHtmlContainer:AY,getIcon:KO,getIconContent:nie,getImage:Aee,getInputLabel:oie,getLoader:vx,getPopup:Er,getProgressSteps:OY,getTimerLeft:Jae,getTimerProgressBar:j$,getTitle:kee,getValidationMessage:W$,increaseTimer:ele,isDeprecatedParameter:ote,isLoading:rie,isTimerRunning:tle,isUpdatableParameter:nte,isValidParameter:tte,isVisible:Zie,mixin:Kae,resumeTimer:lte,showLoading:dx,stopTimer:ate,toggleTimer:Qae});class rle{constructor(r,d){this.callback=r,this.remaining=d,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(r){const d=this.running;return d&&this.stop(),this.remaining+=r,d&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const cte=["swal-title","swal-html","swal-footer"],ile=l=>{const r=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!r)return{};const d=r.content;return hle(d),Object.assign(ale(d),lle(d),cle(d),ule(d),dle(d),fle(d),mle(d,cte))},ale=l=>{const r={};return Array.from(l.querySelectorAll("swal-param")).forEach(m=>{iy(m,["name","value"]);const v=m.getAttribute("name"),y=m.getAttribute("value");!v||!y||(typeof ix[v]=="boolean"?r[v]=y!=="false":typeof ix[v]=="object"?r[v]=JSON.parse(y):r[v]=y)}),r},lle=l=>{const r={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(m=>{const v=m.getAttribute("name"),y=m.getAttribute("value");!v||!y||(r[v]=new Function(`return ${y}`)())}),r},cle=l=>{const r={};return Array.from(l.querySelectorAll("swal-button")).forEach(m=>{iy(m,["type","color","aria-label"]);const v=m.getAttribute("type");!v||!["confirm","cancel","deny"].includes(v)||(r[`${v}ButtonText`]=m.innerHTML,r[`show${TY(v)}Button`]=!0,m.hasAttribute("color")&&(r[`${v}ButtonColor`]=m.getAttribute("color")),m.hasAttribute("aria-label")&&(r[`${v}ButtonAriaLabel`]=m.getAttribute("aria-label")))}),r},ule=l=>{const r={},d=l.querySelector("swal-image");return d&&(iy(d,["src","width","height","alt"]),d.hasAttribute("src")&&(r.imageUrl=d.getAttribute("src")||void 0),d.hasAttribute("width")&&(r.imageWidth=d.getAttribute("width")||void 0),d.hasAttribute("height")&&(r.imageHeight=d.getAttribute("height")||void 0),d.hasAttribute("alt")&&(r.imageAlt=d.getAttribute("alt")||void 0)),r},dle=l=>{const r={},d=l.querySelector("swal-icon");return d&&(iy(d,["type","color"]),d.hasAttribute("type")&&(r.icon=d.getAttribute("type")),d.hasAttribute("color")&&(r.iconColor=d.getAttribute("color")),r.iconHtml=d.innerHTML),r},fle=l=>{const r={},d=l.querySelector("swal-input");d&&(iy(d,["type","label","placeholder","value"]),r.input=d.getAttribute("type")||"text",d.hasAttribute("label")&&(r.inputLabel=d.getAttribute("label")),d.hasAttribute("placeholder")&&(r.inputPlaceholder=d.getAttribute("placeholder")),d.hasAttribute("value")&&(r.inputValue=d.getAttribute("value")));const m=Array.from(l.querySelectorAll("swal-input-option"));return m.length&&(r.inputOptions={},m.forEach(v=>{iy(v,["value"]);const y=v.getAttribute("value");if(!y)return;const S=v.innerHTML;r.inputOptions[y]=S})),r},mle=(l,r)=>{const d={};for(const m in r){const v=r[m],y=l.querySelector(v);y&&(iy(y,[]),d[v.replace(/^swal-/,"")]=y.innerHTML.trim())}return d},hle=l=>{const r=cte.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(d=>{const m=d.tagName.toLowerCase();r.includes(m)||Pu(`Unrecognized element <${m}>`)})},iy=(l,r)=>{Array.from(l.attributes).forEach(d=>{r.indexOf(d.name)===-1&&Pu([`Unrecognized attribute "${d.name}" on <${l.tagName.toLowerCase()}>.`,`${r.length?`Allowed attributes are: ${r.join(", ")}`:"To set the value, use HTML within the element."}`])})},ute=10,ple=l=>{const r=Nu(),d=Er();typeof l.willOpen=="function"&&l.willOpen(d);const v=window.getComputedStyle(document.body).overflowY;ble(r,d,l),setTimeout(()=>{gle(r,d)},ute),PY()&&(vle(r,l.scrollbarPadding,v),nae()),!Z$()&&!xs.previousActiveElement&&(xs.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(d)),kh(r,Mt["no-transition"])},dte=l=>{const r=Er();if(l.target!==r||!ry)return;const d=Nu();r.removeEventListener(ry,dte),d.style.overflowY="auto"},gle=(l,r)=>{ry&&Pee(r)?(l.style.overflowY="hidden",r.addEventListener(ry,dte)):l.style.overflowY="auto"},vle=(l,r,d)=>{oae(),r&&d!=="hidden"&&uae(d),setTimeout(()=>{l.scrollTop=0})},ble=(l,r,d)=>{ir(l,d.showClass.backdrop),d.animation?(r.style.setProperty("opacity","0","important"),ll(r,"grid"),setTimeout(()=>{ir(r,d.showClass.popup),r.style.removeProperty("opacity")},ute)):ll(r,"grid"),ir([document.documentElement,document.body],Mt.shown),d.heightAuto&&d.backdrop&&!d.toast&&ir([document.documentElement,document.body],Mt["height-auto"])};var mQ={email:(l,r)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(r||"Invalid email address"),url:(l,r)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(r||"Invalid URL")};function yle(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=mQ.email),l.input==="url"&&(l.inputValidator=mQ.url))}function wle(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(Pu('Target parameter is not valid, defaulting to "body"'),l.target="body")}function Sle(l){yle(l),l.showLoaderOnConfirm&&!l.preConfirm&&Pu(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),wle(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),pie(l)}let Th;var s$=new WeakMap;class ba{constructor(){if(Gre(this,s$,void 0),typeof window>"u")return;Th=this;for(var r=arguments.length,d=new Array(r),m=0;m<r;m++)d[m]=arguments[m];const v=Object.freeze(this.constructor.argsToParams(d));this.params=v,this.isAwaitingPromise=!1,Xre(s$,this,this._main(Th.params))}_main(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($ae(Object.assign({},d,r)),xs.currentInstance){const y=ux.swalPromiseResolve.get(xs.currentInstance),{isAwaitingPromise:S}=xs.currentInstance;xs.currentInstance._destroy(),S||y({isDismissed:!0}),PY()&&Fee()}xs.currentInstance=Th;const m=Cle(r,d);Sle(m),Object.freeze(m),xs.timeout&&(xs.timeout.stop(),delete xs.timeout),clearTimeout(xs.restoreFocusTimeout);const v=Ele(Th);return Iee(Th,m),ri.innerParams.set(Th,m),xle(Th,v,m)}then(r){return nQ(s$,this).then(r)}finally(r){return nQ(s$,this).finally(r)}}const xle=(l,r,d)=>new Promise((m,v)=>{const y=S=>{l.close({isDismissed:!0,dismiss:S})};ux.swalPromiseResolve.set(l,m),ux.swalPromiseReject.set(l,v),r.confirmButton.onclick=()=>{kae(l)},r.denyButton.onclick=()=>{Aae(l)},r.cancelButton.onclick=()=>{Oae(l,y)},r.closeButton.onclick=()=>{y(bx.close)},Vae(d,r,y),Xie(xs,d,y),bae(l,d),ple(d),Tle(xs,d,y),_le(r,d),setTimeout(()=>{r.container.scrollTop=0})}),Cle=(l,r)=>{const d=ile(l),m=Object.assign({},ix,r,d,l);return m.showClass=Object.assign({},ix.showClass,m.showClass),m.hideClass=Object.assign({},ix.hideClass,m.hideClass),m.animation===!1&&(m.showClass={backdrop:"swal2-noanimation"},m.hideClass={}),m},Ele=l=>{const r={popup:Er(),container:Nu(),actions:JO(),confirmButton:_h(),denyButton:uy(),cancelButton:gx(),loader:vx(),closeButton:DY(),validationMessage:W$(),progressSteps:OY()};return ri.domCache.set(l,r),r},Tle=(l,r,d)=>{const m=j$();vc(m),r.timer&&(l.timeout=new rle(()=>{d("timer"),delete l.timeout},r.timer),r.timerProgressBar&&(ll(m),bd(m,r,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&LY(r.timer)})))},_le=(l,r)=>{if(!r.toast){if(!U$(r.allowEnterKey)){_ee("allowEnterKey"),Ole();return}kle(l)||Ale(l,r)||GX(-1,1)}},kle=l=>{const r=l.popup.querySelectorAll("[autofocus]");for(const d of r)if(d instanceof HTMLElement&&Du(d))return d.focus(),!0;return!1},Ale=(l,r)=>r.focusDeny&&Du(l.denyButton)?(l.denyButton.focus(),!0):r.focusCancel&&Du(l.cancelButton)?(l.cancelButton.focus(),!0):r.focusConfirm&&Du(l.confirmButton)?(l.confirmButton.focus(),!0):!1,Ole=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const l=new Date,r=localStorage.getItem("swal-initiation");r?(l.getTime()-Date.parse(r))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const d=document.createElement("audio");d.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",d.loop=!0,document.body.appendChild(d),setTimeout(()=>{d.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}ba.prototype.disableButtons=Yee;ba.prototype.enableButtons=Xee;ba.prototype.getInput=Zee;ba.prototype.disableInput=Jee;ba.prototype.enableInput=Kee;ba.prototype.hideLoading=E$;ba.prototype.disableLoading=E$;ba.prototype.showValidationMessage=Qee;ba.prototype.resetValidationMessage=ete;ba.prototype.close=ab;ba.prototype.closePopup=ab;ba.prototype.closeModal=ab;ba.prototype.closeToast=ab;ba.prototype.rejectPromise=Vee;ba.prototype.update=ste;ba.prototype._destroy=rte;Object.assign(ba,sle);Object.keys(zae).forEach(l=>{ba[l]=function(){return Th&&Th[l]?Th[l](...arguments):null}});ba.DismissReason=bx;ba.version="11.13.2";const YX=ba;YX.default=YX;typeof document<"u"&&function(l,r){var d=l.createElement("style");if(l.getElementsByTagName("head")[0].appendChild(d),d.styleSheet)d.styleSheet.disabled||(d.styleSheet.cssText=r);else try{d.innerHTML=r}catch{d.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');window.$=Go;window.jQuery=Go;Go(document).ready(function(){const l=new IntersectionObserver((m,v)=>{m.forEach(y=>{if(!y.isIntersecting)return;const S=Go(y.target),T=+S.data("count"),k=2e3,N=performance.now(),D=L=>{const R=Math.min((L-N)/k,1);S.text(Math.floor(R*T)),R<1&&requestAnimationFrame(D)};requestAnimationFrame(D),v.unobserve(y.target)})},{threshold:.1});Go(".count-up").each(function(){l.observe(this)});const r=Go("#header"),d=()=>{r.toggleClass("scrolled",Go(window).scrollTop()>50)};Go(window).on("scroll",d),d(),Go(document).ready(function(){Go("#togglePassword").on("click",function(){const m=Go("#password").attr("type")==="password"?"text":"password";Go("#password").attr("type",m),Go("#eyeIcon").toggleClass("bi-eye bi-eye-slash")})})});(function(){function l(){const m=Go("body"),v=Go("#header");(v.hasClass("scroll-up-sticky")||v.hasClass("sticky-top")||v.hasClass("fixed-top"))&&(Go(window).scrollTop()>100?m.addClass("scrolled"):m.removeClass("scrolled"))}function r(){Go("body").toggleClass("mobile-nav-active"),Go(".mobile-nav-toggle").toggleClass("bi-list bi-x")}function d(){if(Yoe.init({duration:700,easing:"ease-in-out",once:!0}),Joe({selector:".glightbox"}),Go(".init-swiper").each(function(){let v=JSON.parse(Go(this).find(".swiper-config").text().trim());Go(this).hasClass("swiper-tab")?initSwiperWithCustomPagination(this,v):new fd(this,v)}),window.location.hash){const v=Go(window.location.hash);v.length&&setTimeout(()=>{Go("html, body").animate({scrollTop:v.offset().top-parseInt(v.css("scrollMarginTop"))},"smooth")},100)}function m(){Go(".navmenu a").each(function(){if(!this.hash)return;const v=Go(this.hash);if(v.length){const y=Go(window).scrollTop()+200;Go(this).toggleClass("active",y>=v.offset().top&&y<=v.offset().top+v.outerHeight()),Go(".navmenu a.active").not(this).removeClass("active")}})}Go(window).on("load",m),Go(document).on("scroll",m),Go("#preloader").remove()}Go(document).on("scroll",function(){l(),toggleScrollTop()}),Go(window).on("load",d),Go(".mobile-nav-toggle").on("click",r),Go("#navmenu a").on("click",function(){Go("body").hasClass("mobile-nav-active")&&r()}),Go(".navmenu .toggle-dropdown").on("click",function(m){m.preventDefault(),Go(this).parent().toggleClass("active").next().toggleClass("dropdown-active"),m.stopImmediatePropagation()}),Go(".faq-item h3, .faq-item .faq-toggle").on("click",function(){Go(this).parent().toggleClass("faq-active")}),Go(".scroll-top").on("click",function(m){m.preventDefault(),Go("html, body").animate({scrollTop:0},"smooth")})})();Go(document).ready(function(){Go("#use-datatable").DataTable({paging:!0,searching:!0,ordering:!0,lengthMenu:[10,25,50,75,100,500,1e3,1e4],pagingType:"full_numbers",columnDefs:[{targets:0,orderable:!1}]})});Zre.init({selector:"#content",plugins:"paste link autoresize lists",toolbar:"undo redo | formatselect | bold italic | bullist numlist | link",height:300,menubar:!1});
